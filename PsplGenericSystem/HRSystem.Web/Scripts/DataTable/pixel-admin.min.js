function FastClick(n){"use strict";var i,t=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=n,!n||!n.nodeType)throw new TypeError("Layer must be a document node");(this.onClick=function(){return FastClick.prototype.onClick.apply(t,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(t,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(t,arguments)},this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(t,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(t,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(t,arguments)},FastClick.notNeeded(n))||(this.deviceIsAndroid&&(n.addEventListener("mouseover",this.onMouse,!0),n.addEventListener("mousedown",this.onMouse,!0),n.addEventListener("mouseup",this.onMouse,!0)),n.addEventListener("click",this.onClick,!0),n.addEventListener("touchstart",this.onTouchStart,!1),n.addEventListener("touchmove",this.onTouchMove,!1),n.addEventListener("touchend",this.onTouchEnd,!1),n.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(n.removeEventListener=function(t,i,r){var u=Node.prototype.removeEventListener;t==="click"?u.call(n,t,i.hijacked||i,r):u.call(n,t,i,r)},n.addEventListener=function(t,i,r){var u=Node.prototype.addEventListener;t==="click"?u.call(n,t,i.hijacked||(i.hijacked=function(n){n.propagationStopped||i(n)}),r):u.call(n,t,i,r)}),typeof n.onclick=="function"&&(i=n.onclick,n.addEventListener("click",function(n){i(n)},!1),n.onclick=null))}function Emitter(n){if(n)return mixin(n)}function mixin(n){for(var t in Emitter.prototype)n[t]=Emitter.prototype[t];return n}(function(){String.prototype.endsWith||(String.prototype.endsWith=function(n){return this.indexOf(n,this.length-n.length)!==-1});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Array.prototype.indexOf||(Array.prototype.indexOf=function(n,t){var u,i,r;if(this===void 0||this===null)throw new TypeError('"this" is null or not defined');for(i=this.length>>>0,t=+t||0,Math.abs(t)===Infinity&&(t=0),t<0&&(t+=i,t<0&&(t=0)),u=r=t;t<=i?r<i:r>i;u=t<=i?++r:--r)if(this[u]===n)return u;return-1});Function.prototype.bind||(Function.prototype.bind=function(n){var r,i,t,u;if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return r=Array.prototype.slice.call(arguments,1),u=this,t=function(){},i=function(){return u.apply(this instanceof t&&n?this:n,r.concat(Array.prototype.slice.call(arguments)))},t.prototype=this.prototype,i.prototype=new t,i});Object.keys||(Object.keys=function(){"use strict";var n,i,t;return t=Object.prototype.hasOwnProperty,i={toString:null}.propertyIsEnumerable("toString")?!1:!0,n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],function(r){var o,s,u,f,e,h,c;if(typeof r!="object"&&(typeof r!="function"||r===null))throw new TypeError("Object.keys called on non-object");for(u=[],f=0,h=r.length;f<h;f++)s=r[f],t.call(r,s)&&u.push(s);if(i)for(e=0,c=n.length;e<c;e++)o=n[e],t.call(r,o)&&u.push(o);return u}}.call(this));window.getScreenSize=function(n,t){return n.is(":visible")?"small":t.is(":visible")?"tablet":"desktop"};window.elHasClass=function(n,t){return(" "+n.className+" ").indexOf(" "+t+" ")>-1};window.elRemoveClass=function(n,t){return n.className=(" "+n.className+" ").replace(" "+t+" "," ").trim()}}).call(this),function(){var n,t;t={is_mobile:!1,resize_delay:400,stored_values_prefix:"pa_",main_menu:{accordion:!0,animation_speed:250,store_state:!0,store_state_key:"mmstate",disable_animation_on:["small"],dropdown_close_delay:300,detect_active:!0,detect_active_predicate:function(n,t){return n===t}},consts:{COLORS:["#71c73e","#77b7c5","#d54848","#6c42e5","#e8e64e","#dd56e6","#ecad3f","#618b9d","#b68b68","#36a766","#3156be","#00b3ff","#646464","#a946e8","#9d9d9d"]}};n=function(){return this.init=[],this.plugins={},this.settings={},this.localStorageSupported=typeof Storage!="undefined"?!0:!1,this};n.prototype.start=function(n,i){return n==null&&(n=[]),i==null&&(i={}),window.onload=function(r){return function(){var e,u,o,f;for($("html").addClass("pxajs"),n.length>0&&$.merge(r.init,n),r.settings=$.extend(!0,{},t,i||{}),r.settings.is_mobile=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase()),r.settings.is_mobile&&FastClick&&FastClick.attach(document.body),f=r.init,u=0,o=f.length;u<o;u++)e=f[u],$.proxy(e,r)();return $(window).trigger("pa.loaded"),$(window).resize()}}(this),this};n.prototype.addInitializer=function(n){return this.init.push(n)};n.prototype.initPlugin=function(n,t){return this.plugins[n]=t,t.init?t.init():void 0};n.prototype.storeValue=function(n,t,i){var r;if(i==null&&(i=!1),this.localStorageSupported&&!i)try{window.localStorage.setItem(this.settings.stored_values_prefix+n,t);return}catch(u){r=u;1}return document.cookie=this.settings.stored_values_prefix+n+"="+escape(t)};n.prototype.storeValues=function(n,t){var f,i,r,u;if(t==null&&(t=!1),this.localStorageSupported&&!t)try{for(i in n)r=n[i],window.localStorage.setItem(this.settings.stored_values_prefix+i,r);return}catch(e){f=e;1}u=[];for(i in n)r=n[i],u.push(document.cookie=this.settings.stored_values_prefix+i+"="+escape(r));return u};n.prototype.getStoredValue=function(n,t,i){var r,f,l,s,e,o,h,u,c;if(t==null&&(t=!1),i==null&&(i=null),this.localStorageSupported&&!t)try{return o=window.localStorage.getItem(this.settings.stored_values_prefix+n),o?o:i}catch(a){l=a;1}for(f=document.cookie.split(";"),u=0,c=f.length;u<c;u++)if(r=f[u],e=r.indexOf("="),s=r.substr(0,e).replace(/^\s+|\s+$/g,""),h=r.substr(e+1).replace(/^\s+|\s+$/g,""),s===this.settings.stored_values_prefix+n)return h;return i};n.prototype.getStoredValues=function(n,t,i){var f,h,b,a,r,c,l,u,v,e,o,s,y,p,w;for(t==null&&(t=!1),i==null&&(i=null),u={},e=0,y=n.length;e<y;e++)r=n[e],u[r]=i;if(this.localStorageSupported&&!t)try{for(o=0,p=n.length;o<p;o++)r=n[o],l=window.localStorage.getItem(this.settings.stored_values_prefix+r),l&&(u[r]=l);return u}catch(k){b=k;1}for(h=document.cookie.split(";"),s=0,w=h.length;s<w;s++)f=h[s],c=f.indexOf("="),a=f.substr(0,c).replace(/^\s+|\s+$/g,""),v=f.substr(c+1).replace(/^\s+|\s+$/g,""),a===this.settings.stored_values_prefix+r&&(u[r]=v);return u};n.Constructor=n;window.PixelAdmin=new n}.call(this),function(){var n;n=function(n){var t;return t=null,function(){return t&&clearTimeout(t),t=setTimeout(function(){return t=null,n.call(this)},PixelAdmin.settings.resize_delay)}};PixelAdmin.addInitializer(function(){var r,u,i,t;t=null;i=$(window);r=$('<div id="small-screen-width-point" style="position:absolute;top:-10000px;width:10px;height:10px;background:#fff;"><\/div>');u=$('<div id="tablet-screen-width-point" style="position:absolute;top:-10000px;width:10px;height:10px;background:#fff;"><\/div>');$("body").append(r).append(u);return i.on("resize",n(function(){return i.trigger("pa.resize"),r.is(":visible")?(t!=="small"&&i.trigger("pa.screen.small"),t="small"):u.is(":visible")?(t!=="tablet"&&i.trigger("pa.screen.tablet"),t="tablet"):(t!=="desktop"&&i.trigger("pa.screen.desktop"),t="desktop")}))})}.call(this);
/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 0.6.11
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */
FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(n){"use strict";switch(n.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(n.disabled)return!0;break;case"input":if(this.deviceIsIOS&&n.type==="file"||n.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(n.className)};FastClick.prototype.needsFocus=function(n){"use strict";switch(n.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(n.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!n.disabled&&!n.readOnly;default:return/\bneedsfocus\b/.test(n.className)}};FastClick.prototype.sendClick=function(n,t){"use strict";var r,i;document.activeElement&&document.activeElement!==n&&document.activeElement.blur();i=t.changedTouches[0];r=document.createEvent("MouseEvents");r.initMouseEvent(this.determineEventType(n),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null);r.forwardedTouchEvent=!0;n.dispatchEvent(r)};FastClick.prototype.determineEventType=function(n){"use strict";return this.deviceIsAndroid&&n.tagName.toLowerCase()==="select"?"mousedown":"click"};FastClick.prototype.focus=function(n){"use strict";var t;this.deviceIsIOS&&n.setSelectionRange&&n.type.indexOf("date")!==0&&n.type!=="time"?(t=n.value.length,n.setSelectionRange(t,t)):n.focus()};FastClick.prototype.updateScrollParent=function(n){"use strict";var i,t;if(i=n.fastClickScrollParent,!i||!i.contains(n)){t=n;do{if(t.scrollHeight>t.offsetHeight){i=t;n.fastClickScrollParent=t;break}t=t.parentElement}while(t)}i&&(i.fastClickLastScrollTop=i.scrollTop)};FastClick.prototype.getTargetElementFromEventTarget=function(n){"use strict";return n.nodeType===Node.TEXT_NODE?n.parentNode:n};FastClick.prototype.onTouchStart=function(n){"use strict";var i,t,r;if(n.targetTouches.length>1)return!0;if(i=this.getTargetElementFromEventTarget(n.target),t=n.targetTouches[0],this.deviceIsIOS){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!this.deviceIsIOS4){if(t.identifier===this.lastTouchIdentifier)return n.preventDefault(),!1;this.lastTouchIdentifier=t.identifier;this.updateScrollParent(i)}}return this.trackingClick=!0,this.trackingClickStart=n.timeStamp,this.targetElement=i,this.touchStartX=t.pageX,this.touchStartY=t.pageY,n.timeStamp-this.lastClickTime<200&&n.preventDefault(),!0};FastClick.prototype.touchHasMoved=function(n){"use strict";var t=n.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i?!0:!1};FastClick.prototype.onTouchMove=function(n){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(n.target)||this.touchHasMoved(n))&&(this.trackingClick=!1,this.targetElement=null),!0):!0};FastClick.prototype.findControl=function(n){"use strict";return n.control!==undefined?n.control:n.htmlFor?document.getElementById(n.htmlFor):n.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(n){"use strict";var u,e,i,r,f,t=this.targetElement;if(!this.trackingClick)return!0;if(n.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=n.timeStamp,e=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(f=n.changedTouches[0],t=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||t,t.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=t.tagName.toLowerCase(),i==="label"){if(u=this.findControl(t),u){if(this.focus(t),this.deviceIsAndroid)return!1;t=u}}else if(this.needsFocus(t))return n.timeStamp-e>100||this.deviceIsIOS&&window.top!==window&&i==="input"?(this.targetElement=null,!1):(this.focus(t),this.deviceIsIOS4&&i==="select"||(this.targetElement=null,n.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(r=t.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(t)||(n.preventDefault(),this.sendClick(t,n)),!1)};FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1;this.targetElement=null};FastClick.prototype.onMouse=function(n){"use strict";return this.targetElement?n.forwardedTouchEvent?!0:n.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(n.stopImmediatePropagation?n.stopImmediatePropagation():n.propagationStopped=!0,n.stopPropagation(),n.preventDefault(),!1):!0:!0:!0};FastClick.prototype.onClick=function(n){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):n.target.type==="submit"&&n.detail===0?!0:(t=this.onMouse(n),t||(this.targetElement=null),t)};FastClick.prototype.destroy=function(){"use strict";var n=this.layer;this.deviceIsAndroid&&(n.removeEventListener("mouseover",this.onMouse,!0),n.removeEventListener("mousedown",this.onMouse,!0),n.removeEventListener("mouseup",this.onMouse,!0));n.removeEventListener("click",this.onClick,!0);n.removeEventListener("touchstart",this.onTouchStart,!1);n.removeEventListener("touchmove",this.onTouchMove,!1);n.removeEventListener("touchend",this.onTouchEnd,!1);n.removeEventListener("touchcancel",this.onTouchCancel,!1)};FastClick.notNeeded=function(n){"use strict";var t,i;if(typeof ontouchstart=="undefined")return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],i)if(FastClick.prototype.deviceIsAndroid){if(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||i>31&&window.innerWidth<=window.screen.width))return!0}else return!0;return n.style.msTouchAction==="none"?!0:!1};FastClick.attach=function(n){"use strict";return new FastClick(n)};typeof define!="undefined"&&define.amd?define(function(){"use strict";return FastClick}):typeof module!="undefined"&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(n,t,i){"use strict";var r={filterId:0},u=function(u,f){var e=i.extend({intensity:5,forceSVGUrl:!1},f);this.$elm=u instanceof i?u:i(u);var s=!1,l=" -webkit- -moz- -o- -ms- ".split(" "),o={},c=function(n){var u,i,r;if(o[n]||o[n]==="")return o[n]+n;u=t.createElement("div");i=["","Moz","Webkit","O","ms","Khtml"];for(r in i)if(typeof u.style[i[r]+n]!="undefined")return o[n]=i[r],i[r]+n;return n.toLowerCase()},a=function(){var n=t.createElement("div");return n.style.cssText=l.join("filter:blur(2px); "),!!n.style.length&&(t.documentMode===undefined||t.documentMode>9)}(),h=function(){var n=!1;try{n=typeof SVGFEColorMatrixElement!==undefined&&SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE==2}catch(t){}return n}(),v=function(){var n="<svg id='vague-svg-blur' style='position:absolute;' width='0' height='0' ><filter id='blur-effect-id-"+r.filterId+"'><feGaussianBlur stdDeviation='"+e.intensity+"' /><\/filter><\/svg>";i("body").append(n)};return this.init=function(){h&&v();this.$elm.data("vague-filter-id",r.filterId);r.filterId++},this.blur=function(){var i,t=n.location,u=e.forceSVGUrl?t.protocol+"//"+t.host+t.pathname:"",f=this.$elm.data("vague-filter-id"),r={};i=a?"blur("+e.intensity+"px)":h?"url("+u+"#blur-effect-id-"+f+")":"progid:DXImageTransform.Microsoft.Blur(pixelradius="+e.intensity+")";r[c("Filter")]=i;this.$elm.css(r);s=!0},this.unblur=function(){var n={};n[c("Filter")]="none";this.$elm.css(n);s=!1},this.toggleblur=function(){s?this.unblur():this.blur()},this.destroy=function(){h&&i("filter#blur-effect-id-"+this.$elm.data("vague-filter-id")).parent().remove();this.unblur()},this.init()};i.fn.Vague=function(n){return new u(this,n)};n.Vague=u}(window,document,jQuery),function(n){typeof n.fn.each2=="undefined"&&n.extend(n.fn,{each2:function(t){for(var i=n([0]),r=-1,u=this.length;++r<u&&(i.context=i[0]=this[r])&&t.call(i[0],r,i)!==!1;);return this}})}(jQuery),function(n,t){"use strict";function h(n){var i,t,u,r;if(!n||n.length<1)return n;for(i="",t=0,u=n.length;t<u;t++)r=n.charAt(t),i+=ht[r]||r;return i}function f(n,t){for(var i=0,r=t.length;i<r;i=i+1)if(u(n,t[i]))return i;return-1}function ct(){var t=n(st),i;return t.appendTo("body"),i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight},t.remove(),i}function u(n,i){return n===i?!0:n===t||i===t?!1:n===null||i===null?!1:n.constructor===String?n+""==i+"":i.constructor===String?i+""==n+"":!1}function b(t,i){var u,r,f;if(t===null||t.length<1)return[];for(u=t.split(i),r=0,f=u.length;r<f;r=r+1)u[r]=n.trim(u[r]);return u}function g(n){return n.outerWidth(!1)-n.width()}function nt(i){var r="keyup-change-value";i.on("keydown",function(){n.data(i,r)===t&&n.data(i,r,i.val())});i.on("keyup",function(){var u=n.data(i,r);u!==t&&i.val()!==u&&(n.removeData(i,r),i.trigger("keyup-change"))})}function lt(i){i.on("mousemove",function(i){var r=p;(r===t||r.x!==i.pageX||r.y!==i.pageY)&&n(i.target).trigger("mousemove-filtered",i)})}function tt(n,i,r){r=r||t;var u;return function(){var t=arguments;window.clearTimeout(u);u=window.setTimeout(function(){i.apply(r,t)},n)}}function at(n){var t=!1,i;return function(){return t===!1&&(i=n(),t=!0),i}}function vt(n,t){var i=tt(n,function(n){t.trigger("scroll-debounced",n)});t.on("scroll",function(n){f(n.target,t.get())>=0&&i(n)})}function yt(n){n[0]!==document.activeElement&&window.setTimeout(function(){var t=n[0],r=n.val().length,i;n.focus();n.is(":visible")&&t===document.activeElement&&(t.setSelectionRange?t.setSelectionRange(r,r):t.createTextRange&&(i=t.createTextRange(),i.collapse(!1),i.select()))},0)}function pt(t){var i,r,u;return t=n(t)[0],i=0,r=0,"selectionStart"in t?(i=t.selectionStart,r=t.selectionEnd-i):"selection"in document&&(t.focus(),u=document.selection.createRange(),r=document.selection.createRange().text.length,u.moveStart("character",-t.value.length),i=u.text.length-r),{offset:i,length:r}}function r(n){n.preventDefault();n.stopPropagation()}function wt(n){n.preventDefault();n.stopImmediatePropagation()}function bt(t){if(!o){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);o=n(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"});o.attr("class","select2-sizer");n("body").append(o)}return o.text(t.val()),o.width()}function a(t,i,r){var u,f=[],e;u=t.attr("class");u&&(u=""+u,n(u.split(" ")).each2(function(){this.indexOf("select2-")===0&&f.push(this)}));u=i.attr("class");u&&(u=""+u,n(u.split(" ")).each2(function(){this.indexOf("select2-")!==0&&(e=r(this),e&&f.push(e))}));t.attr("class",f.join(" "))}function it(n,t,i,r){var u=h(n.toUpperCase()).indexOf(h(t.toUpperCase())),f=t.length;if(u<0){i.push(r(n));return}i.push(r(n.substring(0,u)));i.push("<span class='select2-match'>");i.push(r(n.substring(u,u+f)));i.push("<\/span>");i.push(r(n.substring(u+f,n.length)))}function rt(n){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(n).replace(/[&<>"'\/\\]/g,function(n){return t[n]})}function ut(i){var f,u=null,e=i.quietMillis||100,o=i.url,r=this;return function(s){window.clearTimeout(f);f=window.setTimeout(function(){var e=i.data,f=o,c=i.transport||n.fn.select2.ajaxDefaults.transport,l={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},h=n.extend({},n.fn.select2.ajaxDefaults.params,l);e=e?e.call(r,s.term,s.page,s.context):null;f=typeof f=="function"?f.call(r,s.term,s.page,s.context):f;u&&u.abort();i.params&&(n.isFunction(i.params)?n.extend(h,i.params.call(r)):n.extend(h,i.params));n.extend(h,{url:f,dataType:i.dataType,data:e,success:function(n){var t=i.results(n,s.page);s.callback(t)}});u=c.call(r,h)},e)}}function ft(t){var i=t,e,u,r=function(n){return""+n.text},f;return n.isArray(i)&&(u=i,i={results:u}),n.isFunction(i)===!1&&(u=i,i=function(){return u}),f=i(),f.text&&(r=f.text,n.isFunction(r)||(e=f.text,r=function(n){return n[e]})),function(t){var u=t.term,e={results:[]},f;if(u===""){t.callback(i());return}f=function(i,e){var o,s;if(i=i[0],i.children){o={};for(s in i)i.hasOwnProperty(s)&&(o[s]=i[s]);o.children=[];n(i.children).each2(function(n,t){f(t,o.children)});(o.children.length||t.matcher(u,r(o),i))&&e.push(o)}else t.matcher(u,r(i),i)&&e.push(i)};n(i().results).each2(function(n,t){f(t,e.results)});t.callback(e)}}function et(i){var r=n.isFunction(i);return function(u){var f=u.term,e={results:[]};n(r?i():i).each(function(){var n=this.text!==t,i=n?this.text:this;(f===""||u.matcher(f,i))&&e.results.push(n?this:{id:this,text:this})});u.callback(e)}}function s(t,i){if(n.isFunction(t))return!0;if(!t)return!1;throw new Error(i+" must be a function or a falsy value");}function e(t){return n.isFunction(t)?t():t}function ot(t){var i=0;return n.each(t,function(n,t){t.children?i+=ot(t.children):i++}),i}function kt(n,i,r,f){var a=n,c=!1,e,s,o,h,l;if(!f.createSearchChoice||!f.tokenSeparators||f.tokenSeparators.length<1)return t;for(;;){for(s=-1,o=0,h=f.tokenSeparators.length;o<h;o++)if(l=f.tokenSeparators[o],s=n.indexOf(l),s>=0)break;if(s<0)break;if(e=n.substring(0,s),n=n.substring(s+l.length),e.length>0&&(e=f.createSearchChoice.call(this,e,i),e!==t&&e!==null&&f.id(e)!==t&&f.id(e)!==null)){for(c=!1,o=0,h=i.length;o<h;o++)if(u(f.id(e),f.id(i[o]))){c=!0;break}c||r(e)}}if(a!==n)return n}function k(t,i){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=n.extend(r.prototype,i),r}if(window.Select2===t){var c,v,y,l,o,p={x:0,y:0},d,w,i={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(n){n=n.which?n.which:n;switch(n){case i.LEFT:case i.RIGHT:case i.UP:case i.DOWN:return!0}return!1},isControl:function(n){var t=n.which;switch(t){case i.SHIFT:case i.CTRL:case i.ALT:return!0}return n.metaKey?!0:!1},isFunctionKey:function(n){return n=n.which?n.which:n,n>=112&&n<=123}},st="<div class='select2-measure-scrollbar'><\/div>",ht={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"};d=n(document);l=function(){var n=1;return function(){return n++}}();d.on("mousemove",function(n){p.x=n.pageX;p.y=n.pageY});c=k(Object,{bind:function(n){var t=this;return function(){n.apply(t,arguments)}},init:function(i){var u,f,o=".select2-results",s,h;this.opts=i=this.prepareOpts(i);this.id=i.id;i.element.data("select2")!==t&&i.element.data("select2")!==null&&i.element.data("select2").destroy();this.container=this.createContainer();this.containerId="s2id_"+(i.element.attr("id")||"autogen"+l());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.body=at(function(){return i.element.closest("body")});a(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",i.element.attr("style"));this.container.css(e(i.containerCss));this.container.addClass(e(i.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",r);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");a(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(e(i.dropdownCssClass));this.dropdown.data("select2",this);this.dropdown.on("click",r);this.results=u=this.container.find(o);this.search=f=this.container.find("input.select2-input");this.queryCount=0;this.resultsPage=0;this.context=null;this.initContainer();this.container.on("click",r);lt(this.results);this.dropdown.on("mousemove-filtered touchstart touchmove touchend",o,this.bind(this.highlightUnderEvent));vt(80,this.results);this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded));n(this.container).on("change",".select2-input",function(n){n.stopPropagation()});n(this.dropdown).on("change",".select2-input",function(n){n.stopPropagation()});n.fn.mousewheel&&u.mousewheel(function(n,t,i,f){var e=u.scrollTop();f>0&&e-f<=0?(u.scrollTop(0),r(n)):f<0&&u.get(0).scrollHeight-u.scrollTop()+f<=u.height()&&(u.scrollTop(u.get(0).scrollHeight-u.height()),r(n))});nt(f);f.on("keyup-change input paste",this.bind(this.updateResults));f.on("focus",function(){f.addClass("select2-focused")});f.on("blur",function(){f.removeClass("select2-focused")});this.dropdown.on("mouseup",o,this.bind(function(t){n(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))}));this.dropdown.on("click mouseup mousedown",function(n){n.stopPropagation()});n.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());i.maximumInputLength!==null&&this.search.attr("maxlength",i.maximumInputLength);s=i.element.prop("disabled");s===t&&(s=!1);this.enable(!s);h=i.element.prop("readonly");h===t&&(h=!1);this.readonly(h);w=w||ct();this.autofocus=i.element.prop("autofocus");i.element.prop("autofocus",!1);this.autofocus&&this.focus();this.nextSearchTerm=t},destroy:function(){var n=this.opts.element,i=n.data("select2");this.close();this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null);i!==t&&(i.container.remove(),i.dropdown.remove(),n.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?n.attr({tabindex:this.elementTabIndex}):n.removeAttr("tabindex"),n.show())},optionToData:function(n){return n.is("option")?{id:n.prop("value"),text:n.text(),element:n.get(),css:n.attr("class"),disabled:n.prop("disabled"),locked:u(n.attr("locked"),"locked")||u(n.data("locked"),!0)}:n.is("optgroup")?{text:n.attr("label"),children:[],element:n.get(),css:n.attr("class")}:void 0},prepareOpts:function(i){var e,o,s,r,f=this;if(e=i.element,e.get(0).tagName.toLowerCase()==="select"&&(this.select=o=i.element),o&&n.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");}),i=n.extend({},{populateResults:function(r,u,e){var o,s=this.opts.id;o=function(r,u,h){var a,k,l,d,p,w,c,v,y,b;for(r=i.sortResults(r,u,e),a=0,k=r.length;a<k;a=a+1)l=r[a],p=l.disabled===!0,d=!p&&s(l)!==t,w=l.children&&l.children.length>0,c=n("<li><\/li>"),c.addClass("select2-results-dept-"+h),c.addClass("select2-result"),c.addClass(d?"select2-result-selectable":"select2-result-unselectable"),p&&c.addClass("select2-disabled"),w&&c.addClass("select2-result-with-children"),c.addClass(f.opts.formatResultCssClass(l)),v=n(document.createElement("div")),v.addClass("select2-result-label"),b=i.formatResult(l,v,e,f.opts.escapeMarkup),b!==t&&v.html(b),c.append(v),w&&(y=n("<ul><\/ul>"),y.addClass("select2-result-sub"),o(l.children,y,h+1),c.append(y)),c.data("select2-data",l),u.append(c)};o(u,r,0)}},n.fn.select2.defaults,i),typeof i.id!="function"&&(s=i.id,i.id=function(n){return n[s]}),n.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(o?(i.query=this.bind(function(n){var o={results:[],more:!1},s=n.term,i,r,u;u=function(t,i){var r;t.is("option")?n.matcher(s,t.text(),t)&&i.push(f.optionToData(t)):t.is("optgroup")&&(r=f.optionToData(t),t.children().each2(function(n,t){u(t,r.children)}),r.children.length>0&&i.push(r))};i=e.children();this.getPlaceholder()!==t&&i.length>0&&(r=this.getPlaceholderOption(),r&&(i=i.not(r)));i.each2(function(n,t){u(t,o.results)});n.callback(o)}),i.id=function(n){return n.id},i.formatResultCssClass=function(n){return n.css}):"query"in i||("ajax"in i?(r=i.element.data("ajax-url"),r&&r.length>0&&(i.ajax.url=r),i.query=ut.call(i.element,i.ajax)):"data"in i?i.query=ft(i.data):"tags"in i&&(i.query=et(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(t){return{id:n.trim(t),text:n.trim(t)}}),i.initSelection===t&&(i.initSelection=function(t,r){var f=[];n(b(t.val(),i.separator)).each(function(){var r={id:this,text:this},t=i.tags;n.isFunction(t)&&(t=t());n(t).each(function(){if(u(this.id,r.id))return r=this,!1});f.push(r)});r(f)}))),typeof i.query!="function")throw"query function not defined for Select2 "+i.element.attr("id");return i},monitorSource:function(){var n=this.opts.element,i,r;n.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}));i=this.bind(function(){var r=n.prop("disabled"),i;r===t&&(r=!1);this.enable(!r);i=n.prop("readonly");i===t&&(i=!1);this.readonly(i);a(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(e(this.opts.containerCssClass));a(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(e(this.opts.dropdownCssClass))});n.on("propertychange.select2",i);this.mutationCallback===t&&(this.mutationCallback=function(n){n.forEach(i)});r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;r!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new r(this.mutationCallback),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var i=n.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){t=t||{};t=n.extend({},t,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(t);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var n=this._enabled&&!this._readonly,t=!n;return n===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=n,!0)},enable:function(n){(n===t&&(n=!0),this._enabled!==n)&&(this._enabled=n,this.opts.element.prop("disabled",!n),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(n){return(n===t&&(n=!1),this._readonly===n)?!1:(this._readonly=n,this.opts.element.prop("readonly",n),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t=this.dropdown,r=this.container.offset(),a=this.container.outerHeight(!1),o=this.container.outerWidth(!1),v=t.outerHeight(!1),s=n(window),g=s.width(),y=s.height(),c=s.scrollLeft()+g,nt=s.scrollTop()+y,l=r.top+a,f=r.left,tt=l+v<=nt,it=r.top-v>=this.body().scrollTop(),i=t.outerWidth(!1),p=f+i<=c,rt=t.hasClass("select2-drop-above"),b,h,k,u,d;rt?(h=!0,!it&&tt&&(k=!0,h=!1)):(h=!1,!tt&&it&&(k=!0,h=!0));k&&(t.hide(),r=this.container.offset(),a=this.container.outerHeight(!1),o=this.container.outerWidth(!1),v=t.outerHeight(!1),c=s.scrollLeft()+g,nt=s.scrollTop()+y,l=r.top+a,f=r.left,i=t.outerWidth(!1),p=f+i<=c,t.show());this.opts.dropdownAutoWidth?(d=n(".select2-results",t)[0],t.addClass("select2-drop-auto-width"),t.css("width",""),i=t.outerWidth(!1)+(d.scrollHeight===d.clientHeight?0:w.width),i>o?o=i:i=o,p=f+i<=c):this.container.removeClass("select2-drop-auto-width");this.body().css("position")!=="static"&&(b=this.body().offset(),l-=b.top,f-=b.left);p||(f=r.left+o-i);u={left:f,width:o};h?(u.bottom=y-r.top,u.top="auto",this.container.addClass("select2-drop-above"),t.addClass("select2-drop-above")):(u.top=l,u.bottom="auto",this.container.removeClass("select2-drop-above"),t.removeClass("select2-drop-above"));u=n.extend(u,e(this.opts.dropdownCss));t.css(u)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=n.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var i=this.containerId,u="scroll."+i,f="resize."+i,e="orientationchange."+i,t,r;if(this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),t=n("#select2-drop-mask"),t.length==0){t=n(document.createElement("div"));t.attr("id","select2-drop-mask").attr("class","select2-drop-mask");t.hide();t.appendTo(this.body());t.on("mousedown touchstart click",function(t){var r=n("#select2-drop"),i;r.length>0&&(i=r.data("select2"),i.opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close({focus:!0}),t.preventDefault(),t.stopPropagation())})}this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t);n("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");t.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");r=this;this.container.parents().add(window).each(function(){n(this).on(f+" "+u+" "+e,function(){r.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,i="scroll."+t,r="resize."+t,u="orientationchange."+t;this.container.parents().add(window).each(function(){n(this).off(i).off(r).off(u)});this.clearDropdownAlignmentPreference();n("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(n.Event("select2-close"))}},externalSearch:function(n){this.open();this.search.val(n);this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return e(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t=this.results,e,i,r,u,o,s,f;if(i=this.highlight(),!(i<0)){if(i==0){t.scrollTop(0);return}e=this.findHighlightableChoices().find(".select2-result-label");r=n(e[i]);u=r.offset().top+r.outerHeight(!0);i===e.length-1&&(f=t.find("li.select2-more-results"),f.length>0&&(u=f.offset().top+f.outerHeight(!0)));o=t.offset().top+t.outerHeight(!0);u>o&&t.scrollTop(t.scrollTop()+(u-o));s=r.offset().top-t.offset().top;s<0&&r.css("display")!="none"&&t.scrollTop(t.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(t){for(var u=this.findHighlightableChoices(),i=this.highlight(),r;i>-1&&i<u.length;)if(i+=t,r=n(u[i]),r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}},highlight:function(t){var i=this.findHighlightableChoices(),u,r;if(arguments.length===0)return f(i.filter(".select2-highlighted")[0],i.get());t>=i.length&&(t=i.length-1);t<0&&(t=0);this.removeHighlight();u=n(i[t]);u.addClass("select2-highlighted");this.ensureHighlightVisible();r=u.data("select2-data");r&&this.opts.element.trigger({type:"select2-highlight",val:this.id(r),choice:r})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=n(t.target).closest(".select2-result-selectable"),r;i.length>0&&!i.is(".select2-highlighted")?(r=this.findHighlightableChoices(),this.highlight(r.index(i))):i.length==0&&this.removeHighlight()},loadMoreIfNeeded:function(){var t=this.results,i=t.find("li.select2-more-results"),u,r=this.resultsPage+1,n=this,f=this.search.val(),e=this.context;i.length!==0&&(u=i.offset().top-t.offset().top-t.height(),u<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:f,page:r,context:e,matcher:this.opts.matcher,callback:this.bind(function(u){n.opened()&&(n.opts.populateResults.call(this,t,u.results,{term:f,page:r,context:e}),n.postprocessResults(u,!1,!1),u.more===!0?(i.detach().appendTo(t).text(n.opts.formatLoadMore(r+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):i.remove(),n.positionDropdown(),n.resultsPage=r,n.context=u.context,this.opts.element.trigger({type:"select2-loaded",items:u}))})})))},tokenize:function(){},updateResults:function(i){function w(){f.removeClass("select2-active");e.positionDropdown()}function o(n){h.html(n);w()}var f=this.search,h=this.results,r=this.opts,a,e=this,c,v=f.val(),y=n.data(this.container,"select2-last-term"),p,l;if((i===!0||!y||!u(v,y))&&(n.data(this.container,"select2-last-term",v),i===!0||this.showSearchInput!==!1&&this.opened())){if(p=++this.queryCount,l=this.getMaximumSelectionSize(),l>=1&&(a=this.data(),n.isArray(a)&&a.length>=l&&s(r.formatSelectionTooBig,"formatSelectionTooBig"))){o("<li class='select2-selection-limit'>"+r.formatSelectionTooBig(l)+"<\/li>");return}if(f.val().length<r.minimumInputLength){s(r.formatInputTooShort,"formatInputTooShort")?o("<li class='select2-no-results'>"+r.formatInputTooShort(f.val(),r.minimumInputLength)+"<\/li>"):o("");i&&this.showSearch&&this.showSearch(!0);return}if(r.maximumInputLength&&f.val().length>r.maximumInputLength){s(r.formatInputTooLong,"formatInputTooLong")?o("<li class='select2-no-results'>"+r.formatInputTooLong(f.val(),r.maximumInputLength)+"<\/li>"):o("");return}r.formatSearching&&this.findHighlightableChoices().length===0&&o("<li class='select2-searching'>"+r.formatSearching()+"<\/li>");f.addClass("select2-active");this.removeHighlight();c=this.tokenize();c!=t&&c!=null&&f.val(c);this.resultsPage=1;r.query({element:r.element,term:f.val(),page:this.resultsPage,context:null,matcher:r.matcher,callback:this.bind(function(c){var l;if(p==this.queryCount){if(!this.opened()){this.search.removeClass("select2-active");return}if(this.context=c.context===t?null:c.context,this.opts.createSearchChoice&&f.val()!==""&&(l=this.opts.createSearchChoice.call(e,f.val(),c.results),l!==t&&l!==null&&e.id(l)!==t&&e.id(l)!==null&&n(c.results).filter(function(){return u(e.id(this),e.id(l))}).length===0&&c.results.unshift(l)),c.results.length===0&&s(r.formatNoMatches,"formatNoMatches")){o("<li class='select2-no-results'>"+r.formatNoMatches(f.val())+"<\/li>");return}h.empty();e.opts.populateResults.call(this,h,c.results,{term:f.val(),page:this.resultsPage,context:null});c.more===!0&&s(r.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+e.opts.escapeMarkup(r.formatLoadMore(this.resultsPage))+"<\/li>"),window.setTimeout(function(){e.loadMoreIfNeeded()},10));this.postprocessResults(c,i);w();this.opts.element.trigger({type:"select2-loaded",items:c})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0});this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){yt(this.search)},selectHighlighted:function(n){var i=this.highlight(),r=this.results.find(".select2-highlighted"),t=r.closest(".select2-result").data("select2-data");if(t){this.highlight(i);this.onSelect(t,n)}else n&&n.noFocus&&this.close()},getPlaceholder:function(){var n;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((n=this.getPlaceholderOption())!==t?n.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return this.opts.placeholderOption==="first"&&n||typeof this.opts.placeholderOption=="function"&&this.opts.placeholderOption(this.select);if(n.text()===""&&n.val()==="")return n}},initContainerWidth:function(){function r(){var i,f,u,r,e,o;if(this.opts.width==="off")return null;if(this.opts.width==="element")return this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){if(i=this.opts.element.attr("style"),i!==t)for(f=i.split(";"),r=0,e=f.length;r<e;r=r+1)if(o=f[r].replace(/\s/g,""),u=o.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),u!==null&&u.length>=1)return u[1];return this.opts.width==="resolve"?(i=this.opts.element.css("width"),i.indexOf("%")>0)?i:this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px":null}return n.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=r.call(this);i!==null&&this.container.css("width",i)}});v=k(c,{createContainer:function(){return n(document.createElement("div")).attr({"class":"select2-container"}).html("<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&nbsp;<\/span><abbr class='select2-search-choice-close'><\/abbr>   <span class='select2-arrow'><b><\/b><\/span><\/a><input class='select2-focusser select2-offscreen' type='text'/><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>   <\/div>   <ul class='select2-results'>   <\/ul><\/div>")},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,r,u;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0);this.parent.opening.apply(this,arguments);this.showSearchInput!==!1&&this.search.val(this.focusser.val());this.search.focus();i=this.search.get(0);i.createTextRange?(r=i.createTextRange(),r.collapse(!1),r.select()):i.setSelectionRange&&(u=this.search.val().length,i.setSelectionRange(u,u));this.search.val()===""&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select());this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(n.Event("select2-open"))},close:function(n){this.opened()&&(this.parent.close.apply(this,arguments),n=n||{focus:!0},this.focusser.removeAttr("disabled"),n.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},destroy:function(){n("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,u=this.container,f=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0);this.selection=t=u.find(".select2-choice");this.focusser=u.find(".select2-focusser");this.focusser.attr("id","s2id_autogen"+l());n("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()){if(n.which===i.PAGE_UP||n.which===i.PAGE_DOWN){r(n);return}switch(n.which){case i.UP:case i.DOWN:this.moveHighlight(n.which===i.UP?-1:1);r(n);return;case i.ENTER:this.selectHighlighted();r(n);return;case i.TAB:this.selectHighlighted({noFocus:!0});return;case i.ESC:this.cancel(n);r(n);return}}}));this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()&&n.which!==i.TAB&&!i.isControl(n)&&!i.isFunctionKey(n)&&n.which!==i.ESC){if(this.opts.openOnEnter===!1&&n.which===i.ENTER){r(n);return}if(n.which==i.DOWN||n.which==i.UP||n.which==i.ENTER&&this.opts.openOnEnter){if(n.altKey||n.ctrlKey||n.shiftKey||n.metaKey)return;this.open();r(n);return}if(n.which==i.DELETE||n.which==i.BACKSPACE){this.opts.allowClear&&this.clear();r(n);return}}}));nt(this.focusser);this.focusser.on("keyup-change input",this.bind(function(n){if(this.opts.minimumResultsForSearch>=0){if(n.stopPropagation(),this.opened())return;this.open()}}));t.on("mousedown","abbr",this.bind(function(n){this.isInterfaceEnabled()&&(this.clear(),wt(n),this.close(),this.selection.focus())}));t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();r(t)}));f.on("mousedown",this.bind(function(){this.search.focus()}));t.on("focus",this.bind(function(n){r(n)}));this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(n.Event("select2-blur")))}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(t){var i=this.selection.data("select2-data"),r,u;if(i){if(r=n.Event("select2-clearing"),this.opts.element.trigger(r),r.isDefaultPrevented())return;u=this.getPlaceholderOption();this.opts.element.val(u?u.val():"");this.selection.find(".select2-chosen").empty();this.selection.removeData("select2-data");this.setPlaceholder();t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){var n;this.isPlaceholderOptionSelected()?(this.updateSelection(null),this.close(),this.setPlaceholder()):(n=this,this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&i!==null&&(n.updateSelection(i),n.close(),n.setPlaceholder())}))},isPlaceholderOptionSelected:function(){var n;return this.getPlaceholder()?(n=this.getPlaceholderOption())!==t&&n.prop("selected")||this.opts.element.val()===""||this.opts.element.val()===t||this.opts.element.val()===null:!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(n,t){var r=n.find("option").filter(function(){return this.selected});t(i.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(i,r){var e=i.val(),f=null;t.query({matcher:function(n,i,r){var o=u(e,t.id(r));return o&&(f=r),o},callback:n.isFunction(r)?function(){r(f)}:n.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var n=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&n!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(n));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear")}},postprocessResults:function(n,t,i){var r=0,e=this,f;this.findHighlightableChoices().each2(function(n,t){if(u(e.id(t.data("select2-data")),e.opts.element.val()))return r=n,!1});i!==!1&&(t===!0&&r>=0?this.highlight(r):this.highlight(0));t===!0&&(f=this.opts.minimumResultsForSearch,f>=0&&this.showSearch(ot(n.results)>=f))},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),n(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(n,t){if(this.triggerSelect(n)){var i=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(n));this.updateSelection(n);this.opts.element.trigger({type:"select2-selected",val:this.id(n),choice:n});this.nextSearchTerm=this.opts.nextSearchTerm(n,this.search.val());this.close();t&&t.noFocus||this.focusser.focus();u(i,this.id(n))||this.triggerChange({added:n,removed:r})}},updateSelection:function(n){var i=this.selection.find(".select2-chosen"),r,u;this.selection.data("select2-data",n);i.empty();n!==null&&(r=this.opts.formatSelection(n,i,this.opts.escapeMarkup));r!==t&&i.append(r);u=this.opts.formatSelectionCssClass(n,i);u!==t&&i.addClass(u);this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var i,r=!1,u=null,n=this,f=this.data();if(arguments.length===0)return this.opts.element.val();if(i=arguments[0],arguments.length>1&&(r=arguments[1]),this.select)this.select.val(i).find("option").filter(function(){return this.selected}).each2(function(t,i){return u=n.optionToData(i),!1}),this.updateSelection(u),this.setPlaceholder(),r&&this.triggerChange({added:u,removed:f});else{if(!i&&i!==0){this.clear(r);return}if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(i);this.opts.initSelection(this.opts.element,function(t){n.opts.element.val(t?n.id(t):"");n.updateSelection(t);n.setPlaceholder();r&&n.triggerChange({added:t,removed:f})})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(n){var i,r=!1;if(arguments.length===0)return i=this.selection.data("select2-data"),i==t&&(i=null),i;arguments.length>1&&(r=arguments[1]);n?(i=this.data(),this.opts.element.val(n?this.id(n):""),this.updateSelection(n),r&&this.triggerChange({added:n,removed:i})):this.clear(r)}});y=k(c,{createContainer:function(){return n(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  <\/li><\/ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   <\/ul><\/div>")},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(n,t){var r=[];n.find("option").filter(function(){return this.selected}).each2(function(n,t){r.push(i.optionToData(t))});t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(i,r){var e=b(i.val(),t.separator),f=[];t.query({matcher:function(i,r,o){var s=n.grep(e,function(n){return u(n,t.id(o))}).length;return s&&f.push(o),s},callback:n.isFunction(r)?function(){for(var h,n,o,s=[],i=0;i<e.length;i++)for(h=e[i],n=0;n<f.length;n++)if(o=f[n],u(h,t.id(o))){s.push(o);f.splice(n,1);break}r(s)}:n.noop})}),t},selectChoice:function(n){var t=this.container.find(".select2-search-choice-focus");t.length&&n&&n[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),n&&n.length&&(this.close(),n.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",n)))},destroy:function(){n("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var t=".select2-choices",u,f;this.searchContainer=this.container.find(".select2-search-field");this.selection=u=this.container.find(t);f=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){f.search[0].focus();f.selectChoice(n(this))});this.search.attr("id","s2id_autogen"+l());n("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id"));this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(n){var t;if(this.isInterfaceEnabled()){++this.keydowns;var f=u.find(".select2-search-choice-focus"),o=f.prev(".select2-search-choice:not(.select2-locked)"),e=f.next(".select2-search-choice:not(.select2-locked)"),s=pt(this.search);if(f.length&&(n.which==i.LEFT||n.which==i.RIGHT||n.which==i.BACKSPACE||n.which==i.DELETE||n.which==i.ENTER)){t=f;n.which==i.LEFT&&o.length?t=o:n.which==i.RIGHT?t=e.length?e:null:n.which===i.BACKSPACE?(this.unselect(f.first()),this.search.width(10),t=o.length?o:e):n.which==i.DELETE?(this.unselect(f.first()),this.search.width(10),t=e.length?e:null):n.which==i.ENTER&&(t=null);this.selectChoice(t);r(n);t&&t.length||this.open();return}if((n.which!==i.BACKSPACE||this.keydowns!=1)&&n.which!=i.LEFT||s.offset!=0||s.length)this.selectChoice(null);else{this.selectChoice(u.find(".select2-search-choice:not(.select2-locked)").last());r(n);return}if(this.opened())switch(n.which){case i.UP:case i.DOWN:this.moveHighlight(n.which===i.UP?-1:1);r(n);return;case i.ENTER:this.selectHighlighted();r(n);return;case i.TAB:this.selectHighlighted({noFocus:!0});this.close();return;case i.ESC:this.cancel(n);r(n);return}if(n.which!==i.TAB&&!i.isControl(n)&&!i.isFunctionKey(n)&&n.which!==i.BACKSPACE&&n.which!==i.ESC){if(n.which===i.ENTER){if(this.opts.openOnEnter===!1)return;if(n.altKey||n.ctrlKey||n.shiftKey||n.metaKey)return}this.open();(n.which===i.PAGE_UP||n.which===i.PAGE_DOWN)&&r(n);n.which===i.ENTER&&r(n)}}}));this.search.on("keyup",this.bind(function(){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);this.opened()||this.clearSearch();t.stopImmediatePropagation();this.opts.element.trigger(n.Event("select2-blur"))}));this.container.on("click",t,this.bind(function(t){this.isInterfaceEnabled()&&(n(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))}));this.container.on("focus",t,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){var n;this.opts.element.val()===""&&this.opts.element.text()===""&&(this.updateSelection([]),this.close(),this.clearSearch());(this.select||this.opts.element.val()!=="")&&(n=this,this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&i!==null&&(n.updateSelection(i),n.close(),n.clearSearch())}))},clearSearch:function(){var n=this.getPlaceholder(),i=this.getMaxSearchWidth();n!==t&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1?(this.search.val(n).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();this.updateResults(!0);this.search.focus();this.opts.element.trigger(n.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var r=[],u=[],i=this;n(t).each(function(){f(i.id(this),r)<0&&(r.push(i.id(this)),u.push(this))});t=u;this.selection.find(".select2-search-choice").remove();n(t).each(function(){i.addSelectedChoice(this)});i.postprocessResults()},tokenize:function(){var n=this.search.val();n=this.opts.tokenizer.call(this,n,this.data(),this.bind(this.onSelect),this.opts);n!=null&&n!=t&&(this.search.val(n),n.length>0&&this.open())},onSelect:function(n,t){this.triggerSelect(n)&&(this.addSelectedChoice(n),this.opts.element.trigger({type:"selected",val:this.id(n),choice:n}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(n,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:n}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(i){var o=!i.locked,h=n("<li class='select2-search-choice'>    <div><\/div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'><\/a><\/li>"),c=n("<li class='select2-search-choice select2-locked'><div><\/div><\/li>"),u=o?h:c,l=this.id(i),s=this.getVal(),f,e;if(f=this.opts.formatSelection(i,u.find("div"),this.opts.escapeMarkup),f!=t&&u.find("div").replaceWith("<div>"+f+"<\/div>"),e=this.opts.formatSelectionCssClass(i,u.find("div")),e!=t&&u.addClass(e),o)u.find(".select2-search-choice-close").on("mousedown",r).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(n(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(n(t.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue(),r(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));u.data("select2-data",i);u.insertBefore(this.searchContainer);s.push(l);this.setVal(s)},unselect:function(t){var u=this.getVal(),i,e,r;if(t=t.closest(".select2-search-choice"),t.length===0)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(i=t.data("select2-data"),i){while((e=f(this.id(i),u))>=0)u.splice(e,1),this.setVal(u),this.select&&this.postprocessResults();(r=n.Event("select2-removing"),r.val=this.id(i),r.choice=i,this.opts.element.trigger(r),r.isDefaultPrevented())||(t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},postprocessResults:function(n,t,i){var e=this.getVal(),u=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),r=this;u.each2(function(n,t){var i=r.id(t.data("select2-data"));f(i,e)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))});o.each2(function(n,t){t.is(".select2-result-selectable")||t.find(".select2-result-selectable:not(.select2-selected)").length!==0||t.addClass("select2-selected")});this.highlight()==-1&&i!==!1&&r.highlight(0);!this.opts.createSearchChoice&&!u.filter(".select2-result:not(.select2-selected)").length>0&&(n&&(!n||n.more||this.results.find(".select2-no-results").length!==0)||s(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+r.opts.formatNoMatches(r.search.val())+"<\/li>"))},getMaxSearchWidth:function(){return this.selection.width()-g(this.search)},resizeSearch:function(){var i,u,t,f,n,r=g(this.search);i=bt(this.search)+10;u=this.search.offset().left;t=this.selection.width();f=this.selection.offset().left;n=t-(u-f)-r;n<i&&(n=t-r);n<40&&(n=t-r);n<=0&&(n=i);this.search.width(Math.floor(n))},getVal:function(){var n;return this.select?(n=this.select.val(),n===null?[]:n):(n=this.opts.element.val(),b(n,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],n(t).each(function(){f(this,i)<0&&i.push(this)}),this.opts.element.val(i.length===0?"":i.join(this.opts.separator)))},buildChangeDetails:function(n,t){for(var r,t=t.slice(0),n=n.slice(0),i=0;i<t.length;i++)for(r=0;r<n.length;r++)u(this.opts.id(t[i]),this.opts.id(n[r]))&&(t.splice(i,1),i>0&&i--,n.splice(r,1),r--);return{added:t,removed:n}},val:function(i,r){var f,u=this;if(arguments.length===0)return this.getVal();if(f=this.data(),f.length||(f=[]),!i&&i!==0){this.opts.element.val("");this.updateSelection([]);this.clearSearch();r&&this.triggerChange({added:this.data(),removed:f});return}if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(f,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=n.map(t,u.id);u.setVal(i);u.updateSelection(t);u.clearSearch();r&&u.triggerChange(u.buildChangeDetails(f,u.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(n(this).data("select2-data")))});this.setVal(t);this.triggerChange()},data:function(t,i){var f=this,r,u;if(arguments.length===0)return this.selection.find(".select2-search-choice").map(function(){return n(this).data("select2-data")}).get();u=this.data();t||(t=[]);r=n.map(t,function(n){return f.opts.id(n)});this.setVal(r);this.updateSelection(t);this.clearSearch();i&&this.triggerChange(this.buildChangeDetails(u,this.data()))}});n.fn.select2=function(){var i=Array.prototype.slice.call(arguments,0),r,u,e,o,s,c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],l=["opened","isFocused","container","dropdown"],a=["val","data"],h={search:"externalSearch"};return this.each(function(){if(i.length===0||typeof i[0]=="object")r=i.length===0?{}:n.extend({},i[0]),r.element=n(this),r.element.get(0).tagName.toLowerCase()==="select"?s=r.element.prop("multiple"):(s=r.multiple||!1,"tags"in r&&(r.multiple=s=!0)),u=s?new y:new v,u.init(r);else if(typeof i[0]=="string"){if(f(i[0],c)<0)throw"Unknown method: "+i[0];if(o=t,u=n(this).data("select2"),u===t)return;if(e=i[0],e==="container"?o=u.container:e==="dropdown"?o=u.dropdown:(h[e]&&(e=h[e]),o=u[e].apply(u,i.slice(1))),f(i[0],l)>=0||f(i[0],a)&&i.length==1)return!1}else throw"Invalid arguments to select2 plugin: "+i;}),o===t?this:o};n.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(n,t,i,r){var u=[];return it(n.text,i.term,u,r),u.join("")},formatSelection:function(n,i,r){return n?r(n.text):t},sortResults:function(n){return n},formatResultCssClass:function(){return t},formatSelectionCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(n,t){var i=t-n.length;return"Please enter "+i+" more character"+(i==1?"":"s")},formatInputTooLong:function(n,t){var i=n.length-t;return"Please delete "+i+" character"+(i==1?"":"s")},formatSelectionTooBig:function(n){return"You can only select "+n+" item"+(n==1?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(n){return n.id},matcher:function(n,t){return h(""+t).toUpperCase().indexOf(h(""+n).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:kt,escapeMarkup:rt,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(n){return n},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t}};n.fn.select2.ajaxDefaults={transport:n.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:ut,local:ft,tags:et},util:{debounce:tt,markMatch:it,escapeMarkup:rt,stripDiacritics:h},"class":{abstract:c,single:v,multi:y}}}}(jQuery);
/*!
 * jQuery UI Core 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
(function(n,t){function i(t,i){var u,f,e,o=t.nodeName.toLowerCase();return"area"===o?(u=t.parentNode,f=u.name,!t.href||!f||u.nodeName.toLowerCase()!=="map")?!1:(e=n("img[usemap=#"+f+"]")[0],!!e&&r(e)):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&r(t)}function r(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return n.css(this,"visibility")==="hidden"}).length}var u=0,f=/^ui-id-\d+$/;n.ui=n.ui||{};n.extend(n.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});n.fn.extend({focus:function(t){return function(i,r){return typeof i=="number"?this.each(function(){var t=this;setTimeout(function(){n(t).focus();r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),scrollParent:function(){var t;return t=n.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.css(this,"position"))&&/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?n(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var r=n(this[0]),u,f;r.length&&r[0]!==document;){if(u=r.css("position"),(u==="absolute"||u==="relative"||u==="fixed")&&(f=parseInt(r.css("zIndex"),10),!isNaN(f)&&f!==0))return f;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++u)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&n(this).removeAttr("id")})}});n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return i(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var r=n.attr(t,"tabindex"),u=isNaN(r);return(u||r>=0)&&i(t,!u)}});n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(i,r){function e(t,i,r,u){return n.each(o,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var o=r==="Width"?["Left","Right"]:["Top","Bottom"],u=r.toLowerCase(),f={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+r]=function(i){return i===t?f["inner"+r].call(this):this.each(function(){n(this).css(u,e(this,i)+"px")})};n.fn["outer"+r]=function(t,i){return typeof t!="number"?f["outer"+r].call(this,t):this.each(function(){n(this).css(u,e(this,t,!0,i)+"px")})}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))});n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData));n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());n.support.selectstart="onselectstart"in document.createElement("div");n.fn.extend({disableSelection:function(){return this.bind((n.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(n){n.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});n.extend(n.ui,{plugin:{add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i){var r,u=n.plugins[t];if(u&&n.element[0].parentNode&&n.element[0].parentNode.nodeType!==11)for(r=0;r<u.length;r++)n.options[u[r][0]]&&u[r][1].apply(n.element,i)}},hasScroll:function(t,i){if(n(t).css("overflow")==="hidden")return!1;var r=i&&i==="left"?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)}})})(jQuery);
/*!
 * jQuery UI Widget 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
(function(n,t){var r=0,i=Array.prototype.slice,u=n.cleanData;n.cleanData=function(t){for(var i=0,r;(r=t[i])!=null;i++)try{n(r).triggerHandler("remove")}catch(f){}u(t)};n.widget=function(t,i,r){var s,f,u,o,h={},e=t.split(".")[0];t=t.split(".")[1];s=e+"-"+t;r||(r=i,i=n.Widget);n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)};n[e]=n[e]||{};f=n[e][t];u=n[e][t]=function(n,t){if(!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)};n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]});o=new i;o.options=n.widget.extend({},o.options);n.each(r,function(t,r){if(!n.isFunction(r)){h[t]=r;return}h[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},u=function(n){return i.prototype[t].apply(this,n)};return function(){var i=this._super,f=this._superApply,t;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}()});u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix||t:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s});f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u);n.widget.bridge(t,u)};n.widget.extend=function(r){for(var o=i.call(arguments,1),e=0,s=o.length,u,f;e<s;e++)for(u in o[e])f=o[e][u],o[e].hasOwnProperty(u)&&f!==t&&(r[u]=n.isPlainObject(f)?n.isPlainObject(r[u])?n.widget.extend({},r[u],f):n.widget.extend({},f):f);return r};n.widget.bridge=function(r,u){var f=u.prototype.widgetFullName||r;n.fn[r]=function(e){var h=typeof e=="string",o=i.call(arguments,1),s=this;return e=!h&&o.length?n.widget.extend.apply(null,[e].concat(o)):e,h?this.each(function(){var i,u=n.data(this,f);return u?!n.isFunction(u[e])||e.charAt(0)==="_"?n.error("no such method '"+e+"' for "+r+" widget instance"):(i=u[e].apply(u,o),i!==u&&i!==t?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):void 0):n.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+e+"'")}):this.each(function(){var t=n.data(this,f);t?t.option(e||{})._init():n.data(this,f,new u(e,this))}),s}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=r++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this.bindings=n();this.hoverable=n();this.focusable=n();i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(i,r){var o=i,u,f,e;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof i=="string")if(o={},u=i.split("."),i=u.shift(),u.length){for(f=o[i]=n.widget.extend({},this.options[i]),e=0;e<u.length-1;e++)f[u[e]]=f[u[e]]||{},f=f[u[e]];if(i=u.pop(),arguments.length===1)return f[i]===t?null:f[i];f[i]=r}else{if(arguments.length===1)return this.options[i]===t?null:this.options[i];o[i]=r}return this._setOptions(o),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,r){var f,u=this;typeof t!="boolean"&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return(typeof e=="string"?u[e]:e).apply(u,arguments)}typeof e!="string"&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^(\w+)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return(typeof n=="string"?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent,f)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){typeof u=="string"&&(u={effect:u});var o,e=u?u===!0||typeof u=="number"?i:u.effect||i:t;u=u||{};typeof u=="number"&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}})})(jQuery);
/*!
 * jQuery UI Mouse 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(n){var t=!1;n(document).mouseup(function(){t=!1});n.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i);this._mouseDownEvent=i;var r=this,u=i.which===1,f=typeof this.options.cancel=="string"&&i.target.nodeName?n(i.target).closest(this.options.cancel).length:!1;return!u||f||!this._mouseCapture(i)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted))?(i.preventDefault(),!0):(!0===n.data(i.target,this.widgetName+".preventClickEvent")&&n.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return r._mouseMove(n)},this._mouseUpDelegate=function(n){return r._mouseUp(n)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)}},_mouseMove:function(t){return n.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
/*!
 * jQuery UI Position 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(n,t){function a(n,t,i){return[parseFloat(n[0])*(l.test(n[0])?t/100:1),parseFloat(n[1])*(l.test(n[1])?i/100:1)]}function u(t,i){return parseInt(n.css(t,i),10)||0}function y(t){var i=t[0];return i.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var f,r=Math.max,i=Math.abs,e=Math.round,o=/left|center|right/,s=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,l=/%$/,v=n.fn.position;n.position={scrollbarWidth:function(){if(f!==t)return f;var u,r,i=n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),e=i.children()[0];return n("body").append(i),u=e.offsetWidth,i.css("overflow","scroll"),r=e.offsetWidth,u===r&&(r=i[0].clientWidth),i.remove(),f=u-r},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),u=i==="scroll"||i==="auto"&&t.width<t.element[0].scrollWidth,f=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]),u=!!i[0]&&i[0].nodeType===9;return{element:i,isWindow:r,isDocument:u,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r?i.width():i.outerWidth(),height:r?i.height():i.outerHeight()}}};n.fn.position=function(t){if(!t||!t.of)return v.apply(this,arguments);t=n.extend({},t);var b,f,l,w,p,d,g=n(t.of),tt=n.position.getWithinInfo(t.within),it=n.position.getScrollInfo(tt),k=(t.collision||"flip").split(" "),nt={};return d=y(g),g[0].preventDefault&&(t.at="left top"),f=d.width,l=d.height,w=d.offset,p=n.extend({},w),n.each(["my","at"],function(){var n=(t[this]||"").split(" "),i,r;n.length===1&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]);n[0]=o.test(n[0])?n[0]:"center";n[1]=s.test(n[1])?n[1]:"center";i=h.exec(n[0]);r=h.exec(n[1]);nt[this]=[i?i[0]:0,r?r[0]:0];t[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),k.length===1&&(k[1]=k[0]),t.at[0]==="right"?p.left+=f:t.at[0]==="center"&&(p.left+=f/2),t.at[1]==="bottom"?p.top+=l:t.at[1]==="center"&&(p.top+=l/2),b=a(nt.at,f,l),p.left+=b[0],p.top+=b[1],this.each(function(){var y,d,s=n(this),h=s.outerWidth(),c=s.outerHeight(),rt=u(this,"marginLeft"),ut=u(this,"marginTop"),ft=h+rt+u(this,"marginRight")+it.width,et=c+ut+u(this,"marginBottom")+it.height,o=n.extend({},p),v=a(nt.my,s.outerWidth(),s.outerHeight());t.my[0]==="right"?o.left-=h:t.my[0]==="center"&&(o.left-=h/2);t.my[1]==="bottom"?o.top-=c:t.my[1]==="center"&&(o.top-=c/2);o.left+=v[0];o.top+=v[1];n.support.offsetFractions||(o.left=e(o.left),o.top=e(o.top));y={marginLeft:rt,marginTop:ut};n.each(["left","top"],function(i,r){n.ui.position[k[i]]&&n.ui.position[k[i]][r](o,{targetWidth:f,targetHeight:l,elemWidth:h,elemHeight:c,collisionPosition:y,collisionWidth:ft,collisionHeight:et,offset:[b[0]+v[0],b[1]+v[1]],my:t.my,at:t.at,within:tt,elem:s})});t.using&&(d=function(n){var u=w.left-o.left,v=u+f-h,e=w.top-o.top,y=e+l-c,a={target:{element:g,left:w.left,top:w.top,width:f,height:l},element:{element:s,left:o.left,top:o.top,width:h,height:c},horizontal:v<0?"left":u>0?"right":"center",vertical:y<0?"top":e>0?"bottom":"middle"};f<h&&i(u+v)<f&&(a.horizontal="center");l<c&&i(e+y)<l&&(a.vertical="middle");a.important=r(i(u),i(v))>r(i(e),i(y))?"horizontal":"vertical";t.using.call(this,n,a)});s.offset(n.extend(o,{using:d}))})};n.ui.position={fit:{left:function(n,t){var e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,i=u-s,f=s+t.collisionWidth-o-u,h;t.collisionWidth>o?i>0&&f<=0?(h=n.left+i+t.collisionWidth-o-u,n.left+=i-h):n.left=f>0&&i<=0?u:i>f?u+o-t.collisionWidth:u:i>0?n.left+=i:f>0?n.left-=f:n.left=r(n.left-s,n.left)},top:function(n,t){var o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,i=u-s,f=s+t.collisionHeight-e-u,h;t.collisionHeight>e?i>0&&f<=0?(h=n.top+i+t.collisionHeight-e-u,n.top+=i-h):n.top=f>0&&i<=0?u:i>f?u+e-t.collisionHeight:u:i>0?n.top+=i:f>0?n.top-=f:n.top=r(n.top-s,n.top)}},flip:{left:function(n,t){var r=t.within,y=r.offset.left+r.scrollLeft,c=r.width,o=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-t.collisionPosition.marginLeft,a=l-o,v=l+t.collisionWidth-c-o,u=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,f=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,e=-2*t.offset[0],s,h;a<0?(s=n.left+u+f+e+t.collisionWidth-c-y,(s<0||s<i(a))&&(n.left+=u+f+e)):v>0&&(h=n.left-t.collisionPosition.marginLeft+u+f+e-o,(h>0||i(h)<v)&&(n.left+=u+f+e))},top:function(n,t){var r=t.within,y=r.offset.top+r.scrollTop,a=r.height,o=r.isWindow?r.scrollTop:r.offset.top,v=n.top-t.collisionPosition.marginTop,s=v-o,h=v+t.collisionHeight-a-o,p=t.my[1]==="top",u=p?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,f=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,e=-2*t.offset[1],c,l;s<0?(l=n.top+u+f+e+t.collisionHeight-a-y,n.top+u+f+e>s&&(l<0||l<i(s))&&(n.top+=u+f+e)):h>0&&(c=n.top-t.collisionPosition.marginTop+u+f+e-o,n.top+u+f+e>h&&(c>0||i(c)<h)&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,f,e=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(e?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};e&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in r)t.style[f]=r[f];t.appendChild(o);i=e||document.documentElement;i.insertBefore(t,i.firstChild);o.style.cssText="position: absolute; left: 10.7432222px;";u=n(o).offset().left;n.support.offsetFractions=u>10&&u<11;t.innerHTML="";i.removeChild(t)}()})(jQuery);
/*!
 * jQuery UI Sortable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(n){function t(n,t,i){return n>t&&n<t+i}function i(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))}n.widget("ui.sortable",n.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var n=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?n.axis==="x"||i(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){t==="disabled"?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):n.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return this.reverting?!1:this.options.disabled||this.options.type==="static"?!1:(this._refreshItems(t),n(t.target).parents().each(function(){if(n.data(this,u.widgetName+"-item")===u)return r=n(this),!1}),n.data(t.target,u.widgetName+"-item")===u&&(r=n(t.target)),!r)?!1:this.options.handle&&!i&&(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),!f)?!1:(this.currentItem=r,this._removeCurrentsFromItems(),!0)},_mouseStart:function(t,i,r){var f,e,u=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&u.cursor!=="auto"&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=n("<style>*{ cursor: "+u.cursor+" !important; }<\/style>").appendTo(e)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,u,f,o,i=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-n(document).scrollTop()<i.scrollSensitivity?r=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(r=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed)),t.pageX-n(document).scrollLeft()<i.scrollSensitivity?r=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(r=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if((u=this.items[e],f=u.item[0],o=this._intersectsWithPointer(u),o)&&u.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[o===1?"next":"prev"]()[0]!==f&&!n.contains(this.placeholder[0],f)&&(this.options.type==="semi-dynamic"?!n.contains(this.element[0],f):!0)){if(this.direction=o===1?"down":"up",this.options.tolerance==="pointer"||this._intersectsWithSides(u))this._rearrange(t,u);else break;this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var e=this,f=this.placeholder.offset(),r=this.options.axis,u={};r&&r!=="x"||(u.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft));r&&r!=="y"||(u.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop));this.reverting=!0;n(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){e._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l=this.options.axis==="x"||i+o>u&&i+o<e,a=this.options.axis==="y"||t+s>r&&t+s<f,v=l&&a;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?v:r<t+this.helperProportions.width/2&&h-this.helperProportions.width/2<f&&u<i+this.helperProportions.height/2&&c-this.helperProportions.height/2<e},_intersectsWithPointer:function(n){var u=this.options.axis==="x"||t(this.positionAbs.top+this.offset.click.top,n.top,n.height),f=this.options.axis==="y"||t(this.positionAbs.left+this.offset.click.left,n.left,n.width),e=u&&f,i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return e?this.floating?r&&r==="right"||i==="down"?2:1:i&&(i==="down"?2:1):!1},_intersectsWithSides:function(n){var u=t(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),f=t(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?r==="right"&&f||r==="left"&&!f:i&&(i==="down"&&u||i==="up"&&!u)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return n!==0&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return n!==0&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){function h(){s.push(this)}var r,u,e,i,s=[],f=[],o=this._connectWith();if(o&&t)for(r=o.length-1;r>=0;r--)for(e=n(o[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&f.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(f.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=f.length-1;r>=0;r--)f[r][0].each(h);return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;i<t.length;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[];this.containers=[this];var r,u,e,i,o,s,h,l,a=this.items,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(r=c.length-1;r>=0;r--)for(e=n(c[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(o=f[r][1],s=f[r][0],u=0,l=s.length;u<l;u++)h=n(s[u]),h.data(this.widgetName+"-item",o),a.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var r,f,u,i=this.items.length-1;i>=0;i--)(r=this.items[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0])||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var r,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(r=i.placeholder,i.placeholder={element:function(){var u=t.currentItem[0].nodeName.toLowerCase(),i=n("<"+u+">",t.document[0]).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return u==="tr"?t.currentItem.children().each(function(){n("<td>&#160;<\/td>",t.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(i)}):u==="img"&&i.attr("src",t.currentItem.attr("src")),r||i.css("visibility","hidden"),i},update:function(n,u){(!r||i.forcePlaceholderSize)&&(u.height()||u.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),u.width()||u.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}});t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_contactContainers:function(r){for(var f,v,s,l,y,h,o,p,a,c=null,e=null,u=this.containers.length-1;u>=0;u--)if(!n.contains(this.currentItem[0],this.containers[u].element[0]))if(this._intersectsWith(this.containers[u].containerCache)){if(c&&n.contains(this.containers[u].element[0],c.element[0]))continue;c=this.containers[u];e=u}else this.containers[u].containerCache.over&&(this.containers[u]._trigger("out",r,this._uiHash(this)),this.containers[u].containerCache.over=0);if(c)if(this.containers.length===1)this.containers[e].containerCache.over||(this.containers[e]._trigger("over",r,this._uiHash(this)),this.containers[e].containerCache.over=1);else{for(v=1e4,s=null,a=c.floating||i(this.currentItem),l=a?"left":"top",y=a?"width":"height",h=this.positionAbs[l]+this.offset.click[l],f=this.items.length-1;f>=0;f--)n.contains(this.containers[e].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(!a||t(this.positionAbs.top+this.offset.click.top,this.items[f].top,this.items[f].height))&&(o=this.items[f].item.offset()[l],p=!1,Math.abs(o-h)>Math.abs(o+this.items[f][y]-h)&&(p=!0,o+=this.items[f][y]),Math.abs(o-h)<v&&(v=Math.abs(o-h),s=this.items[f],this.direction=p?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[e])return;s?this._rearrange(r,s,null,!0):this._rearrange(r,null,this.containers[e].element,!0);this._trigger("change",r,this._uiHash());this.containers[e]._trigger("change",r,this._uiHash(this));this.currentContainer=this.containers[e];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[e]._trigger("over",r,this._uiHash(this));this.containers[e].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):r.helper==="clone"?this.currentItem.clone():this.currentItem;return i.parents("body").length||n(r.appendTo!=="parent"?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||r.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||r.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,u,i=this.options;i.containment==="parent"&&(i.containment=this.helper[0].parentNode);(i.containment==="document"||i.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(n(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),u=n(t).css("overflow")!=="hidden",this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r=t==="absolute"?1:-1,u=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r,u,i=this.options,f=t.pageX,e=t.pageY,o=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,s=/(html|body)/i.test(o[0].tagName);return this.cssPosition!=="relative"||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top>=this.containment[1]&&r-this.offset.click.top<=this.containment[3]?r:r-this.offset.click.top>=this.containment[1]?r-i.grid[1]:r+i.grid[1]:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left>=this.containment[0]&&u-this.offset.click.left<=this.containment[2]?u:u-this.offset.click.left>=this.containment[0]?u-i.grid[0]:u+i.grid[0]:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(n,t){function u(n,t,i){return function(r){i._trigger(n,r,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static")&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!t&&r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(u("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(u("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",n,this._uiHash()),i=0;i<r.length;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",n,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<r.length;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})})(jQuery);
/*!
 * jQuery UI Slider 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(n){var t=5;n.widget("ui.slider",n.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1;this._mouseSliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var r,i,u=this.options,t=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f=[];for(i=u.values&&u.values.length||1,t.length>i&&(t.slice(i).remove(),t=t.slice(0,i)),r=t.length;r<i;r++)f.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'><\/a>");this.handles=t.add(n(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(t){n(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&t.values.length!==2?t.values=[t.values[0],t.values[0]]:n.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=n("<div><\/div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+(t.range==="min"||t.range==="max"?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var n=this.handles.add(this.range).filter("a");this._off(n);this._on(n,this._handleEvents);this._hoverable(n);this._focusable(n)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(t){var s,f,r,i,u,h,e,c,o=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(s),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(f-o.values(t));(r>e||r===e&&(t===o._lastChangedValue||o.values(t)===l.min))&&(r=e,i=n(this),u=t)}),h=this._start(t,u),h===!1)?!1:(this._mouseSliding=!0,this._handleIndex=u,i.addClass("ui-state-active").focus(),e=i.offset(),c=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0,!0)},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return this.orientation==="horizontal"?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),t<0&&(t=0),this.orientation==="vertical"&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r,f,u;this.options.values&&this.options.values.length?(r=this.values(t?0:1),this.options.values.length===2&&this.options.range===!0&&(t===0&&i>r||t===1&&i<r)&&(i=r),i!==this.values(t)&&(f=this.values(),f[t]=i,u=this._trigger("slide",n,{handle:this.handles[t],value:i,values:f}),r=this.values(t?0:1),u!==!1&&this.values(t,i))):i!==this.value()&&(u=this._trigger("slide",n,{handle:this.handles[t],value:i}),u!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values());this._lastChangedValue=t;this._trigger("change",n,i)}},value:function(n){if(arguments.length){this.options.value=this._trimAlignValue(n);this._refreshValue();this._change(null,0);return}return this._value()},values:function(t,i){var u,f,r;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(i);this._refreshValue();this._change(null,t);return}if(arguments.length)if(n.isArray(arguments[0])){for(u=this.options.values,f=arguments[0],r=0;r<u.length;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(t):this.value();else return this._values()},_setOption:function(t,i){var r,u=0;t==="range"&&this.options.range===!0&&(i==="min"?(this.options.value=this._values(0),this.options.values=null):i==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));n.isArray(this.options.values)&&(u=this.options.values.length);n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;r<u;r+=1)this._change(null,r);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case"range":this._animateOff=!0;this._refresh();this._animateOff=!1}},_value:function(){var n=this.options.value;return this._trimAlignValue(n)},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],this._trimAlignValue(r);if(this.options.values&&this.options.values.length){for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(n){if(n<=this._valueMin())return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=this._animateOff?!1:i.animate,o={};this.options.values&&this.options.values.length?this.handles.each(function(f){t=(r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin())*100;o[r.orientation==="horizontal"?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](o,i.animate);r.options.range===!0&&(r.orientation==="horizontal"?(f===0&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),f===1&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(f===0&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),f===1&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate})));s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?(c-f)/(h-f)*100:0,o[this.orientation==="horizontal"?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),e==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),e==="max"&&this.orientation==="horizontal"&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:i.animate}),e==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),e==="max"&&this.orientation==="vertical"&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:i.animate}))},_handleEvents:{keydown:function(i){var o,u,r,f,e=n(i.target).data("ui-slider-handle-index");switch(i.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,n(i.target).addClass("ui-state-active"),o=this._start(i,e),o===!1))return}f=this.options.step;u=this.options.values&&this.options.values.length?r=this.values(e):r=this.value();switch(i.keyCode){case n.ui.keyCode.HOME:r=this._valueMin();break;case n.ui.keyCode.END:r=this._valueMax();break;case n.ui.keyCode.PAGE_UP:r=this._trimAlignValue(u+(this._valueMax()-this._valueMin())/t);break;case n.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(u-(this._valueMax()-this._valueMin())/t);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(u===this._valueMax())return;r=this._trimAlignValue(u+f);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(u===this._valueMin())return;r=this._trimAlignValue(u-f)}this._slide(i,e,r)},click:function(n){n.preventDefault()},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),n(t.target).removeClass("ui-state-active"))}}})})(jQuery);
/*!
 * jQuery UI Accordion 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/accordion/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function(n){var r=0,t={},i={};t.height=t.paddingTop=t.paddingBottom=t.borderTopWidth=t.borderBottomWidth="hide";i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="show";n.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=n();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");t.collapsible||t.active!==!1&&t.active!=null||(t.active=0);this._processPanels();t.active<0&&(t.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():n(),content:this.active.length?this.active.next():n()}},_createIcons:function(){var t=this.options.icons;t&&(n("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});this._destroyIcons();n=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")});this.options.heightStyle!=="content"&&n.css("height","")},_setOption:function(n,t){if(n==="active"){this._activate(t);return}n==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t));this._super(n,t);n!=="collapsible"||t||this.options.active!==!1||this._activate(0);n==="icons"&&(this._destroyIcons(),t&&this._createIcons());n==="disabled"&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels();(t.active!==!1||t.collapsible!==!0)&&this.headers.length?t.active===!1?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=n()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active):(t.active=!1,this.active=n());this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,i=this.options,u=i.heightStyle,e=this.element.parent(),f=this.accordionId="ui-accordion-"+(this.element.attr("id")||++r);this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(t){var i=n(this),r=i.attr("id"),e=i.next(),u=e.attr("id");r||(r=f+"-header-"+t,i.attr("id",r));u||(u=f+"-panel-"+t,e.attr("id",u));i.attr("aria-controls",u);e.attr("aria-labelledby",r)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(i.event);u==="fill"?(t=e.height(),this.element.siblings(":visible").each(function(){var i=n(this),r=i.css("position");r!=="absolute"&&r!=="fixed"&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):u==="auto"&&(t=0,this.headers.next().each(function(){t=Math.max(t,n(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:n.noop}))},_findActive:function(t){return typeof t=="number"?this.headers.eq(t):n()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,i);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,u=this.active,r=n(t.currentTarget),f=r[0]===u[0],e=f&&i.collapsible,s=e?n():r.next(),h=u.next(),o={oldHeader:u,oldPanel:h,newHeader:e?n():r,newPanel:s};(t.preventDefault(),(!f||i.collapsible)&&this._trigger("beforeActivate",t,o)!==!1)&&(i.active=e?!1:this.headers.index(r),this.active=f?n():r,this._toggle(o),u.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&u.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),f||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=r;this.prevHide=i;this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t));i.attr({"aria-hidden":"true"});i.prev().attr("aria-selected","false");r.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):r.length&&this.headers.filter(function(){return n(this).attr("tabIndex")===0}).attr("tabIndex",-1);r.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(n,r,u){var l,f,e,a=this,h=0,v=n.length&&(!r.length||n.index()<r.index()),s=this.options.animate||{},o=v&&s.down||s,c=function(){a._toggleComplete(u)};if(typeof o=="number"&&(e=o),typeof o=="string"&&(f=o),f=f||o.easing||s.easing,e=e||o.duration||s.duration,!r.length)return n.animate(i,e,f,c);if(!n.length)return r.animate(t,e,f,c);l=n.show().outerHeight();r.animate(t,{duration:e,easing:f,step:function(n,t){t.now=Math.round(n)}});n.hide().animate(i,{duration:e,easing:f,complete:c,step:function(n,t){t.now=Math.round(n);t.prop!=="height"?h+=t.now:a.options.heightStyle!=="content"&&(t.now=Math.round(l-r.outerHeight()-h),h=0)}})},_toggleComplete:function(n){var t=n.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");t.length&&(t.parent()[0].className=t.parent()[0].className);this._trigger("activate",null,n)}})})(jQuery);
/*!
 * jQuery UI Menu 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
(function(n){n.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,n.proxy(function(n){this.options.disabled&&n.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(n){n.preventDefault()},"click .ui-state-disabled > a":function(n){n.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=n(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&n(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=n(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(t){n(t.target).closest(".ui-menu").length||this.collapseAll(t);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=n(this);t.data("ui-menu-submenu-carat")&&t.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function s(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,f,r,e,u,o=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1;f=this.previousFilter||"";r=String.fromCharCode(t.keyCode);e=!1;clearTimeout(this.filterTimer);r===f?e=!0:r=f+r;u=new RegExp("^"+s(r),"i");i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())});i=e&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i;i.length||(r=String.fromCharCode(t.keyCode),u=new RegExp("^"+s(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())}));i.length?(this.focus(t,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}o&&t.preventDefault()},_activate:function(n){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(n):this.select(n))},refresh:function(){var t,r=this.options.icons.submenu,i=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=n(this),i=t.prev("a"),u=n("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(u);t.attr("aria-labelledby",i.attr("id"))});t=i.add(this.element);t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});t.children(":not(.ui-menu-item)").each(function(){var t=n(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")});t.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){n==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu);this._super(n,t)},focus:function(n,t){var i,r;this.blur(n,n&&n.type==="focus");this._scrollIntoView(t);this.active=t.first();r=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",r.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");n&&n.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay);i=t.children(".ui-menu");i.length&&n&&/^mouse/.test(n.type)&&this._startOpening(i);this.activeMenu=t.parent();this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var e,o,i,r,u,f;this._hasScroll()&&(e=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-o,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),f=t.height(),i<0?this.activeMenu.scrollTop(r+i):i+f>u&&this.activeMenu.scrollTop(r+i-u+f))},blur:function(n,t){(t||clearTimeout(this.timer),this.active)&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",n,{item:this.active}))},_startOpening:function(n){(clearTimeout(this.timer),n.attr("aria-hidden")==="true")&&(this.timer=this._delay(function(){this._close();this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer);this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element);this._close(r);this.blur(t);this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element);n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r=n==="first"||n==="last"?this.active[n==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0));r&&r.length&&this.active||(r=this.activeMenu.children(".ui-menu-item")[t]());this.focus(i,r)},nextPage:function(t){var i,r,u;if(!this.active){this.next(t);return}this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r-u<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))},previousPage:function(t){var i,r,u;if(!this.active){this.next(t);return}this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r+u>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0);this._trigger("select",t,i)}})})(jQuery);
/*!
 * jQuery UI Autocomplete 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 *	jquery.ui.menu.js
 */
(function(n){n.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,r,u=this.element[0].nodeName.toLowerCase(),f=u==="textarea",e=u==="input";this.isMultiLine=f?!0:e?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[f||e?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly")){t=!0;r=!0;i=!0;return}t=!1;r=!1;i=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0;this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0;this._move("nextPage",u);break;case f.UP:t=!0;this._keyEvent("previous",u);break;case f.DOWN:t=!0;this._keyEvent("next",u);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0;this._searchTimeout(u)}},keypress:function(r){if(t){t=!1;(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault();return}if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){if(r){r=!1;n.preventDefault();return}this._searchTimeout(n)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(n){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(n);this._change(n)}});this._initSource();this.menu=n("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(t){t.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];n(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===i||n.contains(i,r.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)});return}var r=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:r})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value):this.liveRegion.text(r.value)},menuselect:function(n,t){var i=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r;this.selectedItem=i}));!1!==this._trigger("select",n,{item:i})&&this._value(i.value);this.term=this._value();this.close(n);this.selectedItem=i}});this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t);n==="source"&&this._initSource();n==="appendTo"&&this.menu.element.appendTo(this._appendTo());n==="disabled"&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):typeof this.options.source=="string"?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort();t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return(n=n!=null?n:this._value(),this.term=this._value(),n.length<this.options.minLength)?this.close(t):this._trigger("search",t)===!1?void 0:this._search(n)},_search:function(n){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:n},this._response())},_response:function(){var t=++this.requestIndex;return n.proxy(function(n){t===this.requestIndex&&this.__response(n);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(n){n&&(n=this._normalize(n));this._trigger("response",null,{content:n});!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0;this._close(n)},_close:function(n){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return typeof t=="string"?{label:t,value:t}:n.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t);this.isNewMenu=!0;this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").append(n("<a>").text(i.label)).appendTo(t)},_move:function(n,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)){this._value(this.term);this.menu.blur();return}this.menu[n](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}});n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(n>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(n){var t;(this._superApply(arguments),this.options.disabled||this.cancelSearch)||(t=n&&n.length?this.options.messages.results(n.length):this.options.messages.noResults,this.liveRegion.text(t))}})})(jQuery);
/*!
 * jQuery UI Spinner 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 *
 * Depends:
 *  jquery.ui.core.js
 *  jquery.ui.widget.js
 *  jquery.ui.button.js
 */
(function(n){function t(n){return function(){var t=this.element.val();n.apply(this,arguments);this._refresh();t!==this.element.val()&&this._trigger("change")}}n.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this.value()!==""&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);u!==undefined&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();this.previous!==this.element.val()&&this._trigger("change",n)},mousewheel:function(n,t){if(t){if(!this.spinning&&!this._start(n))return!1;this._spin((t>0?1:-1)*this.options.step,n);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(n)},100);n.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){var n=this.element[0]===this.document[0].activeElement;n||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;(i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur;r.call(this)}),this._start(t)!==!1)&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active")){if(this._start(t)===!1)return!1;this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var n=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=n.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(n.height()*.5)&&n.height()>0&&n.height(n.height());this.options.disabled&&this.disable()},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'><\/span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;<\/span><\/a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;<\/span><\/a>"},_start:function(n){return!this.spinning&&this._trigger("start",n)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(n,t,i){n=n||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,i)},n);this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1);i=this._adjustValue(i+n*this._increment(this.counter));this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?n.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return this.options.min!==null&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=n.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_adjustValue:function(n){var r,i,t=this.options;return(r=t.min!==null?t.min:0,i=n-r,i=Math.round(i/t.step)*t.step,n=r+i,n=parseFloat(n.toFixed(this._precision())),t.max!==null&&n>t.max)?t.max:t.min!==null&&n<t.min?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){if(n==="culture"||n==="numberFormat"){var i=this._parse(this.element.val());this.options[n]=t;this.element.val(this._format(i));return}(n==="max"||n==="min"||n==="step")&&typeof t=="string"&&(t=this._parse(t));n==="icons"&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down));this._super(n,t);n==="disabled"&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(n){this._super(n);this._value(this.element.val())}),_parse:function(n){return typeof n=="string"&&n!==""&&(n=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n),n===""||isNaN(n)?null:n},_format:function(n){return n===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(n,t){var i;n!==""&&(i=this._parse(n),i!==null&&(t||(i=this._adjustValue(i)),n=this._format(i)));this.element.val(n);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:t(function(n){this._stepUp(n)}),_stepUp:function(n){this._start()&&(this._spin((n||1)*this.options.step),this._stop())},stepDown:t(function(n){this._stepDown(n)}),_stepDown:function(n){this._start()&&(this._spin((n||1)*-this.options.step),this._stop())},pageUp:t(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:t(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,n)},widget:function(){return this.uiSpinner}})})(jQuery);
/*!
 * jQuery UI Progressbar 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/progressbar/
 *
 * Depends:
 *   jquery.ui.core.js
 *   jquery.ui.widget.js
 */
(function(n,t){n.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(n){if(n===t)return this.options.value;this.options.value=this._constrainedValue(n);this._refreshValue()},_constrainedValue:function(n){return n===t&&(n=this.options.value),this.indeterminate=n===!1,typeof n!="number"&&(n=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,n))},_setOptions:function(n){var t=n.value;delete n.value;this._super(n);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(n,t){n==="max"&&(t=Math.max(this.min,t));this._super(n,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div class='ui-progressbar-overlay'><\/div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==t&&(this.oldValue=t,this._trigger("change"));t===this.options.max&&this._trigger("complete")}})})(jQuery);
/*!
 * jQuery UI Tabs 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function(n,t){function f(){return++u}function r(n){return n=n.cloneNode(!1),n.hash.length>1&&decodeURIComponent(n.href.replace(i,""))===decodeURIComponent(location.href.replace(i,""))}var u=0,i=/#.*$/;n.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var i=this,t=this.options;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()});this._processTabs();t.active=this._initialActive();n.isArray(t.disabled)&&(t.disabled=n.unique(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return i.tabs.index(n)}))).sort());this.active=this.options.active!==!1&&this.anchors.length?this._findActive(t.active):n();this._refresh();this.active.length&&this.load(t.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return t===null&&(r&&this.tabs.each(function(i,u){if(n(u).attr("aria-controls")===r)return t=i,!1}),t===null&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(t===null||t===-1)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),t===-1&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(t){var r=n(this.document[0].activeElement).closest("li"),i=this.tabs.index(r),u=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:i++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:u=!1;i--;break;case n.ui.keyCode.END:i=this.anchors.length-1;break;case n.ui.keyCode.HOME:i=0;break;case n.ui.keyCode.SPACE:t.preventDefault();clearTimeout(this.activating);this._activate(i);return;case n.ui.keyCode.ENTER:t.preventDefault();clearTimeout(this.activating);this._activate(i===this.options.active?!1:i);return;default:return}t.preventDefault();clearTimeout(this.activating);i=this._focusNextTab(i,u);t.ctrlKey||(r.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function u(){return t>r&&(t=0),t<0&&(t=r),t}for(var r=this.tabs.length-1;n.inArray(u(),this.options.disabled)!==-1;)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).focus(),n},_setOption:function(n,t){if(n==="active"){this._activate(t);return}if(n==="disabled"){this._setupDisabled(t);return}this._super(n,t);n==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0));n==="event"&&this._setupEvents(t);n==="heightStyle"&&this._setupHeightStyle(t)},_tabId:function(n){return n.attr("aria-controls")||"ui-tabs-"+f()},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)});this._processTabs();t.active!==!1&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=n());this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return n("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=n();this.anchors.each(function(i,u){var e,f,s,h=n(u).uniqueId().attr("id"),o=n(u).closest("li"),c=o.attr("aria-controls");r(u)?(e=u.hash,f=t.element.find(t._sanitizeSelector(e))):(s=t._tabId(o),e="#"+s,f=t.element.find(e),f.length||(f=t._createPanel(s),f.insertAfter(t.panels[i-1]||t.tablist)),f.attr("aria-live","polite"));f.length&&(t.panels=t.panels.add(f));c&&o.data("ui-tabs-aria-controls",c);o.attr({"aria-controls":e.substring(1),"aria-labelledby":h});f.attr("aria-labelledby",h)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){n.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i=0,r;r=this.tabs[i];i++)t===!0||n.inArray(i,t)!==-1?n(r).addClass("ui-state-disabled").attr("aria-disabled","true"):n(r).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(n){n.preventDefault()}};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,i);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();t==="fill"?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=n(this),r=t.css("position");r!=="absolute"&&r!=="fixed"&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):t==="auto"&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var u=this.options,r=this.active,c=n(t.currentTarget),i=c.closest("li"),f=i[0]===r[0],e=f&&u.collapsible,o=e?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),h={oldTab:r,oldPanel:s,newTab:e?n():i,newPanel:o};(t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||f&&!u.collapsible||this._trigger("beforeActivate",t,h)===!1)||(u.active=e?!1:this.tabs.index(i),this.active=f?n():i,this.xhr&&this.xhr.abort(),s.length||o.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,h))},_toggle:function(t,i){function e(){u.running=!1;u._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active");r.length&&u.options.show?u._show(r,u.options.show,e):(r.show(),e())}var u=this,r=i.newPanel,f=i.oldPanel;this.running=!0;f.length&&this.options.hide?this._hide(f,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f.hide(),o());f.attr({"aria-expanded":"false","aria-hidden":"true"});i.oldTab.attr("aria-selected","false");r.length&&f.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return n(this).attr("tabIndex")===0}).attr("tabIndex",-1);r.attr({"aria-expanded":"true","aria-hidden":"false"});i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var r,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),r=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:r,currentTarget:r,preventDefault:n.noop}))},_findActive:function(t){return t===!1?n():this.tabs.eq(t)},_getIndex:function(n){return typeof n=="string"&&(n=this.anchors.index(this.anchors.filter("[href$='"+n+"']"))),n},_destroy:function(){this.xhr&&this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")});this.panels.show();this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(i){var r=this.options.disabled;r!==!1&&(i===t?r=!1:(i=this._getIndex(i),r=n.isArray(r)?n.map(r,function(n){return n!==i?n:null}):n.map(this.tabs,function(n,t){return t!==i?t:null})),this._setupDisabled(r))},disable:function(i){var r=this.options.disabled;if(r!==!0){if(i===t)r=!0;else{if(i=this._getIndex(i),n.inArray(i,r)!==-1)return;r=n.isArray(r)?n.merge([i],r).sort():[i]}this._setupDisabled(r)}},load:function(t,i){t=this._getIndex(t);var f=this,u=this.tabs.eq(t),o=u.find(".ui-tabs-anchor"),e=this._getPanelForTab(u),s={tab:u,panel:e};r(o[0])||(this.xhr=n.ajax(this._ajaxSettings(o,i,s)),this.xhr&&this.xhr.statusText!=="canceled"&&(u.addClass("ui-tabs-loading"),e.attr("aria-busy","true"),this.xhr.success(function(n){setTimeout(function(){e.html(n);f._trigger("load",i,s)},1)}).complete(function(n,t){setTimeout(function(){t==="abort"&&f.panels.stop(!1,!0);u.removeClass("ui-tabs-loading");e.removeAttr("aria-busy");n===f.xhr&&delete f.xhr},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href"),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){var i=n(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})})(jQuery),function(){PixelAdmin.MainNavbar=function(){return this._scroller=!1,this._wheight=null,this.scroll_pos=0,this};PixelAdmin.MainNavbar.prototype.init=function(){var n;this.$navbar=$("#main-navbar");this.$header=this.$navbar.find(".navbar-header");this.$toggle=this.$navbar.find(".navbar-toggle:first");this.$collapse=$("#main-navbar-collapse");this.$collapse_div=this.$collapse.find("> div");n=!1;$(window).on("pa.screen.small pa.screen.tablet",function(t){return function(){return t.$navbar.css("position")==="fixed"&&t._setupScroller(),n=!0}}(this)).on("pa.screen.desktop",function(t){return function(){return t._removeScroller(),n=!1}}(this));return this.$navbar.on("click",".nav-icon-btn.dropdown > .dropdown-toggle",function(t){if(n)return t.preventDefault(),t.stopPropagation(),document.location.href=$(this).attr("href"),!1})};PixelAdmin.MainNavbar.prototype._setupScroller=function(){if(!this._scroller){this._scroller=!0;this.$collapse_div.pixelSlimScroll({});this.$navbar.on("shown.bs.collapse.mn_collapse",$.proxy(function(n){return function(){return n._updateCollapseHeight(),n._watchWindowHeight()}}(this),this)).on("hidden.bs.collapse.mn_collapse",$.proxy(function(n){return function(){return n._wheight=null,n.$collapse_div.pixelSlimScroll({scrollTo:"0px"})}}(this),this)).on("shown.bs.dropdown.mn_collapse",$.proxy(this._updateCollapseHeight,this)).on("hidden.bs.dropdown.mn_collapse",$.proxy(this._updateCollapseHeight,this));return this._updateCollapseHeight()}};PixelAdmin.MainNavbar.prototype._removeScroller=function(){if(this._scroller)return this._wheight=null,this._scroller=!1,this.$collapse_div.pixelSlimScroll({destroy:"destroy"}),this.$navbar.off("shown.bs.collapse.mn_collapse"),this.$navbar.off("hidden.bs.collapse.mn_collapse"),this.$navbar.off("shown.bs.dropdown.mn_collapse"),this.$navbar.off("hidden.bs.dropdown.mn_collapse"),this.$collapse.attr("style","")};PixelAdmin.MainNavbar.prototype._updateCollapseHeight=function(){var n,i,t;if(this._scroller)return t=$(window).innerHeight(),n=this.$header.outerHeight(),i=this.$collapse_div.scrollTop(),n+this.$collapse_div.css({"max-height":"none"}).outerHeight()>t?this.$collapse_div.css({"max-height":t-n}):this.$collapse_div.css({"max-height":"none"}),this.$collapse_div.pixelSlimScroll({scrollTo:i+"px"})};PixelAdmin.MainNavbar.prototype._watchWindowHeight=function(){var n;return this._wheight=$(window).innerHeight(),n=function(t){return function(){if(t._wheight!==null)return t._wheight!==$(window).innerHeight()&&t._updateCollapseHeight(),t._wheight=$(window).innerHeight(),setTimeout(n,100)}}(this),window.setTimeout(n,100)};PixelAdmin.MainNavbar.Constructor=PixelAdmin.MainNavbar;PixelAdmin.addInitializer(function(){return PixelAdmin.initPlugin("main_navbar",new PixelAdmin.MainNavbar)})}.call(this),function(){PixelAdmin.MainMenu=function(){return this._screen=null,this._last_screen=null,this._animate=!1,this._close_timer=null,this._dropdown_li=null,this._dropdown=null,this};PixelAdmin.MainMenu.prototype.init=function(){var n,t;if(this.$menu=$("#main-menu"),this.$menu.length){this.$body=$("body");this.menu=this.$menu[0];this.$ssw_point=$("#small-screen-width-point");this.$tsw_point=$("#tablet-screen-width-point");n=this;PixelAdmin.settings.main_menu.store_state&&(t=this._getMenuState(),document.body.className+=" disable-mm-animation",t!==null&&this.$body[t==="collapsed"?"addClass":"removeClass"]("mmc"),setTimeout(function(){return function(){return elRemoveClass(document.body,"disable-mm-animation")}}(this),20));this.setupAnimation();$(window).on("resize.pa.mm",$.proxy(this.onResize,this));if(this.onResize(),this.$menu.find(".navigation > .mm-dropdown").addClass("mm-dropdown-root"),PixelAdmin.settings.main_menu.detect_active&&this.detectActiveItem(),$.support.transition)this.$menu.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",$.proxy(this._onAnimationEnd,this));$("#main-menu-toggle").on("click",$.proxy(this.toggle,this));$("#main-menu-inner").slimScroll({height:"100%"}).on("slimscrolling",function(n){return function(){return n.closeCurrentDropdown(!0)}}(this));this.$menu.on("click",".mm-dropdown > a",function(){var t;return t=this.parentNode,elHasClass(t,"mm-dropdown-root")&&n._collapsed()?elHasClass(t,"mmc-dropdown-open")?elHasClass(t,"freeze")?n.closeCurrentDropdown(!0):n.freezeDropdown(t):n.openDropdown(t,!0):n.toggleSubmenu(t),!1});this.$menu.find(".navigation").on("mouseenter.pa.mm-dropdown",".mm-dropdown-root",function(){if(n.clearCloseTimer(),n._dropdown_li!==this)return n._collapsed()&&(!n._dropdown_li||!elHasClass(n._dropdown_li,"freeze"))?n.openDropdown(this):void 0}).on("mouseleave.pa.mm-dropdown",".mm-dropdown-root",function(){return n._close_timer=setTimeout(function(){return n.closeCurrentDropdown()},PixelAdmin.settings.main_menu.dropdown_close_delay)});return this}};PixelAdmin.MainMenu.prototype._collapsed=function(){return this._screen==="desktop"&&elHasClass(document.body,"mmc")||this._screen!=="desktop"&&!elHasClass(document.body,"mme")};PixelAdmin.MainMenu.prototype.onResize=function(){return this._screen=getScreenSize(this.$ssw_point,this.$tsw_point),this._animate=PixelAdmin.settings.main_menu.disable_animation_on.indexOf(screen)===-1,this._dropdown_li&&this.closeCurrentDropdown(!0),(this._screen==="small"&&this._last_screen!==this._screen||this._screen==="tablet"&&this._last_screen==="small")&&(document.body.className+=" disable-mm-animation",setTimeout(function(){return function(){return elRemoveClass(document.body,"disable-mm-animation")}}(this),20)),this._last_screen=this._screen};PixelAdmin.MainMenu.prototype.clearCloseTimer=function(){if(this._close_timer)return clearTimeout(this._close_timer),this._close_timer=null};PixelAdmin.MainMenu.prototype._onAnimationEnd=function(n){if(this._screen==="desktop"&&n.target.id==="main-menu")return $(window).trigger("resize")};PixelAdmin.MainMenu.prototype.toggle=function(){var n,t;if(n=this._screen==="small"||this._screen==="tablet"?"mme":"mmc",elHasClass(document.body,n)?elRemoveClass(document.body,n):document.body.className+=" "+n,n==="mmc"){if(PixelAdmin.settings.main_menu.store_state&&this._storeMenuState(elHasClass(document.body,"mmc")),!$.support.transition)return $(window).trigger("resize")}else return t=document.getElementById(""),$("#main-navbar-collapse").stop().removeClass("in collapsing").addClass("collapse")[0].style.height="0px",$("#main-navbar .navbar-toggle").addClass("collapsed")};PixelAdmin.MainMenu.prototype.toggleSubmenu=function(n){return this[elHasClass(n,"open")?"collapseSubmenu":"expandSubmenu"](n),!1};PixelAdmin.MainMenu.prototype.collapseSubmenu=function(n){var t,i;return t=$(n),i=t.find("> ul"),this._animate?i.animate({height:0},PixelAdmin.settings.main_menu.animation_speed,function(){return function(){return elRemoveClass(n,"open"),i.attr("style",""),t.find(".mm-dropdown.open").removeClass("open").find("> ul").attr("style","")}}(this)):elRemoveClass(n,"open"),!1};PixelAdmin.MainMenu.prototype.expandSubmenu=function(n){var r,t,u,i;return r=$(n),PixelAdmin.settings.main_menu.accordion&&this.collapseAllSubmenus(n),this._animate?(t=r.find("> ul"),i=t[0],i.className+=" get-height",u=t.height(),elRemoveClass(i,"get-height"),i.style.display="block",i.style.height="0px",n.className+=" open",t.animate({height:u},PixelAdmin.settings.main_menu.animation_speed,function(){return function(){return t.attr("style","")}}(this))):n.className+=" open"};PixelAdmin.MainMenu.prototype.collapseAllSubmenus=function(n){var t;return t=this,$(n).parent().find("> .mm-dropdown.open").each(function(){return t.collapseSubmenu(this)})};PixelAdmin.MainMenu.prototype.openDropdown=function(n,t){var s,r,u,e,l,a,h,f,i,c,o;if(t==null&&(t=!1),this._dropdown_li&&this.closeCurrentDropdown(t),s=$(n),u=s.find("> ul"),i=u[0],this._dropdown_li=n,this._dropdown=i,r=u.find("> .mmc-title"),r.length||(r=$('<div class="mmc-title"><\/div>').text(s.find("> a > .mm-text").text()),i.insertBefore(r[0],i.firstChild)),n.className+=" mmc-dropdown-open",i.className+=" mmc-dropdown-open-ul",f=s.position().top,elHasClass(document.body,"main-menu-fixed")?(e=u.find(".mmc-wrapper"),e.length||(o=document.createElement("div"),o.className="mmc-wrapper",o.style.overflow="hidden",o.style.position="relative",e=$(o),e.append(u.find("> li")),i.appendChild(o)),c=$(window).innerHeight(),h=r.outerHeight(),a=h+u.find(".mmc-wrapper > li").first().outerHeight()*3,f+a>c?(l=f-$("#main-navbar").outerHeight(),i.className+=" top",i.style.bottom=c-f-h+"px"):(l=c-f-h,i.style.top=f+"px"),elHasClass(i,"top")?i.appendChild(r[0]):i.insertBefore(r[0],i.firstChild),n.className+=" slimscroll-attached",e[0].style.maxHeight=l-10+"px",e.pixelSlimScroll({})):i.style.top=f+"px",t&&this.freezeDropdown(n),!t){u.on("mouseenter",function(n){return function(){return n.clearCloseTimer()}}(this)).on("mouseleave",function(n){return function(){return n._close_timer=setTimeout(function(){return n.closeCurrentDropdown()},PixelAdmin.settings.main_menu.dropdown_close_delay)}}(this));this}return this.menu.appendChild(i)};PixelAdmin.MainMenu.prototype.closeCurrentDropdown=function(n){var t,i;if(n==null&&(n=!1),this._dropdown_li&&(!elHasClass(this._dropdown_li,"freeze")||n))return this.clearCloseTimer(),t=$(this._dropdown),elHasClass(this._dropdown_li,"slimscroll-attached")&&(elRemoveClass(this._dropdown_li,"slimscroll-attached"),i=t.find(".mmc-wrapper"),i.pixelSlimScroll({destroy:"destroy"}).find("> *").appendTo(t),i.remove()),this._dropdown_li.appendChild(this._dropdown),elRemoveClass(this._dropdown,"mmc-dropdown-open-ul"),elRemoveClass(this._dropdown,"top"),elRemoveClass(this._dropdown_li,"mmc-dropdown-open"),elRemoveClass(this._dropdown_li,"freeze"),$(this._dropdown_li).attr("style",""),t.attr("style","").off("mouseenter").off("mouseleave"),this._dropdown=null,this._dropdown_li=null};PixelAdmin.MainMenu.prototype.freezeDropdown=function(n){return n.className+=" freeze"};PixelAdmin.MainMenu.prototype.setupAnimation=function(){var r,t,n,i;return n=document.body,i=PixelAdmin.settings.main_menu.disable_animation_on,n.className+=" dont-animate-mm-content",r=$("#main-menu"),t=r.find(".navigation"),t.find("> .mm-dropdown > ul").addClass("mmc-dropdown-delay animated"),t.find("> li > a > .mm-text").addClass("mmc-dropdown-delay animated fadeIn"),r.find(".menu-content").addClass("animated fadeIn"),elHasClass(n,"main-menu-right")||elHasClass(n,"right-to-left")&&!elHasClass(n,"main-menu-right")?t.find("> .mm-dropdown > ul").addClass("fadeInRight"):t.find("> .mm-dropdown > ul").addClass("fadeInLeft"),n.className+=i.indexOf("small")===-1?" animate-mm-sm":" dont-animate-mm-content-sm",n.className+=i.indexOf("tablet")===-1?" animate-mm-md":" dont-animate-mm-content-md",n.className+=i.indexOf("desktop")===-1?" animate-mm-lg":" dont-animate-mm-content-lg",window.setTimeout(function(){return elRemoveClass(n,"dont-animate-mm-content")},500)};PixelAdmin.MainMenu.prototype.detectActiveItem=function(){var n,i,r,u,e,o,t,s,f;for(o=(document.location+"").replace(/\#.*?$/,""),e=PixelAdmin.settings.main_menu.detect_active_predicate,u=$("#main-menu .navigation"),u.find("li").removeClass("open active"),r=u[0].getElementsByTagName("a"),i=function(){return function(n){return n.className+=" active",elHasClass(n.parentNode,"navigation")?void 0:(n=n.parentNode.parentNode,n.className+=" open",i(n))}}(this),f=[],t=0,s=r.length;t<s;t++)if(n=r[t],n.href.indexOf("#")===-1&&e(n.href,o)){i(n.parentNode);break}else f.push(void 0);return f};PixelAdmin.MainMenu.prototype._getMenuState=function(){return PixelAdmin.getStoredValue(PixelAdmin.settings.main_menu.store_state_key,null)};PixelAdmin.MainMenu.prototype._storeMenuState=function(n){if(PixelAdmin.settings.main_menu.store_state)return PixelAdmin.storeValue(PixelAdmin.settings.main_menu.store_state_key,n?"collapsed":"expanded")};PixelAdmin.MainMenu.Constructor=PixelAdmin.MainMenu;PixelAdmin.addInitializer(function(){return PixelAdmin.initPlugin("main_menu",new PixelAdmin.MainMenu)})}.call(this),function(){var t,n;t="pa-page-alerts-box";n=function(){return this};n.DEFAULTS={type:"warning",close_btn:!0,classes:!1,namespace:"pa_page_alerts",animate:!0,auto_close:!1};n.TYPES_HASH={warning:"",danger:"alert-danger",success:"alert-success",info:"alert-info"};n.prototype.init=function(){var n=this;return $("#main-wrapper").on("click.pa.alerts","#"+t+" .close",function(){return n.close($(this).parents(".alert")),!1})};n.prototype.add=function(i,r){var u,e,f,o,s,h;return r=$.extend({},n.DEFAULTS,r||{}),u=$('<div class="alert alert-page '+r.namespace+" "+n.TYPES_HASH[r.type]+'" />').html(i),r.classes&&u.addClass(r.classes),r.close_btn&&u.prepend($('<button type="button" class="close" />').html("&times;")),r.animate&&u.attr("data-animate","true"),f=$("#"+t),f.length||(f=$('<div id="'+t+'" />').prependTo($("#content-wrapper"))),e=$("#"+t+" ."+r.namespace),o=u.css({visibility:"hidden",position:"absolute",width:"100%"}).appendTo("body").outerHeight(),h=u.css("padding-top"),s=u.css("padding-bottom"),r.animate&&u.attr("style","").css({overflow:"hidden",height:0,"padding-top":0,"padding-bottom":0}),e.length?e.last().after(u):f.append(u),r.animate?u.animate({height:o,"padding-top":h,"padding-bottom":s},500,function(n){return function(){return u.attr("style",""),r.auto_close?$.data(u,"timer",setTimeout(function(){return n.close(u)},r.auto_close*1e3)):void 0}}(this)):u.attr("style","")};n.prototype.close=function(n){return n.attr("data-animate")==="true"?n.animate({height:0,"padding-top":0,"padding-bottom":0},500,function(){return $.data(n,"timer")&&clearTimeout($.data(n,"timer")),n.remove()}):($.data(n,"timer")&&clearTimeout($.data(n,"timer")),n.remove())};n.prototype.clear=function(n,i){var r,u;return n==null&&(n=!0),i==null&&(i="pa_page_alerts"),r=$("#"+t+" ."+i),r.length?(u=this,n?r.each(function(){return u.close($(this))}):r.remove()):void 0};n.prototype.clearAll=function(n){var i;return n==null&&(n=!0),n?(i=this,$("#"+t+" .alert").each(function(){return i.close($(this))})):$("#"+t).remove()};n.prototype.getContainerId=function(){return t};n.Constructor=n;PixelAdmin.addInitializer(function(){return PixelAdmin.initPlugin("alerts",new n)})}.call(this),function(){var n;n=function(t,i){var r;i==null&&(i={});this.options=$.extend({},n.DEFAULTS,i);this.$checkbox=null;this.$box=null;t.is('input[type="checkbox"]')?(r=t.attr("data-class"),this.$checkbox=t,this.$box=$('<div class="switcher"><div class="switcher-toggler"><\/div><div class="switcher-inner"><div class="switcher-state-on">'+this.options.on_state_content+'<\/div><div class="switcher-state-off">'+this.options.off_state_content+"<\/div><\/div><\/div>"),this.options.theme&&this.$box.addClass("switcher-theme-"+this.options.theme),r&&this.$box.addClass(r),this.$box.insertAfter(this.$checkbox).prepend(this.$checkbox)):(this.$box=t,this.$checkbox=$('input[type="checkbox"]',this.$box));this.$checkbox.prop("disabled")&&this.$box.addClass("disabled");this.$checkbox.is(":checked")&&this.$box.addClass("checked");this.$checkbox.on("click",function(n){return n.stopPropagation()});this.$box.on("touchend click",function(n){return function(t){return t.stopPropagation(),t.preventDefault(),n.toggle()}}(this));return this};n.prototype.enable=function(){return this.$checkbox.prop("disabled",!1),this.$box.removeClass("disabled")};n.prototype.disable=function(){return this.$checkbox.prop("disabled",!0),this.$box.addClass("disabled")};n.prototype.on=function(){if(!this.$checkbox.is(":checked"))return this.$checkbox.click(),this.$box.addClass("checked")};n.prototype.off=function(){if(this.$checkbox.is(":checked"))return this.$checkbox.click(),this.$box.removeClass("checked")};n.prototype.toggle=function(){return this.$checkbox.click().is(":checked")?this.$box.addClass("checked"):this.$box.removeClass("checked")};n.DEFAULTS={theme:null,on_state_content:"ON",off_state_content:"OFF"};$.fn.switcher=function(t){return $(this).each(function(){var r,i;if(r=$(this),i=$.data(this,"Switcher"),i){if(t==="enable")return i.enable();if(t==="disable")return i.disable();if(t==="on")return i.on();if(t==="off")return i.off();if(t==="toggle")return i.toggle()}else return $.data(this,"Switcher",new n(r,t))})};$.fn.switcher.Constructor=n}.call(this),function(){var n;n=function(t,i,r){r==null&&(r={});this.limit=i;this.$el=t;this.options=$.extend({},n.DEFAULTS,r||{});this.$label=this.options.label&&$(this.options.label).length?$(".limiter-count",this.options.label):null;this.textarea=this.$el.is("textarea");this.textarea||this.$el.attr("maxlength",this.limit);this.$el.on("keyup focus",$.proxy(this.updateCounter,this));return this.updateCounter()};n.prototype.updateCounter=function(){var n,t;return t=this.textarea?this.$el[0].value.replace(/\r?\n/g,"\n"):this.$el.val(),n=t.length,n>this.limit&&(this.$el.val(t.substr(0,this.limit)),n=this.limit),this.$label?this.$label.html(this.limit-n):void 0};n.DEFAULTS={label:null};$.fn.limiter=function(t,i){return this.each(function(){var r;return r=$(this),r.attr("data-limiter")?void 0:$.data(r,"limiter",new n(r,t,i))})};$.fn.limiter.Constructor=n}.call(this),function(){var n;n=function(t,i){if(i==null&&(i={}),this.options=$.extend({},n.DEFAULTS,i||{}),this.$container=t,this.$target=this.options.target&&this.$container.find(this.options.target).length?this.$container.find(this.options.target):null,this.$content=this.options.hidden_content&&this.$container.find(this.options.hidden_content).length?this.$container.find(this.options.hidden_content):null,this.$container.addClass("expanding-input"),this.$target&&(this.$target.addClass("expanding-input-target"),this.$target.hasClass("input-sm")&&this.$container.addClass("expanding-input-sm"),this.$target.hasClass("input-lg")&&this.$container.addClass("expanding-input-lg")),this.$content&&this.$content.addClass("expanding-input-content"),this.$overlay=$('<div class="expanding-input-overlay"><\/div>').appendTo(this.$container),this.$target&&this.$target.attr("placeholder")&&(this.options.placeholder||(this.options.placeholder=this.$target.attr("placeholder")),this.$target.attr("placeholder","")),this.options.placeholder&&this.$overlay.append($('<div class="expanding-input-placeholder"><\/div>').html(this.options.placeholder)),this.$target)this.$target.on("focus",$.proxy(this.expand,this));return this.$overlay.on("click.expanding_input",$.proxy(this.expand,this))};n.prototype.expand=function(){if(!this.$container.hasClass("expanded"))return this.options.onBeforeExpand&&this.options.onBeforeExpand.call(this),this.$overlay.remove(),this.$container.addClass("expanded"),this.$target&&setTimeout(function(n){return function(){return n.$target.focus()}}(this),1),this.$target&&this.options.placeholder&&this.$target.attr("placeholder",$("<div>"+this.options.placeholder+"<\/div>").text()),this.options.onAfterExpand?this.options.onAfterExpand.call(this):void 0};n.DEFAULTS={target:null,hidden_content:null,placeholder:null,onBeforeExpand:null,onAfterExpand:null};$.fn.expandingInput=function(t){return this.each(function(){var i;return i=$(this),i.attr("data-expandingInput")?void 0:$.data(i,"expandingInput",new n(i,t))})};$.fn.expandingInput.Constructor=n}.call(this),function(){var n,t;t=function(n,t){return n.css({width:t,"max-width":t,"min-width":t})};n=function(t,i){var r,u;i==null&&(i={});this.options=$.extend({},n.DEFAULTS,i||{});this.$element=t;this.$wrapper=$(".wizard-wrapper",this.$element);this.$steps=$(".wizard-steps",this.$wrapper);this.$step_items=$("> li",this.$steps);this.steps_count=this.$step_items.length;this.$content=$(".wizard-content",this.$element);this.current_step=null;this.$current_item=null;this.isFreeze=!1;this.isRtl=$("body").hasClass("right-to-left");this.resizeStepItems();r=$("> li.active",this.$steps);r.length===0&&(r=$("> li:first-child",this.$steps));this.$current_item=r.addClass("active");this.current_step=r.index()+1;$(r.attr("data-target"),this.$content).css({display:"block"});this.placeStepItems();this._setPrevItemStates(this.current_step-1);$(window).on("pa.resize.wizard",function(n){return function(){return $.proxy(n.resizeStepItems,n)(),$.proxy(n.placeStepItems,n)()}}(this));u=this;this.$steps.on("click","> li",function(){var n;return n=$(this),n.hasClass("completed")?u.setCurrentStep(n.index()+1):void 0});return this};n.DEFAULTS={step_item_min_width:200,onChange:null,onFinish:null};n.prototype.resizeStepItems=function(){var i;return i=this.$element.width()>n.DEFAULTS.step_item_min_width*this.$step_items.length?Math.floor(this.$element.width()/this.$step_items.length):n.DEFAULTS.step_item_min_width,this.$step_items.each(function(){return t($(this),i)})};n.prototype.placeStepItems=function(){var f,r,t,u,e,n,i;return n=0,u=this.$current_item.position(),t=this.$element.outerWidth(),i=this.$steps.outerWidth(),f=this.$current_item.outerWidth(),r=(t-f)/2,this.isRtl?(e=i-u.left-f,t<i&&e>r&&(n=-1*e+r,i+n<t&&(n=-1*i+t)),this.$steps.css({right:n})):(t<i&&u.left>r&&(n=-1*u.left+r,i+n<t&&(n=-1*i+t)),this.$steps.css({left:n}))};n.prototype.setCurrentStep=function(n){if(!this.isFreeze)return $(this.$current_item.attr("data-target"),this.$content).css({opacity:1}).animate({opacity:0},200,function(t){return function(){return $(t.$current_item.attr("data-target"),t.$content).attr("style",""),t._clearItemStates(n-1),t.$current_item=t.$step_items.eq(n-1).addClass("active"),t.current_step=n,t._setPrevItemStates(n-1),$(t.$current_item.attr("data-target"),t.$content).css({display:"block",opacity:0}).animate({opacity:1},200,function(){return t.options.onChange&&$.proxy(t.options.onChange,t)(),t.placeStepItems()})}}(this))};n.prototype.nextStep=function(){if(!this.isFreeze){if(this.current_step>=this.steps_count){this.options.onFinish&&$.proxy(this.options.onFinish,this)();return}return this.$current_item.removeClass("active").addClass("completed"),this.setCurrentStep(this.current_step+1)}};n.prototype.prevStep=function(){if(!this.isFreeze)return this.current_step<=1?void 0:this.setCurrentStep(this.current_step-1)};n.prototype.currentStep=function(){return this.current_step};n.prototype._clearItemStates=function(n){var r,t,i,u;for(u=[],r=t=n,i=this.steps_count;n<=i?t<i:t>i;r=n<=i?++t:--t)u.push(this.$step_items.eq(r).removeClass("active").removeClass("completed"));return u};n.prototype._setPrevItemStates=function(n){for(var t,r=[],i=t=0;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(this.$step_items.eq(i).addClass("completed"));return r};n.prototype.freeze=function(){return this.isFreeze=!0,this.$element.addClass("freeze")};n.prototype.unfreeze=function(){return this.isFreeze=!1,this.$element.removeClass("freeze")};$.fn.pixelWizard=function(t,i){var u,r;return r=void 0,u=this.each(function(){var f,u;if(f=$(this),$.data(this,"pixelWizard")){if(t&&typeof t=="string"){if(u=$.data(this,"pixelWizard"),t==="setCurrentStep")return u.setCurrentStep(i);if(t==="currentStep")return r=u.currentStep();if(t==="nextStep")return u.nextStep();if(t==="prevStep")return u.prevStep();if(t==="freeze")return u.freeze();if(t==="unfreeze")return u.unfreeze();if(t==="resizeSteps")return u.resizeStepItems()}}else return $.data(this,"pixelWizard",new n(f,t))}),r===void 0?u:r};$.fn.pixelWizard.Constructor=n}.call(this),function(){var n;n=function(t,i){i==null&&(i={});this.options=$.extend({},n.DEFAULTS,i||{});this.$input=t;this.$el=$('<div class="pixel-file-input"><span class="pfi-filename"><\/span><div class="pfi-actions"><\/div><\/div>').insertAfter(t).append(t);this.$filename=$(".pfi-filename",this.$el);this.$clear_btn=$(this.options.clear_btn_tmpl).addClass("pfi-clear").appendTo($(".pfi-actions",this.$el));this.$choose_btn=$(this.options.choose_btn_tmpl).addClass("pfi-choose").appendTo($(".pfi-actions",this.$el));this.onChange();t.on("change",function(n){return function(){return $.proxy(n.onChange,n)()}}(this)).on("click",function(n){return n.stopPropagation()});this.$el.on("click",function(){return t.click()});this.$choose_btn.on("click",function(n){return n.preventDefault()});return this.$clear_btn.on("click",function(n){return function(i){return t.wrap("<form>").parent("form").trigger("reset"),t.unwrap(),$.proxy(n.onChange,n)(),i.stopPropagation(),i.preventDefault()}}(this))};n.DEFAULTS={choose_btn_tmpl:'<a href="#" class="btn btn-xs btn-primary">Choose<\/a>',clear_btn_tmpl:'<a href="#" class="btn btn-xs"><i class="fa fa-times"><\/i> Clear<\/a>',placeholder:null};n.prototype.onChange=function(){var n;return n=this.$input.val().replace(/\\/g,"/"),n!==""?(this.$clear_btn.css("display","inline-block"),this.$filename.removeClass("pfi-placeholder"),this.$filename.text(n.split("/").pop())):(this.$clear_btn.css("display","none"),this.options.placeholder?(this.$filename.addClass("pfi-placeholder"),this.$filename.text(this.options.placeholder)):this.$filename.text(""))};$.fn.pixelFileInput=function(t){return this.each(function(){if(!$.data(this,"pixelFileInput"))return $.data(this,"pixelFileInput",new n($(this),t))})};$.fn.pixelFileInput.Constructor=n}.call(this),function(){var n;n=function(t,i){var r;i==null&&(i={});this.$el=t;this.options=$.extend({},n.DEFAULTS,i);r=this;t.on("click",".task input[type=checkbox]",function(){return r.completeTask($(this))}).on("click",".task a",function(){return $(this).parents(".task").find("input[type=checkbox]").click(),!1});return this};n.prototype.completeTask=function(n){var t;return t=n.parents(".task"),t.toggleClass("completed").hasClass("completed")?this.options.onComplete.call(this):this.options.onCancel.call(this)};n.prototype.clearCompletedTasks=function(){return $(".completed",this.$el).hide(200,function(){return $(this).remove()}),this.options.onClear.call(this)};n.DEFAULTS={onComplete:function(){},onCancel:function(){},onClear:function(){}};$.fn.pixelTasks=function(t){return $(this).each(function(){var r,i;if(r=$(this),i=$.data(this,"pixelTasks"),i){if(t==="clearCompletedTasks")return i.clearCompletedTasks()}else return $.data(this,"pixelTasks",new n(r,t))})};$.fn.pixelTasks.Constructor=n}.call(this),function(){var n;n=function(t,i){var e,r,u,f;for(i==null&&(i={}),this.options=$.extend({},n.DEFAULTS,i),this.$container=$('<ul class="widget-rating"><\/ul>'),e=u=0,f=this.options.stars_count;0<=f?u<f:u>f;e=0<=f?++u:--u)this.$container.append($('<li><a href="#" title="" class="widget-rating-item"><\/a><\/li>'));t.append(this.$container);r=this;this.$container.find("a").on("mouseenter",function(){return r.$container.find("li").removeClass(r.options.class_active),$(this).parents("li").addClass(r.options.class_active).prevAll("li").addClass(r.options.class_active)}).on("mouseleave",function(){return r.setRating(r.options.rating)}).on("click",function(){return r.options.onRatingChange.call(r,$(this).parents("li").prevAll("li").length+1),!1});return this.setRating(this.options.rating),this};n.prototype.setRating=function(n){return this.options.rating=n,n=n-Math.floor(n)>this.options.lower_limit?Math.ceil(n):Math.floor(n),this.$container.find("li").removeClass(this.options.class_active).slice(0,n).addClass(this.options.class_active)};n.DEFAULTS={stars_count:5,rating:0,class_active:"active",lower_limit:.35,onRatingChange:function(){}};$.fn.pixelRating=function(t,i){return $(this).each(function(){var u,r;if(u=$(this),r=$.data(this,"pixelRating"),r){if(t==="setRating")return r.setRating(i)}else return $.data(this,"pixelRating",new n(u,t))})};$.fn.pixelRating.Constructor=n}.call(this),function(n){jQuery.fn.extend({pixelSlimScroll:function(i){var r=n.extend({width:"auto",size:"2px",color:"#000",distance:"1px",start:"top",opacity:.4,railColor:"#333",railOpacity:.2,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"0px",railBorderRadius:"0px"},i);return this.each(function(){function w(t){var t,i,f;v&&(t=t||window.event,i=0,t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),f=t.target||t.srcTarget||t.srcElement,n(f).closest("."+r.wrapperClass).is(u.parent())&&a(i,!0),t.preventDefault&&!o&&t.preventDefault(),o||(t.returnValue=!1))}function a(n,t,i){var s,l,c;o=!1;s=n;l=u.outerHeight()-f.outerHeight();t&&(s=parseInt(f.css("top"))+n*parseInt(r.wheelStep)/100*f.outerHeight(),s=Math.min(Math.max(s,0),l),s=n>0?Math.ceil(s):Math.floor(s),f.css({top:s+"px"}));e=parseInt(f.css("top"))/(u.outerHeight()-f.outerHeight());s=e*(u[0].scrollHeight-u.outerHeight());i&&(s=n,c=s/u[0].scrollHeight*u.outerHeight(),c=Math.min(Math.max(c,0),l),f.css({top:c+"px"}));u.scrollTop(s);u.trigger("slimscrolling",~~s);k();h()}function ut(){window.addEventListener?(this.addEventListener("DOMMouseScroll",w,!1),this.addEventListener("mousewheel",w,!1)):document.attachEvent("onmousewheel",w)}function b(){c=Math.max(u.outerHeight()/u[0].scrollHeight*u.outerHeight(),rt);f.css({height:c+"px"});var n=c==u.outerHeight()?"none":"block";f.css({display:n})}function k(){if(b(),clearTimeout(it),e==~~e){if(o=r.allowPageScroll,nt!=e){var n=~~e==0?"top":"bottom";u.trigger("slimscroll",n)}}else o=!1;if(nt=e,c>=u.outerHeight()){o=!0;return}f.stop(!0,!0).fadeIn("fast")}function h(){}var v,d,g,it,y,c,e,nt,p="<div><\/div>",rt=30,o=!1,u=n(this),l,tt,s,f;if(u.parent().hasClass(r.wrapperClass)){if(l=u.scrollTop(),f=u.parent().find("."+r.barClass),s=u.parent().find("."+r.railClass),b(),n.isPlainObject(i)){if("scrollTo"in i)l=parseInt(r.scrollTo);else if("scrollBy"in i)l+=parseInt(r.scrollBy);else if("destroy"in i){f.remove();s.remove();u.unwrap();return}a(l,!1,!0)}return}tt=n(p).addClass(r.wrapperClass).css({position:"relative",overflow:"hidden",width:r.width});u.css({overflow:"hidden",width:r.width});s=n(p).addClass(r.railClass).css({width:r.size,height:"100%",position:"absolute",top:0,display:"none","border-radius":r.railBorderRadius,background:r.railColor,opacity:r.railOpacity,zIndex:90});f=n(p).addClass(r.barClass).css({background:r.color,width:r.size,position:"absolute",top:0,opacity:r.opacity,display:"block","border-radius":r.borderRadius,BorderRadius:r.borderRadius,MozBorderRadius:r.borderRadius,WebkitBorderRadius:r.borderRadius,zIndex:99});s.css({right:r.distance});f.css({right:r.distance});u.wrap(tt);u.parent().append(f);u.parent().append(s);f.bind("mousedown",function(i){var r=n(document);return g=!0,t=parseFloat(f.css("top")),pageY=i.pageY,r.bind("mousemove.slimscroll",function(n){currTop=t+n.pageY-pageY;f.css("top",currTop);a(0,f.position().top,!1)}),r.bind("mouseup.slimscroll",function(){g=!1;h();r.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(n){return n.stopPropagation(),n.preventDefault(),!1});s.hover(function(){k()},function(){h()});f.hover(function(){d=!0},function(){d=!1});u.hover(function(){v=!0;k();h()},function(){v=!1;h()});u.bind("touchstart",function(n){n.originalEvent.touches.length&&(y=n.originalEvent.touches[0].pageY)});u.bind("touchmove",function(n){if(o||n.originalEvent.preventDefault(),n.originalEvent.touches.length){var t=(y-n.originalEvent.touches[0].pageY)/r.touchScrollStep;a(t,!0);y=n.originalEvent.touches[0].pageY}});b();ut()}),this}});jQuery.fn.extend({pixelslimscroll:jQuery.fn.pixelSlimScroll})}(jQuery),function(n,t){function u(){return new Date(Date.UTC.apply(Date,arguments))}function e(){var n=new Date;return u(n.getFullYear(),n.getMonth(),n.getDate())}function c(n){return function(){return this[n].apply(this,arguments)}}function y(t,i){function s(n,t){return t.toLowerCase()}var u=n(t).data(),f={},e,o=new RegExp("^"+i.toLowerCase()+"([A-Z])"),r;i=new RegExp("^"+i.toLowerCase());for(r in u)i.test(r)&&(e=r.replace(o,s),f[e]=u[r]);return f}function p(t){var u={},i;if(r[t]||(t=t.split("-")[0],r[t]))return i=r[t],n.each(v,function(n,t){t in i&&(u[t]=i[t])}),u}var s=n(window),l=function(){var t={get:function(n){return this.slice(n)[0]},contains:function(n){for(var i=n&&n.valueOf(),t=0,r=this.length;t<r;t++)if(this[t].valueOf()===i)return t;return-1},remove:function(n){this.splice(n,1)},replace:function(t){t&&(n.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.splice(0)},copy:function(){var n=new l;return n.replace(this),n}};return function(){var i=[];return i.push.apply(i,arguments),n.extend(i,t),i}}(),f=function(t,r){this.dates=new l;this.viewDate=e();this.focusDate=null;this._process_options(r);this.element=n(t);this.isInline=!1;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1;this.hasInput=this.component&&this.element.find("input").length;this.component&&this.component.length===0&&(this.component=!1);this.picker=n(i.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(n,t){return parseInt(t)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()},h,a,o,v,r,i;f.prototype={constructor:f,_process_options:function(t){var u,e,h,f,s;this._o=n.extend({},this._o,t);u=this.o=n.extend({},this._o);e=u.language;r[e]||(e=e.split("-")[0],r[e]||(e=o.language));u.language=e;switch(u.startView){case 2:case"decade":u.startView=2;break;case 1:case"year":u.startView=1;break;default:u.startView=0}switch(u.minViewMode){case 1:case"months":u.minViewMode=1;break;case 2:case"years":u.minViewMode=2;break;default:u.minViewMode=0}if(u.startView=Math.max(u.startView,u.minViewMode),u.multidate!==!0&&(u.multidate=Number(u.multidate)||!1,u.multidate=u.multidate!==!1?Math.max(0,u.multidate):1),u.multidateSeparator=String(u.multidateSeparator),u.weekStart%=7,u.weekEnd=(u.weekStart+6)%7,h=i.parseFormat(u.format),u.startDate!==-Infinity&&(u.startDate=u.startDate?u.startDate instanceof Date?this._local_to_utc(this._zero_time(u.startDate)):i.parseDate(u.startDate,h,u.language):-Infinity),u.endDate!==Infinity&&(u.endDate=u.endDate?u.endDate instanceof Date?this._local_to_utc(this._zero_time(u.endDate)):i.parseDate(u.endDate,h,u.language):Infinity),u.daysOfWeekDisabled=u.daysOfWeekDisabled||[],n.isArray(u.daysOfWeekDisabled)||(u.daysOfWeekDisabled=u.daysOfWeekDisabled.split(/[,\s]*/)),u.daysOfWeekDisabled=n.map(u.daysOfWeekDisabled,function(n){return parseInt(n,10)}),f=String(u.orientation).toLowerCase().split(/\s+/g),s=u.orientation.toLowerCase(),f=n.grep(f,function(n){return/^auto|left|right|top|bottom$/.test(n)}),u.orientation={x:"auto",y:"auto"},s&&s!=="auto")if(f.length===1)switch(f[0]){case"top":case"bottom":u.orientation.y=f[0];break;case"left":case"right":u.orientation.x=f[0]}else s=n.grep(f,function(n){return/^left|right$/.test(n)}),u.orientation.x=s[0]||"auto",s=n.grep(f,function(n){return/^top|bottom$/.test(n)}),u.orientation.y=s[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var i=0,f,r,u;i<n.length;i++){f=n[i][0];n[i].length===2?(r=t,u=n[i][1]):n[i].length===3&&(r=n[i][1],u=n[i][2]);f.on(u,r)}},_unapplyEvents:function(n){for(var i=0,f,r,u;i<n.length;i++)f=n[i][0],n[i].length===2?(u=t,r=n[i][1]):n[i].length===3&&(u=n[i][1],r=n[i][2]),f.off(r,u)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:n.proxy(this.show,this),keyup:n.proxy(function(t){n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:n.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:n.proxy(this.show,this),keyup:n.proxy(function(t){n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:n.proxy(this.keydown,this)}],[this.component,{click:n.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:n.proxy(this.show,this)}]];this._events.push([this.element,"*",{blur:n.proxy(function(n){this._focused_from=n.target},this)}],[this.element,{blur:n.proxy(function(n){this._focused_from=n.target},this)}]);this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{"mousedown touchstart":n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).length||this.picker.is(n.target)||this.picker.find(n.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,r){var u=r||this.dates.get(-1),f=this._utc_to_local(u);this.element.trigger({type:t,date:f,dates:n.map(this.dates,this._utc_to_local),format:n.proxy(function(n,t){arguments.length===0?(n=this.dates.length-1,t=this.o.format):typeof n=="string"&&(t=n,n=this.dates.length-1);t=t||this.o.format;var r=this.dates.get(n);return i.formatDate(r,t,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body");this.picker.show();this.place();this._attachSecondaryEvents();this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||delete this.element.data().date},_utc_to_local:function(n){return n&&new Date(n.getTime()+n.getTimezoneOffset()*6e4)},_local_to_utc:function(n){return n&&new Date(n.getTime()-n.getTimezoneOffset()*6e4)},_zero_time:function(n){return n&&new Date(n.getFullYear(),n.getMonth(),n.getDate())},_zero_utc_time:function(n){return n&&new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()))},getDates:function(){return n.map(this.dates,this._utc_to_local)},getUTCDates:function(){return n.map(this.dates,function(n){return new Date(n)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t);this._trigger("changeDate");this.setValue()},setUTCDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,n.map(t,this._utc_to_local));this._trigger("changeDate");this.setValue()},setDate:c("setDates"),setUTCDate:c("setUTCDates"),setValue:function(){var n=this.getFormattedDate();this.isInput?this.element.val(n).change():this.component&&this.element.find("input").val(n).change()},getFormattedDate:function(r){r===t&&(r=this.o.format);var u=this.o.language;return n.map(this.dates,function(n){return i.formatDate(n,r,u)}).join(this.o.multidateSeparator)},setStartDate:function(n){this._process_options({startDate:n});this.update();this.updateNavArrows()},setEndDate:function(n){this._process_options({endDate:n});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(n){this._process_options({daysOfWeekDisabled:n});this.update();this.updateNavArrows()},place:function(){var i,v,o;if(!this.isInline){var u=this.picker.outerWidth(),f=this.picker.outerHeight(),h=10,c=s.width(),y=s.height(),l=s.scrollTop(),p=parseInt(this.element.parents().filter(function(){return n(this).css("z-index")!=="auto"}).first().css("z-index"))+10,t=this.component?this.component.parent().offset():this.element.offset(),a=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),w=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),r=t.left,e=t.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(r-=u-w)):(this.picker.addClass("datepicker-orient-left"),t.left<0?r-=t.left-h:t.left+u>c&&(r=c-u-h));i=this.o.orientation.y;i==="auto"&&(v=-l+t.top-f,o=l+y-(t.top+a+f),i=Math.max(v,o)===o?"top":"bottom");this.picker.addClass("datepicker-orient-"+i);i==="top"?e+=a:e-=f+parseInt(this.picker.css("padding-top"));this.picker.css({top:e,left:r,zIndex:p})}},_allow_update:!0,update:function(){if(this._allow_update){var r=this.dates.copy(),t=[],u=!1;arguments.length?(n.each(arguments,n.proxy(function(n,i){i instanceof Date&&(i=this._local_to_utc(i));t.push(i)},this)),u=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date);t=n.map(t,n.proxy(function(n){return i.parseDate(n,this.o.format,this.o.language)},this));t=n.grep(t,n.proxy(function(n){return n<this.o.startDate||n>this.o.endDate||!n},this),!0);this.dates.replace(t);this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate));u?this.setValue():t.length&&String(r)!==String(this.dates)&&this._trigger("changeDate");!this.dates.length&&r.length&&this._trigger("clearDate");this.fill()}},fillDow:function(){var i=this.o.weekStart,n="<tr>",t;for(this.o.calendarWeeks&&(t='<th class="cw">&nbsp;<\/th>',n+=t,this.picker.find(".datepicker-days thead tr:first-child").prepend(t));i<this.o.weekStart+7;)n+='<th class="dow">'+r[this.o.language].daysMin[i++%7]+"<\/th>";n+="<\/tr>";this.picker.find(".datepicker-days thead").append(n)},fillMonths:function(){for(var n="",t=0;t<12;)n+='<span class="month">'+r[this.o.language].monthsShort[t++]+"<\/span>";this.picker.find(".datepicker-months td").html(n)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),u=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<f?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>f)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===u.getFullYear()&&t.getUTCMonth()===u.getMonth()&&t.getUTCDate()===u.getDate()&&i.push("today"),this.dates.contains(t)!==-1&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&i.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),n.inArray(t.valueOf(),this.range)!==-1&&i.push("selected")),i},fill:function(){var d=new Date(this.viewDate),f=d.getUTCFullYear(),g=d.getUTCMonth(),y=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,ut=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,p=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,ft=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,et=r[this.o.language].today||r.en.today||"",ot=r[this.o.language].clear||r.en.clear||"",w,e,b,c,s,h,o,a,it,rt,l,v;for(this.picker.find(".datepicker-days thead th.datepicker-switch").text(r[this.o.language].months[g]+" "+f),this.picker.find("tfoot th.today").text(et).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(ot).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths(),e=u(f,g-1,28),b=i.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth()),e.setUTCDate(b),e.setUTCDate(b-(e.getUTCDay()-this.o.weekStart+7)%7),c=new Date(e),c.setUTCDate(c.getUTCDate()+42),c=c.valueOf(),s=[];e.valueOf()<c;){if(e.getUTCDay()===this.o.weekStart&&(s.push("<tr>"),this.o.calendarWeeks)){var nt=new Date(+e+(this.o.weekStart-e.getUTCDay()-7)%7*864e5),tt=new Date(Number(nt)+(11-nt.getUTCDay())%7*864e5),k=new Date(Number(k=u(tt.getUTCFullYear(),0,1))+(11-k.getUTCDay())%7*864e5),st=(tt-k)/6048e5+1;s.push('<td class="cw">'+st+"<\/td>")}h=this.getClassNames(e);h.push("day");this.o.beforeShowDay!==n.noop&&(o=this.o.beforeShowDay(this._utc_to_local(e)),o===t?o={}:typeof o=="boolean"?o={enabled:o}:typeof o=="string"&&(o={classes:o}),o.enabled===!1&&h.push("disabled"),o.classes&&(h=h.concat(o.classes.split(/\s+/))),o.tooltip&&(w=o.tooltip));h=n.unique(h);s.push('<td class="'+h.join(" ")+'"'+(w?' title="'+w+'"':"")+">"+e.getUTCDate()+"<\/td>");e.getUTCDay()===this.o.weekEnd&&s.push("<\/tr>");e.setUTCDate(e.getUTCDate()+1)}for(this.picker.find(".datepicker-days tbody").empty().append(s.join("")),a=this.picker.find(".datepicker-months").find("th:eq(1)").text(f).end().find("span").removeClass("active"),n.each(this.dates,function(n,t){t.getUTCFullYear()===f&&a.eq(t.getUTCMonth()).addClass("active")}),(f<y||f>p)&&a.addClass("disabled"),f===y&&a.slice(0,ut).addClass("disabled"),f===p&&a.slice(ft+1).addClass("disabled"),s="",f=parseInt(f/10,10)*10,it=this.picker.find(".datepicker-years").find("th:eq(1)").text(f+"-"+(f+9)).end().find("td"),f-=1,rt=n.map(this.dates,function(n){return n.getUTCFullYear()}),v=-1;v<11;v++)l=["year"],v===-1?l.push("old"):v===10&&l.push("new"),n.inArray(f,rt)!==-1&&l.push("active"),(f<y||f>p)&&l.push("disabled"),s+='<span class="'+l.join(" ")+'">'+f+"<\/span>",f+=1;it.html(s)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),n=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){var r,e,f,o,c,s,l,h;if(t.preventDefault(),r=n(t.target).closest("span, td, th"),r.length===1)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":c=i.modes[this.viewMode].navStep*(r[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,c);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,c);this.viewMode===1&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":s=new Date;s=u(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0);this.showMode(-2);l=this.o.todayBtn==="linked"?null:"view";this._setDate(s,l);break;case"clear":this.isInput?h=this.element:this.component&&(h=this.element.find("input"));h&&h.val("").change();this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()}break;case"span":r.is(".disabled")||(this.viewDate.setUTCDate(1),r.is(".month")?(o=1,f=r.parent().find("span").index(r),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(f),this._trigger("changeMonth",this.viewDate),this.o.minViewMode===1&&this._setDate(u(e,f,o))):(o=1,f=0,e=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(e),this._trigger("changeYear",this.viewDate),this.o.minViewMode===2&&this._setDate(u(e,f,o))),this.showMode(-1),this.fill());break;case"td":r.is(".day")&&!r.is(".disabled")&&(o=parseInt(r.text(),10)||1,e=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),r.is(".old")?f===0?(f=11,e-=1):f-=1:r.is(".new")&&(f===11?(f=0,e+=1):f+=1),this._setDate(u(e,f,o)))}this.picker.is(":visible")&&this._focused_from&&n(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(n){var t=this.dates.contains(n);if(n?t!==-1?this.dates.remove(t):this.dates.push(n):this.dates.clear(),typeof this.o.multidate=="number")while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(n,t){t&&t!=="date"||this._toggle_multidate(n&&new Date(n));t&&t!=="view"||(this.viewDate=n&&new Date(n));this.fill();this.setValue();this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input"));i&&i.change();this.o.autoclose&&(!t||t==="date")&&this.hide()},moveMonth:function(n,i){var e;if(!n)return t;if(!i)return n;var r=new Date(n.valueOf()),o=r.getUTCDate(),s=r.getUTCMonth(),h=Math.abs(i),u,f;if(i=i>0?1:-1,h===1)f=i===-1?function(){return r.getUTCMonth()===s}:function(){return r.getUTCMonth()!==u},u=s+i,r.setUTCMonth(u),(u<0||u>11)&&(u=(u+12)%12);else{for(e=0;e<h;e++)r=this.moveMonth(r,i);u=r.getUTCMonth();r.setUTCDate(o);f=function(){return u!==r.getUTCMonth()}}while(f())r.setUTCDate(--o),r.setUTCMonth(u);return r},moveYear:function(n,t){return this.moveMonth(n,t*12)},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){var o,t,i,u,r,f;if(this.picker.is(":not(:visible)")){n.keyCode===27&&this.show();return}o=!1;r=this.focusDate||this.viewDate;switch(n.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();n.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=n.keyCode===37?-1:1;n.ctrlKey?(i=this.moveYear(this.dates.get(-1)||e(),t),u=this.moveYear(r,t),this._trigger("changeYear",this.viewDate)):n.shiftKey?(i=this.moveMonth(this.dates.get(-1)||e(),t),u=this.moveMonth(r,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||e()),i.setUTCDate(i.getUTCDate()+t),u=new Date(r),u.setUTCDate(r.getUTCDate()+t));this.dateWithinRange(i)&&(this.focusDate=this.viewDate=u,this.setValue(),this.fill(),n.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=n.keyCode===38?-1:1;n.ctrlKey?(i=this.moveYear(this.dates.get(-1)||e(),t),u=this.moveYear(r,t),this._trigger("changeYear",this.viewDate)):n.shiftKey?(i=this.moveMonth(this.dates.get(-1)||e(),t),u=this.moveMonth(r,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||e()),i.setUTCDate(i.getUTCDate()+t*7),u=new Date(r),u.setUTCDate(r.getUTCDate()+t*7));this.dateWithinRange(i)&&(this.focusDate=this.viewDate=u,this.setValue(),this.fill(),n.preventDefault());break;case 13:r=this.focusDate||this.dates.get(-1)||this.viewDate;this._toggle_multidate(r);o=!0;this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(n.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide()}o&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.isInput?f=this.element:this.component&&(f=this.element.find("input")),f&&f.change())},showMode:function(n){n&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+n)));this.picker.find(">div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};h=function(t,i){this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;n(this.inputs).datepicker(i).bind("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n(t).data("datepicker")});this.updateDates()};h.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.getUTCDate()});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var u=n(t.target).data("datepicker"),r=u.getUTCDate(),i=n.inArray(t.target,this.inputs),f=this.inputs.length;if(i!==-1){if(n.each(this.pickers,function(n,t){t.getUTCDate()||t.setUTCDate(r)}),r<this.dates[i])while(i>=0&&r<this.dates[i])this.pickers[i--].setUTCDate(r);else if(r>this.dates[i])while(i<f&&r>this.dates[i])this.pickers[i++].setUTCDate(r);this.updateDates();delete this.updating}}},remove:function(){n.map(this.pickers,function(n){n.remove()});delete this.element.data().datepicker}};a=n.fn.datepicker;n.fn.datepicker=function(i){var u=Array.apply(null,arguments),r;return u.shift(),this.each(function(){var s=n(this),e=s.data("datepicker"),l=typeof i=="object"&&i,v;if(!e){var a=y(this,"date"),w=n.extend({},o,a,l),b=p(w.language),c=n.extend({},o,b,a,l);s.is(".input-daterange")||c.inputs?(v={inputs:c.inputs||s.find("input").toArray()},s.data("datepicker",e=new h(this,n.extend(c,v)))):s.data("datepicker",e=new f(this,c))}if(typeof i=="string"&&typeof e[i]=="function"&&(r=e[i].apply(e,u),r!==t))return!1}),r!==t?r:this};o=n.fn.datepicker.defaults={autoclose:!1,beforeShowDay:n.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0};v=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=f;r=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},getDaysInMonth:function(n,t){return[31,i.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(n){var t=n.replace(this.validParts,'\0').split('\0'),i=n.match(this.validParts);if(!t||!t.length||!i||i.length===0)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(e,o,s){function tt(){var n=this.slice(0,c[h].length),t=c[h].slice(0,n.length);return n===t}var nt,c,v,y,h,a,it,d,w;if(!e)return t;if(e instanceof Date)return e;if(typeof o=="string"&&(o=i.parseFormat(o)),nt=/([\-+]\d+)([dmwy])/,c=e.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,h=0;h<c.length;h++){v=nt.exec(c[h]);y=parseInt(v[1]);switch(v[2]){case"d":e.setUTCDate(e.getUTCDate()+y);break;case"m":e=f.prototype.moveMonth.call(f.prototype,e,y);break;case"w":e.setUTCDate(e.getUTCDate()+y*7);break;case"y":e=f.prototype.moveYear.call(f.prototype,e,y)}}return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),0,0,0)}c=e&&e.match(this.nonpunctuation)||[];e=new Date;var b={},g=["yyyy","yy","M","MM","m","mm","d","dd"],l={yyyy:function(n,t){return n.setUTCFullYear(t)},yy:function(n,t){return n.setUTCFullYear(2e3+t)},m:function(n,t){if(isNaN(n))return n;for(t-=1;t<0;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!==t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}},p,k;if(l.M=l.MM=l.mm=l.m,l.dd=l.d,e=u(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),a=o.parts.slice(),c.length!==a.length&&(a=n(a).filter(function(t,i){return n.inArray(i,g)!==-1}).toArray()),c.length===a.length){for(h=0,it=a.length;h<it;h++){if(p=parseInt(c[h],10),v=a[h],isNaN(p))switch(v){case"MM":k=n(r[s].months).filter(tt);p=n.inArray(k[0],r[s].months)+1;break;case"M":k=n(r[s].monthsShort).filter(tt);p=n.inArray(k[0],r[s].monthsShort)+1}b[v]=p}for(h=0;h<g.length;h++)w=g[h],w in b&&!isNaN(b[w])&&(d=new Date(e),l[w](d,b[w]),isNaN(d)||(e=d))}return e},formatDate:function(t,u,f){var e,s,o,h;if(!t)return"";for(typeof u=="string"&&(u=i.parseFormat(u)),e={d:t.getUTCDate(),D:r[f].daysShort[t.getUTCDay()],DD:r[f].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:r[f].monthsShort[t.getUTCMonth()],MM:r[f].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()},e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,t=[],s=n.extend([],u.separators),o=0,h=u.parts.length;o<=h;o++)s.length&&t.push(s.shift()),t.push(e[u.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;<\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next">&raquo;<\/th><\/tr><\/thead>',contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};i.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+i.headTemplate+"<tbody><\/tbody>"+i.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=i;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=a,this};n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),i.datepicker("show"))});n(function(){n('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery);
/*!
 * Timepicker Component for Twitter Bootstrap
 *
 * Copyright 2013 Joris de Wit
 *
 * Contributors https://github.com/jdewit/bootstrap-timepicker/graphs/contributors
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */
(function(n,t,i){"use strict";var r=function(t,i){this.widget="";this.$element=n(t);this.defaultTime=i.defaultTime;this.disableFocus=i.disableFocus;this.disableMousewheel=i.disableMousewheel;this.isOpen=i.isOpen;this.minuteStep=i.minuteStep;this.modalBackdrop=i.modalBackdrop;this.orientation=i.orientation;this.secondStep=i.secondStep;this.showInputs=i.showInputs;this.showMeridian=i.showMeridian;this.showSeconds=i.showSeconds;this.template=i.template;this.appendWidgetTo=i.appendWidgetTo;this.showWidgetOnAddonClick=i.showWidgetOnAddonClick;this._init()};r.prototype={constructor:r,_init:function(){var t=this;if(this.showWidgetOnAddonClick&&(this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend"))){this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":n.proxy(this.showWidget,this)});this.$element.on({"focus.timepicker":n.proxy(this.highlightUnit,this),"click.timepicker":n.proxy(this.highlightUnit,this),"keydown.timepicker":n.proxy(this.elementKeydown,this),"blur.timepicker":n.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":n.proxy(this.mousewheel,this)})}else if(this.template)this.$element.on({"focus.timepicker":n.proxy(this.showWidget,this),"click.timepicker":n.proxy(this.showWidget,this),"blur.timepicker":n.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":n.proxy(this.mousewheel,this)});else this.$element.on({"focus.timepicker":n.proxy(this.highlightUnit,this),"click.timepicker":n.proxy(this.highlightUnit,this),"keydown.timepicker":n.proxy(this.elementKeydown,this),"blur.timepicker":n.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":n.proxy(this.mousewheel,this)});this.$widget=this.template!==!1?n(this.getTemplate()).on("click",n.proxy(this.widgetClick,this)):!1;this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){n(this).on({"click.timepicker":function(){n(this).select()},"keydown.timepicker":n.proxy(t.widgetKeydown,t),"keyup.timepicker":n.proxy(t.widgetKeyup,t)})});this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null;this.updateFromElementVal()},clear:function(){this.hour="";this.minute="";this.second="";this.meridian="";this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(this.hour===1)this.hour=12;else{if(this.hour===12)return this.hour--,this.toggleMeridian();if(this.hour===0)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=23:this.hour--},decrementMinute:function(n){var t;t=n?this.minute-n:this.minute-this.minuteStep;t<0?(this.decrementHour(),this.minute=t+60):this.minute=t},decrementSecond:function(){var n=this.second-this.secondStep;n<0?(this.decrementMinute(!0),this.second=n+60):this.second=n},elementKeydown:function(n){switch(n.keyCode){case 9:case 27:this.updateFromElementVal();break;case 37:n.preventDefault();this.highlightPrevUnit();break;case 38:n.preventDefault();switch(this.highlightedUnit){case"hour":this.incrementHour();this.highlightHour();break;case"minute":this.incrementMinute();this.highlightMinute();break;case"second":this.incrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian()}this.update();break;case 39:n.preventDefault();this.highlightNextUnit();break;case 40:n.preventDefault();switch(this.highlightedUnit){case"hour":this.decrementHour();this.highlightHour();break;case"minute":this.decrementMinute();this.highlightMinute();break;case"second":this.decrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian()}this.update()}},getCursorPosition:function(){var n=this.$element.get(0),t,r;return"selectionStart"in n?n.selectionStart:i.selection?(n.focus(),t=i.selection.createRange(),r=i.selection.createRange().text.length,t.moveStart("character",-n.value.length),t.text.length-r):void 0},getTemplate:function(){var n,t,i,r,u,f;this.showInputs?(t='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',i='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',r='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',u='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(t='<span class="bootstrap-timepicker-hour"><\/span>',i='<span class="bootstrap-timepicker-minute"><\/span>',r='<span class="bootstrap-timepicker-second"><\/span>',u='<span class="bootstrap-timepicker-meridian"><\/span>');f='<table><tr><td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"><\/i><\/a><\/td><td class="separator">&nbsp;<\/td><td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"><\/i><\/a><\/td>'+(this.showSeconds?'<td class="separator">&nbsp;<\/td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"><\/i><\/a><\/td>':"")+(this.showMeridian?'<td class="separator">&nbsp;<\/td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="icon-chevron-up"><\/i><\/a><\/td>':"")+"<\/tr><tr><td>"+t+'<\/td> <td class="separator">:<\/td><td>'+i+"<\/td> "+(this.showSeconds?'<td class="separator">:<\/td><td>'+r+"<\/td>":"")+(this.showMeridian?'<td class="separator">&nbsp;<\/td><td>'+u+"<\/td>":"")+'<\/tr><tr><td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"><\/i><\/a><\/td><td class="separator"><\/td><td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"><\/i><\/a><\/td>'+(this.showSeconds?'<td class="separator">&nbsp;<\/td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"><\/i><\/a><\/td>':"")+(this.showMeridian?'<td class="separator">&nbsp;<\/td><td><a href="#" data-action="toggleMeridian"><i class="icon-chevron-down"><\/i><\/a><\/td>':"")+"<\/tr><\/table>";switch(this.template){case"modal":n='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">×<\/a><h3>Pick a Time<\/h3><\/div><div class="modal-content">'+f+'<\/div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK<\/a><\/div><\/div>';break;case"dropdown":n='<div class="bootstrap-timepicker-widget dropdown-menu">'+f+"<\/div>"}return n},getTime:function(){return this.hour===""?"":this.hour+":"+(this.minute.toString().length===1?"0"+this.minute:this.minute)+(this.showSeconds?":"+(this.second.toString().length===1?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){this.isOpen!==!1&&(this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.template==="modal"&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),n(i).off("mousedown.timepicker, touchend.timepicker"),this.isOpen=!1,this.$widget.detach())},highlightUnit:function(){this.position=this.getCursorPosition();this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var n=this.$element.get(0),t=this;this.highlightedUnit="hour";n.setSelectionRange&&setTimeout(function(){t.hour<10?n.setSelectionRange(0,1):n.setSelectionRange(0,2)},0)},highlightMinute:function(){var n=this.$element.get(0),t=this;this.highlightedUnit="minute";n.setSelectionRange&&setTimeout(function(){t.hour<10?n.setSelectionRange(2,4):n.setSelectionRange(3,5)},0)},highlightSecond:function(){var n=this.$element.get(0),t=this;this.highlightedUnit="second";n.setSelectionRange&&setTimeout(function(){t.hour<10?n.setSelectionRange(5,7):n.setSelectionRange(6,8)},0)},highlightMeridian:function(){var n=this.$element.get(0),t=this;this.highlightedUnit="meridian";n.setSelectionRange&&(this.showSeconds?setTimeout(function(){t.hour<10?n.setSelectionRange(8,10):n.setSelectionRange(9,11)},0):setTimeout(function(){t.hour<10?n.setSelectionRange(5,7):n.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(this.hour===11)return this.hour++,this.toggleMeridian();this.hour===12&&(this.hour=0)}if(this.hour===23){this.hour=0;return}this.hour++},incrementMinute:function(n){var t;t=n?this.minute+n:this.minute+this.minuteStep-this.minute%this.minuteStep;t>59?(this.incrementHour(),this.minute=t-60):this.minute=t},incrementSecond:function(){var n=this.second+this.secondStep-this.second%this.secondStep;n>59?(this.incrementMinute(!0),this.second=n-60):this.second=n},mousewheel:function(t){if(!this.disableMousewheel){t.preventDefault();t.stopPropagation();var r=t.originalEvent.wheelDelta||-t.originalEvent.detail,i=null;t.type==="mousewheel"?i=t.originalEvent.wheelDelta*-1:t.type==="DOMMouseScroll"&&(i=40*t.originalEvent.detail);i&&(t.preventDefault(),n(this).scrollTop(i+n(this).scrollTop()));switch(this.highlightedUnit){case"minute":r>0?this.incrementMinute():this.decrementMinute();this.highlightMinute();break;case"second":r>0?this.incrementSecond():this.decrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break;default:r>0?this.incrementHour():this.decrementHour();this.highlightHour()}return!1}},place:function(){var r,v,s;if(!this.isInline){var f=this.$widget.outerWidth(),e=this.$widget.outerHeight(),h=10,c=n(t).width(),y=n(t).height(),l=n(t).scrollTop(),p=parseInt(this.$element.parents().filter(function(){}).first().css("z-index"),10)+10,i=this.component?this.component.parent().offset():this.$element.offset(),a=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),w=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),u=i.left,o=i.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left");this.orientation.x!=="auto"?(this.$widget.addClass("timepicker-orient-"+this.orientation.x),this.orientation.x==="right"&&(u-=f-w)):(this.$widget.addClass("timepicker-orient-left"),i.left<0?u-=i.left-h:i.left+f>c&&(u=c-f-h));r=this.orientation.y;r==="auto"&&(v=-l+i.top-e,s=l+y-(i.top+a+e),r=Math.max(v,s)===s?"top":"bottom");this.$widget.addClass("timepicker-orient-"+r);r==="top"?o+=a:o-=e+parseInt(this.$widget.css("padding-top"),10);this.$widget.css({top:o,left:u,zIndex:p})}},remove:function(){n("document").off(".timepicker");this.$widget&&this.$widget.remove();delete this.$element.data().timepicker},setDefaultTime:function(n){if(this.$element.val())this.updateFromElementVal();else if(n==="current"){var r=new Date,t=r.getHours(),i=r.getMinutes(),u=r.getSeconds(),f="AM";u!==0&&(u=Math.ceil(r.getSeconds()/this.secondStep)*this.secondStep,u===60&&(i+=1,u=0));i!==0&&(i=Math.ceil(r.getMinutes()/this.minuteStep)*this.minuteStep,i===60&&(t+=1,i=0));this.showMeridian&&(t===0?t=12:t>=12?(t>12&&(t=t-12),f="PM"):f="AM");this.hour=t;this.minute=i;this.second=u;this.meridian=f;this.update()}else n===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(n)},setTime:function(n,t){if(!n){this.clear();return}var f,i,u,r,e;typeof n=="object"&&n.getMonth?(i=n.getHours(),u=n.getMinutes(),r=n.getSeconds(),this.showMeridian&&(e="AM",i>12&&(e="PM",i=i%12),i===12&&(e="PM"))):(e=n.match(/p/i)!==null?"PM":"AM",n=n.replace(/[^0-9\:]/g,""),f=n.split(":"),i=f[0]?f[0].toString():f.toString(),u=f[1]?f[1].toString():"",r=f[2]?f[2].toString():"",i.length>4&&(r=i.substr(4,2)),i.length>2&&(u=i.substr(2,2),i=i.substr(0,2)),u.length>2&&(r=u.substr(2,2),u=u.substr(0,2)),r.length>2&&(r=r.substr(2,2)),i=parseInt(i,10),u=parseInt(u,10),r=parseInt(r,10),isNaN(i)&&(i=0),isNaN(u)&&(u=0),isNaN(r)&&(r=0),this.showMeridian?i<1?i=1:i>12&&(i=12):(i>=24?i=23:i<0&&(i=0),i<13&&e==="PM"&&(i=i+12)),u<0?u=0:u>=60&&(u=59),this.showSeconds&&(isNaN(r)?r=0:r<0?r=0:r>=60&&(r=59)));this.hour=i;this.minute=u;this.second=r;this.meridian=e;this.update(t)},showWidget:function(){if(!this.isOpen&&!this.$element.is(":disabled")){this.$widget.appendTo(this.appendWidgetTo);var t=this;n(i).on("mousedown.timepicker, touchend.timepicker",function(n){t.$element.parent().find(n.target).length||t.$widget.is(n.target)||t.$widget.find(n.target).length||t.hideWidget()});if(this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.template!=="modal"&&this.place(),this.disableFocus&&this.$element.blur(),this.hour===""&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),this.template==="modal"&&this.$widget.modal)this.$widget.modal("show").on("hidden",n.proxy(this.hideWidget,this));else this.isOpen===!1&&this.$widget.addClass("open");this.isOpen=!0}},toggleMeridian:function(){this.meridian=this.meridian==="AM"?"PM":"AM"},update:function(n){this.updateElement();n||this.updateWidget();this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget!==!1){var n=this.hour,t=this.minute.toString().length===1?"0"+this.minute:this.minute,i=this.second.toString().length===1?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(n),this.$widget.find("input.bootstrap-timepicker-minute").val(t),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(i),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(n),this.$widget.find("span.bootstrap-timepicker-minute").text(t),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(i),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))}},updateFromWidgetInputs:function(){if(this.$widget!==!1){var n=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(n,!0)}},widgetClick:function(t){t.stopPropagation();t.preventDefault();var i=n(t.target),r=i.closest("a").data("action");r&&this[r]();this.update();i.is("input")&&i.get(0).setSelectionRange(0,2)},widgetKeydown:function(t){var r=n(t.target),i=r.attr("class").replace("bootstrap-timepicker-","");switch(t.keyCode){case 9:if(this.showMeridian&&i==="meridian"||this.showSeconds&&i==="second"||!this.showMeridian&&!this.showSeconds&&i==="minute")return this.hideWidget();break;case 27:this.hideWidget();break;case 38:t.preventDefault();switch(i){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime());r.get(0).setSelectionRange(0,2);break;case 40:t.preventDefault();switch(i){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime());r.get(0).setSelectionRange(0,2)}},widgetKeyup:function(n){(n.keyCode===65||n.keyCode===77||n.keyCode===80||n.keyCode===46||n.keyCode===8||n.keyCode>=46&&n.keyCode<=57)&&this.updateFromWidgetInputs()}};n.fn.timepicker=function(t){var i=Array.apply(null,arguments);return i.shift(),this.each(function(){var f=n(this),u=f.data("timepicker"),e=typeof t=="object"&&t;u||f.data("timepicker",u=new r(this,n.extend({},n.fn.timepicker.defaults,e,n(this).data())));typeof t=="string"&&u[t].apply(u,i)})};n.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0};n.fn.timepicker.Constructor=r})(jQuery,window,document);!function(n){var i=function(){var t=[],i=!1,r,u=function(){clearTimeout(r);r=setTimeout(f,100)},f=function(){for(var n=0,i=t.length;n<i;n++)t[n].apply()};return{register:function(r){t.push(r);i===!1&&(n(window).bind("resize",u),i=!0)},unregister:function(n){for(var i=0,r=t.length;i<r;i++)if(t[i]==n){delete t[i];break}}}}(),t=function(t,r){this.element=n(t);this.dropdown=n('<li class="dropdown hide pull-right tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="#">'+r.text+' <b class="caret"><\/b><\/a><ul class="dropdown-menu"><\/ul><\/li>').prependTo(this.element);this.element.parent().is(".tabs-below")&&this.dropdown.addClass("dropup");i.register(n.proxy(this.layout,this));this.layout()};t.prototype={constructor:t,layout:function(){var t=[];this.dropdown.removeClass("hide");this.element.append(this.dropdown.find("li")).find(">li").not(".tabdrop").each(function(){this.offsetTop>0&&t.push(this)});t.length>0?(t=n(t),this.dropdown.find("ul").empty().append(t),this.dropdown.find(".active").length==1?this.dropdown.addClass("active"):this.dropdown.removeClass("active")):this.dropdown.addClass("hide")}};n.fn.tabdrop=function(i){return this.each(function(){var u=n(this),r=u.data("tabdrop"),f=typeof i=="object"&&i;r||u.data("tabdrop",r=new t(this,n.extend({},n.fn.tabdrop.defaults,f)));typeof i=="string"&&r[i]()})};n.fn.tabdrop.defaults={text:'<i class="icon-align-justify"><\/i>'};n.fn.tabdrop.Constructor=t}(window.jQuery);jQuery&&function(n){function v(t,i){var r=n('<div class="minicolors" />'),u=n.minicolors.defaults;if(!t.data("minicolors-initialized")){if(i=n.extend(!0,{},u,i),r.addClass("minicolors-theme-"+i.theme).toggleClass("minicolors-with-opacity",i.opacity),i.position!==undefined&&n.each(i.position.split(" "),function(){r.addClass("minicolors-position-"+this)}),t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",i).prop("size",7).wrap(r).after('<div class="minicolors-panel minicolors-slider-'+i.control+'"><div class="minicolors-slider"><div class="minicolors-picker"><\/div><\/div><div class="minicolors-opacity-slider"><div class="minicolors-picker"><\/div><\/div><div class="minicolors-grid"><div class="minicolors-grid-inner"><\/div><div class="minicolors-picker"><div><\/div><\/div><\/div><\/div>'),!i.inline){t.after('<span class="minicolors-swatch"><span class="minicolors-swatch-color"><\/span><\/span>');t.next(".minicolors-swatch").on("click",function(n){n.preventDefault();t.focus()})}t.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end();i.inline&&t.parent().addClass("minicolors-inline");f(t,!1);t.data("minicolors-initialized",!0)}}function h(n){var t=n.parent();n.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input");t.before(n).remove()}function o(n){var t=n.parent(),r=t.find(".minicolors-panel"),i=n.data("minicolors-settings");!n.data("minicolors-initialized")||n.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(u(),t.addClass("minicolors-focus"),r.stop(!0,!0).fadeIn(i.showSpeed,function(){i.show&&i.show.call(n.get(0))}))}function u(){n(".minicolors-focus").each(function(){var t=n(this),r=t.find(".minicolors-input"),u=t.find(".minicolors-panel"),i=r.data("minicolors-settings");u.fadeOut(i.hideSpeed,function(){i.hide&&i.hide.call(r.get(0));t.removeClass("minicolors-focus")})})}function c(n,t,i){var s=n.parents(".minicolors").find(".minicolors-input"),h=s.data("minicolors-settings"),c=n.find("[class$=-picker]"),v=n.offset().left,y=n.offset().top,u=Math.round(t.pageX-v),r=Math.round(t.pageY-y),p=i?h.animationSpeed:0,e,o,a,f;t.originalEvent.changedTouches&&(u=t.originalEvent.changedTouches[0].pageX-v,r=t.originalEvent.changedTouches[0].pageY-y);u<0&&(u=0);r<0&&(r=0);u>n.width()&&(u=n.width());r>n.height()&&(r=n.height());n.parent().is(".minicolors-slider-wheel")&&c.parent().is(".minicolors-grid")&&(e=75-u,o=75-r,a=Math.sqrt(e*e+o*o),f=Math.atan2(o,e),f<0&&(f+=Math.PI*2),a>75&&(a=75,u=75-75*Math.cos(f),r=75-75*Math.sin(f)),u=Math.round(u),r=Math.round(r));n.is(".minicolors-grid")?c.stop(!0).animate({top:r+"px",left:u+"px"},p,h.animationEasing,function(){l(s,n)}):c.stop(!0).animate({top:r+"px"},p,h.animationEasing,function(){l(s,n)})}function l(n,r){function nt(n,t){var i,r;return!n.length||!t?null:(i=n.offset().left,r=n.offset().top,{x:i-t.offset().left+n.outerWidth()/2,y:r-t.offset().top+n.outerHeight()/2})}var u,f,s,p,w,b,v,l=n.val(),k=n.attr("data-opacity"),y=n.parent(),d=n.data("minicolors-settings"),it=y.find(".minicolors-swatch"),o=y.find(".minicolors-grid"),c=y.find(".minicolors-slider"),tt=y.find(".minicolors-opacity-slider"),rt=o.find("[class$=-picker]"),ut=c.find("[class$=-picker]"),ft=tt.find("[class$=-picker]"),h=nt(rt,o),g=nt(ut,c),et=nt(ft,tt);if(r.is(".minicolors-grid, .minicolors-slider")){switch(d.control){case"wheel":p=o.width()/2-h.x;w=o.height()/2-h.y;b=Math.sqrt(p*p+w*w);v=Math.atan2(w,p);v<0&&(v+=Math.PI*2);b>75&&(b=75,h.x=69-75*Math.cos(v),h.y=69-75*Math.sin(v));f=t(b/.75,0,100);u=t(v*180/Math.PI,0,360);s=t(100-Math.floor(g.y*(100/c.height())),0,100);l=i({h:u,s:f,b:s});c.css("backgroundColor",i({h:u,s:f,b:100}));break;case"saturation":u=t(parseInt(h.x*(360/o.width()),10),0,360);f=t(100-Math.floor(g.y*(100/c.height())),0,100);s=t(100-Math.floor(h.y*(100/o.height())),0,100);l=i({h:u,s:f,b:s});c.css("backgroundColor",i({h:u,s:100,b:s}));y.find(".minicolors-grid-inner").css("opacity",f/100);break;case"brightness":u=t(parseInt(h.x*(360/o.width()),10),0,360);f=t(100-Math.floor(h.y*(100/o.height())),0,100);s=t(100-Math.floor(g.y*(100/c.height())),0,100);l=i({h:u,s:f,b:s});c.css("backgroundColor",i({h:u,s:f,b:100}));y.find(".minicolors-grid-inner").css("opacity",1-s/100);break;default:u=t(360-parseInt(g.y*(360/c.height()),10),0,360);f=t(Math.floor(h.x*(100/o.width())),0,100);s=t(100-Math.floor(h.y*(100/o.height())),0,100);l=i({h:u,s:f,b:s});o.css("backgroundColor",i({h:u,s:100,b:100}))}n.val(e(l,d.letterCase))}r.is(".minicolors-opacity-slider")&&(k=d.opacity?parseFloat(1-et.y/tt.height()).toFixed(2):1,d.opacity&&n.attr("data-opacity",k));it.find("SPAN").css({backgroundColor:l,opacity:k});a(n,l,k)}function f(n,u){var c,f,v,l,o,g,nt,y=n.parent(),p=n.data("minicolors-settings"),tt=y.find(".minicolors-swatch"),s=y.find(".minicolors-grid"),h=y.find(".minicolors-slider"),w=y.find(".minicolors-opacity-slider"),b=s.find("[class$=-picker]"),d=h.find("[class$=-picker]"),it=w.find("[class$=-picker]");c=e(r(n.val(),!0),p.letterCase);c||(c=e(r(p.defaultValue,!0),p.letterCase));f=k(c);u||n.val(c);p.opacity&&(v=n.attr("data-opacity")===""?1:t(parseFloat(n.attr("data-opacity")).toFixed(2),0,1),isNaN(v)&&(v=1),n.attr("data-opacity",v),tt.find("SPAN").css("opacity",v),o=t(w.height()-w.height()*v,0,w.height()),it.css("top",o+"px"));tt.find("SPAN").css("backgroundColor",c);switch(p.control){case"wheel":g=t(Math.ceil(f.s*.75),0,s.height()/2);nt=f.h*Math.PI/180;l=t(75-Math.cos(nt)*g,0,s.width());o=t(75-Math.sin(nt)*g,0,s.height());b.css({top:o+"px",left:l+"px"});o=150-f.b/(100/s.height());c===""&&(o=0);d.css("top",o+"px");h.css("backgroundColor",i({h:f.h,s:f.s,b:100}));break;case"saturation":l=t(5*f.h/12,0,150);o=t(s.height()-Math.ceil(f.b/(100/s.height())),0,s.height());b.css({top:o+"px",left:l+"px"});o=t(h.height()-f.s*(h.height()/100),0,h.height());d.css("top",o+"px");h.css("backgroundColor",i({h:f.h,s:100,b:f.b}));y.find(".minicolors-grid-inner").css("opacity",f.s/100);break;case"brightness":l=t(5*f.h/12,0,150);o=t(s.height()-Math.ceil(f.s/(100/s.height())),0,s.height());b.css({top:o+"px",left:l+"px"});o=t(h.height()-f.b*(h.height()/100),0,h.height());d.css("top",o+"px");h.css("backgroundColor",i({h:f.h,s:f.s,b:100}));y.find(".minicolors-grid-inner").css("opacity",1-f.b/100);break;default:l=t(Math.ceil(f.s/(100/s.width())),0,s.width());o=t(s.height()-Math.ceil(f.b/(100/s.height())),0,s.height());b.css({top:o+"px",left:l+"px"});o=t(h.height()-f.h/(360/h.height()),0,h.height());d.css("top",o+"px");s.css("backgroundColor",i({h:f.h,s:100,b:100}))}n.data("minicolors-initialized")&&a(n,c,v)}function a(n,t,i){var r=n.data("minicolors-settings"),u=n.data("minicolors-lastChange");u&&u.hex===t&&u.opacity===i||(n.data("minicolors-lastChange",{hex:t,opacity:i}),r.change&&(r.changeDelay?(clearTimeout(n.data("minicolors-changeTimeout")),n.data("minicolors-changeTimeout",setTimeout(function(){r.change.call(n.get(0),t,i)},r.changeDelay))):r.change.call(n.get(0),t,i)),n.trigger("change").trigger("input"))}function y(t){var f=r(n(t).val(),!0),i=s(f),u=n(t).attr("data-opacity");return i?(u!==undefined&&n.extend(i,{a:parseFloat(u)}),i):null}function p(t,i){var e=r(n(t).val(),!0),u=s(e),f=n(t).attr("data-opacity");return u?(f===undefined&&(f=1),i?"rgba("+u.r+", "+u.g+", "+u.b+", "+parseFloat(f)+")":"rgb("+u.r+", "+u.g+", "+u.b+")"):null}function e(n,t){return t==="uppercase"?n.toUpperCase():n.toLowerCase()}function r(n,t){return(n=n.replace(/[^A-F0-9]/ig,""),n.length!==3&&n.length!==6)?"":(n.length===3&&t&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),"#"+n)}function t(n,t,i){return n<t&&(n=t),n>i&&(n=i),n}function w(n){var t={},u=Math.round(n.h),o=Math.round(n.s*255/100),e=Math.round(n.b*255/100);if(o===0)t.r=t.g=t.b=e;else{var i=e,r=(255-o)*e/255,f=(i-r)*(u%60)/60;u===360&&(u=0);u<60?(t.r=i,t.b=r,t.g=r+f):u<120?(t.g=i,t.b=r,t.r=i-f):u<180?(t.g=i,t.r=r,t.b=r+f):u<240?(t.b=i,t.r=r,t.g=i-f):u<300?(t.b=i,t.g=r,t.r=r+f):u<360?(t.r=i,t.g=r,t.b=i-f):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function b(t){var i=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return n.each(i,function(n,t){t.length===1&&(i[n]="0"+t)}),"#"+i.join("")}function i(n){return b(w(n))}function k(n){var t=d(s(n));return t.s===0&&(t.h=360),t}function d(n){var t={h:0,s:0,b:0},u=Math.min(n.r,n.g,n.b),i=Math.max(n.r,n.g,n.b),r=i-u;return t.b=i,t.s=i!==0?255*r/i:0,t.h=t.s!==0?n.r===i?(n.g-n.b)/r:n.g===i?2+(n.b-n.r)/r:4+(n.r-n.g)/r:-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}function s(n){return n=parseInt(n.indexOf("#")>-1?n.substring(1):n,16),{r:n>>16,g:(n&65280)>>8,b:n&255}}n.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}};n.extend(n.fn,{minicolors:function(t,i){switch(t){case"destroy":return n(this).each(function(){h(n(this))}),n(this);case"hide":return u(),n(this);case"opacity":return i===undefined?n(this).attr("data-opacity"):(n(this).each(function(){f(n(this).attr("data-opacity",i))}),n(this));case"rgbObject":return y(n(this),t==="rgbaObject");case"rgbString":case"rgbaString":return p(n(this),t==="rgbaString");case"settings":return i===undefined?n(this).data("minicolors-settings"):(n(this).each(function(){var t=n(this).data("minicolors-settings")||{};h(n(this));n(this).minicolors(n.extend(!0,t,i))}),n(this));case"show":return o(n(this).eq(0)),n(this);case"value":return i===undefined?n(this).val():(n(this).each(function(){f(n(this).val(i))}),n(this));default:return t!=="create"&&(i=t),n(this).each(function(){v(n(this),i)}),n(this)}}});n(document).on("mousedown.minicolors touchstart.minicolors",function(t){n(t.target).parents().add(t.target).hasClass("minicolors")||u()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var i=n(this);t.preventDefault();n(document).data("minicolors-target",i);c(i,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var i=n(document).data("minicolors-target");i&&c(i,t)}).on("mouseup.minicolors touchend.minicolors",function(){n(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(t){var i=n(this).parent().find(".minicolors-input");t.preventDefault();o(i)}).on("focus.minicolors",".minicolors-input",function(){var t=n(this);t.data("minicolors-initialized")&&o(t)}).on("blur.minicolors",".minicolors-input",function(){var t=n(this),i=t.data("minicolors-settings");t.data("minicolors-initialized")&&(t.val(r(t.val(),!0)),t.val()===""&&t.val(r(i.defaultValue,!0)),t.val(e(t.val(),i.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var i=n(this);if(i.data("minicolors-initialized"))switch(t.keyCode){case 9:u();break;case 13:case 27:u();i.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=n(this);t.data("minicolors-initialized")&&f(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=n(this);t.data("minicolors-initialized")&&setTimeout(function(){f(t,!0)},1)})}(jQuery);!function(n){function u(){var n=document.createElement("input"),t="onpaste";return n.setAttribute(t,""),"function"==typeof n[t]?"paste":"input"}var i,f=u()+".mask",t=navigator.userAgent,e=/iphone/i.test(t),o=/chrome/i.test(t),r=/android/i.test(t);n.mask={definitions:{"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"};n.fn.extend({caret:function(n,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof n?(t="number"==typeof t?t:n,this.each(function(){this.setSelectionRange?this.setSelectionRange(n,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",n),i.select())})):(this[0].setSelectionRange?(n=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),n=0-i.duplicate().moveStart("character",-1e5),t=n+i.text.length),{begin:n,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,u){var v,a,s,c,l,h;return!t&&this.length>0?(v=n(this[0]),v.data(n.mask.dataName)()):(u=n.extend({autoclear:n.mask.autoclear,placeholder:n.mask.placeholder,completed:null},u),a=n.mask.definitions,s=[],c=h=t.length,l=null,n.each(t.split(""),function(n,t){"?"==t?(h--,c=n):a[t]?(s.push(new RegExp(a[t])),null===l&&(l=s.length-1)):s.push(null)}),this.trigger("unmask").each(function(){function p(n){for(;++n<h&&!s[n];);return n}function tt(n){for(;--n>=0&&!s[n];);return n}function g(n,t){var r,i;if(!(0>n)){for(r=n,i=p(t);h>r;r++)if(s[r]){if(!(h>i&&s[r].test(y[i])))break;y[r]=y[i];y[i]=u.placeholder;i=p(i)}w();v.caret(Math.max(l,n))}}function it(n){for(var r,f,t=n,i=u.placeholder;h>t;t++)if(s[t]){if(r=p(t),f=y[t],y[t]=i,!(h>r&&s[r].test(f)))break;i=f}}function rt(n){var u,i,t,r=n.which;8===r||46===r||e&&127===r?(u=v.caret(),i=u.begin,t=u.end,0==t-i&&(i=46!==r?tt(i):t=p(i-1),t=46===r?p(t):t),k(i,t),g(i,t-1),n.preventDefault()):27==r&&(v.val(d),v.caret(0,b()),n.preventDefault())}function nt(t){var f,c,o,e=t.which,i=v.caret();if(0==e){if(i.begin>=h)return v.val(v.val().substr(0,h)),t.preventDefault(),!1;i.begin==i.end&&(e=v.val().charCodeAt(i.begin-1),i.begin--,i.end--)}t.ctrlKey||t.altKey||t.metaKey||32>e||e&&(0!=i.end-i.begin&&(k(i.begin,i.end),g(i.begin,i.end-1)),f=p(i.begin-1),h>f&&(c=String.fromCharCode(e),s[f].test(c)&&(it(f),y[f]=c,w(),o=p(f),r?setTimeout(n.proxy(n.fn.caret,v,o),0):v.caret(o),u.completed&&o>=h&&u.completed.call(v))),t.preventDefault())}function k(n,t){for(var i=n;t>i&&h>i;i++)s[i]&&(y[i]=u.placeholder)}function w(){v.val(y.join(""))}function b(n){for(var e,r=v.val(),f=-1,t=0,i=0;h>t;t++)if(s[t]){for(y[t]=u.placeholder;i++<r.length;)if(e=r.charAt(i-1),s[t].test(e)){y[t]=e;f=t;break}if(i>r.length)break}else y[t]===r.charAt(i)&&t!==c&&(i++,f=t);return n?w():c>f+1?u.autoclear||y.join("")===ut?(v.val(""),k(0,h)):w():(w(),v.val(v.val().substring(0,f+1))),c?t:l}var v=n(this),y=n.map(t.split(""),function(n){if("?"!=n)return a[n]?u.placeholder:n}),ut=y.join(""),d=v.val();v.data(n.mask.dataName,function(){return n.map(y,function(n,t){return s[t]&&n!=u.placeholder?n:null}).join("")});v.attr("readonly")||v.one("unmask",function(){v.unbind(".mask").removeData(n.mask.dataName)}).bind("focus.mask",function(){clearTimeout(i);var n;d=v.val();n=b();i=setTimeout(function(){w();n==t.length?v.caret(0,n):v.caret(n)},10)}).bind("blur.mask",function(){b();v.val()!=d&&v.change()}).bind("keydown.mask",rt).bind("keypress.mask",nt).bind(f,function(){setTimeout(function(){var n=b(!0);v.caret(n);u.completed&&n==v.val().length&&u.completed.call(v)},0)});o&&r&&v.bind("keyup.mask",nt);b()}))}})}(jQuery);
/*!
	Autosize v1.18.4 - 2014-01-11
	Automatically adjust textarea height based on user input.
	(c) 2014 Jack Moore - http://www.jacklmoore.com/autosize
	license: http://www.opensource.org/licenses/mit-license.php
*/
(function(n){var u={className:"autosizejs",append:"",callback:!1,resizeDelay:10,placeholder:!0},r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],i,t=n('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",!0)[0];t.style.lineHeight="99px";n(t).css("lineHeight")==="99px"&&r.push("lineHeight");t.style.lineHeight="";n.fn.autosize=function(f){return this.length?(f=n.extend({},u,f||{}),t.parentNode!==document.body&&n(document.body).append(t),this.each(function(){function v(){var i,r=window.getComputedStyle?window.getComputedStyle(u,null):!1;r?(i=u.getBoundingClientRect().width,i===0&&(i=parseInt(r.width,10)),n.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(n,t){i-=parseInt(r[t],10)})):i=Math.max(e.width(),0);t.style.width=i+"px"}function b(){var o={},h,c;i=u;t.className=f.className;s=parseInt(e.css("maxHeight"),10);n.each(r,function(n,t){o[t]=e.css(t)});n(t).css(o);v();window.chrome&&(h=u.style.width,u.style.width="0px",c=u.offsetWidth,u.style.width=h)}function o(){var r,e;i!==u?b():v();t.value=!u.value&&f.placeholder?(n(u).attr("placeholder")||"")+f.append:u.value+f.append;t.style.overflowY=u.style.overflowY;e=parseInt(u.style.height,10);t.scrollTop=0;t.scrollTop=9e4;r=t.scrollTop;s&&r>s?(u.style.overflowY="scroll",r=s):(u.style.overflowY="hidden",r<h&&(r=h));r+=c;e!==r&&(u.style.height=r+"px",p&&f.callback.call(u,u))}function y(){clearTimeout(l);l=setTimeout(function(){var n=e.width();n!==a&&(a=n,o())},parseInt(f.resizeDelay,10))}var u=this,e=n(u),s,h,c=0,p=n.isFunction(f.callback),w={height:u.style.height,overflow:u.style.overflow,overflowY:u.style.overflowY,wordWrap:u.style.wordWrap,resize:u.style.resize},l,a=e.width();if(!e.data("autosize")){if(e.data("autosize",!0),(e.css("box-sizing")==="border-box"||e.css("-moz-box-sizing")==="border-box"||e.css("-webkit-box-sizing")==="border-box")&&(c=e.outerHeight()-e.height()),h=Math.max(parseInt(e.css("minHeight"),10)-c||0,e.height()),e.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:e.css("resize")==="none"||e.css("resize")==="vertical"?"none":"horizontal"}),"onpropertychange"in u)if("oninput"in u)e.on("input.autosize keyup.autosize",o);else e.on("propertychange.autosize",function(){event.propertyName==="value"&&o()});else e.on("input.autosize",o);if(f.resizeDelay!==!1)n(window).on("resize.autosize",y);e.on("autosize.resize",o);e.on("autosize.resizeIncludeStyle",function(){i=null;o()});e.on("autosize.destroy",function(){i=null;clearTimeout(l);n(window).off("resize",y);e.off("autosize").off(".autosize").css(w).removeData("autosize")});o()}})):this}})(window.jQuery||window.$);!function(n,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):n.bootbox=t(n.jQuery)}(this,function a(n,t){"use strict";function a(n){var t=o[e.locale];return t?t[n]:o.en[n]}function f(t,i,r){t.stopPropagation();t.preventDefault();var u=n.isFunction(r)&&r(t)===!1;u||i.modal("hide")}function v(n){var i,t=0;for(i in n)t++;return t}function r(t,i){var r=0;n.each(t,function(n,t){i(n,t,r++)})}function y(t){var i,u;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=n.extend({},e,t),t.buttons||(t.buttons={}),t.backdrop=t.backdrop?"static":!1,i=t.buttons,u=v(i),r(i,function(t,r,f){if(n.isFunction(r)&&(r=i[t]={callback:r}),"object"!==n.type(r))throw new Error("button with key "+t+" must be an object");r.label||(r.label=t);r.className||(r.className=2>=u&&f===u-1?"btn-primary":"btn-default")}),t}function p(n,t){var r=n.length,i={};if(1>r||r>2)throw new Error("Invalid argument length");return 2===r||"string"==typeof n[0]?(i[t[0]]=n[0],i[t[1]]=n[1]):i=n[0],i}function s(t,i,r){return n.extend(!0,{},t,p(i,r))}function h(n,t,i,r){var u={className:"bootbox-"+n,buttons:c.apply(null,t)};return l(s(u,r,i),t)}function c(){for(var t={},n=0,r=arguments.length;r>n;n++){var i=arguments[n],u=i.toLowerCase(),f=i.toUpperCase();t[u]={label:a(f)}}return t}function l(n,i){var u={};return r(i,function(n,t){u[t]=!0}),r(n.buttons,function(n){if(u[n]===t)throw new Error("button key "+n+" is not allowed (options are "+i.join("\n")+")");}),n}var u={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'><\/div><\/div><\/div><\/div><\/div>",header:"<div class='modal-header'><h4 class='modal-title'><\/h4><\/div>",footer:"<div class='modal-footer'><\/div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;<\/button>",form:"<form class='bootbox-form'><\/form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'><\/textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'><\/select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /><\/label><\/div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},e={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},i={},o;return i.alert=function(){var t;if(t=h("alert",["ok"],["message","callback"],arguments),t.callback&&!n.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return n.isFunction(t.callback)?t.callback():!0},i.dialog(t)},i.confirm=function(){var t;if(t=h("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback(!1)},t.buttons.confirm.callback=function(){return t.callback(!0)},!n.isFunction(t.callback))throw new Error("confirm requires a callback");return i.dialog(t)},i.prompt=function(){var f,p,h,v,e,w,o,b,y,a,k;if(v=n(u.form),p={className:"bootbox-prompt",buttons:c("cancel","confirm"),value:"",inputType:"text"},f=l(s(p,arguments,["title","callback"]),["cancel","confirm"]),w=f.show===t?!0:f.show,b=["date","time","number"],y=document.createElement("input"),y.setAttribute("type",f.inputType),b[f.inputType]&&(f.inputType=y.type),f.message=v,f.buttons.cancel.callback=f.onEscape=function(){return f.callback(null)},f.buttons.confirm.callback=function(){var t,i;switch(f.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":t=e.val();break;case"checkbox":i=e.find("input:checked");t=[];r(i,function(i,r){t.push(n(r).val())})}return f.callback(t)},f.show=!1,!f.title)throw new Error("prompt requires a title");if(!n.isFunction(f.callback))throw new Error("prompt requires a callback");if(!u.inputs[f.inputType])throw new Error("invalid prompt type");switch(e=n(u.inputs[f.inputType]),f.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":e.val(f.value);break;case"select":if(a={},o=f.inputOptions||[],!o.length)throw new Error("prompt with select requires options");r(o,function(i,r){var u=e;if(r.value===t||r.text===t)throw new Error("given options in wrong format");r.group&&(a[r.group]||(a[r.group]=n("<optgroup/>").attr("label",r.group)),u=a[r.group]);u.append("<option value='"+r.value+"'>"+r.text+"<\/option>")});r(a,function(n,t){e.append(t)});e.val(f.value);break;case"checkbox":if(k=n.isArray(f.value)?f.value:[f.value],o=f.inputOptions||[],!o.length)throw new Error("prompt with checkbox requires options");if(!o[0].value||!o[0].text)throw new Error("given options in wrong format");e=n("<div/>");r(o,function(t,i){var o=n(u.inputs[f.inputType]);o.find("input").attr("value",i.value);o.find("label").append(i.text);r(k,function(n,t){t===i.value&&o.find("input").prop("checked",!0)});e.append(o)})}return f.placeholder&&e.attr("placeholder",f.placeholder),f.pattern&&e.attr("pattern",f.pattern),v.append(e),v.on("submit",function(n){n.preventDefault();h.find(".btn-primary").click()}),h=i.dialog(f),h.off("shown.bs.modal"),h.on("shown.bs.modal",function(){e.focus()}),w===!0&&h.modal("show"),h},i.dialog=function(t){var h;t=y(t);var i=n(u.dialog),o=i.find(".modal-body"),c=t.buttons,s="",e={onEscape:t.onEscape};return(r(c,function(n,t){s+="<button data-bb-handler='"+n+"' type='button' class='btn "+t.className+"'>"+t.label+"<\/button>";e[n]=t.callback}),o.find(".bootbox-body").html(t.message),t.animate===!0&&i.addClass("fade"),t.className&&i.addClass(t.className),t.title&&o.before(u.header),t.closeButton)&&(h=n(u.closeButton),t.title?i.find(".modal-header").prepend(h):h.css("margin-top","-10px").prependTo(o)),t.title&&i.find(".modal-title").html(t.title),s.length&&(o.after(u.footer),i.find(".modal-footer").html(s)),i.on("hidden.bs.modal",function(n){n.target===this&&i.remove()}),i.on("shown.bs.modal",function(){i.find(".btn-primary:first").focus()}),i.on("escape.close.bb",function(n){e.onEscape&&f(n,i,e.onEscape)}),i.on("click",".modal-footer button",function(t){var r=n(this).data("bb-handler");f(t,i,e[r])}),i.on("click",".bootbox-close-button",function(n){f(n,i,e.onEscape)}),i.on("keyup",function(n){27===n.which&&i.trigger("escape.close.bb")}),n(t.container).append(i),i.modal({backdrop:t.backdrop,keyboard:!1,show:!1}),t.show&&i.modal("show"),i},i.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0];n.extend(e,t)},i.hideAll=function(){n(".bootbox").modal("hide")},o={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}},i.init=function(t){return a(t||n)},i}),function(){"use strict";var n,i,r,t=function(n,t){return function(){return n.apply(t,arguments)}};n=jQuery;i=function(){function n(){}return n.transitions={webkitTransition:"webkitTransitionEnd",mozTransition:"mozTransitionEnd",oTransition:"oTransitionEnd",transition:"transitionend"},n.transition=function(n){var r,u,t,i;r=n[0];i=this.transitions;for(t in i)if(u=i[t],r.style[t]!=null)return u},n}();r=function(){function r(i){i==null&&(i={});this.html=t(this.html,this);this.$growl=t(this.$growl,this);this.$growls=t(this.$growls,this);this.animate=t(this.animate,this);this.remove=t(this.remove,this);this.dismiss=t(this.dismiss,this);this.present=t(this.present,this);this.close=t(this.close,this);this.cycle=t(this.cycle,this);this.unbind=t(this.unbind,this);this.bind=t(this.bind,this);this.render=t(this.render,this);this.settings=n.extend({},r.settings,i);this.$growls().attr("class",this.settings.location);this.render()}return r.settings={namespace:"growl",duration:3200,close:"&times;",location:"default",style:"default",size:"medium"},r.growl=function(n){return n==null&&(n={}),this.initialize(),new r(n)},r.initialize=function(){return n("body:not(:has(#growls))").append('<div id="growls" />')},r.prototype.render=function(){var n;n=this.$growl();this.$growls().append(n);this.cycle(n)},r.prototype.bind=function(n){n==null&&(n=this.$growl());return n.find("."+this.settings.namespace+"-close").on("click",this.close)},r.prototype.unbind=function(n){return n==null&&(n=this.$growl()),n.find("."+(this.settings.namespace-close)).off("click",this.close)},r.prototype.cycle=function(n){return n==null&&(n=this.$growl()),n.queue(this.present).delay(this.settings.duration).queue(this.dismiss).queue(this.remove)},r.prototype.close=function(n){var t;return n.preventDefault(),n.stopPropagation(),t=this.$growl(),t.stop().queue(this.dismiss).queue(this.remove)},r.prototype.present=function(n){var t;return t=this.$growl(),this.bind(t),this.animate(t,""+this.settings.namespace+"-incoming","out",n)},r.prototype.dismiss=function(n){var t;return t=this.$growl(),this.unbind(t),this.animate(t,""+this.settings.namespace+"-outgoing","in",n)},r.prototype.remove=function(n){return this.$growl().remove(),n()},r.prototype.animate=function(n,t,r,u){var f;if(r==null&&(r="in"),f=i.transition(n),n[r==="in"?"removeClass":"addClass"](t),n.offset().position,n[r==="in"?"addClass":"removeClass"](t),u!=null)if(f!=null)n.one(f,u);else u()},r.prototype.$growls=function(){return this.$_growls!=null?this.$_growls:this.$_growls=n("#growls")},r.prototype.$growl=function(){return this.$_growl!=null?this.$_growl:this.$_growl=n(this.html())},r.prototype.html=function(){return"<div class='"+this.settings.namespace+" "+this.settings.namespace+"-"+this.settings.style+" "+this.settings.namespace+"-"+this.settings.size+"'>\n  <div class='"+this.settings.namespace+"-close'>"+this.settings.close+"<\/div>\n  <div class='"+this.settings.namespace+"-title'>"+this.settings.title+"<\/div>\n  <div class='"+this.settings.namespace+"-message'>"+this.settings.message+"<\/div>\n<\/div>"},r}();n.growl=function(n){return n==null&&(n={}),r.growl(n)};n.growl.error=function(t){var i;return t==null&&(t={}),i={title:"Error!",style:"error"},n.growl(n.extend(i,t))};n.growl.notice=function(t){var i;return t==null&&(t={}),i={title:"Notice!",style:"notice"},n.growl(n.extend(i,t))};n.growl.warning=function(t){var i;return t==null&&(t={}),i={title:"Warning!",style:"warning"},n.growl(n.extend(i,t))}}.call(this);
/*!jQuery Knob*/
(function(n){"use strict";var t={},i=Math.max,r=Math.min;t.c={};t.c.d=n(document);t.c.t=function(n){return n.originalEvent.touches.length-1};t.o=function(){var i=this;this.o=null;this.$=null;this.i=null;this.g=null;this.v=null;this.cv=null;this.x=0;this.y=0;this.w=0;this.h=0;this.$c=null;this.c=null;this.t=0;this.isInit=!1;this.fgColor=null;this.pColor=null;this.dH=null;this.cH=null;this.eH=null;this.rH=null;this.scale=1;this.relative=!1;this.relativeWidth=!1;this.relativeHeight=!1;this.$div=null;this.run=function(){var t=function(n,t){for(var r in t)i.o[r]=t[r];i._carve().init();i._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=n.extend({min:this.$.data("min")!==undefined?this.$.data("min"):0,max:this.$.data("max")!==undefined?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||this.$.attr("readonly")==="readonly",cursor:this.$.data("cursor")===!0&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:this.$.data("displayinput")==null||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,draw:null,change:null,cancel:null,release:null,format:function(n){return n},parse:function(n){return parseFloat(n)}},this.o),this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(t){var r=n(this);i.i[t]=r;i.v[t]=i.o.parse(r.val());r.bind("change blur",function(){var n={};n[t]=r.val();i.val(n)})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),this.v===""&&(this.v=this.o.min),this.$.bind("change blur",function(){i.val(i._validate(i.o.parse(i.$.val())))})),this.o.displayInput||this.$.hide(),this.$c=n(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=n('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"><\/div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),typeof G_vmlCanvasManager!="undefined"&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",t).parent().bind("configure",t),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}};this._carve=function(){if(this.relative){var n=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),t=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(n,t)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),this.scale!==1&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this};this._draw=function(){var n=!0;i.g=i.c;i.clear();i.dH&&(n=i.dH());n!==!1&&i.draw()};this._touch=function(n){var r=function(n){var t=i.xy2val(n.originalEvent.touches[i.t].pageX,n.originalEvent.touches[i.t].pageY);t!=i.cv&&(i.cH&&i.cH(t)===!1||(i.change(i._validate(t)),i._draw()))};return this.t=t.c.t(n),r(n),t.c.d.bind("touchmove.k",r).bind("touchend.k",function(){t.c.d.unbind("touchmove.k touchend.k");i.val(i.cv)}),this};this._mouse=function(n){var r=function(n){var t=i.xy2val(n.pageX,n.pageY);t!=i.cv&&(i.cH&&i.cH(t)===!1||(i.change(i._validate(t)),i._draw()))};return r(n),t.c.d.bind("mousemove.k",r).bind("keyup.k",function(n){if(n.keyCode===27){if(t.c.d.unbind("mouseup.k mousemove.k keyup.k"),i.eH&&i.eH()===!1)return;i.cancel()}}).bind("mouseup.k",function(){t.c.d.unbind("mousemove.k mouseup.k keyup.k");i.val(i.cv)}),this};this._xy=function(){var n=this.$c.offset();return this.x=n.left,this.y=n.top,this};this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(n){n.preventDefault();i._xy()._mouse(n)}).bind("touchstart",function(n){n.preventDefault();i._xy()._touch(n)}),this.listen()),this.relative&&n(window).resize(function(){i._carve().init();i._draw()}),this};this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this};this._clear=function(){this.$c[0].width=this.$c[0].width};this._validate=function(n){return~~((n<0?-.5:.5)+n/this.o.step)*this.o.step};this.listen=function(){};this.extend=function(){};this.init=function(){};this.change=function(){};this.val=function(){};this.xy2val=function(){};this.draw=function(){};this.clear=function(){this._clear()};this.h2rgba=function(n,t){var i;return n=n.substring(1,7),i=[parseInt(n.substring(0,2),16),parseInt(n.substring(2,4),16),parseInt(n.substring(4,6),16)],"rgba("+i[0]+","+i[1]+","+i[2]+","+t+")"};this.copy=function(n,t){for(var i in n)t[i]=n[i]}};t.Dial=function(){t.o.call(this);this.startAngle=null;this.xy=null;this.radius=null;this.lineWidth=null;this.cursorExt=null;this.w2=null;this.PI2=2*Math.PI;this.extend=function(){this.o=n.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)};this.val=function(n,t){if(null!=n){if(n=this.o.parse(n),t!==!1&&n!=this.v&&this.rH&&this.rH(n)===!1)return;this.cv=this.o.stopper?i(r(n,this.o.max),this.o.min):n;this.v=this.cv;this.$.val(this.o.format(this.v));this._draw()}else return this.v};this.xy2val=function(n,t){var u,f;return u=Math.atan2(n-(this.x+this.w2),-(t-this.y-this.w2))-this.angleOffset,this.angleArc!=this.PI2&&u<0&&u>-.5?u=0:u<0&&(u+=this.PI2),f=~~(.5+u*(this.o.max-this.o.min)/this.angleArc)+this.o.min,this.o.stopper&&(f=i(r(f,this.o.max),this.o.min)),f};this.listen=function(){var t=this,u,e,h=function(n){n.preventDefault();var o=n.originalEvent,s=o.detail||o.wheelDeltaX,h=o.detail||o.wheelDeltaY,f=t._validate(t.o.parse(t.$.val()))+(s>0||h>0?t.o.step:s<0||h<0?-t.o.step:0);f=i(r(f,t.o.max),t.o.min);t.val(f,!1);t.rH&&(clearTimeout(u),u=setTimeout(function(){t.rH(f);u=null},100),e||(e=setTimeout(function(){u&&t.rH(f);e=null},200)))},o,f,s=1,c={37:-t.o.step,38:t.o.step,39:t.o.step,40:-t.o.step};this.$.bind("keydown",function(u){var e=u.keyCode,h;e>=96&&e<=105&&(e=u.keyCode=e-48);o=parseInt(String.fromCharCode(e));isNaN(o)&&(e!==13&&e!==8&&e!==9&&e!==189&&(e!==190||t.$.val().match(/\./))&&u.preventDefault(),n.inArray(e,[37,38,39,40])>-1&&(u.preventDefault(),h=t.o.parse(t.$.val())+c[e]*s,t.o.stopper&&(h=i(r(h,t.o.max),t.o.min)),t.change(h),t._draw(),f=window.setTimeout(function(){s*=2},30)))}).bind("keyup",function(){isNaN(o)?f&&(window.clearTimeout(f),f=null,s=1,t.val(t.$.val())):t.$.val()>t.o.max&&t.$.val(t.o.max)||t.$.val()<t.o.min&&t.$.val(t.o.min)});this.$c.bind("mousewheel DOMMouseScroll",h);this.$.bind("mousewheel DOMMouseScroll",h)};this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min);this.$.val(this.v);this.w2=this.w/2;this.cursorExt=this.o.cursor/100;this.xy=this.w2*this.scale;this.lineWidth=this.xy*this.o.thickness;this.lineCap=this.o.lineCap;this.radius=this.xy-this.lineWidth/2;this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset);this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc);this.angleOffset=this.o.angleOffset*Math.PI/180;this.angleArc=this.o.angleArc*Math.PI/180;this.startAngle=1.5*Math.PI+this.angleOffset;this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var n=i(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(this.w*3/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/n>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})};this.change=function(n){this.cv=n;this.$.val(this.o.format(n))};this.angle=function(n){return(n-this.o.min)*this.angleArc/(this.o.max-this.o.min)};this.draw=function(){var n=this.g,e=this.angle(this.cv),r=this.startAngle,i=r+e,u,t,f=1;n.lineWidth=this.lineWidth;n.lineCap=this.lineCap;this.o.cursor&&(r=i-this.cursorExt)&&(i=i+this.cursorExt);n.beginPath();n.strokeStyle=this.o.bgColor;n.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0);n.stroke();this.o.displayPrevious&&(t=this.startAngle+this.angle(this.v),u=this.startAngle,this.o.cursor&&(u=t-this.cursorExt)&&(t=t+this.cursorExt),n.beginPath(),n.strokeStyle=this.pColor,n.arc(this.xy,this.xy,this.radius,u-1e-5,t+1e-5,!1),n.stroke(),f=this.cv==this.v);n.beginPath();n.strokeStyle=f?this.o.fgColor:this.fgColor;n.arc(this.xy,this.xy,this.radius,r-1e-5,i+1e-5,!1);n.stroke()};this.cancel=function(){this.val(this.v)}};n.fn.dial=n.fn.knob=function(i){return this.each(function(){var r=new t.Dial;r.o=i;r.$=n(this);r.run()}).parent()}})(jQuery),function(n,t,i){(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):jQuery&&!jQuery.fn.sparkline&&n(jQuery)})(function(r){"use strict";var c={},tt,u,e,s,l,o,v,it,rt,y,pt,ut,ft,et,h,ot,st,a,p,ht,ct,lt,w,b,k,at,vt,yt,d,g,nt,f,wt=0;tt=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:i,normalRangeMax:i,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:i,chartRangeMax:i,chartRangeMinX:i,chartRangeMaxX:i,tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:i,nullColor:i,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,colorMap:i,tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss","0":"Draw","1":"Win"}}},discrete:{lineHeight:"auto",thresholdColor:i,thresholdValue:0,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,tooltipFormat:new e("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:i,tooltipFormat:new e("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:i,targetColor:"#4a2",chartRangeMax:i,chartRangeMin:i,tooltipFormat:new e("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}};at='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}';u=function(){var n,t;return n=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(n.prototype=r.extend(new arguments[0],arguments[arguments.length-1]),n._super=arguments[0].prototype):n.prototype=arguments[arguments.length-1],arguments.length>2&&(t=Array.prototype.slice.call(arguments,1,-1),t.unshift(n.prototype),r.extend.apply(r,t))):n.prototype=arguments[0],n.prototype.cls=n,n};r.SPFormatClass=e=u({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(n,t){this.format=n;this.fclass=t},render:function(n,t,r){var h=this,c=n,e,o,f,u,s;return this.format.replace(this.fre,function(){var n;return(o=arguments[1],f=arguments[3],e=h.precre.exec(o),e?(s=e[2],o=e[1]):s=!1,u=c[o],u===i)?"":f&&t&&t[f]?(n=t[f],n.get?t[f].get(u)||u:t[f][u]||u):(rt(u)&&(u=r.get("numberFormatter")?r.get("numberFormatter")(u):et(u,s,r.get("numberDigitGroupCount"),r.get("numberDigitGroupSep"),r.get("numberDecimalMark"))),u)})}});r.spformat=function(n,t){return new e(n,t)};s=function(n,t,i){return n<t?t:n>i?i:n};l=function(n,i){var r;return i===2?(r=t.floor(n.length/2),n.length%2?n[r]:(n[r-1]+n[r])/2):n.length%2?(r=(n.length*i+i)/4,r%1?(n[t.floor(r)]+n[t.floor(r)-1])/2:n[r-1]):(r=(n.length*i+2)/4,r%1?(n[t.floor(r)]+n[t.floor(r)-1])/2:n[r-1])};o=function(n){var t;switch(n){case"undefined":n=i;break;case"null":n=null;break;case"true":n=!0;break;case"false":n=!1;break;default:t=parseFloat(n);n==t&&(n=t)}return n};v=function(n){for(var i=[],t=n.length;t--;)i[t]=o(n[t]);return i};it=function(n,t){for(var u=[],i=0,r=n.length;i<r;i++)n[i]!==t&&u.push(n[i]);return u};rt=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};et=function(n,t,i,u,f){var e,o;for(n=(t===!1?parseFloat(n).toString():n.toFixed(t)).split(""),e=(e=r.inArray(".",n))<0?n.length:e,e<n.length&&(n[e]=f),o=e-i;o>0;o-=i)n.splice(o,0,u);return n.join("")};y=function(n,t,i){for(var r=t.length;r--;)if((!i||t[r]!==null)&&t[r]!==n)return!1;return!0};pt=function(n){for(var i=0,t=n.length;t--;)i+=typeof n[t]=="number"?n[t]:0;return i};ft=function(n){return r.isArray(n)?n:[n]};ut=function(t){var i;n.createStyleSheet?n.createStyleSheet().cssText=t:(i=n.createElement("style"),i.type="text/css",n.getElementsByTagName("head")[0].appendChild(i),i[typeof n.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=t)};r.fn.simpledraw=function(t,u,f,e){var o,s,h;if(f&&(o=this.data("_jqs_vcanvas")))return o;if(r.fn.sparkline.canvas===!1)return!1;if(r.fn.sparkline.canvas===i)if(h=n.createElement("canvas"),!(h.getContext&&h.getContext("2d")))if(n.namespaces&&!n.namespaces.v)n.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),r.fn.sparkline.canvas=function(n,t,i){return new nt(n,t,i)};else return r.fn.sparkline.canvas=!1,!1;else r.fn.sparkline.canvas=function(n,t,i,r){return new g(n,t,i,r)};return t===i&&(t=r(this).innerWidth()),u===i&&(u=r(this).innerHeight()),o=r.fn.sparkline.canvas(t,u,this,e),s=r(this).data("_jqs_mhandler"),s&&s.registerCanvas(o),o};r.fn.cleardraw=function(){var n=this.data("_jqs_vcanvas");n&&n.reset()};r.RangeMapClass=h=u({init:function(n){var i,t,r=[];for(i in n)n.hasOwnProperty(i)&&typeof i=="string"&&i.indexOf(":")>-1&&(t=i.split(":"),t[0]=t[0].length===0?-Infinity:parseFloat(t[0]),t[1]=t[1].length===0?Infinity:parseFloat(t[1]),t[2]=n[i],r.push(t));this.map=n;this.rangelist=r||!1},get:function(n){var r=this.rangelist,u,t,f;if((f=this.map[n])!==i)return f;if(r)for(u=r.length;u--;)if(t=r[u],t[0]<=n&&t[1]>=n)return t[2];return i}});r.range_map=function(n){return new h(n)};ot=u({init:function(n,t){var i=r(n);this.$el=i;this.options=t;this.currentPageX=0;this.currentPageY=0;this.el=n;this.splist=[];this.tooltip=null;this.over=!1;this.displayTooltips=!t.get("disableTooltips");this.highlightEnabled=!t.get("disableHighlight")},registerSparkline:function(n){this.splist.push(n);this.over&&this.updateDisplay()},registerCanvas:function(n){var t=r(n.canvas);this.canvas=n;this.$canvas=t;t.mouseenter(r.proxy(this.mouseenter,this));t.mouseleave(r.proxy(this.mouseleave,this));t.click(r.proxy(this.mouseclick,this))},reset:function(n){this.splist=[];this.tooltip&&n&&(this.tooltip.remove(),this.tooltip=i)},mouseclick:function(n){var t=r.Event("sparklineClick");t.originalEvent=n;t.sparklines=this.splist;this.$el.trigger(t)},mouseenter:function(t){r(n.body).unbind("mousemove.jqs");r(n.body).bind("mousemove.jqs",r.proxy(this.mousemove,this));this.over=!0;this.currentPageX=t.pageX;this.currentPageY=t.pageY;this.currentEl=t.target;!this.tooltip&&this.displayTooltips&&(this.tooltip=new st(this.options),this.tooltip.updatePosition(t.pageX,t.pageY));this.updateDisplay()},mouseleave:function(){r(n.body).unbind("mousemove.jqs");var i=this.splist,e=i.length,u=!1,f,t;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),t=0;t<e;t++)f=i[t],f.clearRegionHighlight()&&(u=!0);u&&this.canvas.render()},mousemove:function(n){this.currentPageX=n.pageX;this.currentPageY=n.pageY;this.currentEl=n.target;this.tooltip&&this.tooltip.updatePosition(n.pageX,n.pageY);this.updateDisplay()},updateDisplay:function(){var i=this.splist,o=i.length,s=!1,h=this.$canvas.offset(),c=this.currentPageX-h.left,l=this.currentPageY-h.top,u,t,n,f,e;if(this.over){for(n=0;n<o;n++)t=i[n],f=t.setRegionHighlight(this.currentEl,c,l),f&&(s=!0);if(s){if(e=r.Event("sparklineRegionChange"),e.sparklines=this.splist,this.$el.trigger(e),this.tooltip){for(u="",n=0;n<o;n++)t=i[n],u+=t.getCurrentRegionTooltip();this.tooltip.setContent(u)}this.disableHighlight||this.canvas.render()}f===null&&this.mouseleave()}}});st=u({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var u=t.get("tooltipClassname","jqstooltip"),f=this.sizeStyle,i;this.container=t.get("tooltipContainer")||n.body;this.tooltipOffsetX=t.get("tooltipOffsetX",10);this.tooltipOffsetY=t.get("tooltipOffsetY",12);r("#jqssizetip").remove();r("#jqstooltip").remove();this.sizetip=r("<div/>",{id:"jqssizetip",style:f,"class":u});this.tooltip=r("<div/>",{id:"jqstooltip","class":u}).appendTo(this.container);i=this.tooltip.offset();this.offsetLeft=i.left;this.offsetTop=i.top;this.hidden=!0;r(window).unbind("resize.jqs scroll.jqs");r(window).bind("resize.jqs scroll.jqs",r.proxy(this.updateWindowDims,this));this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=r(window).scrollTop();this.scrollLeft=r(window).scrollLeft();this.scrollRight=this.scrollLeft+r(window).width();this.updatePosition()},getSize:function(n){this.sizetip.html(n).appendTo(this.container);this.width=this.sizetip.width()+1;this.height=this.sizetip.height();this.sizetip.remove()},setContent:function(n){if(!n){this.tooltip.css("visibility","hidden");this.hidden=!0;return}this.getSize(n);this.tooltip.html(n).css({width:this.width,height:this.height,visibility:"visible"});this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(n,t){if(n===i){if(this.mousex===i)return;n=this.mousex-this.offsetLeft;t=this.mousey-this.offsetTop}else this.mousex=n=n-this.offsetLeft,this.mousey=t=t-this.offsetTop;this.height&&this.width&&!this.hidden&&(t-=this.height+this.tooltipOffsetY,n+=this.tooltipOffsetX,t<this.scrollTop&&(t=this.scrollTop),n<this.scrollLeft?n=this.scrollLeft:n+this.width>this.scrollRight&&(n=this.scrollRight-this.width),this.tooltip.css({left:n,top:t}))},remove:function(){this.tooltip.remove();this.sizetip.remove();this.sizetip=this.tooltip=i;r(window).unbind("resize.jqs scroll.jqs")}});vt=function(){ut(at)};r(vt);f=[];r.fn.sparkline=function(t,u){return this.each(function(){var e=new r.fn.sparkline.options(this,u),h=r(this),s,o;if(s=function(){var s,a,c,f,u,l,o;if(t==="html"||t===i?(o=this.getAttribute(e.get("tagValuesAttribute")),(o===i||o===null)&&(o=h.html()),s=o.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):s=t,a=e.get("width")==="auto"?s.length*e.get("defaultPixelsPerValue"):e.get("width"),e.get("height")==="auto"?e.get("composite")&&r.data(this,"_jqs_vcanvas")||(f=n.createElement("span"),f.innerHTML="a",h.html(f),c=r(f).innerHeight()||r(f).height(),r(f).remove(),f=null):c=e.get("height"),e.get("disableInteraction")?u=!1:(u=r.data(this,"_jqs_mhandler"),u?e.get("composite")||u.reset():(u=new ot(this,e),r.data(this,"_jqs_mhandler",u))),e.get("composite")&&!r.data(this,"_jqs_vcanvas")){r.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),r.data(this,"_jqs_errnotify",!0));return}l=new r.fn.sparkline[e.get("type")](this,s,e,a,c);l.render();u&&u.registerSparkline(l)},r(this).html()&&!e.get("disableHiddenCheck")&&r(this).is(":hidden")||!r(this).parents("body").length){if(!e.get("composite")&&r.data(this,"_jqs_pending"))for(o=f.length;o;o--)f[o-1][0]==this&&f.splice(o-1,1);f.push([this,s]);r.data(this,"_jqs_pending",!0)}else s.call(this)})};r.fn.sparkline.defaults=tt();r.sparkline_display_visible=function(){for(var t,i=[],n=0,u=f.length;n<u;n++)t=f[n][0],r(t).is(":visible")&&!r(t).parents().is(":hidden")?(f[n][1].call(t),r.data(f[n][0],"_jqs_pending",!1),i.push(n)):r(t).closest("html").length||r.data(t,"_jqs_pending")||(r.data(f[n][0],"_jqs_pending",!1),i.push(n));for(n=i.length;n;n--)f.splice(i[n-1],1)};r.fn.sparkline.options=u({init:function(n,t){var e,i,u,f;this.userOptions=t=t||{};this.tag=n;this.tagValCache={};i=r.fn.sparkline.defaults;u=i.common;this.tagOptionsPrefix=t.enableTagOptions&&(t.tagOptionsPrefix||u.tagOptionsPrefix);f=this.getTagSetting("type");e=f===c?i[t.type||u.type]:i[f];this.mergedOptions=r.extend({},u,e,t)},getTagSetting:function(n){var u=this.tagOptionsPrefix,t,r,f,e;if(u===!1||u===i)return c;if(this.tagValCache.hasOwnProperty(n))t=this.tagValCache.key;else{if(t=this.tag.getAttribute(u+n),t===i||t===null)t=c;else if(t.substr(0,1)==="[")for(t=t.substr(1,t.length-2).split(","),r=t.length;r--;)t[r]=o(t[r].replace(/(^\s*)|(\s*$)/g,""));else if(t.substr(0,1)==="{")for(f=t.substr(1,t.length-2).split(","),t={},r=f.length;r--;)e=f[r].split(":",2),t[e[0].replace(/(^\s*)|(\s*$)/g,"")]=o(e[1].replace(/(^\s*)|(\s*$)/g,""));else t=o(t);this.tagValCache.key=t}return t},get:function(n,t){var r=this.getTagSetting(n),u;return r!==c?r:(u=this.mergedOptions[n])===i?t:u}});r.fn.sparkline._base=u({disabled:!1,init:function(n,t,u,f,e){this.el=n;this.$el=r(n);this.values=t;this.options=u;this.width=f;this.height=e;this.currentRegion=i},initTarget:function(){var n=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),n))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(){},setRegionHighlight:function(n,t,r){var f=this.currentRegion,e=!this.options.get("disableHighlight"),u;return t>this.canvasWidth||r>this.canvasHeight||t<0||r<0?null:(u=this.getRegion(n,t,r),f!==u)?(f!==i&&e&&this.removeHighlight(),this.currentRegion=u,u!==i&&e&&this.renderHighlight(),!0):!1},clearRegionHighlight:function(){return this.currentRegion!==i?(this.removeHighlight(),this.currentRegion=i,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var t=this.options,y="",h=[],n,o,p,w,b,u,c,l,a,k,v,s,d,f;if(this.currentRegion===i)return"";if(n=this.getCurrentRegionFields(),v=t.get("tooltipFormatter"),v)return v(this,t,n);if(t.get("tooltipChartTitle")&&(y+='<div class="jqs jqstitle">'+t.get("tooltipChartTitle")+"<\/div>\n"),o=this.options.get("tooltipFormat"),!o)return"";if(r.isArray(o)||(o=[o]),r.isArray(n)||(n=[n]),c=this.options.get("tooltipFormatFieldlist"),l=this.options.get("tooltipFormatFieldlistKey"),c&&l){for(a=[],u=n.length;u--;)k=n[u][l],(f=r.inArray(k,c))!=-1&&(a[f]=n[u]);n=a}for(p=o.length,d=n.length,u=0;u<p;u++)for(s=o[u],typeof s=="string"&&(s=new e(s)),w=s.fclass||"jqsfield",f=0;f<d;f++)n[f].isNull&&t.get("tooltipSkipNull")||(r.extend(n[f],{prefix:t.get("tooltipPrefix"),suffix:t.get("tooltipSuffix")}),b=s.render(n[f],t.get("tooltipValueLookups"),t),h.push('<div class="'+w+'">'+b+"<\/div>"));return h.length?y+h.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(n,i){var e=i.get("highlightColor"),o=i.get("highlightLighten"),u,h,f,r;if(e)return e;if(o&&(u=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(n)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(n),u)){for(f=[],h=n.length===4?16:1,r=0;r<3;r++)f[r]=s(t.round(parseInt(u[r+1],16)*h*o),0,255);return"rgb("+f.join(",")+")"}return n}});a={changeHighlight:function(n){var i=this.currentRegion,f=this.target,u=this.regionShapes[i],t;u&&(t=this.renderRegion(i,n),r.isArray(t)||r.isArray(u)?(f.replaceWithShapes(u,t),this.regionShapes[i]=r.map(t,function(n){return n.id})):(f.replaceWithShape(u,t),this.regionShapes[i]=t.id))},render:function(){var e=this.values,o=this.target,u=this.regionShapes,n,f,t,i;if(this.cls._super.render.call(this)){for(t=e.length;t--;)if(n=this.renderRegion(t),n)if(r.isArray(n)){for(f=[],i=n.length;i--;)n[i].append(),f.push(n[i].id);u[t]=f}else n.append(),u[t]=n.id;else u[t]=null;o.render()}}};r.fn.sparkline.line=p=u(r.fn.sparkline._base,{type:"line",init:function(n,t,i,r,u){p._super.init.call(this,n,t,i,r,u);this.vertices=[];this.regionMap=[];this.xvalues=[];this.yvalues=[];this.yminmax=[];this.hightlightSpotId=null;this.lastShapeId=null;this.initTarget()},getRegion:function(n,t){for(var u=this.regionMap,r=u.length;r--;)if(u[r]!==null&&t>=u[r][0]&&t<=u[r][1])return u[r][2];return i},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.yvalues[n]===null,x:this.xvalues[n],y:this.yvalues[n],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:n}},renderHighlight:function(){var h=this.currentRegion,t=this.target,n=this.vertices[h],r=this.options,e=r.get("spotRadius"),o=r.get("highlightSpotColor"),s=r.get("highlightLineColor"),u,f;n&&(e&&o&&(u=t.drawCircle(n[0],n[1],e,i,o),this.highlightSpotId=u.id,t.insertAfterShape(this.lastShapeId,u)),s&&(f=t.drawLine(n[0],this.canvasTop,n[0],this.canvasTop+this.canvasHeight,s),this.highlightLineId=f.id,t.insertAfterShape(this.lastShapeId,f)))},removeHighlight:function(){var n=this.target;this.highlightSpotId&&(n.removeShapeId(this.highlightSpotId),this.highlightSpotId=null);this.highlightLineId&&(n.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){for(var i=this.values,c=i.length,r=this.xvalues,e=this.yvalues,u=this.yminmax,f,s,h,o,n=0;n<c;n++)f=i[n],s=typeof i[n]=="string",h=typeof i[n]=="object"&&i[n]instanceof Array,o=s&&i[n].split(":"),s&&o.length===2?(r.push(Number(o[0])),e.push(Number(o[1])),u.push(Number(o[1]))):h?(r.push(f[0]),e.push(f[1]),u.push(f[1])):(r.push(n),i[n]===null||i[n]==="null"?e.push(null):(e.push(Number(f)),u.push(Number(f))));this.options.get("xvalues")&&(r=this.options.get("xvalues"));this.maxy=this.maxyorg=t.max.apply(t,u);this.miny=this.minyorg=t.min.apply(t,u);this.maxx=t.max.apply(t,r);this.minx=t.min.apply(t,r);this.xvalues=r;this.yvalues=e;this.yminmax=u},processRangeOptions:function(){var n=this.options,t=n.get("normalRangeMin"),r=n.get("normalRangeMax");t!==i&&(t<this.miny&&(this.miny=t),r>this.maxy&&(this.maxy=r));n.get("chartRangeMin")!==i&&(n.get("chartRangeClip")||n.get("chartRangeMin")<this.miny)&&(this.miny=n.get("chartRangeMin"));n.get("chartRangeMax")!==i&&(n.get("chartRangeClip")||n.get("chartRangeMax")>this.maxy)&&(this.maxy=n.get("chartRangeMax"));n.get("chartRangeMinX")!==i&&(n.get("chartRangeClipX")||n.get("chartRangeMinX")<this.minx)&&(this.minx=n.get("chartRangeMinX"));n.get("chartRangeMaxX")!==i&&(n.get("chartRangeClipX")||n.get("chartRangeMaxX")>this.maxx)&&(this.maxx=n.get("chartRangeMaxX"))},drawNormalRange:function(n,r,u,f,e){var s=this.options.get("normalRangeMin"),o=this.options.get("normalRangeMax"),h=r+t.round(u-u*((o-this.miny)/e)),c=t.round(u*(o-s)/e);this.target.drawRect(n,h,f,c,i,this.options.get("normalRangeColor")).append()},render:function(){var n=this.options,v=this.target,c=this.canvasWidth,o=this.canvasHeight,at=this.vertices,f=n.get("spotRadius"),pt=this.regionMap,b,y,k,l,a,ht,e,ut,g,d,vt,tt,yt,ct,ft,et,ot,st,nt,it,rt,lt,w,s,u;if(p._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),w=this.xvalues,s=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(l=a=0,b=this.maxx-this.minx==0?1:this.maxx-this.minx,y=this.maxy-this.miny==0?1:this.maxy-this.miny,k=this.yvalues.length-1,f&&(c<f*4||o<f*4)&&(f=0),f&&(rt=n.get("highlightSpotColor")&&!n.get("disableInteraction"),(rt||n.get("minSpotColor")||n.get("spotColor")&&s[k]===this.miny)&&(o-=t.ceil(f)),(rt||n.get("maxSpotColor")||n.get("spotColor")&&s[k]===this.maxy)&&(o-=t.ceil(f),l+=t.ceil(f)),(rt||(n.get("minSpotColor")||n.get("maxSpotColor"))&&(s[0]===this.miny||s[0]===this.maxy))&&(a+=t.ceil(f),c-=t.ceil(f)),(rt||n.get("spotColor")||n.get("minSpotColor")||n.get("maxSpotColor")&&(s[k]===this.miny||s[k]===this.maxy))&&(c-=t.ceil(f))),o--,n.get("normalRangeMin")===i||n.get("drawNormalOnTop")||this.drawNormalRange(a,l,o,c,y),e=[],ut=[e],ct=ft=null,et=s.length,u=0;u<et;u++)g=w[u],vt=w[u+1],d=s[u],tt=a+t.round((g-this.minx)*(c/b)),yt=u<et-1?a+t.round((vt-this.minx)*(c/b)):c,ft=tt+(yt-tt)/2,pt[u]=[ct||0,ft,u],ct=ft,d===null?u&&(s[u-1]!==null&&(e=[],ut.push(e)),at.push(null)):(d<this.miny&&(d=this.miny),d>this.maxy&&(d=this.maxy),e.length||e.push([tt,l+o]),ht=[tt,l+t.round(o-o*((d-this.miny)/y))],e.push(ht),at.push(ht));for(ot=[],st=[],nt=ut.length,u=0;u<nt;u++)e=ut[u],e.length&&(n.get("fillColor")&&(e.push([e[e.length-1][0],l+o]),st.push(e.slice(0)),e.pop()),e.length>2&&(e[0]=[e[0][0],e[1][1]]),ot.push(e));for(nt=st.length,u=0;u<nt;u++)v.drawShape(st[u],n.get("fillColor"),n.get("fillColor")).append();for(n.get("normalRangeMin")!==i&&n.get("drawNormalOnTop")&&this.drawNormalRange(a,l,o,c,y),nt=ot.length,u=0;u<nt;u++)v.drawShape(ot[u],n.get("lineColor"),i,n.get("lineWidth")).append();if(f&&n.get("valueSpots"))for(it=n.get("valueSpots"),it.get===i&&(it=new h(it)),u=0;u<et;u++)lt=it.get(s[u]),lt&&v.drawCircle(a+t.round((w[u]-this.minx)*(c/b)),l+t.round(o-o*((s[u]-this.miny)/y)),f,i,lt).append();f&&n.get("spotColor")&&s[k]!==null&&v.drawCircle(a+t.round((w[w.length-1]-this.minx)*(c/b)),l+t.round(o-o*((s[k]-this.miny)/y)),f,i,n.get("spotColor")).append();this.maxy!==this.minyorg&&(f&&n.get("minSpotColor")&&(g=w[r.inArray(this.minyorg,s)],v.drawCircle(a+t.round((g-this.minx)*(c/b)),l+t.round(o-o*((this.minyorg-this.miny)/y)),f,i,n.get("minSpotColor")).append()),f&&n.get("maxSpotColor")&&(g=w[r.inArray(this.maxyorg,s)],v.drawCircle(a+t.round((g-this.minx)*(c/b)),l+t.round(o-o*((this.maxyorg-this.miny)/y)),f,i,n.get("maxSpotColor")).append()));this.lastShapeId=v.getLastShapeId();this.canvasTop=l;v.render()}}});r.fn.sparkline.bar=ht=u(r.fn.sparkline._base,a,{type:"bar",init:function(n,u,f,e,c){var ct=parseInt(f.get("barWidth"),10),lt=parseInt(f.get("barSpacing"),10),dt=f.get("chartRangeMin"),gt=f.get("chartRangeMax"),at=f.get("chartRangeClip"),nt=Infinity,d=-Infinity,vt,yt,pt,tt,b,a,rt,wt,ut,ft,y,p,bt,kt,w,et,g,ni,ti,l,k,ii,ot,st;for(ht._super.init.call(this,n,u,f,e,c),a=0,rt=u.length;a<rt;a++)l=u[a],vt=typeof l=="string"&&l.indexOf(":")>-1,(vt||r.isArray(l))&&(w=!0,vt&&(l=u[a]=v(l.split(":"))),l=it(l,null),yt=t.min.apply(t,l),pt=t.max.apply(t,l),yt<nt&&(nt=yt),pt>d&&(d=pt));for(this.stacked=w,this.regionShapes={},this.barWidth=ct,this.barSpacing=lt,this.totalBarWidth=ct+lt,this.width=e=u.length*ct+(u.length-1)*lt,this.initTarget(),at&&(bt=dt===i?-Infinity:dt,kt=gt===i?Infinity:gt),b=[],tt=w?[]:b,ot=[],st=[],a=0,rt=u.length;a<rt;a++)if(w)for(et=u[a],u[a]=ti=[],ot[a]=0,tt[a]=st[a]=0,g=0,ni=et.length;g<ni;g++)l=ti[g]=at?s(et[g],bt,kt):et[g],l!==null&&(l>0&&(ot[a]+=l),nt<0&&d>0?l<0?st[a]+=t.abs(l):tt[a]+=l:tt[a]+=t.abs(l-(l<0?d:nt)),b.push(l));else l=at?s(u[a],bt,kt):u[a],l=u[a]=o(l),l!==null&&b.push(l);this.max=p=t.max.apply(t,b);this.min=y=t.min.apply(t,b);this.stackMax=d=w?t.max.apply(t,ot):p;this.stackMin=nt=w?t.min.apply(t,b):y;f.get("chartRangeMin")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMin")<y)&&(y=f.get("chartRangeMin"));f.get("chartRangeMax")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMax")>p)&&(p=f.get("chartRangeMax"));this.zeroAxis=ut=f.get("zeroAxis",!0);ft=y<=0&&p>=0&&ut?0:ut==!1?y:y>0?y:p;this.xaxisOffset=ft;wt=w?t.max.apply(t,tt)+t.max.apply(t,st):p-y;this.canvasHeightEf=ut&&y<0?this.canvasHeight-2:this.canvasHeight-1;y<ft?(ii=w&&p>=0?d:p,k=(ii-ft)/wt*this.canvasHeight,k!==t.ceil(k)&&(this.canvasHeightEf-=2,k=t.ceil(k))):k=this.canvasHeight;this.yoffset=k;r.isArray(f.get("colorMap"))?(this.colorMapByIndex=f.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=f.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new h(this.colorMapByValue)));this.range=wt},getRegion:function(n,r){var u=t.floor(r/this.totalBarWidth);return u<0||u>=this.values.length?i:u},getCurrentRegionFields:function(){for(var i=this.currentRegion,r=ft(this.values[i]),u=[],n,t=r.length;t--;)n=r[t],u.push({isNull:n===null,value:n,color:this.calcColor(t,n,i),offset:i});return u},calcColor:function(n,t,u){var o=this.colorMapByIndex,s=this.colorMapByValue,e=this.options,f,h;return f=this.stacked?e.get("stackedBarColor"):t<0?e.get("negBarColor"):e.get("barColor"),t===0&&e.get("zeroColor")!==i&&(f=e.get("zeroColor")),s&&(h=s.get(t))?f=h:o&&o.length>u&&(f=o[u]),r.isArray(f)?f[n%f.length]:f},renderRegion:function(n,u){var f=this.values[n],h=this.options,c=this.xaxisOffset,p=[],b=this.range,rt=this.stacked,k=this.target,d=n*this.totalBarWidth,ut=this.canvasHeightEf,o=this.yoffset,l,a,e,g,w,v,nt,s,tt,it;if(f=r.isArray(f)?f:[f],nt=f.length,s=f[0],g=y(null,f),it=y(c,f,!0),g)return h.get("nullColor")?(e=u?h.get("nullColor"):this.calcHighlightColor(h.get("nullColor"),h),l=o>0?o-1:o,k.drawRect(d,l,this.barWidth-1,0,e,e)):i;for(w=o,v=0;v<nt;v++){if(s=f[v],rt&&s===c){if(!it||tt)continue;tt=!0}a=b>0?t.floor(ut*(t.abs(s-c)/b))+1:1;s<c||s===c&&o===0?(l=w,w+=a):(l=o-a,o-=a);e=this.calcColor(v,s,n);u&&(e=this.calcHighlightColor(e,h));p.push(k.drawRect(d,l,this.barWidth-1,a-1,e,e))}return p.length===1?p[0]:p}});r.fn.sparkline.tristate=ct=u(r.fn.sparkline._base,a,{type:"tristate",init:function(n,t,u,f,e){var o=parseInt(u.get("barWidth"),10),s=parseInt(u.get("barSpacing"),10);ct._super.init.call(this,n,t,u,f,e);this.regionShapes={};this.barWidth=o;this.barSpacing=s;this.totalBarWidth=o+s;this.values=r.map(t,Number);this.width=f=t.length*o+(t.length-1)*s;r.isArray(u.get("colorMap"))?(this.colorMapByIndex=u.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=u.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new h(this.colorMapByValue)));this.initTarget()},getRegion:function(n,i){return t.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===i,value:this.values[n],color:this.calcColor(this.values[n],n),offset:n}},calcColor:function(n,t){var u=this.values,i=this.options,r=this.colorMapByIndex,f=this.colorMapByValue,e;return f&&(e=f.get(n))?e:r&&r.length>t?r[t]:u[t]<0?i.get("negBarColor"):u[t]>0?i.get("posBarColor"):i.get("zeroBarColor")},renderRegion:function(n,i){var o=this.values,l=this.options,s=this.target,h,f,u,c,e,r;if(h=s.pixelHeight,u=t.round(h/2),c=n*this.totalBarWidth,o[n]<0?(e=u,f=u-1):o[n]>0?(e=0,f=u-1):(e=u-1,f=2),r=this.calcColor(o[n],n),r!==null)return i&&(r=this.calcHighlightColor(r,l)),s.drawRect(c,e,this.barWidth-1,f-1,r,r)}});r.fn.sparkline.discrete=lt=u(r.fn.sparkline._base,a,{type:"discrete",init:function(n,u,f,e,o){lt._super.init.call(this,n,u,f,e,o);this.regionShapes={};this.values=u=r.map(u,Number);this.min=t.min.apply(t,u);this.max=t.max.apply(t,u);this.range=this.max-this.min;this.width=e=f.get("width")==="auto"?u.length*2:this.width;this.interval=t.floor(e/u.length);this.itemWidth=e/u.length;f.get("chartRangeMin")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMin")<this.min)&&(this.min=f.get("chartRangeMin"));f.get("chartRangeMax")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMax")>this.max)&&(this.max=f.get("chartRangeMax"));this.initTarget();this.target&&(this.lineHeight=f.get("lineHeight")==="auto"?t.round(this.canvasHeight*.3):f.get("lineHeight"))},getRegion:function(n,i){return t.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===i,value:this.values[n],offset:n}},renderRegion:function(n,i){var a=this.values,r=this.options,h=this.min,v=this.max,y=this.range,p=this.interval,w=this.target,b=this.canvasHeight,c=this.lineHeight,l=b-c,f,e,u,o;return e=s(a[n],h,v),o=n*p,f=t.round(l-l*((e-h)/y)),u=r.get("thresholdColor")&&e<r.get("thresholdValue")?r.get("thresholdColor"):r.get("lineColor"),i&&(u=this.calcHighlightColor(u,r)),w.drawLine(o,f,o,f+c,u)}});r.fn.sparkline.bullet=w=u(r.fn.sparkline._base,{type:"bullet",init:function(n,r,u,f,e){var s,h,o;w._super.init.call(this,n,r,u,f,e);this.values=r=v(r);o=r.slice();o[0]=o[0]===null?o[2]:o[0];o[1]=r[1]===null?o[2]:o[1];s=t.min.apply(t,r);h=t.max.apply(t,r);s=u.get("base")===i?s<0?s:0:u.get("base");this.min=s;this.max=h;this.range=h-s;this.shapes={};this.valueShapes={};this.regiondata={};this.width=f=u.get("width")==="auto"?"4.0em":f;this.target=this.$el.simpledraw(f,e,u.get("composite"));r.length||(this.disabled=!0);this.initTarget()},getRegion:function(n,t,r){var u=this.target.getShapeAt(n,t,r);return u!==i&&this.shapes[u]!==i?this.shapes[u]:i},getCurrentRegionFields:function(){var n=this.currentRegion;return{fieldkey:n.substr(0,1),value:this.values[n.substr(1)],region:n}},changeHighlight:function(n){var i=this.currentRegion,r=this.valueShapes[i],t;delete this.shapes[r];switch(i.substr(0,1)){case"r":t=this.renderRange(i.substr(1),n);break;case"p":t=this.renderPerformance(n);break;case"t":t=this.renderTarget(n)}this.valueShapes[i]=t.id;this.shapes[t.id]=i;this.target.replaceWithShape(r,t)},renderRange:function(n,i){var u=this.values[n],f=t.round(this.canvasWidth*((u-this.min)/this.range)),r=this.options.get("rangeColors")[n-2];return i&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,f-1,this.canvasHeight-1,r,r)},renderPerformance:function(n){var r=this.values[1],u=t.round(this.canvasWidth*((r-this.min)/this.range)),i=this.options.get("performanceColor");return n&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(0,t.round(this.canvasHeight*.3),u-1,t.round(this.canvasHeight*.4)-1,i,i)},renderTarget:function(n){var u=this.values[0],f=t.round(this.canvasWidth*((u-this.min)/this.range)-this.options.get("targetWidth")/2),r=t.round(this.canvasHeight*.1),e=this.canvasHeight-r*2,i=this.options.get("targetColor");return n&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(f,r,this.options.get("targetWidth")-1,e-1,i,i)},render:function(){var i=this.values.length,r=this.target,t,n;if(w._super.render.call(this)){for(t=2;t<i;t++)n=this.renderRange(t).append(),this.shapes[n.id]="r"+t,this.valueShapes["r"+t]=n.id;this.values[1]!==null&&(n=this.renderPerformance().append(),this.shapes[n.id]="p1",this.valueShapes.p1=n.id);this.values[0]!==null&&(n=this.renderTarget().append(),this.shapes[n.id]="t0",this.valueShapes.t0=n.id);r.render()}}});r.fn.sparkline.pie=b=u(r.fn.sparkline._base,{type:"pie",init:function(n,i,u,f,e){var s=0,o;if(b._super.init.call(this,n,i,u,f,e),this.shapes={},this.valueShapes={},this.values=i=r.map(i,Number),u.get("width")==="auto"&&(this.width=this.height),i.length>0)for(o=i.length;o--;)s+=i[o];this.total=s;this.initTarget();this.radius=t.floor(t.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(n,t,r){var u=this.target.getShapeAt(n,t,r);return u!==i&&this.shapes[u]!==i?this.shapes[u]:i},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===i,value:this.values[n],percent:this.values[n]/this.total*100,color:this.options.get("sliceColors")[n%this.options.get("sliceColors").length],offset:n}},changeHighlight:function(n){var t=this.currentRegion,i=this.renderSlice(t,n),r=this.valueShapes[t];delete this.shapes[r];this.target.replaceWithShape(r,i);this.valueShapes[t]=i.id;this.shapes[i.id]=t},renderSlice:function(n,r){for(var p=this.target,f=this.options,h=this.radius,w=f.get("borderWidth"),c=f.get("offset"),b=2*t.PI,l=this.values,a=this.total,e=c?2*t.PI*(c/360):0,v,o,s,y=l.length,u=0;u<y;u++){if(v=e,o=e,a>0&&(o=e+b*(l[u]/a)),n===u)return s=f.get("sliceColors")[u%f.get("sliceColors").length],r&&(s=this.calcHighlightColor(s,f)),p.drawPieSlice(h,h,h-w,v,o,i,s);e=o}},render:function(){var e=this.target,o=this.values,s=this.options,r=this.radius,u=s.get("borderWidth"),f,n;if(b._super.render.call(this)){for(u&&e.drawCircle(r,r,t.floor(r-u/2),s.get("borderColor"),i,u).append(),n=o.length;n--;)o[n]&&(f=this.renderSlice(n).append(),this.valueShapes[n]=f.id,this.shapes[f.id]=n);e.render()}}});r.fn.sparkline.box=k=u(r.fn.sparkline._base,{type:"box",init:function(n,t,i,u,f){k._super.init.call(this,n,t,i,u,f);this.values=r.map(t,Number);this.width=i.get("width")==="auto"?"4.0em":u;this.initTarget();this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var n=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==i&&n.push({field:"lo",value:this.loutlier}),this.routlier!==i&&n.push({field:"ro",value:this.routlier}),this.lwhisker!==i&&n.push({field:"lw",value:this.lwhisker}),this.rwhisker!==i&&n.push({field:"rw",value:this.rwhisker}),n},render:function(){var s=this.target,r=this.values,g=r.length,n=this.options,nt=this.canvasWidth,u=this.canvasHeight,e=n.get("chartRangeMin")===i?t.min.apply(t,r):n.get("chartRangeMin"),it=n.get("chartRangeMax")===i?t.max.apply(t,r):n.get("chartRangeMax"),o=0,h,w,tt,a,p,v,c,b,y,d,f;if(k._super.render.call(this)){if(n.get("raw"))n.get("showOutliers")&&r.length>5?(w=r[0],h=r[1],a=r[2],p=r[3],v=r[4],c=r[5],b=r[6]):(h=r[0],a=r[1],p=r[2],v=r[3],c=r[4]);else if(r.sort(function(n,t){return n-t}),a=l(r,1),p=l(r,2),v=l(r,3),tt=v-a,n.get("showOutliers")){for(h=c=i,y=0;y<g;y++)h===i&&r[y]>a-tt*n.get("outlierIQR")&&(h=r[y]),r[y]<v+tt*n.get("outlierIQR")&&(c=r[y]);w=r[0];b=r[g-1]}else h=r[0],c=r[g-1];this.quartiles=[a,p,v];this.lwhisker=h;this.rwhisker=c;this.loutlier=w;this.routlier=b;f=nt/(it-e+1);n.get("showOutliers")&&(o=t.ceil(n.get("spotRadius")),nt-=2*t.ceil(n.get("spotRadius")),f=nt/(it-e+1),w<h&&s.drawCircle((w-e)*f+o,u/2,n.get("spotRadius"),n.get("outlierLineColor"),n.get("outlierFillColor")).append(),b>c&&s.drawCircle((b-e)*f+o,u/2,n.get("spotRadius"),n.get("outlierLineColor"),n.get("outlierFillColor")).append());s.drawRect(t.round((a-e)*f+o),t.round(u*.1),t.round((v-a)*f),t.round(u*.8),n.get("boxLineColor"),n.get("boxFillColor")).append();s.drawLine(t.round((h-e)*f+o),t.round(u/2),t.round((a-e)*f+o),t.round(u/2),n.get("lineColor")).append();s.drawLine(t.round((h-e)*f+o),t.round(u/4),t.round((h-e)*f+o),t.round(u-u/4),n.get("whiskerColor")).append();s.drawLine(t.round((c-e)*f+o),t.round(u/2),t.round((v-e)*f+o),t.round(u/2),n.get("lineColor")).append();s.drawLine(t.round((c-e)*f+o),t.round(u/4),t.round((c-e)*f+o),t.round(u-u/4),n.get("whiskerColor")).append();s.drawLine(t.round((p-e)*f+o),t.round(u*.1),t.round((p-e)*f+o),t.round(u*.9),n.get("medianColor")).append();n.get("target")&&(d=t.ceil(n.get("spotRadius")),s.drawLine(t.round((n.get("target")-e)*f+o),t.round(u/2-d),t.round((n.get("target")-e)*f+o),t.round(u/2+d),n.get("targetColor")).append(),s.drawLine(t.round((n.get("target")-e)*f+o-d),t.round(u/2),t.round((n.get("target")-e)*f+o+d),t.round(u/2),n.get("targetColor")).append());s.render()}}});yt=u({init:function(n,t,i,r){this.target=n;this.id=t;this.type=i;this.args=r},append:function(){return this.target.appendShape(this),this}});d=u({_pxregex:/(\d+)(px)?\s*$/i,init:function(n,t,i){n&&(this.width=n,this.height=t,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),r.data(i,"_jqs_vcanvas",this))},drawLine:function(n,t,i,r,u,f){return this.drawShape([[n,t],[i,r]],u,f)},drawShape:function(n,t,i,r){return this._genShape("Shape",[n,t,i,r])},drawCircle:function(n,t,i,r,u,f){return this._genShape("Circle",[n,t,i,r,u,f])},drawPieSlice:function(n,t,i,r,u,f,e){return this._genShape("PieSlice",[n,t,i,r,u,f,e])},drawRect:function(n,t,i,r,u,f){return this._genShape("Rect",[n,t,i,r,u,f])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(n,t){r(t).html(n)},_calculatePixelDims:function(n,t,i){var u;u=this._pxregex.exec(t);this.pixelHeight=u?u[1]:r(i).height();u=this._pxregex.exec(n);this.pixelWidth=u?u[1]:r(i).width()},_genShape:function(n,t){var i=wt++;return t.unshift(i),new yt(this,i,n,t)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}});g=u(d,{init:function(t,u,f,e){g._super.init.call(this,t,u,f);this.canvas=n.createElement("canvas");f[0]&&(f=f[0]);r.data(f,"_jqs_vcanvas",this);r(this.canvas).css({display:"inline-block",width:t,height:u,verticalAlign:"top"});this._insert(this.canvas,f);this._calculatePixelDims(t,u,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;this.interact=e;this.shapes={};this.shapeseq=[];this.currentTargetShapeId=i;r(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(n,t,r){var u=this.canvas.getContext("2d");return n!==i&&(u.strokeStyle=n),u.lineWidth=r===i?1:r,t!==i&&(u.fillStyle=t),u},reset:function(){var n=this._getContext();n.clearRect(0,0,this.pixelWidth,this.pixelHeight);this.shapes={};this.shapeseq=[];this.currentTargetShapeId=i},_drawShape:function(n,t,r,u,f){var e=this._getContext(r,u,f),o,s;for(e.beginPath(),e.moveTo(t[0][0]+.5,t[0][1]+.5),o=1,s=t.length;o<s;o++)e.lineTo(t[o][0]+.5,t[o][1]+.5);r!==i&&e.stroke();u!==i&&e.fill();this.targetX!==i&&this.targetY!==i&&e.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n)},_drawCircle:function(n,r,u,f,e,o,s){var h=this._getContext(e,o,s);h.beginPath();h.arc(r,u,f,0,2*t.PI,!1);this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n);e!==i&&h.stroke();o!==i&&h.fill()},_drawPieSlice:function(n,t,r,u,f,e,o,s){var h=this._getContext(o,s);h.beginPath();h.moveTo(t,r);h.arc(t,r,u,f,e,!1);h.lineTo(t,r);h.closePath();o!==i&&h.stroke();s&&h.fill();this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n)},_drawRect:function(n,t,i,r,u,f,e){return this._drawShape(n,[[t,i],[t+r,i],[t+r,i+u],[t,i+u],[t,i]],f,e)},appendShape:function(n){return this.shapes[n.id]=n,this.shapeseq.push(n.id),this.lastShapeId=n.id,n.id},replaceWithShape:function(n,t){var r=this.shapeseq,i;for(this.shapes[t.id]=t,i=r.length;i--;)r[i]==n&&(r[i]=t.id);delete this.shapes[n]},replaceWithShapes:function(n,t){for(var r=this.shapeseq,f={},u,e,i=n.length;i--;)f[n[i]]=!0;for(i=r.length;i--;)u=r[i],f[u]&&(r.splice(i,1),delete this.shapes[u],e=i);for(i=t.length;i--;)r.splice(e,0,t[i].id),this.shapes[t[i].id]=t[i]},insertAfterShape:function(n,t){for(var r=this.shapeseq,i=r.length;i--;)if(r[i]===n){r.splice(i+1,0,t.id);this.shapes[t.id]=t;return}},removeShapeId:function(n){for(var i=this.shapeseq,t=i.length;t--;)if(i[t]===n){i.splice(t,1);break}delete this.shapes[n]},getShapeAt:function(n,t,i){return this.targetX=t,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var i=this.shapeseq,u=this.shapes,f=i.length,e=this._getContext(),r,t,n;for(e.clearRect(0,0,this.pixelWidth,this.pixelHeight),n=0;n<f;n++)r=i[n],t=u[r],this["_draw"+t.type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}});nt=u(d,{init:function(t,i,u){var f;nt._super.init.call(this,t,i,u);u[0]&&(u=u[0]);r.data(u,"_jqs_vcanvas",this);this.canvas=n.createElement("span");r(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:i,margin:"0px",padding:"0px",verticalAlign:"top"});this._insert(this.canvas,u);this._calculatePixelDims(t,i,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;f='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"><\/v:group>';this.canvas.insertAdjacentHTML("beforeEnd",f);this.group=r(this.canvas).children()[0];this.rendered=!1;this.prerender=""},_drawShape:function(n,t,r,u,f){for(var e=[],s,h,c,l,o=0,a=t.length;o<a;o++)e[o]=""+t[o][0]+","+t[o][1];return s=e.splice(0,1),f=f===i?1:f,h=r===i?' stroked="false" ':' strokeWeight="'+f+'px" strokeColor="'+r+'" ',c=u===i?' filled="false"':' fillColor="'+u+'" filled="true" ',l=e[0]===e[e.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+n+'" '+h+c+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+s+" l "+e.join(", ")+" "+l+'e"> <\/v:shape>'},_drawCircle:function(n,t,r,u,f,e,o){var s,h;return t-=u,r-=u,s=f===i?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+f+'" ',h=e===i?' filled="false"':' fillColor="'+e+'" filled="true" ','<v:oval  id="jqsshape'+n+'" '+s+h+' style="position:absolute;top:'+r+"px; left:"+t+"px; width:"+u*2+"px; height:"+u*2+'px"><\/v:oval>'},_drawPieSlice:function(n,r,u,f,e,o,s,h){var y,c,l,a,v,p,w;if(e===o)return"";if(o-e==2*t.PI&&(e=0,o=2*t.PI),c=r+t.round(t.cos(e)*f),l=u+t.round(t.sin(e)*f),a=r+t.round(t.cos(o)*f),v=u+t.round(t.sin(o)*f),c===a&&l===v){if(o-e<t.PI)return"";c=a=r+f;l=v=u}return c===a&&l===v&&o-e<t.PI?"":(y=[r-f,u-f,r+f,u+f,c,l,a,v],p=s===i?' stroked="false" ':' strokeWeight="1px" strokeColor="'+s+'" ',w=h===i?' filled="false"':' fillColor="'+h+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+n+'" '+p+w+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+r+","+u+" wa "+y.join(", ")+' x e"> <\/v:shape>')},_drawRect:function(n,t,i,r,u,f,e){return this._drawShape(n,[[t,i],[t,i+u],[t+r,i+u],[t+r,i],[t,i]],f,e)},reset:function(){this.group.innerHTML=""},appendShape:function(n){var t=this["_draw"+n.type].apply(this,n.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",t):this.prerender+=t,this.lastShapeId=n.id,n.id},replaceWithShape:function(n,t){var i=r("#jqsshape"+n),u=this["_draw"+t.type].apply(this,t.args);i[0].outerHTML=u},replaceWithShapes:function(n,t){for(var f=r("#jqsshape"+n[0]),u="",e=t.length,i=0;i<e;i++)u+=this["_draw"+t[i].type].apply(this,t[i].args);for(f[0].outerHTML=u,i=1;i<n.length;i++)r("#jqsshape"+n[i]).remove()},insertAfterShape:function(n,t){var i=r("#jqsshape"+n),u=this["_draw"+t.type].apply(this,t.args);i[0].insertAdjacentHTML("afterEnd",u)},removeShapeId:function(n){var t=r("#jqsshape"+n);this.group.removeChild(t[0])},getShapeAt:function(n){return n.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math);
/**!
 * easyPieChart
 * Lightweight plugin to render simple, animated and retina optimized pie charts
 *
 * @license 
 * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)
 * @version 2.1.5
 **/
(function(n,t){typeof exports=="object"?module.exports=t(require("jquery")):typeof define=="function"&&define.amd?define(["jquery"],t):t(n.jQuery)})(this,function(n){var t=function(n,t){var f,r=document.createElement("canvas"),i,u,e;n.appendChild(r);typeof G_vmlCanvasManager!="undefined"&&G_vmlCanvasManager.initElement(r);i=r.getContext("2d");r.width=r.height=t.size;u=1;window.devicePixelRatio>1&&(u=window.devicePixelRatio,r.style.width=r.style.height=[t.size,"px"].join(""),r.width=r.height=t.size*u,i.scale(u,u));i.translate(t.size/2,t.size/2);i.rotate((-1/2+t.rotate/180)*Math.PI);e=(t.size-t.lineWidth)/2;t.scaleColor&&t.scaleLength&&(e-=t.scaleLength+2);Date.now=Date.now||function(){return+new Date};var o=function(n,t,r){r=Math.min(Math.max(-1,r||0),1);var u=r<=0?!0:!1;i.beginPath();i.arc(0,0,e,0,Math.PI*2*r,u);i.strokeStyle=n;i.lineWidth=t;i.stroke()},c=function(){var u,n,r;for(i.lineWidth=1,i.fillStyle=t.scaleColor,i.save(),r=24;r>0;--r)r%6==0?(n=t.scaleLength,u=0):(n=t.scaleLength*.6,u=t.scaleLength-n),i.fillRect(-t.size/2+u,0,n,1),i.rotate(Math.PI/12);i.restore()},s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}(),h=function(){t.scaleColor&&c();t.trackColor&&o(t.trackColor,t.lineWidth,1)};this.getCanvas=function(){return r};this.getCtx=function(){return i};this.clear=function(){i.clearRect(t.size/-2,t.size/-2,t.size,t.size)};this.draw=function(n){!t.scaleColor&&!t.trackColor?this.clear():i.getImageData&&i.putImageData?f?i.putImageData(f,0,0):(h(),f=i.getImageData(0,0,t.size*u,t.size*u)):(this.clear(),h());i.lineCap=t.lineCap;var r;r=typeof t.barColor=="function"?t.barColor(n):t.barColor;o(r,t.lineWidth,n/100)}.bind(this);this.animate=function(n,i){var u=Date.now(),r;t.onStart(n,i);r=function(){var f=Math.min(Date.now()-u,t.animate.duration),e=t.easing(this,f,n,i-n,t.animate.duration);this.draw(e);t.onStep(n,i,e);if(f>=t.animate.duration)t.onStop(n,i);else s(r)}.bind(this);s(r)}.bind(this)},i=function(n,i){var u={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(n,t,i,r,u){return(t=t/(u/2),t<1)?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},onStart:function(){return},onStep:function(){return},onStop:function(){return}};if(typeof t!="undefined")u.renderer=t;else if(typeof SVGRenderer!="undefined")u.renderer=SVGRenderer;else throw new Error("Please load either the SVG- or the CanvasRenderer");var r={},f=0,e=function(){this.el=n;this.options=r;for(var t in u)u.hasOwnProperty(t)&&(r[t]=i&&typeof i[t]!="undefined"?i[t]:u[t],typeof r[t]=="function"&&(r[t]=r[t].bind(this)));r.easing=typeof r.easing=="string"&&typeof jQuery!="undefined"&&jQuery.isFunction(jQuery.easing[r.easing])?jQuery.easing[r.easing]:u.easing;typeof r.animate=="number"&&(r.animate={duration:r.animate,enabled:!0});typeof r.animate!="boolean"||r.animate||(r.animate={duration:1e3,enabled:r.animate});this.renderer=new r.renderer(n,r);this.renderer.draw(f);n.dataset&&n.dataset.percent?this.update(parseFloat(n.dataset.percent)):n.getAttribute&&n.getAttribute("data-percent")&&this.update(parseFloat(n.getAttribute("data-percent")))}.bind(this);this.update=function(n){return n=parseFloat(n),r.animate.enabled?this.renderer.animate(f,n):this.renderer.draw(n),f=n,this}.bind(this);this.disableAnimation=function(){return r.animate.enabled=!1,this};this.enableAnimation=function(){return r.animate.enabled=!0,this};e()};n.fn.easyPieChart=function(t){return this.each(function(){var r;n.data(this,"easyPieChart")||(r=n.extend({},t,n(this).data()),n.data(this,"easyPieChart",new i(this,r)))})}});
/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.2
 *
 */
(function(n){jQuery.fn.extend({slimScroll:function(i){var r=n.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);return this.each(function(){function d(t){var t,i,f;l&&(t=t||window.event,i=0,t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),f=t.target||t.srcTarget||t.srcElement,n(f).closest("."+r.wrapperClass).is(u.parent())&&h(i,!0),t.preventDefault&&!o&&t.preventDefault(),o||(t.returnValue=!1))}function h(n,t,i){var s,l,h;o=!1;s=n;l=u.outerHeight()-f.outerHeight();t&&(s=parseInt(f.css("top"))+n*parseInt(r.wheelStep)/100*f.outerHeight(),s=Math.min(Math.max(s,0),l),s=n>0?Math.ceil(s):Math.floor(s),f.css({top:s+"px"}));e=parseInt(f.css("top"))/(u.outerHeight()-f.outerHeight());s=e*(u[0].scrollHeight-u.outerHeight());i&&(s=n,h=s/u[0].scrollHeight*u.outerHeight(),h=Math.min(Math.max(h,0),l),f.css({top:h+"px"}));u.scrollTop(s);u.trigger("slimscrolling",~~s);nt();c()}function et(){window.addEventListener?(this.addEventListener("DOMMouseScroll",d,!1),this.addEventListener("mousewheel",d,!1)):document.attachEvent("onmousewheel",d)}function g(){a=Math.max(u.outerHeight()/u[0].scrollHeight*u.outerHeight(),ft);f.css({height:a+"px"});var n=a==u.outerHeight()?"none":"block";f.css({display:n})}function nt(){if(g(),clearTimeout(tt),e==~~e){if(o=r.allowPageScroll,it!=e){var n=~~e==0?"top":"bottom";u.trigger("slimscroll",n)}}else o=!1;if(it=e,a>=u.outerHeight()){o=!0;return}f.stop(!0,!0).fadeIn("fast");r.railVisible&&s.stop(!0,!0).fadeIn("fast")}function c(){r.alwaysVisible||(tt=setTimeout(function(){r.disableFadeOut&&l||y||p||(f.fadeOut("slow"),s.fadeOut("slow"))},1e3))}var l,y,p,tt,w,a,e,it,b="<div><\/div>",ft=30,o=!1,u=n(this),v,k,rt;if(u.parent().hasClass(r.wrapperClass)){if(v=u.scrollTop(),f=u.parent().find("."+r.barClass),s=u.parent().find("."+r.railClass),g(),n.isPlainObject(i)){if("height"in i&&i.height=="auto"&&(u.parent().css("height","auto"),u.css("height","auto"),k=u.parent().parent().height(),u.parent().css("height",k),u.css("height",k)),"scrollTo"in i)v=parseInt(r.scrollTo);else if("scrollBy"in i)v+=parseInt(r.scrollBy);else if("destroy"in i){f.remove();s.remove();u.unwrap();return}h(v,!1,!0)}return}r.height=i.height=="auto"?u.parent().height():i.height;rt=n(b).addClass(r.wrapperClass).css({position:"relative",overflow:"hidden",width:r.width,height:r.height});u.css({overflow:"hidden",width:r.width,height:r.height});var s=n(b).addClass(r.railClass).css({width:r.size,height:"100%",position:"absolute",top:0,display:r.alwaysVisible&&r.railVisible?"block":"none","border-radius":r.railBorderRadius,background:r.railColor,opacity:r.railOpacity,zIndex:90}),f=n(b).addClass(r.barClass).css({background:r.color,width:r.size,position:"absolute",top:0,opacity:r.opacity,display:r.alwaysVisible?"block":"none","border-radius":r.borderRadius,BorderRadius:r.borderRadius,MozBorderRadius:r.borderRadius,WebkitBorderRadius:r.borderRadius,zIndex:99}),ut=r.position=="right"?{right:r.distance}:{left:r.distance};s.css(ut);f.css(ut);u.wrap(rt);u.parent().append(f);u.parent().append(s);r.railDraggable&&f.bind("mousedown",function(i){var r=n(document);return p=!0,t=parseFloat(f.css("top")),pageY=i.pageY,r.bind("mousemove.slimscroll",function(n){currTop=t+n.pageY-pageY;f.css("top",currTop);h(0,f.position().top,!1)}),r.bind("mouseup.slimscroll",function(){p=!1;c();r.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(n){return n.stopPropagation(),n.preventDefault(),!1});s.hover(function(){nt()},function(){c()});f.hover(function(){y=!0},function(){y=!1});u.hover(function(){l=!0;nt();c()},function(){l=!1;c()});u.bind("touchstart",function(n){n.originalEvent.touches.length&&(w=n.originalEvent.touches[0].pageY)});u.bind("touchmove",function(n){if(o||n.originalEvent.preventDefault(),n.originalEvent.touches.length){var t=(w-n.originalEvent.touches[0].pageY)/r.touchScrollStep;h(t,!0);w=n.originalEvent.touches[0].pageY}});g();r.start==="bottom"?(f.css({top:u.outerHeight()-f.outerHeight()}),h(0,!0)):r.start!=="top"&&(h(n(r.start).position().top,null,!0),r.alwaysVisible||f.hide());et()}),this}});jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})})(jQuery);
//! moment.js
//! version : 2.5.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
(function(n){function ot(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function oi(n,t){return function(i){return u(n.call(this,i),t)}}function tu(n,t){return function(i){return this.lang().ordinal(n.call(this,i),t)}}function si(){}function st(n){yi(n);c(this,n)}function ht(n){var t=ci(n),i=t.year||0,r=t.month||0,u=t.week||0,f=t.day||0,e=t.hour||0,o=t.minute||0,s=t.second||0,h=t.millisecond||0;this._milliseconds=+h+s*1e3+o*6e4+e*36e5;this._days=+f+u*7;this._months=+r+i*12;this._data={};this._bubble()}function c(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return t.hasOwnProperty("toString")&&(n.toString=t.toString),t.hasOwnProperty("valueOf")&&(n.valueOf=t.valueOf),n}function iu(n){var i={};for(var t in n)n.hasOwnProperty(t)&&ir.hasOwnProperty(t)&&(i[t]=n[t]);return i}function y(n){return n<0?Math.ceil(n):Math.floor(n)}function u(n,t,i){for(var r=""+Math.abs(n),u=n>=0;r.length<t;)r="0"+r;return(u?i?"+":"":"-")+r}function ct(n,i,r,u){var o=i._milliseconds,f=i._days,e=i._months,s,h;o&&n._d.setTime(+n._d+o*r);(f||e)&&(s=n.minute(),h=n.hour());f&&n.date(n.date()+f*r);e&&n.month(n.month()+e*r);o&&!u&&t.updateOffset(n,f||e);(f||e)&&(n.minute(s),n.hour(h))}function lt(n){return Object.prototype.toString.call(n)==="[object Array]"}function ru(n){return Object.prototype.toString.call(n)==="[object Date]"||n instanceof Date}function hi(n,t,r){for(var e=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),f=0,u=0;u<e;u++)(r&&n[u]!==t[u]||!r&&i(n[u])!==i(t[u]))&&f++;return f+o}function l(n){if(n){var t=n.toLowerCase().replace(/(.)s$/,"$1");n=gr[n]||nu[t]||t}return n}function ci(n){var r={},t;for(var i in n)n.hasOwnProperty(i)&&(t=l(i),t&&(r[t]=n[i]));return r}function uu(i){var r,u;if(i.indexOf("week")===0)r=7,u="day";else if(i.indexOf("month")===0)r=12,u="month";else return;t[i]=function(f,e){var o,s,c=t.fn._lang[i],h=[];if(typeof f=="number"&&(e=f,f=n),s=function(n){var i=t().utc().set(u,n);return c.call(t.fn._lang,i,f||"")},e!=null)return s(e);for(o=0;o<r;o++)h.push(s(o));return h}}function i(n){var t=+n,i=0;return t!==0&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function at(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function li(n,i,r){return d(t([n,11,31+i-r]),i,r).week}function ai(n){return vi(n)?366:365}function vi(n){return n%4==0&&n%100!=0||n%400==0}function yi(n){var t;n._a&&n._pf.overflow===-2&&(t=n._a[a]<0||n._a[a]>11?a:n._a[e]<1||n._a[e]>at(n._a[f],n._a[a])?e:n._a[o]<0||n._a[o]>23?o:n._a[w]<0||n._a[w]>59?w:n._a[b]<0||n._a[b]>59?b:n._a[k]<0||n._a[k]>999?k:-1,n._pf._overflowDayOfYear&&(t<f||t>e)&&(t=e),n._pf.overflow=t)}function pi(n){return n._isValid==null&&(n._isValid=!isNaN(n._d.getTime())&&n._pf.overflow<0&&!n._pf.empty&&!n._pf.invalidMonth&&!n._pf.nullInput&&!n._pf.invalidFormat&&!n._pf.userInvalidated,n._strict&&(n._isValid=n._isValid&&n._pf.charsLeftOver===0&&n._pf.unusedTokens.length===0)),n._isValid}function vt(n){return n?n.toLowerCase().replace("_","-"):n}function yt(n,i){return i._isUTC?t(n).zone(i._offset||0):t(n).local()}function fu(n,t){return t.abbr=n,v[n]||(v[n]=new si),v[n].set(t),v[n]}function eu(n){delete v[n]}function s(n){var f=0,r,u,i,e,o=function(n){if(!v[n]&&gt)try{require("./lang/"+n)}catch(t){}return v[n]};if(!n)return t.fn._lang;if(!lt(n)){if(u=o(n),u)return u;n=[n]}while(f<n.length){for(e=vt(n[f]).split("-"),r=e.length,i=vt(n[f+1]),i=i?i.split("-"):null;r>0;){if(u=o(e.slice(0,r).join("-")),u)return u;if(i&&i.length>=r&&hi(e,i,!0)>=r-1)break;r--}f++}return t.fn._lang}function ou(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function su(n){for(var i=n.match(ni),t=0,r=i.length;t<r;t++)i[t]=h[i[t]]?h[i[t]]:ou(i[t]);return function(u){var f="";for(t=0;t<r;t++)f+=i[t]instanceof Function?i[t].call(u,n):i[t];return f}}function pt(n,t){return n.isValid()?(t=wi(t,n.lang()),et[t]||(et[t]=su(t)),et[t](n)):n.lang().invalidDate()}function wi(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(g.lastIndex=0;i>=0&&g.test(n);)n=n.replace(g,r),g.lastIndex=0,i-=1;return n}function hu(n,t){var i=t._strict;switch(n){case"DDDD":return ri;case"YYYY":case"GGGG":case"gggg":return i?pr:or;case"Y":case"G":case"g":return br;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?wr:sr;case"S":if(i)return yr;case"SS":if(i)return ii;case"SSS":if(i)return ri;case"DDD":return er;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return cr;case"a":case"A":return s(t._l)._meridiemParse;case"X":return ar;case"Z":case"ZZ":return tt;case"T":return lr;case"SSSS":return hr;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?ii:ti;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ti;case"Do":return vr;default:return new RegExp(yu(vu(n.replace("\\","")),"i"))}}function bi(n){n=n||"";var r=n.match(tt)||[],f=r[r.length-1]||[],t=(f+"").match(dr)||["-",0,0],u=+(t[1]*60)+i(t[2]);return t[0]==="+"?-u:u}function cu(n,t,r){var h,u=r._a;switch(n){case"M":case"MM":t!=null&&(u[a]=i(t)-1);break;case"MMM":case"MMMM":h=s(r._l).monthsParse(t);h!=null?u[a]=h:r._pf.invalidMonth=t;break;case"D":case"DD":t!=null&&(u[e]=i(t));break;case"Do":t!=null&&(u[e]=i(parseInt(t,10)));break;case"DDD":case"DDDD":t!=null&&(r._dayOfYear=i(t));break;case"YY":u[f]=i(t)+(i(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":u[f]=i(t);break;case"a":case"A":r._isPm=s(r._l).isPM(t);break;case"H":case"HH":case"h":case"hh":u[o]=i(t);break;case"m":case"mm":u[w]=i(t);break;case"s":case"ss":u[b]=i(t);break;case"S":case"SS":case"SSS":case"SSSS":u[k]=i(("0."+t)*1e3);break;case"X":r._d=new Date(parseFloat(t)*1e3);break;case"Z":case"ZZ":r._useUTC=!0;r._tzm=bi(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":n=n.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":n=n.substr(0,2);t&&(r._w=r._w||{},r._w[n]=t)}}function wt(n){var r,v,c=[],y,p,b,u,l,h,k,d;if(!n._d){for(y=au(n),n._w&&n._a[e]==null&&n._a[a]==null&&(b=function(i){var r=parseInt(i,10);return i?i.length<3?r>68?1900+r:2e3+r:r:n._a[f]==null?t().weekYear():n._a[f]},u=n._w,u.GG!=null||u.W!=null||u.E!=null?l=di(b(u.GG),u.W||1,u.E,4,1):(h=s(n._l),k=u.d!=null?ki(u.d,h):u.e!=null?parseInt(u.e,10)+h._week.dow:0,d=parseInt(u.w,10)||1,u.d!=null&&k<h._week.dow&&d++,l=di(b(u.gg),d,k,h._week.doy,h._week.dow)),n._a[f]=l.year,n._dayOfYear=l.dayOfYear),n._dayOfYear&&(p=n._a[f]==null?y[f]:n._a[f],n._dayOfYear>ai(p)&&(n._pf._overflowDayOfYear=!0),v=kt(p,0,n._dayOfYear),n._a[a]=v.getUTCMonth(),n._a[e]=v.getUTCDate()),r=0;r<3&&n._a[r]==null;++r)n._a[r]=c[r]=y[r];for(;r<7;r++)n._a[r]=c[r]=n._a[r]==null?r===2?1:0:n._a[r];c[o]+=i((n._tzm||0)/60);c[w]+=i((n._tzm||0)%60);n._d=(n._useUTC?kt:ku).apply(null,c)}}function lu(n){var t;n._d||(t=ci(n._i),n._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],wt(n))}function au(n){var t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function bt(n){n._a=[];n._pf.empty=!0;for(var l=s(n._l),t=""+n._i,i,r,e,a=t.length,c=0,f=wi(n._f,l).match(ni)||[],u=0;u<f.length;u++)r=f[u],i=(t.match(hu(r,n))||[])[0],i&&(e=t.substr(0,t.indexOf(i)),e.length>0&&n._pf.unusedInput.push(e),t=t.slice(t.indexOf(i)+i.length),c+=i.length),h[r]?(i?n._pf.empty=!1:n._pf.unusedTokens.push(r),cu(r,i,n)):n._strict&&!i&&n._pf.unusedTokens.push(r);n._pf.charsLeftOver=a-c;t.length>0&&n._pf.unusedInput.push(t);n._isPm&&n._a[o]<12&&(n._a[o]+=12);n._isPm===!1&&n._a[o]===12&&(n._a[o]=0);wt(n);yi(n)}function vu(n){return n.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u})}function yu(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function pu(n){var t,f,u,r,i;if(n._f.length===0){n._pf.invalidFormat=!0;n._d=new Date(NaN);return}for(r=0;r<n._f.length;r++)(i=0,t=c({},n),t._pf=ot(),t._f=n._f[r],bt(t),pi(t))&&(i+=t._pf.charsLeftOver,i+=t._pf.unusedTokens.length*10,t._pf.score=i,(u==null||i<u)&&(u=i,f=t));c(n,f||t)}function wu(n){var t,r,i=n._i,u=kr.exec(i);if(u){for(n._pf.iso=!0,t=0,r=it.length;t<r;t++)if(it[t][1].exec(i)){n._f=it[t][0]+(u[6]||" ");break}for(t=0,r=rt.length;t<r;t++)if(rt[t][1].exec(i)){n._f+=rt[t][0];break}i.match(tt)&&(n._f+="Z");bt(n)}else n._d=new Date(i)}function bu(t){var i=t._i,r=rr.exec(i);i===n?t._d=new Date:r?t._d=new Date(+r[1]):typeof i=="string"?wu(t):lt(i)?(t._a=i.slice(0),wt(t)):ru(i)?t._d=new Date(+i):typeof i=="object"?lu(t):t._d=new Date(i)}function ku(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return n<1970&&o.setFullYear(n),o}function kt(n){var t=new Date(Date.UTC.apply(null,arguments));return n<1970&&t.setUTCFullYear(n),t}function ki(n,t){if(typeof n=="string")if(isNaN(n)){if(n=t.weekdaysParse(n),typeof n!="number")return null}else n=parseInt(n,10);return n}function du(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function gu(n,t,i){var o=p(Math.abs(n)/1e3),u=p(o/60),f=p(u/60),r=p(f/24),s=p(r/365),e=o<45&&["s",o]||u===1&&["m"]||u<45&&["mm",u]||f===1&&["h"]||f<22&&["hh",f]||r===1&&["d"]||r<=25&&["dd",r]||r<=45&&["M"]||r<345&&["MM",p(r/30)]||s===1&&["y"]||["yy",s];return e[2]=t,e[3]=n>0,e[4]=i,du.apply({},e)}function d(n,i,r){var e=r-i,u=r-n.day(),f;return u>e&&(u-=7),u<e-7&&(u+=7),f=t(n).add("d",u),{week:Math.ceil(f.dayOfYear()/7),year:f.year()}}function di(n,t,i,r,u){var e=kt(n,0,1).getUTCDay(),o,f;return i=i!=null?i:u,o=u-e+(e>r?7:0)-(e<u?7:0),f=7*(t-1)+(i-u)+o+1,{year:f>0?n:n-1,dayOfYear:f>0?f:ai(n-1)+f}}function gi(n){var i=n._i,r=n._f;return i===null?t.invalid({nullInput:!0}):(typeof i=="string"&&(n._i=i=s().preparse(i)),t.isMoment(i)?(n=iu(i),n._d=new Date(+i._d)):r?lt(r)?pu(n):bt(n):bu(n),new st(n))}function nr(n,i){var r=i==="date"||i==="month"||i==="year";t.fn[n]=t.fn[n+"s"]=function(n,u){var f=this._isUTC?"UTC":"";return u==null&&(u=r),n!=null?(this._d["set"+f+i](n),t.updateOffset(this,u),this):this._d["get"+f+i]()}}function nf(n){t.duration.fn[n]=function(){return this._data[n]}}function tr(n,i){t.duration.fn["as"+n]=function(){return+this/i}}function dt(n){var i=!1,r=t;typeof ender=="undefined"&&(n?(nt.moment=function(){return!i&&console&&console.warn&&(i=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),r.apply(null,arguments)},c(nt.moment,r)):nt.moment=t)}for(var t,nt=this,p=Math.round,r,f=0,a=1,e=2,o=3,w=4,b=5,k=6,v={},ir={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},gt=typeof module!="undefined"&&module.exports&&typeof require!="undefined",rr=/^\/?Date\((\-?\d+)/i,ur=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,fr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ni=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,g=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ti=/\d\d?/,er=/\d{1,3}/,or=/\d{1,4}/,sr=/[+\-]?\d{1,6}/,hr=/\d+/,cr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,tt=/Z|[\+\-]\d\d:?\d\d/gi,lr=/T/i,ar=/[\+\-]?\d+(\.\d{1,3})?/,vr=/\d{1,2}/,yr=/\d/,ii=/\d\d/,ri=/\d{3}/,pr=/\d{4}/,wr=/[+-]?\d{6}/,br=/[+-]?\d+/,kr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,it=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],rt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],dr=/([\+\-]|\d\d)/gi,ut="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ft={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},gr={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},nu={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},et={},ui="DDD w W M D d".split(" "),fi="M D H h m s w W".split(" "),h={M:function(){return this.month()+1},MMM:function(n){return this.lang().monthsShort(this,n)},MMMM:function(n){return this.lang().months(this,n)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(n){return this.lang().weekdaysMin(this,n)},ddd:function(n){return this.lang().weekdaysShort(this,n)},dddd:function(n){return this.lang().weekdays(this,n)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},YYYYYY:function(){var n=this.year(),t=n>=0?"+":"-";return t+u(Math.abs(n),6)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return u(this.weekYear(),4)},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return u(this.isoWeekYear(),4)},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return i(this.milliseconds()/100)},SS:function(){return u(i(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},SSSS:function(){return u(this.milliseconds(),3)},Z:function(){var n=-this.zone(),t="+";return n<0&&(n=-n,t="-"),t+u(i(n/60),2)+":"+u(i(n)%60,2)},ZZ:function(){var n=-this.zone(),t="+";return n<0&&(n=-n,t="-"),t+u(i(n/60),2)+u(i(n)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ei=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ui.length;)r=ui.pop(),h[r+"o"]=tu(h[r],r);while(fi.length)r=fi.pop(),h[r+r]=oi(h[r],2);for(h.DDDD=oi(h.DDD,3),c(si.prototype,{set:function(n){var t;for(var i in n)t=n[i],typeof t=="function"?this[i]=t:this["_"+i]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(n){return this._months[n.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(n){return this._monthsShort[n.month()]},monthsParse:function(n){var i,r,u;for(this._monthsParse||(this._monthsParse=[]),i=0;i<12;i++)if(this._monthsParse[i]||(r=t.utc([2e3,i]),u="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(u.replace(".",""),"i")),this._monthsParse[i].test(n))return i},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(n){return this._weekdays[n.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(n){return this._weekdaysShort[n.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(n){return this._weekdaysMin[n.day()]},weekdaysParse:function(n){var i,r,u;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;i<7;i++)if(this._weekdaysParse[i]||(r=t([2e3,1]).day(i),u="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(u.replace(".",""),"i")),this._weekdaysParse[i].test(n))return i},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(n){var t=this._longDateFormat[n];return!t&&this._longDateFormat[n.toUpperCase()]&&(t=this._longDateFormat[n.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n]=t),t},isPM:function(n){return(n+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(n,t){var i=this._calendar[n];return typeof i=="function"?i.apply(t):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(n,t,i,r){var u=this._relativeTime[i];return typeof u=="function"?u(n,t,i,r):u.replace(/%d/i,n)},pastFuture:function(n,t){var i=this._relativeTime[n>0?"future":"past"];return typeof i=="function"?i(t):i.replace(/%s/i,t)},ordinal:function(n){return this._ordinal.replace("%d",n)},_ordinal:"%d",preparse:function(n){return n},postformat:function(n){return n},week:function(n){return d(n,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),t=function(t,i,r,u){var f;return typeof r=="boolean"&&(u=r,r=n),f={},f._isAMomentObject=!0,f._i=t,f._f=i,f._l=r,f._strict=u,f._isUTC=!1,f._pf=ot(),gi(f)},t.utc=function(t,i,r,u){var f;return typeof r=="boolean"&&(u=r,r=n),f={},f._isAMomentObject=!0,f._useUTC=!0,f._isUTC=!0,f._l=r,f._i=t,f._f=i,f._strict=u,f._pf=ot(),gi(f).utc()},t.unix=function(n){return t(n*1e3)},t.duration=function(n,r){var h=n,u=null,f,c,s;return t.isDuration(n)?h={ms:n._milliseconds,d:n._days,M:n._months}:typeof n=="number"?(h={},r?h[r]=n:h.milliseconds=n):(u=ur.exec(n))?(f=u[1]==="-"?-1:1,h={y:0,d:i(u[e])*f,h:i(u[o])*f,m:i(u[w])*f,s:i(u[b])*f,ms:i(u[k])*f}):!(u=fr.exec(n))||(f=u[1]==="-"?-1:1,s=function(n){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*f},h={y:s(u[2]),M:s(u[3]),d:s(u[4]),h:s(u[5]),m:s(u[6]),s:s(u[7]),w:s(u[8])}),c=new ht(h),t.isDuration(n)&&n.hasOwnProperty("_lang")&&(c._lang=n._lang),c},t.version="2.5.1",t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.updateOffset=function(){},t.lang=function(n,i){var r;return n?(i?fu(vt(n),i):i===null?(eu(n),n="en"):v[n]||s(n),r=t.duration.fn._lang=t.fn._lang=s(n),r._abbr):t.fn._lang._abbr},t.langData=function(n){return n&&n._lang&&n._lang._abbr&&(n=n._lang._abbr),s(n)},t.isMoment=function(n){return n instanceof st||n!=null&&n.hasOwnProperty("_isAMomentObject")},t.isDuration=function(n){return n instanceof ht},r=ei.length-1;r>=0;--r)uu(ei[r]);for(t.normalizeUnits=function(n){return l(n)},t.invalid=function(n){var i=t.utc(NaN);return n!=null?c(i._pf,n):i._pf.userInvalidated=!0,i},t.parseZone=function(){return t.apply(null,arguments).parseZone()},c(t.fn=st.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d+(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var n=t(this).utc();return 0<n.year()&&n.year()<=9999?pt(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):pt(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var n=this;return[n.year(),n.month(),n.date(),n.hours(),n.minutes(),n.seconds(),n.milliseconds()]},isValid:function(){return pi(this)},isDSTShifted:function(){return this._a?this.isValid()&&hi(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray())>0:!1},parsingFlags:function(){return c({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(n){var i=pt(this,n||t.defaultFormat);return this.lang().postformat(i)},add:function(n,i){var r;return r=typeof n=="string"?t.duration(+i,n):t.duration(n,i),ct(this,r,1),this},subtract:function(n,i){var r;return r=typeof n=="string"?t.duration(+i,n):t.duration(n,i),ct(this,r,-1),this},diff:function(n,i,r){var f=yt(n,this),o=(this.zone()-f.zone())*6e4,u,e;return i=l(i),i==="year"||i==="month"?(u=(this.daysInMonth()+f.daysInMonth())*432e5,e=(this.year()-f.year())*12+(this.month()-f.month()),e+=(this-t(this).startOf("month")-(f-t(f).startOf("month")))/u,e-=(this.zone()-t(this).startOf("month").zone()-(f.zone()-t(f).startOf("month").zone()))*6e4/u,i==="year"&&(e=e/12)):(u=this-f,e=i==="second"?u/1e3:i==="minute"?u/6e4:i==="hour"?u/36e5:i==="day"?(u-o)/864e5:i==="week"?(u-o)/6048e5:u),r?e:y(e)},from:function(n,i){return t.duration(this.diff(n)).lang(this.lang()._abbr).humanize(!i)},fromNow:function(n){return this.from(t(),n)},calendar:function(){var i=yt(t(),this).startOf("day"),n=this.diff(i,"days",!0),r=n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(r,this))},isLeapYear:function(){return vi(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return n!=null?(n=ki(n,this.lang()),this.add({d:n-t})):t},month:function(n){var i=this._isUTC?"UTC":"",r;return n!=null?typeof n=="string"&&(n=this.lang().monthsParse(n),typeof n!="number")?this:(r=Math.min(this.date(),at(this.year(),n)),this._d["set"+i+"Month"](n,r),t.updateOffset(this,!0),this):this._d["get"+i+"Month"]()},startOf:function(n){n=l(n);switch(n){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return n==="week"?this.weekday(0):n==="isoWeek"&&this.isoWeekday(1),this},endOf:function(n){return n=l(n),this.startOf(n).add(n==="isoWeek"?"week":n,1).subtract("ms",1)},isAfter:function(n,i){return i=typeof i!="undefined"?i:"millisecond",+this.clone().startOf(i)>+t(n).startOf(i)},isBefore:function(n,i){return i=typeof i!="undefined"?i:"millisecond",+this.clone().startOf(i)<+t(n).startOf(i)},isSame:function(n,t){return t=t||"ms",+this.clone().startOf(t)==+yt(n,this).startOf(t)},min:function(n){return n=t.apply(null,arguments),n<this?this:n},max:function(n){return n=t.apply(null,arguments),n>this?this:n},zone:function(n,i){i=i==null?!0:!1;var r=this._offset||0;if(n!=null)typeof n=="string"&&(n=bi(n)),Math.abs(n)<16&&(n=n*60),this._offset=n,this._isUTC=!0,r!==n&&i&&ct(this,t.duration(r-n,"m"),1,!0);else return this._isUTC?r:this._d.getTimezoneOffset();return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):typeof this._i=="string"&&this.zone(this._i),this},hasAlignedHourOffset:function(n){return n=n?t(n).zone():0,(this.zone()-n)%60==0},daysInMonth:function(){return at(this.year(),this.month())},dayOfYear:function(n){var i=p((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return n==null?i:this.add("d",n-i)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(n){var t=d(this,this.lang()._week.dow,this.lang()._week.doy).year;return n==null?t:this.add("y",n-t)},isoWeekYear:function(n){var t=d(this,1,4).year;return n==null?t:this.add("y",n-t)},week:function(n){var t=this.lang().week(this);return n==null?t:this.add("d",(n-t)*7)},isoWeek:function(n){var t=d(this,1,4).week;return n==null?t:this.add("d",(n-t)*7)},weekday:function(n){var t=(this.day()+7-this.lang()._week.dow)%7;return n==null?t:this.add("d",n-t)},isoWeekday:function(n){return n==null?this.day()||7:this.day(this.day()%7?n:n-7)},isoWeeksInYear:function(){return li(this.year(),1,4)},weeksInYear:function(){var n=this._lang._week;return li(this.year(),n.dow,n.doy)},get:function(n){return n=l(n),this[n]()},set:function(n,t){return n=l(n),typeof this[n]=="function"&&this[n](t),this},lang:function(t){return t===n?this._lang:(this._lang=s(t),this)}}),r=0;r<ut.length;r++)nr(ut[r].toLowerCase().replace(/s$/,""),ut[r]);nr("year","FullYear");t.fn.days=t.fn.day;t.fn.months=t.fn.month;t.fn.weeks=t.fn.week;t.fn.isoWeeks=t.fn.isoWeek;t.fn.toJSON=t.fn.toISOString;c(t.duration.fn=ht.prototype,{_bubble:function(){var e=this._milliseconds,t=this._days,i=this._months,n=this._data,r,u,f,o;n.milliseconds=e%1e3;r=y(e/1e3);n.seconds=r%60;u=y(r/60);n.minutes=u%60;f=y(u/60);n.hours=f%24;t+=y(f/24);n.days=t%30;i+=y(t/30);n.months=i%12;o=y(i/12);n.years=o},weeks:function(){return y(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+i(this._months/12)*31536e6},humanize:function(n){var i=+this,t=gu(i,!n,this.lang());return n&&(t=this.lang().pastFuture(i,t)),this.lang().postformat(t)},add:function(n,i){var r=t.duration(n,i);return this._milliseconds+=r._milliseconds,this._days+=r._days,this._months+=r._months,this._bubble(),this},subtract:function(n,i){var r=t.duration(n,i);return this._milliseconds-=r._milliseconds,this._days-=r._days,this._months-=r._months,this._bubble(),this},get:function(n){return n=l(n),this[n.toLowerCase()+"s"]()},as:function(n){return n=l(n),this["as"+n.charAt(0).toUpperCase()+n.slice(1)+"s"]()},lang:t.fn.lang,toIsoString:function(){var r=Math.abs(this.years()),u=Math.abs(this.months()),f=Math.abs(this.days()),n=Math.abs(this.hours()),t=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(r?r+"Y":"")+(u?u+"M":"")+(f?f+"D":"")+(n||t||i?"T":"")+(n?n+"H":"")+(t?t+"M":"")+(i?i+"S":""):"P0D"}});for(r in ft)ft.hasOwnProperty(r)&&(tr(r,ft[r]),nf(r.toLowerCase()));tr("Weeks",6048e5);t.duration.fn.asMonths=function(){return(+this-this.years()*31536e6)/2592e6+this.years()*12};t.lang("en",{ordinal:function(n){var t=n%10,r=i(n%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+r}});gt?(module.exports=t,dt(!0)):typeof define=="function"&&define.amd?define("moment",function(i,r,u){return u.config&&u.config()&&u.config().noGlobal!==!0&&dt(u.config().noGlobal===n),t}):dt()}).call(this),function(n,t,i,r){"use strict";var u="datepaginator",f=function(t,i){this._element=t;this.$element=n(t);this._init(i)},e;f.defaults={fillWidth:!0,highlightSelectedDate:!0,highlightToday:!0,hint:"dddd, Do MMMM YYYY",injectStyle:!0,itemWidth:35,navItemWidth:20,offDays:"Sat,Sun",offDaysFormat:"ddd",onSelectedDateChanged:null,selectedDate:moment().clone().startOf("day"),selectedDateFormat:"YYYY-MM-DD",selectedItemWidth:140,showCalendar:!0,showOffDays:!0,showStartOfWeek:!0,size:r,startOfWeek:"Mon",startOfWeekFormat:"ddd",squareEdges:!1,text:"ddd<br/>Do",textSelected:"dddd<br/>Do, MMMM YYYY",width:0,startDate:moment(new Date(-864e13)),startDateFormat:"YYYY-MM-DD",endDate:moment(new Date(864e13)),endDateFormat:"YYYY-MM-DD"};f.prototype={setSelectedDate:function(n,t){this._setSelectedDate(moment(n,t?t:this.options.selectedDateFormat));this._render()},remove:function(){this._destroy();n.removeData(this,"plugin_"+u)},_init:function(t){this.options=n.extend({},f.defaults,t);this.options.width?this.options.fillWidth=!1:(this.options.width=this.$element.width(),this.options.fillWidth=!0);typeof this.options.startDate=="string"&&(this.options.startDate=moment(this.options.startDate,this.options.startDateFormat).clone().startOf("day"));typeof this.options.endDate=="string"&&(this.options.endDate=moment(this.options.endDate,this.options.endDateFormat).clone().startOf("day"));typeof this.options.selectedDate=="string"&&(this.options.selectedDate=moment(this.options.selectedDate,this.options.selectedDateFormat).clone().startOf("day"));this.options.selectedDate.isBefore(this.options.startDate)&&(this.options.selectedDate=this.options.startDate.clone());this.options.selectedDate.isAfter(this.options.endDate)&&(this.options.selectedDate=this.options.endDate.clone());this.options.size==="small"?this.options.size="sm":this.options.size==="large"&&(this.options.size="lg");this._destroy();this._subscribeEvents();this._render()},_unsubscribeEvents:function(){this.$element.off("click");this.$element.off("selectedDateChanged")},_subscribeEvents:function(){this._unsubscribeEvents();this.$element.on("click",n.proxy(this._clickedHandler,this));if(typeof this.options.onSelectedDateChanged=="function")this.$element.on("selectedDateChanged",this.options.onSelectedDateChanged);if(this.options.fillWidth)n(t).on("resize",n.proxy(this._resize,this))},_destroy:function(){this.initialized&&(this.$calendar&&this.$calendar.datepicker("remove"),this.$wrapper.remove(),this.$wrapper=null,this._unsubscribeEvents());this.initialized=!1},_clickedHandler:function(t){t.preventDefault();var r=n(t.target),i=r.attr("class");i.indexOf("dp-nav-left")!=-1?this._back():i.indexOf("dp-nav-right")!=-1?this._forward():i.indexOf("dp-item")!=-1&&this._select(r.attr("data-moment"))},_setSelectedDate:function(n){n.isSame(this.options.selectedDate)||n.isBefore(this.options.startDate)||n.isAfter(this.options.endDate)||(this.options.selectedDate=n.startOf("day"),this.$element.trigger("selectedDateChanged",[n.clone()]))},_back:function(){this._setSelectedDate(this.options.selectedDate.clone().subtract("day",1));this._render()},_forward:function(){this._setSelectedDate(this.options.selectedDate.clone().add("day",1));this._render()},_select:function(n){this._setSelectedDate(moment(n,this.options.selectedDateFormat));this._render()},_calendarSelect:function(n){this._setSelectedDate(moment(n.date));this._render()},_resize:function(){this.options.width=this.$element.width();this._render()},_render:function(){var t=this,i;if(this.initialized?this.$calendar&&this.$calendar.datepicker("remove"):(this.$element.removeClass("datepaginator datepaginator-sm datepaginator-lg").addClass(this.options.size==="sm"?"datepaginator-sm":this.options.size==="lg"?"datepaginator-lg":"datepaginator"),this.$wrapper=n(this._template.list),this.$leftNav=n(this._template.navItem).addClass("dp-nav-left").addClass(this.options.size==="sm"?"dp-nav-sm":this.options.size==="lg"?"dp-nav-lg":"").addClass(this.options.squareEdges?"dp-nav-square-edges":"").append(n(this._template.icon).addClass("glyphicon-chevron-left").addClass("dp-nav-left")).width(this.options.navItemWidth),this.$rightNav=n(this._template.navItem).addClass("dp-nav-right").addClass(this.options.size==="sm"?"dp-nav-sm":this.options.size==="lg"?"dp-nav-lg":"").addClass(this.options.squareEdges?"dp-nav-square-edges":"").append(n(this._template.icon).addClass("glyphicon-chevron-right").addClass("dp-nav-right")).width(this.options.navItemWidth),this.$calendar=this.options.showCalendar?n(this._template.calendar):r,this._injectStyle(),this.initialized=!0),i=this._buildData(),this.$element.empty().append(this.$wrapper.empty()),this.$leftNav.removeClass("dp-no-select").attr("title",""),i.isSelectedStartDate&&this.$leftNav.addClass("dp-no-select").attr("title","Start of valid date range"),this.$wrapper.append(n(t._template.listItem).append(this.$leftNav)),n.each(i.items,function(i,r){var u=n(t._template.dateItem).attr("data-moment",r.m).attr("title",r.hint).width(r.itemWidth);r.isSelected&&t.options.highlightSelectedDate&&u.addClass("dp-selected");r.isToday&&t.options.highlightToday&&u.addClass("dp-today");r.isStartOfWeek&&t.options.showStartOfWeek&&u.addClass("dp-divider");r.isOffDay&&t.options.showOffDays&&u.addClass("dp-off");r.isSelected&&t.options.showCalendar&&u.append(t.$calendar);t.options.size==="sm"?u.addClass("dp-item-sm"):t.options.size==="lg"&&u.addClass("dp-item-lg");r.isValid||u.addClass("dp-no-select");u.append(r.text);t.$wrapper.append(n(t._template.listItem).append(u))}),this.$rightNav.removeClass("dp-no-select").attr("title",""),i.isSelectedEndDate&&this.$rightNav.addClass("dp-no-select").attr("title","End of valid date range"),this.$wrapper.append(n(t._template.listItem).append(this.$rightNav)),this.$calendar)this.$calendar.datepicker({autoclose:!0,forceParse:!0,startView:0,minView:0,todayHighlight:!0,startDate:this.options.startDate.toDate(),endDate:this.options.endDate.toDate()}).datepicker("update",this.options.selectedDate.toDate()).on("changeDate",n.proxy(this._calendarSelect,this))},_injectStyle:function(){this.options.injectStyle&&!i.getElementById("bootstrap-datepaginator-style")&&n('<style type="text/css" id="bootstrap-datepaginator-style">'+this._css+"<\/style>").appendTo("head")},_buildData:function(){for(var u,i=this.options.width-(this.options.selectedItemWidth-this.options.itemWidth+this.options.navItemWidth*2),t=Math.floor(i/this.options.itemWidth),f=parseInt(t/2),e=Math.floor(i/t),o=Math.floor(this.options.selectedItemWidth+(i-t*e)),s=moment().startOf("day"),h=this.options.selectedDate.clone().subtract("days",f),c=this.options.selectedDate.clone().add("days",t-f),r={isSelectedStartDate:this.options.selectedDate.isSame(this.options.startDate)?!0:!1,isSelectedEndDate:this.options.selectedDate.isSame(this.options.endDate)?!0:!1,items:[]},n=h;n.isBefore(c);n.add("days",1))u=(n.isSame(this.options.startDate)||n.isAfter(this.options.startDate))&&(n.isSame(this.options.endDate)||n.isBefore(this.options.endDate))?!0:!1,r.items[r.items.length]={m:n.clone().format(this.options.selectedDateFormat),isValid:u,isSelected:n.isSame(this.options.selectedDate)?!0:!1,isToday:n.isSame(s)?!0:!1,isOffDay:this.options.offDays.split(",").indexOf(n.format(this.options.offDaysFormat))!==-1?!0:!1,isStartOfWeek:this.options.startOfWeek.split(",").indexOf(n.format(this.options.startOfWeekFormat))!==-1?!0:!1,text:n.isSame(this.options.selectedDate)?n.format(this.options.textSelected):n.format(this.options.text),hint:u?n.format(this.options.hint):"Invalid date",itemWidth:n.isSame(this.options.selectedDate)?o:e};return r},_template:{list:'<ul class="pagination"><\/ul>',listItem:"<li><\/li>",navItem:'<a href="#" class="dp-nav"><\/a>',dateItem:'<a href="#" class="dp-item"><\/a>',icon:'<i class="glyphicon"><\/i>',calendar:'<i id="dp-calendar" class="glyphicon glyphicon-calendar"><\/i>'},_css:".datepaginator{font-size:12px;height:60px}.datepaginator-sm{font-size:10px;height:40px}.datepaginator-lg{font-size:14px;height:80px}.pagination{margin:0;padding:0;white-space:nowrap}.dp-nav{height:60px;padding:22px 0!important;width:20px;margin:0!important;text-align:center}.dp-nav-square-edges{border-radius:0!important}.dp-item{height:60px;padding:13px 0!important;width:35px;margin:0!important;border-left-style:hidden!important;text-align:center}.dp-item-sm{height:40px!important;padding:5px!important}.dp-item-lg{height:80px!important;padding:22px 0!important}.dp-nav-sm{height:40px!important;padding:11px 0!important}.dp-nav-lg{height:80px!important;padding:33px 0!important}a.dp-nav-right{border-left-style:hidden!important}.dp-divider{border-left:2px solid #ddd!important}.dp-off{background-color:#F0F0F0!important}.dp-no-select{color:#ccc!important;background-color:#F0F0F0!important}.dp-no-select:hover{background-color:#F0F0F0!important}.dp-today{background-color:#88B5DB!important;color:#fff!important}.dp-selected{background-color:#428bca!important;color:#fff!important;width:140px}#dp-calendar{padding:3px 5px 0 0!important;margin-right:3px;position:absolute;right:0;top:10}"};e=function(n){t.console&&t.console.error(n)};n.fn[u]=function(t,i){return this.each(function(){var r=n.data(this,"plugin_"+u);typeof t=="string"?r?n.isFunction(r[t])&&t.charAt(0)!=="_"?(typeof i=="string"&&(i=[i]),r[t].apply(r,i)):e("No such method : "+t):e("Not initialized, can not call method : "+t):r?r._init(t):n.data(this,"plugin_"+u,new f(this,t))})}}(jQuery,window,document);
/*! X-editable - v1.5.1 
* In-place editing with Twitter Bootstrap, jQuery UI or pure jQuery
* http://github.com/vitalets/x-editable
* Copyright (c) 2013 Vitaliy Potapov; Licensed MIT */
(function(n){"use strict";var t=function(t,i){this.options=n.extend({},n.fn.editableform.defaults,i);this.$div=n(t);this.options.scope||(this.options.scope=this)};t.prototype={constructor:t,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value);this.input.prerender()},initTemplate:function(){this.$form=n(n.fn.editableform.template)},initButtons:function(){var t=this.$form.find(".editable-buttons");t.append(n.fn.editableform.buttons);this.options.showbuttons==="bottom"&&t.addClass("editable-buttons-bottom")},render:function(){this.$loading=n(n.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove();this.showLoading();this.isSaving=!1;this.$div.triggerHandler("rendering");this.initInput();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);n.when(this.input.render()).then(n.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(n.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(n){n.preventDefault()});else{this.error(!1);this.input.$input.removeAttr("disabled");this.$form.find(".editable-submit").removeAttr("disabled");var t=this.value===null||this.value===undefined||this.value===""?this.options.defaultValue:this.value;this.input.value2input(t);this.$form.submit(n.proxy(this.submit,this))}this.$div.triggerHandler("rendered");this.showForm();this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var n,t;this.$form?(n=this.$form.outerWidth(),t=this.$form.outerHeight(),n&&this.$loading.width(n),t&&this.$loading.height(t),this.$form.hide()):(n=this.$loading.parent().width(),n&&this.$loading.width(n));this.$loading.show()},showForm:function(n){this.$loading.hide();this.$form.show();n!==!1&&this.input.activate();this.$div.triggerHandler("show")},error:function(t){var u=this.$form.find(".control-group"),f=this.$form.find(".editable-error-block"),i,r;if(t===!1)u.removeClass(n.fn.editableform.errorGroupClass),f.removeClass(n.fn.editableform.errorBlockClass).empty().hide();else{if(t){for(i=(""+t).split("\n"),r=0;r<i.length;r++)i[r]=n("<div>").text(i[r]).html();t=i.join("<br>")}u.addClass(n.fn.editableform.errorGroupClass);f.addClass(n.fn.editableform.errorBlockClass).html(t).show()}},submit:function(t){var i,r,u;if(t.stopPropagation(),t.preventDefault(),i=this.input.input2value(),r=this.validate(i),n.type(r)==="object"&&r.newValue!==undefined){if(i=r.newValue,this.input.value2input(i),typeof r.msg=="string"){this.error(r.msg);this.showForm();return}}else if(r){this.error(r);this.showForm();return}if(!this.options.savenochange&&this.input.value2str(i)==this.input.value2str(this.value)){this.$div.triggerHandler("nochange");return}u=this.input.value2submit(i);this.isSaving=!0;n.when(this.save(u)).done(n.proxy(function(n){this.isSaving=!1;var t=typeof this.options.success=="function"?this.options.success.call(this.options.scope,n,i):null;if(t===!1){this.error(!1);this.showForm(!1);return}if(typeof t=="string"){this.error(t);this.showForm();return}t&&typeof t=="object"&&t.hasOwnProperty("newValue")&&(i=t.newValue);this.error(!1);this.value=i;this.$div.triggerHandler("save",{newValue:i,submitValue:u,response:n})},this)).fail(n.proxy(function(n){this.isSaving=!1;var t;t=typeof this.options.error=="function"?this.options.error.call(this.options.scope,n,i):typeof n=="string"?n:n.responseText||n.statusText||"Unknown error!";this.error(t);this.showForm()},this))},save:function(t){this.options.pk=n.fn.editableutils.tryParseJson(this.options.pk,!0);var r=typeof this.options.pk=="function"?this.options.pk.call(this.options.scope):this.options.pk,u=!!(typeof this.options.url=="function"||this.options.url&&(this.options.send==="always"||this.options.send==="auto"&&r!==null&&r!==undefined)),i;if(u)return this.showLoading(),i={name:this.options.name||"",value:t,pk:r},typeof this.options.params=="function"?i=this.options.params.call(this.options.scope,i):(this.options.params=n.fn.editableutils.tryParseJson(this.options.params,!0),n.extend(i,this.options.params)),typeof this.options.url=="function"?this.options.url.call(this.options.scope,i):n.ajax(n.extend({url:this.options.url,data:i,type:"POST"},this.options.ajaxOptions))},validate:function(n){return n===undefined&&(n=this.value),typeof this.options.validate=="function"?this.options.validate.call(this.options.scope,n):void 0},option:function(n,t){n in this.options&&(this.options[n]=t);n==="value"&&this.setValue(t)},setValue:function(n,t){this.value=t?this.input.str2value(n):n;this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}};n.fn.editableform=function(i){var r=arguments;return this.each(function(){var f=n(this),u=f.data("editableform"),e=typeof i=="object"&&i;u||f.data("editableform",u=new t(this,e));typeof i=="string"&&u[i].apply(u,Array.prototype.slice.call(r,1))})};n.fn.editableform.Constructor=t;n.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1};n.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"><\/div><div class="editable-buttons"><\/div><\/div><div class="editable-error-block"><\/div><\/div><\/form>';n.fn.editableform.loading='<div class="editableform-loading"><\/div>';n.fn.editableform.buttons='<button type="submit" class="editable-submit">ok<\/button><button type="button" class="editable-cancel">cancel<\/button>';n.fn.editableform.errorGroupClass=null;n.fn.editableform.errorBlockClass="editable-error";n.fn.editableform.engine="jquery"})(window.jQuery),function(n){"use strict";n.fn.editableutils={inherit:function(n,t){var i=function(){};i.prototype=t.prototype;n.prototype=new i;n.prototype.constructor=n;n.superclass=t.prototype},setCursorPosition:function(n,t){if(n.setSelectionRange)n.setSelectionRange(t,t);else if(n.createTextRange){var i=n.createTextRange();i.collapse(!0);i.moveEnd("character",t);i.moveStart("character",t);i.select()}},tryParseJson:function(n,t){if(typeof n=="string"&&n.length&&n.match(/^[\{\[].*[\}\]]$/))if(t)try{n=new Function("return "+n)()}catch(i){}finally{return n}else n=new Function("return "+n)();return n},sliceObj:function(t,i,r){var u,o,f={},e;if(!n.isArray(i)||!i.length)return f;for(e=0;e<i.length;e++)(u=i[e],t.hasOwnProperty(u)&&(f[u]=t[u]),r!==!0)&&(o=u.toLowerCase(),t.hasOwnProperty(o)&&(f[u]=t[o]));return f},getConfigData:function(t){var i={};return n.each(t.data(),function(n,t){(typeof t!="object"||t&&typeof t=="object"&&(t.constructor===Object||t.constructor===Array))&&(i[n]=t)}),i},objectKeys:function(n){if(Object.keys)return Object.keys(n);if(n!==Object(n))throw new TypeError("Object.keys called on a non-object");var t=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(i);return t},escape:function(t){return n("<div>").text(t).html()},itemsByValue:function(t,i,r){var f;if(!i||t===null)return[];typeof r!="function"&&(f=r||"value",r=function(n){return n[f]});var e=n.isArray(t),u=[],o=this;return n.each(i,function(i,f){if(f.children)u=u.concat(o.itemsByValue(t,f.children,r));else if(e)n.grep(t,function(n){return n==(f&&typeof f=="object"?r(f):f)}).length&&u.push(f);else{var s=f&&typeof f=="object"?r(f):f;t==s&&u.push(f)}}),u},createInput:function(t){var r,u,i=t.type;return i==="date"&&(t.mode==="inline"?n.fn.editabletypes.datefield?i="datefield":n.fn.editabletypes.dateuifield&&(i="dateuifield"):n.fn.editabletypes.date?i="date":n.fn.editabletypes.dateui&&(i="dateui"),i!=="date"||n.fn.editabletypes.date||(i="combodate")),i==="datetime"&&t.mode==="inline"&&(i="datetimefield"),i!=="wysihtml5"||n.fn.editabletypes[i]||(i="textarea"),typeof n.fn.editabletypes[i]=="function"?(r=n.fn.editabletypes[i],u=this.sliceObj(t,this.objectKeys(r.defaults)),new r(u)):(n.error("Unknown type: "+i),!1)},supportsTransitions:function(){var u=document.body||document.documentElement,i=u.style,n="transition",r=["Moz","Webkit","Khtml","O","ms"],t;if(typeof i[n]=="string")return!0;for(n=n.charAt(0).toUpperCase()+n.substr(1),t=0;t<r.length;t++)if(typeof i[r[t]+n]=="string")return!0;return!1}}}(window.jQuery),function(n){"use strict";var t=function(n,t){this.init(n,t)},i=function(n,t){this.init(n,t)};t.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(i,r){this.$element=n(i);this.options=n.extend({},n.fn.editableContainer.defaults,r);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=!1;this.$element.on("destroyed",n.proxy(function(){this.destroy()},this));if(!n(document).data("editable-handlers-attached")){n(document).on("keyup.editable",function(t){t.which===27&&n(".editable-open").editableContainer("hide")});n(document).on("click.editable",function(i){var u=n(i.target),r,f=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(n.contains(document.documentElement,i.target)&&!u.is(document)){for(r=0;r<f.length;r++)if(u.is(f[r])||u.parents(f[r]).length)return;t.prototype.closeOthers(i.target)}});n(document).data("editable-handlers-attached",!0)}},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!n.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var t in this.options)t in this.defaults?this.containerOptions[t]=this.options[t]:this.formOptions[t]=this.options[t]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var n;return this.containerDataName&&(n=this.$element.data(this.containerDataName))?n:this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:n.proxy(this.save,this),nochange:n.proxy(function(){this.hide("nochange")},this),cancel:n.proxy(function(){this.hide("cancel")},this),show:n.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:n.proxy(this.setPosition,this),resize:n.proxy(this.setPosition,this),rendered:n.proxy(function(){this.$element.triggerHandler("shown",n(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(t){this.$element.addClass("editable-open");t!==!1&&this.closeOthers(this.$element[0]);this.innerShow();this.tip().addClass(this.containerClass);this.$form;this.$form=n("<div>");this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form);this.renderForm()},hide:function(n){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving){this.delayedHide={reason:n};return}this.delayedHide=!1;this.$element.removeClass("editable-open");this.innerHide();this.$element.triggerHandler("hidden",n||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(n){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(n)},setPosition:function(){},save:function(n,t){this.$element.triggerHandler("save",t);this.hide("save")},option:function(n,t){this.options[n]=t;n in this.containerOptions?(this.containerOptions[n]=t,this.setContainerOption(n,t)):(this.formOptions[n]=t,this.$form&&this.$form.editableform("option",n,t))},setContainerOption:function(n,t){this.call("option",n,t)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(t){n(".editable-open").each(function(i,r){if(r!==t&&!n(r).find(t).length){var u=n(r),f=u.data("editableContainer");f&&(f.options.onblur==="cancel"?u.data("editableContainer").hide("onblur"):f.options.onblur==="submit"&&u.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}};n.fn.editableContainer=function(r){var u=arguments;return this.each(function(){var e=n(this),o="editableContainer",f=e.data(o),s=typeof r=="object"&&r,h=s.mode==="inline"?i:t;f||e.data(o,f=new h(this,s));typeof r=="string"&&f[r].apply(f,Array.prototype.slice.call(u,1))})};n.fn.editableContainer.Popup=t;n.fn.editableContainer.Inline=i;n.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"};jQuery.event.special.destroyed={remove:function(n){n.handler&&n.handler()}}}(window.jQuery),function(n){"use strict";n.extend(n.fn.editableContainer.Inline.prototype,n.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=n("<span><\/span>");this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,n.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(n){"use strict";var t=function(t,i){this.$element=n(t);this.options=n.extend({},n.fn.editable.defaults,i,n.fn.editableutils.getConfigData(this.$element));this.options.selector?this.initLive():this.init();this.options.highlight&&!n.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};t.prototype={constructor:t,init:function(){var i=!1,t;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=n.fn.editableutils.createInput(this.options),this.input){if(this.options.value===undefined||this.options.value===null?(this.value=this.input.html2value(n.trim(this.$element.html())),i=!0):(this.options.value=n.fn.editableutils.tryParseJson(this.options.value,!0),this.value=typeof this.options.value=="string"?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),this.input.type==="textarea"&&this.$element.addClass("editable-pre-wrapped"),this.options.toggle!=="manual"){this.$element.addClass("editable-click");this.$element.on(this.options.toggle+".editable",n.proxy(function(n){if(this.options.disabled||n.preventDefault(),this.options.toggle==="mouseenter")this.show();else{var t=this.options.toggle!=="click";this.toggle(t)}},this))}else this.$element.attr("tabindex",-1);typeof this.options.display=="function"&&(this.options.autotext="always");switch(this.options.autotext){case"always":t=!0;break;case"auto":t=!n.trim(this.$element.text()).length&&this.value!==null&&this.value!==undefined&&!i;break;default:t=!1}n.when(t?this.render():!0).then(n.proxy(function(){this.options.disabled?this.disable():this.enable();this.$element.triggerHandler("init",this)},this))}},initLive:function(){var t=this.options.selector;this.options.selector=!1;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",t,n.proxy(function(t){var i=n(t.target);i.data("editable")||(i.hasClass(this.options.emptyclass)&&i.empty(),i.editable(this.options).trigger(t))},this))},render:function(n){if(this.options.display!==!1)return this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,n):typeof this.options.display=="function"?this.options.display.call(this.$element[0],this.value,n):this.input.value2html(this.value,this.$element[0])},enable:function(){this.options.disabled=!1;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);this.options.toggle!=="manual"&&this.$element.attr("tabindex")==="-1"&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0;this.hide();this.$element.addClass("editable-disabled");this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(t,i){if(t&&typeof t=="object"){n.each(t,n.proxy(function(t,i){this.option(n.trim(t),i)},this));return}if(this.options[t]=i,t==="disabled")return i?this.disable():this.enable();t==="value"&&this.setValue(i);this.container&&this.container.option(t,i);this.input.option&&this.input.option(t,i)},handleEmpty:function(t){this.options.display!==!1&&(this.isEmpty=t!==undefined?t:typeof this.input.isEmpty=="function"?this.input.isEmpty(this.$element):n.trim(this.$element.html())==="",this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(t){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var i=n.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(i);this.$element.on("save.internal",n.proxy(this.save,this));this.container=this.$element.data("editableContainer")}this.container.show(t)}},hide:function(){this.container&&this.container.hide()},toggle:function(n){this.container&&this.container.tip().is(":visible")?this.hide():this.show(n)},save:function(n,t){var i,r,u;this.options.unsavedclass&&(i=!1,i=i||typeof this.options.url=="function",i=i||this.options.display===!1,i=i||t.response!==undefined,i=i||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(t.newValue),i?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass));this.options.highlight&&(r=this.$element,u=r.css("background-color"),r.css("background-color",this.options.highlight),setTimeout(function(){u==="transparent"&&(u="");r.css("background-color",u);r.addClass("editable-bg-transition");setTimeout(function(){r.removeClass("editable-bg-transition")},1700)},10));this.setValue(t.newValue,!1,t.response)},validate:function(){if(typeof this.options.validate=="function")return this.options.validate.call(this,this.value)},setValue:function(t,i,r){this.value=i?this.input.str2value(t):t;this.container&&this.container.option("value",this.value);n.when(this.render(r)).then(n.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable();this.container&&this.container.destroy();this.input.destroy();this.options.toggle!=="manual"&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable"));this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};n.fn.editable=function(i){var e={},a=arguments,o="editable",f,r,h,l;switch(i){case"validate":return this.each(function(){var r=n(this),t=r.data(o),i;t&&(i=t.validate())&&(e[t.options.name]=i)}),e;case"getValue":return arguments.length===2&&arguments[1]===!0?e=this.eq(0).data(o).value:this.each(function(){var i=n(this),t=i.data(o);t&&t.value!==undefined&&t.value!==null&&(e[t.options.name]=t.input.value2submit(t.value))}),e;case"submit":var u=arguments[1]||{},s=this,c=this.editable("validate");return n.isEmptyObject(c)?(f={},s.length===1?(r=s.data("editable"),h={name:r.options.name||"",value:r.input.value2submit(r.value),pk:typeof r.options.pk=="function"?r.options.pk.call(r.options.scope):r.options.pk},typeof r.options.params=="function"?h=r.options.params.call(r.options.scope,h):(r.options.params=n.fn.editableutils.tryParseJson(r.options.params,!0),n.extend(h,r.options.params)),f={url:r.options.url,data:h,type:"POST"},u.success=u.success||r.options.success,u.error=u.error||r.options.error):(l=this.editable("getValue"),f={url:u.url,data:l,type:"POST"}),f.success=typeof u.success=="function"?function(n){u.success.call(s,n,u)}:n.noop,f.error=typeof u.error=="function"?function(){u.error.apply(s,arguments)}:n.noop,u.ajaxOptions&&n.extend(f,u.ajaxOptions),u.data&&n.extend(f.data,u.data),n.ajax(f)):typeof u.error=="function"&&u.error.call(s,c),this}return this.each(function(){var f=n(this),r=f.data(o),u=typeof i=="object"&&i;if(u&&u.selector){r=new t(this,u);return}r||f.data(o,r=new t(this,u));typeof i=="string"&&r[i].apply(r,Array.prototype.slice.call(a,1))})};n.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(n){"use strict";n.fn.editabletypes={};var t=function(){};t.prototype={init:function(t,i,r){this.type=t;this.options=n.extend({},r,i)},prerender:function(){this.$tpl=n(this.options.tpl);this.$input=this.$tpl;this.$clear=null;this.error=null},render:function(){},value2html:function(t,i){n(i)[this.options.escape?"text":"html"](n.trim(t))},html2value:function(t){return n("<div>").html(t).text()},value2str:function(n){return n},str2value:function(n){return n},value2submit:function(n){return n},value2input:function(n){this.$input.val(n)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(t){return n("<div>").text(t).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(n){this.options[n]!==undefined&&this.options[n]!==null&&this.$input.attr(n,this.options[n])},option:function(n,t){this.options[n]=t}};t.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0};n.extend(n.fn.editabletypes,{abstractinput:t})}(window.jQuery),function(n){"use strict";var t=function(){};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){var t=n.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();t.resolve()},function(){this.error=this.options.sourceError;t.resolve()});return t.promise()},html2value:function(){return null},value2html:function(t,i,r,u){var f=n.Deferred(),e=function(){typeof r=="function"?r.call(i,t,this.sourceData,u):this.value2htmlFinal(t,i);f.resolve()};if(t===null)e.call(this);else this.onSourceReady(e,function(){f.resolve()});return f.promise()},onSourceReady:function(t,i){var u,f,r,e;if(n.isFunction(this.options.source)?(u=this.options.source.call(this.options.scope),this.sourceData=null):u=this.options.source,this.options.sourceCache&&n.isArray(this.sourceData)){t.call(this);return}try{u=n.fn.editableutils.tryParseJson(u,!1)}catch(o){i.call(this);return}if(typeof u=="string"){if(this.options.sourceCache){if(f=u,n(document).data(f)||n(document).data(f,{}),r=n(document).data(f),r.loading===!1&&r.sourceData){this.sourceData=r.sourceData;this.doPrepend();t.call(this);return}if(r.loading===!0){r.callbacks.push(n.proxy(function(){this.sourceData=r.sourceData;this.doPrepend();t.call(this)},this));r.err_callbacks.push(n.proxy(i,this));return}r.loading=!0;r.callbacks=[];r.err_callbacks=[]}e=n.extend({url:u,type:"get",cache:!1,dataType:"json",success:n.proxy(function(u){r&&(r.loading=!1);this.sourceData=this.makeArray(u);n.isArray(this.sourceData)?(r&&(r.sourceData=this.sourceData,n.each(r.callbacks,function(){this.call()})),this.doPrepend(),t.call(this)):(i.call(this),r&&n.each(r.err_callbacks,function(){this.call()}))},this),error:n.proxy(function(){i.call(this);r&&(r.loading=!1,n.each(r.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);n.ajax(e)}else this.sourceData=this.makeArray(u),n.isArray(this.sourceData)?(this.doPrepend(),t.call(this)):i.call(this)},doPrepend:function(){this.options.prepend!==null&&this.options.prepend!==undefined&&(n.isArray(this.prependData)||(n.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=n.fn.editableutils.tryParseJson(this.options.prepend,!0),typeof this.options.prepend=="string"&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),n.isArray(this.prependData)&&n.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(t){var u,e,r=[],i,o,f;if(!t||typeof t=="string")return null;if(n.isArray(t))for(o=function(n,t){return e={value:n,text:t},u++>=2?!1:void 0},f=0;f<t.length;f++)i=t[f],typeof i=="object"?(u=0,n.each(i,o),u===1?r.push(e):u>1&&(i.children&&(i.children=this.makeArray(i.children)),r.push(i))):r.push({value:i,text:i});else n.each(t,function(n,t){r.push({value:n,text:t})});return r},option:function(n,t){this.options[n]=t;n==="source"&&(this.sourceData=null);n==="prepend"&&(this.prependData=null)}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null});n.fn.editabletypes.list=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("text",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),n.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=n('<span class="editable-clear-x"><\/span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(n.proxy(function(t){if(!~n.inArray(t.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var i=this;this.t=setTimeout(function(){i.toggleClear(t)},100)}},this)).parent().css("position","relative"),this.$clear.click(n.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var n=this.$input.val().length,t=this.$clear.is(":visible");n&&!t&&this.$clear.show();!n&&t&&this.$clear.hide()}},clear:function(){this.$clear.hide();this.$input.val("").focus()}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0});n.fn.editabletypes.text=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("textarea",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(t){t.ctrlKey&&t.which===13&&n(this).closest("form").submit()})},activate:function(){n.fn.editabletypes.text.prototype.activate.call(this)}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea><\/textarea>",inputclass:"input-large",placeholder:null,rows:7});n.fn.editabletypes.textarea=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("select",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.list);n.extend(t.prototype,{renderList:function(){this.$input.empty();var t=function(i,r){var f,u;if(n.isArray(r))for(u=0;u<r.length;u++)f={},r[u].children?(f.label=r[u].text,i.append(t(n("<optgroup>",f),r[u].children))):(f.value=r[u].value,r[u].disabled&&(f.disabled=!0),i.append(n("<option>",f).text(r[u].text)));return i};t(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",function(t){t.which===13&&n(this).closest("form").submit()})},value2htmlFinal:function(t,i){var r="",u=n.fn.editableutils.itemsByValue(t,this.sourceData);u.length&&(r=u[0].text);n.fn.editabletypes.abstractinput.prototype.value2html.call(this,r,i)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){n(this).closest("form").submit()})}});t.defaults=n.extend({},n.fn.editabletypes.list.defaults,{tpl:"<select><\/select>"});n.fn.editabletypes.select=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("checklist",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.list);n.extend(t.prototype,{renderList:function(){var i,t;if(this.$tpl.empty(),n.isArray(this.sourceData)){for(t=0;t<this.sourceData.length;t++)i=n("<label>").append(n("<input>",{type:"checkbox",value:this.sourceData[t].value})).append(n("<span>").text(" "+this.sourceData[t].text)),n("<div>").append(i).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()}},value2str:function(t){return n.isArray(t)?t.sort().join(n.trim(this.options.separator)):""},str2value:function(t){var r,i=null;return typeof t=="string"&&t.length?(r=new RegExp("\\s*"+n.trim(this.options.separator)+"\\s*"),i=t.split(r)):i=n.isArray(t)?t:[t],i},value2input:function(t){this.$input.prop("checked",!1);n.isArray(t)&&t.length&&this.$input.each(function(i,r){var u=n(r);n.each(t,function(n,t){u.val()==t&&u.prop("checked",!0)})})},input2value:function(){var t=[];return this.$input.filter(":checked").each(function(i,r){t.push(n(r).val())}),t},value2htmlFinal:function(t,i){var r=[],u=n.fn.editableutils.itemsByValue(t,this.sourceData),f=this.options.escape;u.length?(n.each(u,function(t,i){var u=f?n.fn.editableutils.escape(i.text):i.text;r.push(u)}),n(i).html(r.join("<br>"))):n(i).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(t){t.which===13&&n(this).closest("form").submit()})}});t.defaults=n.extend({},n.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"><\/div>',inputclass:null,separator:","});n.fn.editabletypes.checklist=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("password",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.text);n.extend(t.prototype,{value2html:function(t,i){t?n(i).text("[hidden]"):n(i).empty()},html2value:function(){return null}});t.defaults=n.extend({},n.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});n.fn.editabletypes.password=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("email",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.text);t.defaults=n.extend({},n.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});n.fn.editabletypes.email=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("url",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.text);t.defaults=n.extend({},n.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});n.fn.editabletypes.url=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("tel",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.text);t.defaults=n.extend({},n.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});n.fn.editabletypes.tel=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("number",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.text);n.extend(t.prototype,{render:function(){t.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}});t.defaults=n.extend({},n.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});n.fn.editabletypes.number=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("range",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.number);n.extend(t.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){n(this).siblings("output").text(n(this).val())})},activate:function(){this.$input.focus()}});t.defaults=n.extend({},n.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"><\/output>',inputclass:"input-medium"});n.fn.editabletypes.range=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("time",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){this.setClass()}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'});n.fn.editabletypes.time=t}(window.jQuery),function(n){"use strict";var t=function(i){var r,u;this.init("select2",i,t.defaults);i.select2=i.select2||{};this.sourceData=null;i.placeholder&&(i.select2.placeholder=i.placeholder);!i.select2.tags&&i.source&&(r=i.source,n.isFunction(i.source)&&(r=i.source.call(i.scope)),typeof r=="string"?(i.select2.ajax=i.select2.ajax||{},i.select2.ajax.data||(i.select2.ajax.data=function(n){return{query:n}}),i.select2.ajax.results||(i.select2.ajax.results=function(n){return{results:n}}),i.select2.ajax.url=r):(this.sourceData=this.convertSource(r),i.select2.data=this.sourceData));this.options.select2=n.extend({},t.defaults.select2,i.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote="ajax"in this.options.select2;this.idFunc=this.options.select2.id;typeof this.idFunc!="function"&&(u=this.idFunc||"id",this.idFunc=function(n){return n[u]});this.formatSelection=this.options.select2.formatSelection;typeof this.formatSelection!="function"&&(this.formatSelection=function(n){return n.text})};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){if(this.setClass(),this.isRemote)this.$input.on("select2-loaded",n.proxy(function(n){this.sourceData=n.items.results},this));if(this.isMultiple)this.$input.on("change",function(){n(this).closest("form").parent().triggerHandler("resize")})},value2html:function(i,r){var u="",f,e=this;this.options.select2.tags?f=i:this.sourceData&&(f=n.fn.editableutils.itemsByValue(i,this.sourceData,this.idFunc));n.isArray(f)?(u=[],n.each(f,function(n,t){u.push(t&&typeof t=="object"?e.formatSelection(t):t)})):f&&(u=e.formatSelection(f));u=n.isArray(u)?u.join(this.options.viewseparator):u;t.superclass.value2html.call(this,u,r)},html2value:function(n){return this.options.select2.tags?this.str2value(n,this.options.viewseparator):null},value2input:function(t){var r,u,i,f;n.isArray(t)&&(t=t.join(this.getSeparator()));this.$input.data("select2")?this.$input.val(t).trigger("change",!0):(this.$input.val(t),this.$input.select2(this.options.select2));!this.isRemote||this.isMultiple||this.options.select2.initSelection||(r=this.options.select2.id,u=this.options.select2.formatSelection,r||u||(i=n(this.options.scope),i.data("editable").isEmpty||(f={id:t,text:i.text()},this.$input.select2("data",f))))},input2value:function(){return this.$input.select2("val")},str2value:function(t,i){if(typeof t!="string"||!this.isMultiple)return t;i=i||this.getSeparator();var u,r,f;if(t===null||t.length<1)return null;for(u=t.split(i),r=0,f=u.length;r<f;r=r+1)u[r]=n.trim(u[r]);return u},autosubmit:function(){this.$input.on("change",function(t,i){i||n(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||n.fn.select2.defaults.separator},convertSource:function(t){if(n.isArray(t)&&t.length&&t[0].value!==undefined)for(var i=0;i<t.length;i++)t[i].value!==undefined&&(t[i].id=t[i].value,delete t[i].value);return t},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});n.fn.editabletypes.select2=t}(window.jQuery),function(n){var t=function(t,i){if(this.$element=n(t),!this.$element.is("input")){n.error("Combodate should be applied to INPUT element");return}this.options=n.extend({},n.fn.combodate.defaults,i,this.$element.data());this.init()};t.prototype={constructor:t,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=n('<span class="combodate"><\/span>').html(this.getTemplate());this.initCombos();this.$widget.on("change","select",n.proxy(function(t){this.$element.val(this.getValue()).change();this.options.smartDays&&(n(t.target).is(".month")||n(t.target).is(".year"))&&this.fillCombo("day")},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var t=this.options.template;return n.each(this.map,function(n,i){i=i[0];var r=new RegExp(i+"+"),u=i.length>1?i.substring(1,2):i;t=t.replace(r,"{"+u+"}")}),t=t.replace(/ /g,"&nbsp;"),n.each(this.map,function(n,i){i=i[0];var r=i.length>1?i.substring(1,2):i;t=t.replace("{"+r+"}",'<select class="'+n+'"><\/select>')}),t},initCombos:function(){var n,t;for(n in this.map)t=this.$widget.find("."+n),this["$"+n]=t.length?t:null,this.fillCombo(n)},fillCombo:function(n){var t=this["$"+n],i;if(t){var u="fill"+n.charAt(0).toUpperCase()+n.slice(1),r=this[u](),f=t.val();for(t.empty(),i=0;i<r.length;i++)t.append('<option value="'+r[i][0]+'">'+r[i][1]+"<\/option>");t.val(f)}},fillCommon:function(n){var r=[],t,i;return this.options.firstItem==="name"?(t=moment.relativeTime||moment.langData()._relativeTime,i=typeof t[n]=="function"?t[n](1,!0,n,!1):t[n],i=i.split(" ").reverse()[0],r.push(["",i])):this.options.firstItem==="empty"&&r.push(["",""]),r},fillDay:function(){var r=this.fillCommon("d"),u,n,e=this.options.template.indexOf("DD")!==-1,f=31,t,i;for(this.options.smartDays&&this.$month&&this.$year&&(t=parseInt(this.$month.val(),10),i=parseInt(this.$year.val(),10),isNaN(t)||isNaN(i)||(f=moment([i,t]).daysInMonth())),n=1;n<=f;n++)u=e?this.leadZero(n):n,r.push([n,u]);return r},fillMonth:function(){for(var t=this.fillCommon("M"),i,r=this.options.template.indexOf("MMMM")!==-1,u=this.options.template.indexOf("MMM")!==-1,f=this.options.template.indexOf("MM")!==-1,n=0;n<=11;n++)i=r?moment().date(1).month(n).format("MMMM"):u?moment().date(1).month(n).format("MMM"):f?this.leadZero(n+1):n+1,t.push([n,i]);return t},fillYear:function(){for(var t=[],i,r=this.options.template.indexOf("YYYY")!==-1,n=this.options.maxYear;n>=this.options.minYear;n--)i=r?n:(n+"").substring(2),t[this.options.yearDescending?"push":"unshift"]([n,i]);return this.fillCommon("y").concat(t)},fillHour:function(){for(var t=this.fillCommon("h"),i,r=this.options.template.indexOf("h")!==-1,o=this.options.template.indexOf("H")!==-1,u=this.options.template.toLowerCase().indexOf("hh")!==-1,f=r?1:0,e=r?12:23,n=f;n<=e;n++)i=u?this.leadZero(n):n,t.push([n,i]);return t},fillMinute:function(){for(var t=this.fillCommon("m"),i,r=this.options.template.indexOf("mm")!==-1,n=0;n<=59;n+=this.options.minuteStep)i=r?this.leadZero(n):n,t.push([n,i]);return t},fillSecond:function(){for(var t=this.fillCommon("s"),i,r=this.options.template.indexOf("ss")!==-1,n=0;n<=59;n+=this.options.secondStep)i=r?this.leadZero(n):n,t.push([n,i]);return t},fillAmpm:function(){var n=this.options.template.indexOf("a")!==-1,t=this.options.template.indexOf("A")!==-1;return[["am",n?"am":"AM"],["pm",n?"pm":"PM"]]},getValue:function(t){var r,i={},u=this,f=!1;return(n.each(this.map,function(n){if(n!=="ampm"){var t=n==="day"?1:0;return i[n]=u["$"+n]?parseInt(u["$"+n].val(),10):t,isNaN(i[n])?(f=!0,!1):void 0}}),f)?"":(this.$ampm&&(i.hour=i.hour===12?this.$ampm.val()==="am"?0:12:this.$ampm.val()==="am"?i.hour:i.hour+12),r=moment([i.year,i.month,i.day,i.hour,i.minute,i.second]),this.highlight(r),t=t===undefined?this.options.format:t,t===null?r.isValid()?r:null:r.isValid()?r.format(t):"")},setValue:function(t){function f(t,i){var r={};return t.children("option").each(function(t,u){var f=n(u).attr("value"),e;f!==""&&(e=Math.abs(f-i),(typeof r.distance=="undefined"||e<r.distance)&&(r={value:f,distance:e}))}),r.value}if(t){var u=typeof t=="string"?moment(t,this.options.format):moment(t),r=this,i={};u.isValid()&&(n.each(this.map,function(n,t){n!=="ampm"&&(i[n]=u[t[1]]())}),this.$ampm&&(i.hour>=12?(i.ampm="pm",i.hour>12&&(i.hour-=12)):(i.ampm="am",i.hour===0&&(i.hour=12))),n.each(i,function(n,t){r["$"+n]&&(n==="minute"&&r.options.minuteStep>1&&r.options.roundTime&&(t=f(r["$"+n],t)),n==="second"&&r.options.secondStep>1&&r.options.roundTime&&(t=f(r["$"+n],t)),r["$"+n].val(t))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(u.format(this.options.format)).change())}},highlight:function(n){n.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(n){return n<=9?"0"+n:n},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};n.fn.combodate=function(i){var r,u=Array.apply(null,arguments);return(u.shift(),i==="getValue"&&this.length&&(r=this.eq(0).data("combodate")))?r.getValue.apply(r,u):this.each(function(){var f=n(this),r=f.data("combodate"),e=typeof i=="object"&&i;r||f.data("combodate",r=new t(this,e));typeof i=="string"&&typeof r[i]=="function"&&r[i].apply(r,u)})};n.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function(n){"use strict";var t=function(i){this.init("combodate",i,t.defaults);this.options.viewformat||(this.options.viewformat=this.options.format);i.combodate=n.fn.editableutils.tryParseJson(i.combodate,!0);this.options.combodate=n.extend({},t.defaults.combodate,i.combodate,{format:this.options.format,template:this.options.template})};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){this.$input.combodate(this.options.combodate);n.fn.editableform.engine==="bs3"&&this.$input.siblings().find("select").addClass("form-control");this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(n,i){var r=n?n.format(this.options.viewformat):"";t.superclass.value2html.call(this,r,i)},html2value:function(n){return n?moment(n,this.options.viewformat):null},value2str:function(n){return n?n.format(this.options.format):""},str2value:function(n){return n?moment(n,this.options.format):null},value2submit:function(n){return this.value2str(n)},value2input:function(n){this.$input.combodate("setValue",n)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});n.fn.editabletypes.combodate=t}(window.jQuery),function(n){"use strict";var t=n.fn.editableform.Constructor.prototype.initInput;n.extend(n.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=n(n.fn.editableform.template);this.$form.find(".control-group").addClass("form-group");this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){var e,u,i;t.apply(this);var f=this.input.options.inputclass===null||this.input.options.inputclass===!1,r="input-sm",o="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");for(~n.inArray(this.input.type,o)&&(this.input.$input.addClass("form-control"),f&&(this.input.options.inputclass=r,this.input.$input.addClass(r))),e=this.$form.find(".editable-buttons"),u=f?[r]:this.input.options.inputclass.split(" "),i=0;i<u.length;i++)u[i].toLowerCase()==="input-lg"&&e.find("button").removeClass("btn-sm").addClass("btn-lg")}});n.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"><\/i><\/button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"><\/i><\/button>';n.fn.editableform.errorGroupClass="has-error";n.fn.editableform.errorBlockClass=null;n.fn.editableform.engine="bs3"}(window.jQuery),function(n){"use strict";n.extend(n.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:n.fn.popover.Constructor.DEFAULTS,initContainer:function(){n.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var t;this.$element.data("template")&&(t=this.$element.data("template"),this.$element.removeData("template"));this.call(this.containerOptions);t&&this.$element.data("template",t)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(n,t){this.container().options[n]=t},setPosition:function(){(function(){var i=this.tip(),n=typeof this.options.placement=="function"?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,o=e.test(n),h;o&&(n=n.replace(e,"")||"top");var t=this.getPosition(),r=i[0].offsetWidth,u=i[0].offsetHeight;if(o){var f=this.$element.parent(),c=n,s=document.documentElement.scrollTop||document.body.scrollTop,l=this.options.container=="body"?window.innerWidth:f.outerWidth(),a=this.options.container=="body"?window.innerHeight:f.outerHeight(),v=this.options.container=="body"?0:f.offset().left;n=n=="bottom"&&t.top+t.height+u-s>a?"top":n=="top"&&t.top-s-u<0?"bottom":n=="right"&&t.right+r>l?"left":n=="left"&&t.left-r<v?"right":n;i.removeClass(c).addClass(n)}h=this.getCalculatedOffset(n,t,r,u);this.applyPlacement(h,n)}).call(this.container())}})}(window.jQuery),function(n){function r(){return new Date(Date.UTC.apply(Date,arguments))}function s(t,i){var u=n(t).data(),f={},e,o=new RegExp("^"+i.toLowerCase()+"([A-Z])"),i=new RegExp("^"+i.toLowerCase());for(var r in u)i.test(r)&&(e=r.replace(o,function(n,t){return t.toLowerCase()}),f[e]=u[r]);return f}function h(t){var u={},r;if(i[t]||(t=t.split("-")[0],i[t]))return r=i[t],n.each(l,function(n,t){t in r&&(u[t]=r[t])}),u}var u=function(i,r){var u=this;this._process_options(r);this.element=n(i);this.isInline=!1;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1;this.hasInput=this.component&&this.element.find("input").length;this.component&&this.component.length===0&&(this.component=!1);this.picker=n(t.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right"));this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(n,t){return parseInt(t)+1});this._allow_update=!1;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()},f,i,t;u.prototype={constructor:u,_process_options:function(r){var u,f,o;this._o=n.extend({},this._o,r);u=this.o=n.extend({},this._o);f=u.language;i[f]||(f=f.split("-")[0],i[f]||(f=e.language));u.language=f;switch(u.startView){case 2:case"decade":u.startView=2;break;case 1:case"year":u.startView=1;break;default:u.startView=0}switch(u.minViewMode){case 1:case"months":u.minViewMode=1;break;case 2:case"years":u.minViewMode=2;break;default:u.minViewMode=0}u.startView=Math.max(u.startView,u.minViewMode);u.weekStart%=7;u.weekEnd=(u.weekStart+6)%7;o=t.parseFormat(u.format);u.startDate!==-Infinity&&(u.startDate=t.parseDate(u.startDate,o,u.language));u.endDate!==Infinity&&(u.endDate=t.parseDate(u.endDate,o,u.language));u.daysOfWeekDisabled=u.daysOfWeekDisabled||[];n.isArray(u.daysOfWeekDisabled)||(u.daysOfWeekDisabled=u.daysOfWeekDisabled.split(/[,\s]*/));u.daysOfWeekDisabled=n.map(u.daysOfWeekDisabled,function(n){return parseInt(n,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var t=0,i,r;t<n.length;t++){i=n[t][0];r=n[t][1];i.on(r)}},_unapplyEvents:function(n){for(var t=0,i,r;t<n.length;t++)i=n[t][0],r=n[t][1],i.off(r)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:n.proxy(this.show,this),keyup:n.proxy(this.update,this),keydown:n.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:n.proxy(this.show,this),keyup:n.proxy(this.update,this),keydown:n.proxy(this.keydown,this)}],[this.component,{click:n.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:n.proxy(this.show,this)}]];this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{mousedown:n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).size()||this.picker.is(n.target)||this.picker.find(n.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(i,r){var u=r||this.date,f=new Date(u.getTime()+u.getTimezoneOffset()*6e4);this.element.trigger({type:i,date:f,format:n.proxy(function(n){var i=n||this.o.format;return t.formatDate(u,i,this.o.language)},this)})},show:function(n){this.isInline||this.picker.appendTo("body");this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();n&&n.preventDefault();this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||delete this.element.data().date},getDate:function(){var n=this.getUTCDate();return new Date(n.getTime()+n.getTimezoneOffset()*6e4)},getUTCDate:function(){return this.date},setDate:function(n){this.setUTCDate(new Date(n.getTime()-n.getTimezoneOffset()*6e4))},setUTCDate:function(n){this.date=n;this.setValue()},setValue:function(){var n=this.getFormattedDate();this.isInput?this.element.val(n):this.component&&this.element.find("input").val(n)},getFormattedDate:function(n){return n===undefined&&(n=this.o.format),t.formatDate(this.date,n,this.o.language)},setStartDate:function(n){this._process_options({startDate:n});this.update();this.updateNavArrows()},setEndDate:function(n){this._process_options({endDate:n});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(n){this._process_options({daysOfWeekDisabled:n});this.update();this.updateNavArrows()},place:function(){if(!this.isInline){var i=parseInt(this.element.parents().filter(function(){return n(this).css("z-index")!="auto"}).first().css("z-index"))+10,t=this.component?this.component.parent().offset():this.element.offset(),r=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:t.top+r,left:t.left,zIndex:i})}},_allow_update:!0,update:function(){if(this._allow_update){var n,i=!1;arguments&&arguments.length&&(typeof arguments[0]=="string"||arguments[0]instanceof Date)?(n=arguments[0],i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date);this.date=t.parseDate(n,this.o.format,this.o.language);i&&this.setValue();this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date);this.fill()}},fillDow:function(){var r=this.o.weekStart,n="<tr>",t;for(this.o.calendarWeeks&&(t='<th class="cw">&nbsp;<\/th>',n+=t,this.picker.find(".datepicker-days thead tr:first-child").prepend(t));r<this.o.weekStart+7;)n+='<th class="dow">'+i[this.o.language].daysMin[r++%7]+"<\/th>";n+="<\/tr>";this.picker.find(".datepicker-days thead").append(n)},fillMonths:function(){for(var n="",t=0;t<12;)n+='<span class="month">'+i[this.o.language].monthsShort[t++]+"<\/span>";this.picker.find(".datepicker-months td").html(n)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),e=this.date.valueOf(),u=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()==r&&t.getUTCMonth()<f?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()==r&&t.getUTCMonth()>f)&&i.push("new"),this.o.todayHighlight&&t.getUTCFullYear()==u.getFullYear()&&t.getUTCMonth()==u.getMonth()&&t.getUTCDate()==u.getDate()&&i.push("today"),e&&t.valueOf()==e&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&i.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),n.inArray(t.valueOf(),this.range)!=-1&&i.push("selected")),i},fill:function(){var k=new Date(this.viewDate),u=k.getUTCFullYear(),d=k.getUTCMonth(),v=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,it=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,y=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,rt=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,ft=this.date&&this.date.valueOf(),p,f,w,h,o,s,e,a,c,tt,l;for(this.picker.find(".datepicker-days thead th.datepicker-switch").text(i[this.o.language].months[d]+" "+u),this.picker.find("tfoot th.today").text(i[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(i[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths(),f=r(u,d-1,28,0,0,0,0),w=t.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth()),f.setUTCDate(w),f.setUTCDate(w-(f.getUTCDay()-this.o.weekStart+7)%7),h=new Date(f),h.setUTCDate(h.getUTCDate()+42),h=h.valueOf(),o=[];f.valueOf()<h;){if(f.getUTCDay()==this.o.weekStart&&(o.push("<tr>"),this.o.calendarWeeks)){var g=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),nt=new Date(+g+(11-g.getUTCDay())%7*864e5),b=new Date(+(b=r(nt.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),ut=(nt-b)/6048e5+1;o.push('<td class="cw">'+ut+"<\/td>")}s=this.getClassNames(f);s.push("day");e=this.o.beforeShowDay(f);e===undefined?e={}:typeof e=="boolean"?e={enabled:e}:typeof e=="string"&&(e={classes:e});e.enabled===!1&&s.push("disabled");e.classes&&(s=s.concat(e.classes.split(/\s+/)));e.tooltip&&(p=e.tooltip);s=n.unique(s);o.push('<td class="'+s.join(" ")+'"'+(p?' title="'+p+'"':"")+">"+f.getUTCDate()+"<\/td>");f.getUTCDay()==this.o.weekEnd&&o.push("<\/tr>");f.setUTCDate(f.getUTCDate()+1)}for(this.picker.find(".datepicker-days tbody").empty().append(o.join("")),a=this.date&&this.date.getUTCFullYear(),c=this.picker.find(".datepicker-months").find("th:eq(1)").text(u).end().find("span").removeClass("active"),a&&a==u&&c.eq(this.date.getUTCMonth()).addClass("active"),(u<v||u>y)&&c.addClass("disabled"),u==v&&c.slice(0,it).addClass("disabled"),u==y&&c.slice(rt+1).addClass("disabled"),o="",u=parseInt(u/10,10)*10,tt=this.picker.find(".datepicker-years").find("th:eq(1)").text(u+"-"+(u+9)).end().find("td"),u-=1,l=-1;l<11;l++)o+='<span class="year'+(l==-1?" old":l==10?" new":"")+(a==u?" active":"")+(u<v||u>y?" disabled":"")+'">'+u+"<\/span>",u+=1;tt.html(o)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),n=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-Infinity&&n<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==Infinity&&n>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(i){var u,h,e,l,s;if(i.preventDefault(),u=n(i.target).closest("span, td, th"),u.length==1)switch(u[0].nodeName.toLowerCase()){case"th":switch(u[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":h=t.modes[this.viewMode].navStep*(u[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,h);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,h)}this.fill();break;case"today":e=new Date;e=r(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);this.showMode(-2);l=this.o.todayBtn=="linked"?null:"view";this._setDate(e,l);break;case"clear":this.isInput?s=this.element:this.component&&(s=this.element.find("input"));s&&s.val("").change();this._trigger("changeDate");this.update();this.o.autoclose&&this.hide()}break;case"span":if(!u.is(".disabled")){if(this.viewDate.setUTCDate(1),u.is(".month")){var c=1,f=u.parent().find("span").index(u),o=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(f);this._trigger("changeMonth",this.viewDate);this.o.minViewMode===1&&this._setDate(r(o,f,c,0,0,0,0))}else{var o=parseInt(u.text(),10)||0,c=1,f=0;this.viewDate.setUTCFullYear(o);this._trigger("changeYear",this.viewDate);this.o.minViewMode===2&&this._setDate(r(o,f,c,0,0,0,0))}this.showMode(-1);this.fill()}break;case"td":if(u.is(".day")&&!u.is(".disabled")){var c=parseInt(u.text(),10)||1,o=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth();u.is(".old")?f===0?(f=11,o-=1):f-=1:u.is(".new")&&(f==11?(f=0,o+=1):f+=1);this._setDate(r(o,f,c,0,0,0,0))}}},_setDate:function(n,t){t&&t!="date"||(this.date=new Date(n));t&&t!="view"||(this.viewDate=new Date(n));this.fill();this.setValue();this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input"));i&&(i.change(),this.o.autoclose&&(!t||t=="date")&&this.hide())},moveMonth:function(n,t){var f;if(!t)return n;var i=new Date(n.valueOf()),e=i.getUTCDate(),o=i.getUTCMonth(),s=Math.abs(t),r,u;if(t=t>0?1:-1,s==1)u=t==-1?function(){return i.getUTCMonth()==o}:function(){return i.getUTCMonth()!=r},r=o+t,i.setUTCMonth(r),(r<0||r>11)&&(r=(r+12)%12);else{for(f=0;f<s;f++)i=this.moveMonth(i,t);r=i.getUTCMonth();i.setUTCDate(e);u=function(){return r!=i.getUTCMonth()}}while(u())i.setUTCDate(--e),i.setUTCMonth(r);return i},moveYear:function(n,t){return this.moveMonth(n,t*12)},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){var u,t,i,r,f;if(this.picker.is(":not(:visible)")){n.keyCode==27&&this.show();return}u=!1;switch(n.keyCode){case 27:this.hide();n.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=n.keyCode==37?-1:1;n.ctrlKey?(i=this.moveYear(this.date,t),r=this.moveYear(this.viewDate,t)):n.shiftKey?(i=this.moveMonth(this.date,t),r=this.moveMonth(this.viewDate,t)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+t),r=new Date(this.viewDate),r.setUTCDate(this.viewDate.getUTCDate()+t));this.dateWithinRange(i)&&(this.date=i,this.viewDate=r,this.setValue(),this.update(),n.preventDefault(),u=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=n.keyCode==38?-1:1;n.ctrlKey?(i=this.moveYear(this.date,t),r=this.moveYear(this.viewDate,t)):n.shiftKey?(i=this.moveMonth(this.date,t),r=this.moveMonth(this.viewDate,t)):(i=new Date(this.date),i.setUTCDate(this.date.getUTCDate()+t*7),r=new Date(this.viewDate),r.setUTCDate(this.viewDate.getUTCDate()+t*7));this.dateWithinRange(i)&&(this.date=i,this.viewDate=r,this.setValue(),this.update(),n.preventDefault(),u=!0);break;case 13:this.hide();n.preventDefault();break;case 9:this.hide()}u&&(this._trigger("changeDate"),this.isInput?f=this.element:this.component&&(f=this.element.find("input")),f&&f.change())},showMode:function(n){n&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+n)));this.picker.find(">div").hide().filter(".datepicker-"+t.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};f=function(t,i){this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;n(this.inputs).datepicker(i).bind("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n(t).data("datepicker")});this.updateDates()};f.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.date});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(t){var u=n(t.target).data("datepicker"),r=u.getUTCDate(),i=n.inArray(t.target,this.inputs),f=this.inputs.length;if(i!=-1){if(r<this.dates[i])while(i>=0&&r<this.dates[i])this.pickers[i--].setUTCDate(r);else if(r>this.dates[i])while(i<f&&r>this.dates[i])this.pickers[i++].setUTCDate(r);this.updateDates()}},remove:function(){n.map(this.pickers,function(n){n.remove()});delete this.element.data().datepicker}};var c=n.fn.datepicker,o=n.fn.datepicker=function(t){var r=Array.apply(null,arguments),i;return r.shift(),this.each(function(){var c=n(this),o=c.data("datepicker"),a=typeof t=="object"&&t,y;if(!o){var v=s(this,"date"),p=n.extend({},e,v,a),w=h(p.language),l=n.extend({},e,w,v,a);c.is(".input-daterange")||l.inputs?(y={inputs:l.inputs||c.find("input").toArray()},c.data("datepicker",o=new f(this,n.extend(l,y)))):c.data("datepicker",o=new u(this,l))}if(typeof t=="string"&&typeof o[t]=="function"&&(i=o[t].apply(o,r),i!==undefined))return!1}),i!==undefined?i:this},e=n.fn.datepicker.defaults={autoclose:!1,beforeShowDay:n.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},l=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=u;i=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};t={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},getDaysInMonth:function(n,i){return[31,t.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][i]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(n){var t=n.replace(this.validParts,'\0').split('\0'),i=n.match(this.validParts);if(!t||!t.length||!i||i.length===0)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(f,e,o){var d,h,a,v,l,g,s,p;if(f instanceof Date)return f;if(typeof e=="string"&&(e=t.parseFormat(e)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(f)){for(d=/([\-+]\d+)([dmwy])/,h=f.match(/([\-+]\d+)([dmwy])/g),f=new Date,s=0;s<h.length;s++){a=d.exec(h[s]);v=parseInt(a[1]);switch(a[2]){case"d":f.setUTCDate(f.getUTCDate()+v);break;case"m":f=u.prototype.moveMonth.call(u.prototype,f,v);break;case"w":f.setUTCDate(f.getUTCDate()+v*7);break;case"y":f=u.prototype.moveYear.call(u.prototype,f,v)}}return r(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),0,0,0)}var h=f&&f.match(this.nonpunctuation)||[],f=new Date,w={},k=["yyyy","yy","M","MM","m","mm","d","dd"],c={yyyy:function(n,t){return n.setUTCFullYear(t)},yy:function(n,t){return n.setUTCFullYear(2e3+t)},m:function(n,t){for(t-=1;t<0;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!=t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}},y,b,a;if(c.M=c.MM=c.mm=c.m,c.dd=c.d,f=r(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0),l=e.parts.slice(),h.length!=l.length&&(l=n(l).filter(function(t,i){return n.inArray(i,k)!==-1}).toArray()),h.length==l.length){for(s=0,g=l.length;s<g;s++){if(y=parseInt(h[s],10),a=l[s],isNaN(y))switch(a){case"MM":b=n(i[o].months).filter(function(){var n=this.slice(0,h[s].length),t=h[s].slice(0,n.length);return n==t});y=n.inArray(b[0],i[o].months)+1;break;case"M":b=n(i[o].monthsShort).filter(function(){var n=this.slice(0,h[s].length),t=h[s].slice(0,n.length);return n==t});y=n.inArray(b[0],i[o].monthsShort)+1}w[a]=y}for(s=0;s<k.length;s++)p=k[s],p in w&&!isNaN(w[p])&&c[p](f,w[p])}return f},formatDate:function(r,u,f){var e,r,s,o,h;for(typeof u=="string"&&(u=t.parseFormat(u)),e={d:r.getUTCDate(),D:i[f].daysShort[r.getUTCDay()],DD:i[f].days[r.getUTCDay()],m:r.getUTCMonth()+1,M:i[f].monthsShort[r.getUTCMonth()],MM:i[f].months[r.getUTCMonth()],yy:r.getUTCFullYear().toString().substring(2),yyyy:r.getUTCFullYear()},e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m,r=[],s=n.extend([],u.separators),o=0,h=u.parts.length;o<=h;o++)s.length&&r.push(s.shift()),r.push(e[u.parts[o]]);return r.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/><\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next"><i class="icon-arrow-right"/><\/th><\/tr><\/thead>',contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};t.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+t.headTemplate+"<tbody><\/tbody>"+t.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+t.headTemplate+t.contTemplate+t.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+t.headTemplate+t.contTemplate+t.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=t;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=c,this};n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),o.call(i,"show"))});n(function(){o.call(n('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(n){"use strict";n.fn.bdatepicker=n.fn.datepicker.noConflict();n.fn.datepicker||(n.fn.datepicker=n.fn.bdatepicker);var t=function(n){this.init("date",n,t.defaults);this.initPicker(n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{initPicker:function(t,i){this.options.viewformat||(this.options.viewformat=this.options.format);t.datepicker=n.fn.editableutils.tryParseJson(t.datepicker,!0);this.options.datepicker=n.extend({},i.datepicker,t.datepicker,{format:this.options.viewformat});this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=n.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);this.options.clear&&(this.$clear=n('<a href="#"><\/a>').html(this.options.clear).click(n.proxy(function(n){n.preventDefault();n.stopPropagation();this.clear()},this)),this.$tpl.parent().append(n('<div class="editable-clear">').append(this.$clear)))},value2html:function(n,i){var r=n?this.dpg.formatDate(n,this.parsedViewFormat,this.options.datepicker.language):"";t.superclass.value2html.call(this,r,i)},html2value:function(n){return this.parseDate(n,this.parsedViewFormat)},value2str:function(n){return n?this.dpg.formatDate(n,this.parsedFormat,this.options.datepicker.language):""},str2value:function(n){return this.parseDate(n,this.parsedFormat)},value2submit:function(n){return this.value2str(n)},value2input:function(n){this.$input.bdatepicker("update",n)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(t){if(!n(t.currentTarget).is(".old")&&!n(t.currentTarget).is(".new")){var i=n(this).closest("form");setTimeout(function(){i.submit()},200)}})},parseDate:function(n,t){var i=null,r;return n&&(i=this.dpg.parseDate(n,t,this.options.datepicker.language),typeof n=="string"&&(r=this.dpg.formatDate(i,t,this.options.datepicker.language),n!==r&&(i=null))),i}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"><\/div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"});n.fn.editabletypes.date=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("datefield",n,t.defaults);this.initPicker(n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.date);n.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(n.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(n){this.$input.val(n?this.dpg.formatDate(n,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){n.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});t.defaults=n.extend({},n.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"><\/i><\/span><\/div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}});n.fn.editabletypes.datefield=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("datetime",n,t.defaults);this.initPicker(n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{initPicker:function(t,i){this.options.viewformat||(this.options.viewformat=this.options.format);t.datetimepicker=n.fn.editableutils.tryParseJson(t.datetimepicker,!0);this.options.datetimepicker=n.extend({},i.datetimepicker,t.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||"en";this.dpg=n.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(){var t=n(this).closest("form").parent();setTimeout(function(){t.triggerHandler("resize")},0)});this.options.clear&&(this.$clear=n('<a href="#"><\/a>').html(this.options.clear).click(n.proxy(function(n){n.preventDefault();n.stopPropagation();this.clear()},this)),this.$tpl.parent().append(n('<div class="editable-clear">').append(this.$clear)))},value2html:function(n,i){var r=n?this.dpg.formatDate(this.toUTC(n),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(i)t.superclass.value2html.call(this,r,i);else return r},html2value:function(n){var t=this.parseDate(n,this.parsedViewFormat);return t?this.fromUTC(t):null},value2str:function(n){return n?this.dpg.formatDate(this.toUTC(n),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(n){var t=this.parseDate(n,this.parsedFormat);return t?this.fromUTC(t):null},value2submit:function(n){return this.value2str(n)},value2input:function(n){n&&this.$input.data("datetimepicker").setDate(n)},input2value:function(){var n=this.$input.data("datetimepicker");return n.date?n.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var t=n(this).closest("form");setTimeout(function(){t.submit()},200)})},toUTC:function(n){return n?new Date(n.valueOf()-n.getTimezoneOffset()*6e4):n},fromUTC:function(n){return n?new Date(n.valueOf()+n.getTimezoneOffset()*6e4):n},parseDate:function(n,t){var i=null,r;return n&&(i=this.dpg.parseDate(n,t,this.options.datetimepicker.language,this.options.formatType),typeof n=="string"&&(r=this.dpg.formatDate(i,t,this.options.datetimepicker.language,this.options.formatType),n!==r&&(i=null))),i}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"><\/div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"});n.fn.editabletypes.datetime=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("datetimefield",n,t.defaults);this.initPicker(n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.datetime);n.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(n.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(n){this.$input.val(this.value2html(n));this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){n.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});t.defaults=n.extend({},n.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"><\/i><\/span><\/div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}});n.fn.editabletypes.datetimefield=t}(window.jQuery),function(n){"use strict";var t=function(n){this.init("address",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.abstractinput);n.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input")},value2html:function(t,i){if(!t){n(i).empty();return}var r=n("<div>").text(t.city).html()+", "+n("<div>").text(t.street).html()+" st., bld. "+n("<div>").text(t.building).html();n(i).html(r)},html2value:function(){return null},value2str:function(n){var t="",i;if(n)for(i in n)t=t+i+":"+n[i]+";";return t},str2value:function(n){return n},value2input:function(n){n&&(this.$input.filter('[name="city"]').val(n.city),this.$input.filter('[name="street"]').val(n.street),this.$input.filter('[name="building"]').val(n.building))},input2value:function(){return{city:this.$input.filter('[name="city"]').val(),street:this.$input.filter('[name="street"]').val(),building:this.$input.filter('[name="building"]').val()}},activate:function(){this.$input.filter('[name="city"]').focus()},autosubmit:function(){this.$input.keydown(function(t){t.which===13&&n(this).closest("form").submit()})}});t.defaults=n.extend({},n.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-address"><label><span>City: <\/span><input type="text" name="city" class="input-small form-control"><\/label><\/div><div class="editable-address"><label><span>Street: <\/span><input type="text" name="street" class="input-small form-control"><\/label><\/div><div class="editable-address"><label><span>Building: <\/span><input type="text" name="building" class="input-mini form-control"><\/label><\/div>',inputclass:""});n.fn.editabletypes.address=t}(window.jQuery);
/*!
 * typeahead.js 0.9.3
 * https://github.com/twitter/typeahead
 * Copyright 2013 Twitter, Inc. and other contributors; Licensed MIT
 */
(function(n){var u="0.9.3",t={isMsie:function(){var n=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return n?parseInt(n[2],10):!1},isBlankString:function(n){return!n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"},isArray:n.isArray,isFunction:n.isFunction,isObject:n.isPlainObject,isUndefined:function(n){return typeof n=="undefined"},bind:n.proxy,bindAll:function(t){var i;for(var r in t)n.isFunction(i=t[r])&&(t[r]=n.proxy(i,t))},indexOf:function(n,t){for(var i=0;i<n.length;i++)if(n[i]===t)return i;return-1},each:n.each,map:n.map,filter:n.grep,every:function(t,i){var r=!0;return t?(n.each(t,function(n,u){if(!(r=i.call(null,u,n,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(n.each(t,function(n,u){if(r=i.call(null,u,n,t))return!1}),!!r):r},mixin:n.extend,getUniqueId:function(){var n=0;return function(){return n++}}(),defer:function(n){setTimeout(n,0)},debounce:function(n,t,i){var r,u;return function(){var f=this,e=arguments,o,s;return o=function(){r=null;i||(u=n.apply(f,e))},s=i&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(u=n.apply(f,e)),u}},throttle:function(n,t){var u,f,i,e,r,o;return r=0,o=function(){r=new Date;i=null;e=n.apply(u,f)},function(){var s=new Date,h=t-(s-r);return u=this,f=arguments,h<=0?(clearTimeout(i),i=null,r=s,e=n.apply(u,f)):i||(i=setTimeout(o,h)),e}},tokenizeQuery:function(t){return n.trim(t).toLowerCase().split(/[\s]+/)},tokenizeText:function(t){return n.trim(t).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}},i=function(){var n=/\s+/;return{on:function(t,i){var r;if(!i)return this;for(this._callbacks=this._callbacks||{},t=t.split(n);r=t.shift();)this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push(i);return this},trigger:function(t,i){var u,f,r;if(!this._callbacks)return this;for(t=t.split(n);u=t.shift();)if(f=this._callbacks[u])for(r=0;r<f.length;r+=1)f[r].call(this,{type:u,data:i});return this}}}(),r=function(){function i(t){t&&t.el||n.error("EventBus initialized without el");this.$el=n(t.el)}var r="typeahead:";return t.mixin(i.prototype,{trigger:function(n){var t=[].slice.call(arguments,1);this.$el.trigger(r+n,t)}}),i}(),f=function(){function r(n){this.prefix=["__",n,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+this.prefix)}function u(){return(new Date).getTime()}function f(n){return JSON.stringify(t.isUndefined(n)?null:n)}function e(n){return JSON.parse(n)}var n,i;try{n=window.localStorage;n.setItem("~~~","!");n.removeItem("~~~")}catch(o){n=null}return i=n&&window.JSON?{_prefix:function(n){return this.prefix+n},_ttlKey:function(n){return this._prefix(n)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),e(n.getItem(this._prefix(t)))},set:function(i,r,e){return t.isNumber(e)?n.setItem(this._ttlKey(i),f(u()+e)):n.removeItem(this._ttlKey(i)),n.setItem(this._prefix(i),f(r))},remove:function(t){return n.removeItem(this._ttlKey(t)),n.removeItem(this._prefix(t)),this},clear:function(){for(var r,i=[],u=n.length,t=0;t<u;t++)(r=n.key(t)).match(this.keyMatcher)&&i.push(r.replace(this.keyMatcher,""));for(t=i.length;t--;)this.remove(i[t]);return this},isExpired:function(i){var r=e(n.getItem(this._ttlKey(i)));return t.isNumber(r)&&u()>r?!0:!1}}:{get:t.noop,set:t.noop,remove:t.noop,clear:t.noop,isExpired:t.noop},t.mixin(r.prototype,i),r}(),e=function(){function n(n){t.bindAll(this);n=n||{};this.sizeLimit=n.sizeLimit||10;this.cache={};this.cachedKeysByAge=[]}return t.mixin(n.prototype,{get:function(n){return this.cache[n]},set:function(n,t){var i;this.cachedKeysByAge.length===this.sizeLimit&&(i=this.cachedKeysByAge.shift(),delete this.cache[i]);this.cache[n]=t;this.cachedKeysByAge.push(n)}}),n}(),o=function(){function o(n){t.bindAll(this);n=t.isString(n)?{url:n}:n;i=i||new e;f=t.isNumber(n.maxParallelRequests)?n.maxParallelRequests:f||6;this.url=n.url;this.wildcard=n.wildcard||"%QUERY";this.filter=n.filter;this.replace=n.replace;this.ajaxSettings={type:"get",cache:n.cache,timeout:n.timeout,dataType:n.dataType||"json",beforeSend:n.beforeSend};this._get=(/^throttle$/i.test(n.rateLimitFn)?t.throttle:t.debounce)(this._get,n.rateLimitWait||300)}function s(){r++}function h(){r--}function c(){return r<f}var r=0,u={},f,i;return t.mixin(o.prototype,{_get:function(n,t){function u(u){var f=r.filter?r.filter(u):u;t&&t(f);i.set(n,u)}var r=this;c()?this._sendRequest(n).done(u):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(t){function f(){h();u[t]=null;i.onDeckRequestArgs&&(i._get.apply(i,i.onDeckRequestArgs),i.onDeckRequestArgs=null)}var i=this,r=u[t];return r||(s(),r=u[t]=n.ajax(t,this.ajaxSettings).always(f)),r},get:function(n,r){var e=this,o=encodeURIComponent(n||""),f,u;return r=r||t.noop,f=this.replace?this.replace(this.url,o):this.url.replace(this.wildcard,o),(u=i.get(f))?t.defer(function(){r(e.filter?e.filter(u):u)}):this._get(f,r),!!u}}),o}(),s=function(){function r(i){t.bindAll(this);t.isString(i.template)&&!i.engine&&n.error("no template engine specified");i.local||i.prefetch||i.remote||n.error("one of local, prefetch, or remote is required");this.name=i.name||t.getUniqueId();this.limit=i.limit||5;this.minLength=i.minLength||1;this.header=i.header;this.footer=i.footer;this.valueKey=i.valueKey||"value";this.template=e(i.template,i.engine,this.valueKey);this.local=i.local;this.prefetch=i.prefetch;this.remote=i.remote;this.itemHash={};this.adjacencyList={};this.storage=i.name?new f(i.name):null}function e(n,i,r){var u,f;return t.isFunction(n)?u=n:t.isString(n)?(f=i.compile(n),u=t.bind(f.render,f)):u=function(n){return"<p>"+n[r]+"<\/p>"},u}var i={thumbprint:"thumbprint",protocol:"protocol",itemHash:"itemHash",adjacencyList:"adjacencyList"};return t.mixin(r.prototype,{_processLocalData:function(n){this._mergeProcessedData(this._processData(n))},_loadPrefetchData:function(r){function v(n){var e=r.filter?r.filter(n):n,u=f._processData(e),o=u.itemHash,s=u.adjacencyList;f.storage&&(f.storage.set(i.itemHash,o,r.ttl),f.storage.set(i.adjacencyList,s,r.ttl),f.storage.set(i.thumbprint,h,r.ttl),f.storage.set(i.protocol,t.getProtocol(),r.ttl));f._mergeProcessedData(u)}var f=this,h=u+(r.thumbprint||""),c,l,e,o,a,s;return this.storage&&(c=this.storage.get(i.thumbprint),l=this.storage.get(i.protocol),e=this.storage.get(i.itemHash),o=this.storage.get(i.adjacencyList)),a=c!==h||l!==t.getProtocol(),r=t.isString(r)?{url:r}:r,r.ttl=t.isNumber(r.ttl)?r.ttl:864e5,e&&o&&!a?(this._mergeProcessedData({itemHash:e,adjacencyList:o}),s=n.Deferred().resolve()):s=n.getJSON(r.url).done(v),s},_transformDatum:function(n){var r=t.isString(n)?n:n[this.valueKey],u=n.tokens||t.tokenizeText(r),i={value:r,tokens:u};return t.isString(n)?(i.datum={},i.datum[this.valueKey]=n):i.datum=n,i.tokens=t.filter(i.tokens,function(n){return!t.isBlankString(n)}),i.tokens=t.map(i.tokens,function(n){return n.toLowerCase()}),i},_processData:function(n){var u=this,r={},i={};return t.each(n,function(n,f){var o=u._transformDatum(f),e=t.getUniqueId(o.value);r[e]=o;t.each(o.tokens,function(n,r){var u=r.charAt(0),f=i[u]||(i[u]=[e]);~t.indexOf(f,e)||f.push(e)})}),{itemHash:r,adjacencyList:i}},_mergeProcessedData:function(n){var i=this;t.mixin(this.itemHash,n.itemHash);t.each(n.adjacencyList,function(n,t){var r=i.adjacencyList[n];i.adjacencyList[n]=r?r.concat(t):t})},_getLocalSuggestions:function(n){var f=this,i=[],u=[],r,e=[];return(t.each(n,function(n,r){var u=r.charAt(0);~t.indexOf(i,u)||i.push(u)}),t.each(i,function(n,t){var i=f.adjacencyList[t];if(!i)return!1;u.push(i);(!r||i.length<r.length)&&(r=i)}),u.length<i.length)?[]:(t.each(r,function(i,r){var o=f.itemHash[r],s,h;s=t.every(u,function(n){return~t.indexOf(n,r)});h=s&&t.every(n,function(n){return t.some(o.tokens,function(t){return t.indexOf(n)===0})});h&&e.push(o)}),e)},initialize:function(){var t;return this.local&&this._processLocalData(this.local),this.transport=this.remote?new o(this.remote):null,t=this.prefetch?this._loadPrefetchData(this.prefetch):n.Deferred().resolve(),this.local=this.prefetch=this.remote=null,this.initialize=function(){return t},t},getSuggestions:function(n,i){function o(n){r=r.slice(0);t.each(n,function(n,i){var f=u._transformDatum(i),e;return e=t.some(r,function(n){return f.value===n.value}),e||r.push(f),r.length<u.limit});i&&i(r)}var u=this,f,r,e=!1;n.length<this.minLength||(f=t.tokenizeQuery(n),r=this._getLocalSuggestions(f).slice(0,this.limit),r.length<this.limit&&this.transport&&(e=this.transport.get(n,o)),!e&&i&&i(r))}}),r}(),h=function(){function r(i){var r=this;if(t.bindAll(this),this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},this.$hint=n(i.hint),this.$input=n(i.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent),t.isMsie())this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(n){r.specialKeyCodeMap[n.which||n.keyCode]||t.defer(r._compareQueryToInputValue)});else this.$input.on("input.tt",this._compareQueryToInputValue);this.query=this.$input.val();this.$overflowHelper=u(this.$input)}function u(t){return n("<span><\/span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function f(n,t){return n=(n||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),t=(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),n===t}return t.mixin(r.prototype,i,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(n){var t=this.specialKeyCodeMap[n.which||n.keyCode];t&&this.trigger(t+"Keyed",n)},_compareQueryToInputValue:function(){var n=this.getInputValue(),t=f(this.query,n),i=t?this.query.length!==n.length:!1;i?this.trigger("whitespaceChanged",{value:this.query}):t||this.trigger("queryChanged",{value:this.query=n})},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(n){this.query=n},getInputValue:function(){return this.$input.val()},setInputValue:function(n,t){this.$input.val(n);t||this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(n){this.$hint.val(n)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var n=this.$input.val().length,r=this.$input[0].selectionStart,i;return t.isNumber(r)?r===n:document.selection?(i=document.selection.createRange(),i.moveStart("character",-n),n===i.text.length):!0}}),r}(),c=function(){function f(i){t.bindAll(this);this.isOpen=!1;this.isEmpty=!0;this.isMouseOverDropdown=!1;this.$menu=n(i.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)}function r(n){return n.data("suggestion")}var e={suggestionsList:'<span class="tt-suggestions"><\/span>'},u={suggestionsList:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"}};return t.mixin(f.prototype,i,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=!1},_handleMouseover:function(t){var i=n(t.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor");i.addClass("tt-is-under-cursor")},_handleSelection:function(t){var i=n(t.currentTarget);this.trigger("suggestionSelected",r(i))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(n){var i,u,t,f;if(this.isVisible()){if(i=this._getSuggestions(),u=i.filter(".tt-is-under-cursor"),u.removeClass("tt-is-under-cursor"),t=i.index(u)+n,t=(t+1)%(i.length+1)-1,t===-1){this.trigger("cursorRemoved");return}t<-1&&(t=i.length-1);f=i.eq(t).addClass("tt-is-under-cursor");this._ensureVisibility(f);this.trigger("cursorMoved",r(f))}},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(n){var i=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),r=this.$menu.scrollTop(),t=n.position().top,u=t+n.outerHeight(!0);t<0?this.$menu.scrollTop(r+t):i<u&&this.$menu.scrollTop(r+(u-i))},destroy:function(){this.$menu.off(".tt");this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&(this.isOpen=!1,this.isMouseOverDropdown=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,this.isEmpty||this._show(),this.trigger("opened"))},setLanguageDirection:function(n){n==="ltr"?this.$menu.css({left:"0",right:"auto"}):this.$menu.css({left:"auto",right:" 0"})},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var n=this._getSuggestions().filter(".tt-is-under-cursor").first();return n.length>0?r(n):null},getFirstSuggestion:function(){var n=this._getSuggestions().first();return n.length>0?r(n):null},renderSuggestions:function(i,r){var c="tt-dataset-"+i.name,v='<div class="tt-suggestion">%body<\/div>',l,a,f=this.$menu.find("."+c),o,s,h;f.length===0&&(a=n(e.suggestionsList).css(u.suggestionsList),f=n("<div><\/div>").addClass(c).append(i.header).append(a).append(i.footer).appendTo(this.$menu));r.length>0?(this.isEmpty=!1,this.isOpen&&this._show(),o=document.createElement("div"),s=document.createDocumentFragment(),t.each(r,function(t,r){r.dataset=i.name;l=i.template(r.datum);o.innerHTML=v.replace("%body",l);h=n(o.firstChild).css(u.suggestion).data("suggestion",r);h.children().each(function(){n(this).css(u.suggestionChild)});s.appendChild(h[0])}),f.show().find(".tt-suggestions").html(s)):this.clearSuggestions(i.name);this.trigger("suggestionsRendered")},clearSuggestions:function(n){var t=n?this.$menu.find(".tt-dataset-"+n):this.$menu.find('[class^="tt-dataset-"]'),i=t.find(".tt-suggestions");t.hide();i.empty();this._getSuggestions().length===0&&(this.isEmpty=!0,this._hide())}}),f}(),l=function(){function f(n){var i,r,u;t.bindAll(this);this.$node=e(n.input);this.datasets=n.datasets;this.dir=null;this.eventBus=n.eventBus;i=this.$node.find(".tt-dropdown-menu");r=this.$node.find(".tt-query");u=this.$node.find(".tt-hint");this.dropdownView=new c({menu:i}).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent);this.inputView=new h({input:r,hint:u}).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}function e(t){var f=n(u.wrapper),e=n(u.dropdown),i=n(t),o=n(u.hint);f=f.css(r.wrapper);e=e.css(r.dropdown);o.css(r.hint).css({backgroundAttachment:i.css("background-attachment"),backgroundClip:i.css("background-clip"),backgroundColor:i.css("background-color"),backgroundImage:i.css("background-image"),backgroundOrigin:i.css("background-origin"),backgroundPosition:i.css("background-position"),backgroundRepeat:i.css("background-repeat"),backgroundSize:i.css("background-size")});i.data("ttAttrs",{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")});i.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(r.query);try{i.attr("dir")||i.attr("dir","auto")}catch(s){}return i.wrap(f).parent().prepend(o).append(e)}function o(n){var i=n.find(".tt-query");t.each(i.data("ttAttrs"),function(n,r){t.isUndefined(r)?i.removeAttr(n):i.attr(n,r)});i.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(n);n.remove()}var u={wrapper:'<span class="twitter-typeahead"><\/span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"><\/span>'},r={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};return t.isMsie()&&t.mixin(r.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t.isMsie()&&t.isMsie()<=7&&(t.mixin(r.wrapper,{display:"inline",zoom:"1"}),t.mixin(r.query,{marginTop:"-1px"})),t.mixin(f.prototype,i,{_managePreventDefault:function(n){var t=n.data,i,u,r=!1;switch(n.type){case"tabKeyed":i=this.inputView.getHintValue();u=this.inputView.getInputValue();r=i&&i!==u;break;case"upKeyed":case"downKeyed":r=!t.shiftKey&&!t.ctrlKey&&!t.metaKey}r&&t.preventDefault()},_setLanguageDirection:function(){var n=this.inputView.getLanguageDirection();n!==this.dir&&(this.dir=n,this.$node.css("direction",n),this.dropdownView.setLanguageDirection(n))},_updateHint:function(){var r=this.dropdownView.getFirstSuggestion(),u=r?r.value:null,s=this.dropdownView.isVisible(),h=this.inputView.isOverflow(),n,f,e,o,i;u&&s&&!h&&(n=this.inputView.getInputValue(),f=n.replace(/\s{2,}/g," ").replace(/^\s+/g,""),e=t.escapeRegExChars(f),o=new RegExp("^(?:"+e+")(.*$)","i"),i=o.exec(u),this.inputView.setHintValue(n+(i?i[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(n){var t=n.data;this.inputView.setInputValue(t.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(n){this.dropdownView[n.type==="blured"?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(n){var t=n.data;t.shiftKey||t.ctrlKey||t.metaKey||this.dropdownView[n.type==="upKeyed"?"moveCursorUp":"moveCursorDown"]()},_handleSelection:function(n){var r=n.type==="suggestionSelected",i=r?n.data:this.dropdownView.getSuggestionUnderCursor();i&&(this.inputView.setInputValue(i.value),r?this.inputView.focus():n.data.preventDefault(),r&&t.isMsie()?t.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",i.datum,i.dataset))},_getSuggestions:function(){var i=this,n=this.inputView.getQuery();t.isBlankString(n)||t.each(this.datasets,function(t,r){r.getSuggestions(n,function(t){n===i.inputView.getQuery()&&i.dropdownView.renderSuggestions(r,t)})})},_autocomplete:function(n){var r,u,f,i,t;(n.type!=="rightKeyed"&&n.type!=="leftKeyed"||(r=this.inputView.isCursorAtEnd(),u=this.inputView.getLanguageDirection()==="ltr"?n.type==="leftKeyed":n.type==="rightKeyed",r&&!u))&&(f=this.inputView.getQuery(),i=this.inputView.getHintValue(),i!==""&&f!==i&&(t=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(t.value),this.eventBus.trigger("autocompleted",t.datum,t.dataset)))},_propagateEvent:function(n){this.eventBus.trigger(n.type)},destroy:function(){this.inputView.destroy();this.dropdownView.destroy();o(this.$node);this.$node=null},setQuery:function(n){this.inputView.setQuery(n);this.inputView.setInputValue(n);this._clearHint();this._clearSuggestions();this._getSuggestions()}}),f}();(function(){var f={},i="ttView",u;u={initialize:function(u){function o(){var u=n(this),f,o=new r({el:u});f=t.map(e,function(n){return n.initialize()});u.data(i,new l({input:u,eventBus:o=new r({el:u}),datasets:e}));n.when.apply(n,f).always(function(){t.defer(function(){o.trigger("initialized")})})}var e;return u=t.isArray(u)?u:[u],u.length===0&&n.error("no datasets provided"),e=t.map(u,function(n){var t=f[n.name]?f[n.name]:new s(n);return n.name&&(f[n.name]=t),t}),this.each(o)},destroy:function(){function t(){var t=n(this),r=t.data(i);r&&(r.destroy(),t.removeData(i))}return this.each(t)},setQuery:function(t){function r(){var r=n(this).data(i);r&&r.setQuery(t)}return this.each(r)}};jQuery.fn.typeahead=function(n){return u[n]?u[n].apply(this,[].slice.call(arguments,1)):u.initialize.apply(this,arguments)}})()})(window.jQuery),function(n){"use strict";var t=function(n){this.init("typeaheadjs",n,t.defaults)};n.fn.editableutils.inherit(t,n.fn.editabletypes.text);n.extend(t.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder");this.$input.typeahead(this.options.typeahead);n.fn.editableform.engine==="bs3"&&(this.$input.hasClass("input-sm")&&this.$input.siblings("input.tt-hint").addClass("input-sm"),this.$input.hasClass("input-lg")&&this.$input.siblings("input.tt-hint").addClass("input-lg"))}});t.defaults=n.extend({},n.fn.editabletypes.list.defaults,{tpl:'<input type="text">',typeahead:null,clear:!0});n.fn.editabletypes.typeaheadjs=t}(window.jQuery);
/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 Jörn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
(function(n){n.extend(n.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.");return}var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target);n(t.target).hasClass("cancel")&&(i.cancelSubmit=!0);n(t.target).attr("formnovalidate")!==undefined&&(i.cancelSubmit=!0)}),this.submit(function(t){function r(){var r;return i.settings.submitHandler?(i.submitButton&&(r=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&r.remove(),!1):!0}return(i.settings.debug&&t.preventDefault(),i.cancelSubmit)?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){if(n(this[0]).is("form"))return this.validate().form();var t=!0,i=n(this[0].form).validate();return this.each(function(){t=t&&i.element(this)}),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t);r.removeAttr(t)}),i},rules:function(t,i){var r=this[0],o,u,h;if(t){var e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r);switch(t){case"add":n.extend(f,n.validator.normalizeRule(i));delete f.messages;s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(o={},n.each(i.split(/\s/),function(n,t){o[t]=f[t];delete f[t]}),o):(delete s[r.name],f)}}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(h=u.required,delete u.required,u=n.extend({required:h},u)),u}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){return!!n.trim(""+n(t).val())},unchecked:function(t){return!n(t).prop("checked")}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return arguments.length===1?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n,t){(t.which!==9||this.elementValue(n)!=="")&&(n.name in this.submitted||n===this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function r(t){var i=n.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");i.settings[r]&&i.settings[r].call(i,this[0],t)}var i,t;this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();i=this.groups={};n.each(this.settings.groups,function(t,r){typeof r=="string"&&(r=r.split(/\s/));n.each(r,function(n,r){i[r]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",r).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",r);this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t));this.lastElement=t;this.prepareElement(t);this.currentElements=n(t);var i=this.check(t)!==!1;return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){n.extend(this.errorMap,t);this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0;for(var i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&n.grep(this.errorList,function(n){return n.element.name===t.name}).length===1&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return(!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules()))?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([]);this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var r=n(t).attr("type"),i=n(t).val();return r==="radio"||r==="checkbox"?n("input[name='"+n(t).attr("name")+"']:checked").val():typeof i=="string"?i.replace(/\r/g,""):i},check:function(t){var r,u;t=this.validationTargetFor(this.clean(t));var f=n(t).rules(),e=!1,s=this.elementValue(t),i;for(r in f){u={method:r,parameters:f[r]};try{if(i=n.validator.methods[r].call(this,s,t,u.parameters),i==="dependency-mismatch"){e=!0;continue}if(e=!1,i==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!i)return this.formatAndAdd(t,u),!1}catch(o){this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+u.method+"' method.",o);throw o;}}if(!e)return this.objectLength(f)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg-"+i.toLowerCase())||t.attributes&&n(t).attr("data-msg-"+i.toLowerCase())},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n];return undefined},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||undefined,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;typeof r=="function"?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters));this.errorList.push({message:r,element:t});this.errorMap[t.name]=r;this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t)));!i&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")===i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(n){return this.checkable(n)&&(n=this.findByName(n.name).not(this.settings.ignore)[0]),n},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];i&&this.pendingRequest===0&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&this.pendingRequest===0&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var u={},e=n(t),f=e[0].getAttribute("type"),r,i;for(r in n.validator.methods)r==="required"?(i=e.get(0).getAttribute(r),i===""&&(i=!0),i=!!i):i=e.attr(r),/min|max/.test(r)&&(f===null||/number|range|text/.test(f))&&(i=Number(i)),i?u[r]=i:f===r&&f!=="range"&&(u[r]=!0);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t);for(i in n.validator.methods)r=f.data("rule-"+i.toLowerCase()),r!==undefined&&(u[i]=r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1){delete t[r];return}if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=u.param!==undefined?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:typeof t[this]=="string"&&(i=t[this].split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if(typeof t=="string"){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=r!==undefined?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if(i.nodeName.toLowerCase()==="select"){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:n.trim(t).length>0},email:function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(n)},url:function(n,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){var r,e;if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var f=0,i=0,u=!1;for(n=n.replace(/\D/g,""),r=n.length-1;r>=0;r--)e=n.charAt(r),i=parseInt(e,10),u&&(i*=2)>9&&(i-=9),f+=i,u=!u;return f%10==0},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u<=r},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r){var f,u,e;return this.optional(i)?"dependency-mismatch":(f=this.previousValue(i),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r=typeof r=="string"&&{url:r}||r,f.old===t)?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,success:function(r){var e,h,s,o;u.settings.messages[i.name].remote=f.originalMessage;e=r===!0||r==="true";e?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(s={},o=r||u.defaultMessage(i,"remote"),s[i.name]=f.message=n.isFunction(o)?o(t):o,u.invalid[i.name]=!0,u.showErrors(s));f.valid=e;u.stopRequest(i,e)}},r)),"pending")}}});n.format=n.validator.format})(jQuery),function(n){var t={},i;n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;n.mode==="abort"&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return f==="abort"?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)})}(jQuery),function(n){n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery);
/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 Jörn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
(function(){function n(n){return n.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'"_+=\/\-]*/g,"")}jQuery.validator.addMethod("maxWords",function(t,i,r){return this.optional(i)||n(t).match(/\b\w+\b/g).length<=r},jQuery.validator.format("Please enter {0} words or less."));jQuery.validator.addMethod("minWords",function(t,i,r){return this.optional(i)||n(t).match(/\b\w+\b/g).length>=r},jQuery.validator.format("Please enter at least {0} words."));jQuery.validator.addMethod("rangeWords",function(t,i,r){var u=n(t),f=/\b\w+\b/g;return this.optional(i)||u.match(f).length>=r[0]&&u.match(f).length<=r[1]},jQuery.validator.format("Please enter between {0} and {1} words."))})();jQuery.validator.addMethod("letterswithbasicpunc",function(n,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(n)},"Letters or punctuation only please");jQuery.validator.addMethod("alphanumeric",function(n,t){return this.optional(t)||/^\w+$/i.test(n)},"Letters, numbers, and underscores only please");jQuery.validator.addMethod("lettersonly",function(n,t){return this.optional(t)||/^[a-z]+$/i.test(n)},"Letters only please");jQuery.validator.addMethod("nowhitespace",function(n,t){return this.optional(t)||/^\S+$/i.test(n)},"No white space please");jQuery.validator.addMethod("ziprange",function(n,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(n)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx");jQuery.validator.addMethod("zipcodeUS",function(n,t){return this.optional(t)||/\d{5}-\d{4}$|^\d{5}$/.test(n)},"The specified US ZIP Code is invalid");jQuery.validator.addMethod("integer",function(n,t){return this.optional(t)||/^-?\d+$/.test(n)},"A positive or negative non-decimal number please");jQuery.validator.addMethod("vinUS",function(n){if(n.length!==17)return!1;for(var r,t,e,u,f,o=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],h=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],c=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],s=0,i=0;i<17;i++){if(e=c[i],t=n.slice(i,i+1),i===8&&(f=t),isNaN(t)){for(r=0;r<o.length;r++)if(t.toUpperCase()===o[r]){t=h[r];t*=e;isNaN(f)&&r===8&&(f=o[r]);break}}else t*=e;s+=t}return(u=s%11,u===10&&(u="X"),u===f)?!0:!1},"The specified vehicle identification number (VIN) is invalid.");jQuery.validator.addMethod("dateITA",function(n,t){var i=!1;if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(n)){var r=n.split("/"),f=parseInt(r[0],10),e=parseInt(r[1],10),o=parseInt(r[2],10),u=new Date(o,e-1,f);i=u.getFullYear()===o&&u.getMonth()===e-1&&u.getDate()===f?!0:!1}else i=!1;return this.optional(t)||i},"Please enter a correct date");jQuery.validator.addMethod("iban",function(n,t){var c,r,u,s,f,v;if(this.optional(t))return!0;if(!/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(n))return!1;var i=n.replace(/ /g,"").toUpperCase(),y=i.substring(0,2),h={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"}[y];if(typeof h!="undefined"&&(c=new RegExp("^[A-Z]{2}\\d{2}"+h+"$",""),!c.test(i)))return!1;var l=i.substring(4,i.length)+i.substring(0,4),e="",a=!0,o;for(r=0;r<l.length;r++)o=l.charAt(r),o!=="0"&&(a=!1),a||(e+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(o));for(u="",s="",f=0;f<e.length;f++)v=e.charAt(f),s=""+u+""+v,u=s%97;return u===1},"Please specify a valid IBAN");jQuery.validator.addMethod("dateNL",function(n,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(n)},"Please enter a correct date");jQuery.validator.addMethod("phoneNL",function(n,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(n)},"Please specify a valid phone number.");jQuery.validator.addMethod("mobileNL",function(n,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(n)},"Please specify a valid mobile number");jQuery.validator.addMethod("postalcodeNL",function(n,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(n)},"Please specify a valid postal code");jQuery.validator.addMethod("bankaccountNL",function(n,t){var i,e,o;if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(n))return!1;var u=n.replace(/ /g,""),r=0,f=u.length;for(i=0;i<f;i++)e=f-i,o=u.substring(i,i+1),r=r+e*o;return r%11==0},"Please specify a valid bank account number");jQuery.validator.addMethod("giroaccountNL",function(n,t){return this.optional(t)||/^[0-9]{1,7}$/.test(n)},"Please specify a valid giro account number");jQuery.validator.addMethod("bankorgiroaccountNL",function(n,t){return this.optional(t)||$.validator.methods.bankaccountNL.call(this,n,t)||$.validator.methods.giroaccountNL.call(this,n,t)},"Please specify a valid bank or giro account number");jQuery.validator.addMethod("time",function(n,t){return this.optional(t)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(n)},"Please enter a valid time, between 00:00 and 23:59");jQuery.validator.addMethod("time12h",function(n,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(n)},"Please enter a valid time in 12-hour am/pm format");jQuery.validator.addMethod("phoneUS",function(n,t){return n=n.replace(/\s+/g,""),this.optional(t)||n.length>9&&n.match(/^(\+?1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number");jQuery.validator.addMethod("phoneUK",function(n,t){return n=n.replace(/\(|\)|\s+|-/g,""),this.optional(t)||n.length>9&&n.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number");jQuery.validator.addMethod("mobileUK",function(n,t){return n=n.replace(/\(|\)|\s+|-/g,""),this.optional(t)||n.length>9&&n.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[45789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number");jQuery.validator.addMethod("phonesUK",function(n,t){return n=n.replace(/\(|\)|\s+|-/g,""),this.optional(t)||n.length>9&&n.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[45789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number");jQuery.validator.addMethod("postcodeUK",function(n,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(n)},"Please specify a valid UK postcode");jQuery.validator.addMethod("strippedminlength",function(n,t,i){return jQuery(n).text().length>=i},jQuery.validator.format("Please enter at least {0} characters"));jQuery.validator.addMethod("email2",function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(n)},jQuery.validator.messages.email);jQuery.validator.addMethod("url2",function(n,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},jQuery.validator.messages.url);jQuery.validator.addMethod("creditcardtypes",function(n,t,i){if(/[^0-9\-]+/.test(n))return!1;n=n.replace(/\D/g,"");var r=0;return(i.mastercard&&(r|=1),i.visa&&(r|=2),i.amex&&(r|=4),i.dinersclub&&(r|=8),i.enroute&&(r|=16),i.discover&&(r|=32),i.jcb&&(r|=64),i.unknown&&(r|=128),i.all&&(r=255),r&1&&/^(5[12345])/.test(n))?n.length===16:r&2&&/^(4)/.test(n)?n.length===16:r&4&&/^(3[47])/.test(n)?n.length===15:r&8&&/^(3(0[012345]|[68]))/.test(n)?n.length===14:r&16&&/^(2(014|149))/.test(n)?n.length===15:r&32&&/^(6011)/.test(n)?n.length===16:r&64&&/^(3)/.test(n)?n.length===16:r&64&&/^(2131|1800)/.test(n)?n.length===15:r&128?!0:!1},"Please enter a valid credit card number.");jQuery.validator.addMethod("ipv4",function(n,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(n)},"Please enter a valid IP v4 address.");jQuery.validator.addMethod("ipv6",function(n,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(n)},"Please enter a valid IP v6 address.");jQuery.validator.addMethod("pattern",function(n,t,i){return this.optional(t)?!0:(typeof i=="string"&&(i=new RegExp("^(?:"+i+")$")),i.test(n))},"Invalid format.");jQuery.validator.addMethod("require_from_group",function(n,t,i){var f=this,u=i[1],e=$(u,t.form).filter(function(){return f.elementValue(this)}).length>=i[0],r;return $(t).data("being_validated")||(r=$(u,t.form),r.data("being_validated",!0),r.valid(),$(t.form).valid(),r.data("being_validated",!1)),e},jQuery.format("Please fill at least {0} of these fields."));jQuery.validator.addMethod("skip_or_fill_minimum",function(n,t,i){var e=this,o=i[0],u=i[1],f=$(u,t.form).filter(function(){return e.elementValue(this)}).length,s=f>=o||f===0,r;return $(t).data("being_validated")||(r=$(u,t.form),r.data("being_validated",!0),r.valid(),r.data("being_validated",!1)),s},jQuery.format("Please either skip these fields or fill at least {0} of them."));jQuery.validator.addMethod("accept",function(n,t,i){var u=typeof i=="string"?i.replace(/\s/g,"").replace(/,/g,"|"):"image/*",f=this.optional(t),r,e;if(f)return f;if($(t).attr("type")==="file"&&(u=u.replace(/\*/g,".*"),t.files&&t.files.length))for(r=0;r<t.files.length;r++)if(e=t.files[r],!e.type.match(new RegExp(".?("+u+")$","i")))return!1;return!0},jQuery.format("Please enter a value with a valid mimetype."));jQuery.validator.addMethod("extension",function(n,t,i){return i=typeof i=="string"?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||n.match(new RegExp(".("+i+")$","i"))},jQuery.format("Please enter a value with a valid extension."));
/*! DataTables 1.10.0-beta.2
 * ©2008-2014 SpryMedia Ltd - datatables.net/license
 */
(function(n,t,i){(function(n){"use strict";typeof define=="function"&&define.amd?define("datatables",["jquery"],n):jQuery&&!jQuery.fn.dataTable&&n(jQuery)})(function(r){"use strict";function ct(n){var f="a aa ai ao as b fn i m o s ",t,i,u={};r.each(n,function(r){t=r.match(/^([^A-Z]+?)([A-Z])/);t&&f.indexOf(t[1]+" ")!==-1&&(i=r.replace(t[0],t[2].toLowerCase()),u[i]=r,t[1]==="o"&&ct(n[r]))});n._hungarianMap=u}function g(n,t,u){n._hungarianMap||ct(n);var f;r.each(t,function(r){f=n._hungarianMap[r];f!==i&&(u||t[f]===i)&&(t[f]=t[r],f.charAt(0)==="o"&&g(n[f],t[r]))})}function nr(n){var i=u.defaults.oLanguage,r=n.sZeroRecords,t;!n.sEmptyTable&&r&&i.sEmptyTable==="No data available in table"&&b(n,n,"sZeroRecords","sEmptyTable");!n.sLoadingRecords&&r&&i.sLoadingRecords==="Loading..."&&b(n,n,"sZeroRecords","sLoadingRecords");n.sInfoThousands&&(n.sThousands=n.sInfoThousands);t=n.sDecimal;t&&fe(t)}function hu(n){a(n,"ordering","bSort");a(n,"orderMulti","bSortMulti");a(n,"orderClasses","bSortClasses");a(n,"orderCellsTop","bSortCellsTop");a(n,"order","aaSorting");a(n,"orderFixed","aaSortingFixed");a(n,"paging","bPaginate");a(n,"pagingType","sPaginationType");a(n,"pageLength","iDisplayLength");a(n,"searching","bFilter")}function cu(n){a(n,"orderable","bSortable");a(n,"orderData","aDataSort");a(n,"orderSequence","asSorting");a(n,"orderDataType","sortDataType")}function lu(n){var t=n.oBrowser,i=r("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(r("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(r('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),u=i.find(".test");t.bScrollOversize=u[0].offsetWidth===100;t.bScrollbarLeft=u.offset().left!==1;i.remove()}function tr(n,f){var o=u.defaults.column,e=n.aoColumns.length,h=r.extend({},u.models.oColumn,o,{sSortingClass:n.oClasses.sSortable,sSortingClassJUI:n.oClasses.sSortJUI,nTh:f?f:t.createElement("th"),sTitle:o.sTitle?o.sTitle:f?f.innerHTML:"",aDataSort:o.aDataSort?o.aDataSort:[e],mData:o.mData?o.mData:e,idx:e}),s;n.aoColumns.push(h);n.aoPreSearchCols[e]===i||n.aoPreSearchCols[e]===null?n.aoPreSearchCols[e]=r.extend(!0,{},u.models.oSearch):(s=n.aoPreSearchCols[e],s.bRegex===i&&(s.bRegex=!0),s.bSmart===i&&(s.bSmart=!0),s.bCaseInsensitive===i&&(s.bCaseInsensitive=!0));ti(n,e,null)}function ti(n,t,f){var e=n.aoColumns[t],s=n.oClasses,l,a,h,c;e.sWidthOrig||(l=r(e.nTh),e.sWidthOrig=l.attr("width")||null,a=(l.attr("style")||"").match(/width:\s*(\d+[pxem%])/),a&&(e.sWidthOrig=a[1]));f!==i&&f!==null&&(cu(f),g(u.defaults.column,f),f.mDataProp===i||f.mData||(f.mData=f.mDataProp),e._sManualType=f.sType,f.className&&!f.sClass&&(f.sClass=f.className),r.extend(e,f),b(e,f,"sWidth","sWidthOrig"),typeof f.iDataSort=="number"&&(e.aDataSort=[f.iDataSort]),b(e,f,"aDataSort"));var o=e.mData,y=pt(o),p=e.mRender?pt(e.mRender):null,v=function(n){return typeof n=="string"&&n.indexOf("@")!==-1};e._bAttrSrc=r.isPlainObject(o)&&(v(o.sort)||v(o.type)||v(o.filter));e.fnGetData=function(n,t){var i=y(n,t);return e.mRender&&t&&t!==""?p(i,t,n):i};e.fnSetData=fr(o);n.oFeatures.bSort||(e.bSortable=!1);h=r.inArray("asc",e.asSorting)!==-1;c=r.inArray("desc",e.asSorting)!==-1;e.bSortable&&(h||c)?h&&!c?(e.sSortingClass=s.sSortableAsc,e.sSortingClassJUI=s.sSortJUIAscAllowed):!h&&c&&(e.sSortingClass=s.sSortableDesc,e.sSortingClassJUI=s.sSortJUIDescAllowed):(e.sSortingClass=s.sSortableNone,e.sSortingClassJUI="")}function lt(n){var i,t,u,r;if(n.oFeatures.bAutoWidth!==!1)for(i=n.aoColumns,vr(n),t=0,u=i.length;t<u;t++)i[t].nTh.style.width=i[t].sWidth;r=n.oScroll;(r.sY!==""||r.sX!=="")&&kt(n);s(n,null,"column-sizing",[n])}function ii(n,t){var i=ft(n,"bVisible");return typeof i[t]=="number"?i[t]:null}function at(n,t){var u=ft(n,"bVisible"),i=r.inArray(t,u);return i!==-1?i:null}function vt(n){return ft(n,"bVisible").length}function ft(n,t){var i=[];return r.map(n.aoColumns,function(n,r){n[t]&&i.push(r)}),i}function ir(n){for(var h=n.aoColumns,p=n.aoData,c=u.ext.type.detect,o,a,r,y,t,e,s,f=0,l=h.length;f<l;f++)if(t=h[f],s=[],!t.sType&&t._sManualType)t.sType=t._sManualType;else if(!t.sType){for(o=0,a=c.length;o<a;o++){for(r=0,y=p.length;r<y;r++)if(s[r]===i&&(s[r]=v(n,r,f,"type")),e=c[o](s[r],n),!e||e==="html")break;if(e){t.sType=e;break}}t.sType||(t.sType="string")}}function au(n,t,u,f){var s,l,o,a,c,v,h,e;if(t)for(s=t.length-1;s>=0;s--)for(h=t[s],e=h.targets!==i?h.targets:h.aTargets,r.isArray(e)||(e=[e]),o=0,a=e.length;o<a;o++)if(typeof e[o]=="number"&&e[o]>=0){while(n.aoColumns.length<=e[o])tr(n);f(e[o],h)}else if(typeof e[o]=="number"&&e[o]<0)f(n.aoColumns.length+e[o],h);else if(typeof e[o]=="string")for(c=0,v=n.aoColumns.length;c<v;c++)(e[o]=="_all"||r(n.aoColumns[c].nTh).hasClass(e[o]))&&f(c,h);if(u)for(s=0,l=u.length;s<l;s++)f(s,u[s])}function nt(n,t,i,f){var o=n.aoData.length,h=r.extend(!0,{},u.models.oRow,{src:i?"dom":"data"}),s,e,c;for(h._aData=t,n.aoData.push(h),s=n.aoColumns,e=0,c=s.length;e<c;e++)i&&rr(n,o,e,v(n,o,e)),s[e].sType=null;return n.aiDisplayMaster.push(o),n.oFeatures.bDeferRender||or(n,o,i,f),o}function ri(n,t){var i;return t instanceof r||(t=r(t)),t.map(function(t,r){return i=oi(n,r),nt(n,i.data,r,i.cells)})}function le(n,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null}function ae(n,t,i){return r.inArray(i,n.aoData[t].anCells)}function vu(n,t,i,r){for(var f=[],u=0,e=r.length;u<e;u++)f.push(v(n,t,r[u],i));return f}function v(n,t,r,u){var e=n.aoColumns[r],o=n.aoData[t]._aData,f=e.fnGetData(o,u);if(f===i)return n.iDrawError!=n.iDraw&&e.sDefaultContent===null&&(st(n,0,"Requested unknown parameter "+(typeof e.mData=="function"?"{function}":"'"+e.mData+"'")+" for row "+t,4),n.iDrawError=n.iDraw),e.sDefaultContent;if((f===o||f===null)&&e.sDefaultContent!==null)f=e.sDefaultContent;else if(typeof f=="function")return f();return f===null&&u=="display"?"":f}function rr(n,t,i,r){var u=n.aoColumns[i],f=n.aoData[t]._aData;u.fnSetData(f,r)}function ur(n){return r.map(n.match(/(\\.|[^\.])+/g),function(n){return n.replace("\\.",".")})}function pt(n){var t,u;return r.isPlainObject(n)?(t={},r.each(n,function(n,i){i&&(t[n]=pt(i))}),function(n,r,u){return t[t[r]!==i?r:"_"](n,r,u)}):n===null?function(n){return n}:typeof n=="function"?function(t,i,r){return n(t,i,r)}:typeof n=="string"&&(n.indexOf(".")!==-1||n.indexOf("[")!==-1||n.indexOf("(")!==-1)?(u=function(n,t,r){var o,l,s,a,f,e,v,h,y,c;if(r!=="")for(f=ur(r),e=0,v=f.length;e<v;e++){if(o=f[e].match(yt),l=f[e].match(et),o){for(f[e]=f[e].replace(yt,""),f[e]!==""&&(n=n[f[e]]),s=[],f.splice(0,e+1),a=f.join("."),h=0,y=n.length;h<y;h++)s.push(u(n[h],t,a));c=o[0].substring(1,o[0].length-1);n=c===""?s:s.join(c);break}else if(l){f[e]=f[e].replace(et,"");n=n[f[e]]();continue}if(n===null||n[f[e]]===i)return i;n=n[f[e]]}return n},function(t,i){return u(t,i,n)}):function(t){return t[n]}}function fr(n){if(r.isPlainObject(n))return fr(n._);if(n===null)return function(){};if(typeof n=="function")return function(t,i){n(t,"set",i)};if(typeof n=="string"&&(n.indexOf(".")!==-1||n.indexOf("[")!==-1||n.indexOf("(")!==-1)){var t=function(n,r,u){for(var o,y,f=ur(u),s,h=f[f.length-1],l,a,c,v,e=0,p=f.length-1;e<p;e++){if(l=f[e].match(yt),a=f[e].match(et),l){for(f[e]=f[e].replace(yt,""),n[f[e]]=[],s=f.slice(),s.splice(0,e+1),v=s.join("."),o=0,y=r.length;o<y;o++)c={},t(c,r[o],v),n[f[e]].push(c);return}a&&(f[e]=f[e].replace(et,""),n=n[f[e]](r));(n[f[e]]===null||n[f[e]]===i)&&(n[f[e]]={});n=n[f[e]]}h.match(et)?n=n[h.replace(et,"")](r):n[h.replace(yt,"")]=r};return function(i,r){return t(i,r,n)}}return function(t,i){t[n]=i}}function er(n){return w(n.aoData,"_aData")}function ui(n){n.aoData.length=0;n.aiDisplayMaster.length=0;n.aiDisplay.length=0}function fi(n,t,r){for(var f=-1,u=0,e=n.length;u<e;u++)n[u]==t?f=u:n[u]>t&&n[u]--;f!=-1&&r===i&&n.splice(f,1)}function ei(n,t,r,u){var e=n.aoData[t],f,o,h,s;if(r!=="dom"&&(r&&r!=="auto"||e.src!=="dom"))for(h=e.anCells,f=0,o=h.length;f<o;f++)h[f].innerHTML=v(n,t,f,"display");else e._aData=oi(n,e.nTr).data;if(e._aSortData=null,e._aFilterData=null,s=n.aoColumns,u!==i)s[u].sType=null;else for(f=0,o=s.length;f<o;f++)s[f].sType=null;sr(e)}function oi(n,t){for(var e=[],c=[],i=t.firstChild,o,u,f,l=0,s,a=n.aoColumns,h=function(n,t,i){var r,u;typeof n=="string"&&(r=n.indexOf("@"),r!==-1&&(u=n.substring(r+1),f["@"+u]=i.getAttribute(u)))};i;)o=i.nodeName.toUpperCase(),(o=="TD"||o=="TH")&&(u=a[l],s=r.trim(i.innerHTML),u&&u._bAttrSrc?(f={display:s},h(u.mData.sort,f,i),h(u.mData.type,f,i),h(u.mData.filter,f,i),e.push(f)):e.push(s),c.push(i),l++),i=i.nextSibling;return{data:e,cells:c}}function or(n,i,r,u){var h=n.aoData[i],l=h._aData,a=[],c,o,f,e,y;if(h.nTr===null){for(c=r||t.createElement("tr"),h.nTr=c,h.anCells=a,c._DT_RowIndex=i,sr(h),e=0,y=n.aoColumns.length;e<y;e++)f=n.aoColumns[e],o=r?u[e]:t.createElement(f.sCellType),a.push(o),(!r||f.mRender||f.mData!==e)&&(o.innerHTML=v(n,i,e,"display")),f.sClass&&(o.className+=" "+f.sClass),f.bVisible&&!r?c.appendChild(o):!f.bVisible&&r&&o.parentNode.removeChild(o),f.fnCreatedCell&&f.fnCreatedCell.call(n.oInstance,o,v(n,i,e,"display"),l,i,e);s(n,"aoRowCreatedCallback",null,[c,l,i])}}function sr(n){var i=n.nTr,t=n._aData,u;i&&(t.DT_RowId&&(i.id=t.DT_RowId),t.DT_RowClass&&(u=t.DT_RowClass.split(" "),n.__rowc=n.__rowc?gi(n.__rowc.concat(u)):u,r(i).removeClass(n.__rowc.join(" ")).addClass(t.DT_RowClass)),t.DT_RowData&&r(i).data(t.DT_RowData))}function yu(n){var i,e,u,l,t,f=n.nTHead,a=n.nTFoot,o=r("th, td",f).length===0,s=n.oClasses,h=n.aoColumns,c;for(o&&(l=r("<tr/>").appendTo(f)),i=0,e=h.length;i<e;i++)t=h[i],u=r(t.nTh).addClass(t.sClass),o&&u.appendTo(l),n.oFeatures.bSort&&(u.addClass(t.sSortingClass),t.bSortable!==!1&&(u.attr("tabindex",n.iTabIndex).attr("aria-controls",n.sTableId),pr(n,t.nTh,i))),t.sTitle!=u.html()&&u.html(t.sTitle),kr(n,"header")(n,u,t,s);if(o&&wt(n.aoHeader,f),r(f).find(">tr").attr("role","row"),r(f).find(">tr>th, >tr>td").addClass(s.sHeaderTH),r(a).find(">tr>th, >tr>td").addClass(s.sFooterTH),a!==null)for(c=n.aoFooter[0],i=0,e=c.length;i<e;i++)t=h[i],t.nTf=c[i].cell,t.sClass&&r(t.nTf).addClass(t.sClass)}function tt(n,t,u){var f,a,e,y,v,p,c,o=[],l=[],w=n.aoColumns.length,s,h;if(t){for(u===i&&(u=!1),f=0,a=t.length;f<a;f++){for(o[f]=t[f].slice(),o[f].nTr=t[f].nTr,e=w-1;e>=0;e--)n.aoColumns[e].bVisible||u||o[f].splice(e,1);l.push([])}for(f=0,a=o.length;f<a;f++){if(c=o[f].nTr,c)while(p=c.firstChild)c.removeChild(p);for(e=0,y=o[f].length;e<y;e++)if(s=1,h=1,l[f][e]===i){for(c.appendChild(o[f][e].cell),l[f][e]=1;o[f+s]!==i&&o[f][e].cell==o[f+s][e].cell;)l[f+s][e]=1,s++;while(o[f][e+h]!==i&&o[f][e].cell==o[f][e+h].cell){for(v=0;v<s;v++)l[f+v][e+h]=1;h++}r(o[f][e].cell).attr("rowspan",s).attr("colspan",h)}}}}function it(n){var ut=s(n,"aoPreDrawCallback","preDraw",[n]),c,l,it,rt,f,nt,t,a,v,y,tt;if(r.inArray(!1,ut)!==-1){k(n,!1);return}var w=[],b=0,d=n.asStripeClasses,g=d.length,ft=n.aoOpenRows.length,e=n.oLanguage,u=n.iInitDisplayStart,o=p(n)=="ssp",h=n.aiDisplay;if(n.bDrawing=!0,u!==i&&u!==-1&&(n._iDisplayStart=o?u:u>=n.fnRecordsDisplay()?0:u,n.iInitDisplayStart=-1),c=n._iDisplayStart,l=n.fnDisplayEnd(),n.bDeferLoading)n.bDeferLoading=!1,n.iDraw++,k(n,!1);else if(o){if(!n.bDestroying&&!wu(n))return}else n.iDraw++;if(h.length!==0)for(it=o?0:c,rt=o?n.aoData.length:l,f=it;f<rt;f++)nt=h[f],t=n.aoData[nt],t.nTr===null&&or(n,nt),a=t.nTr,g!==0&&(v=d[b%g],t._sRowStripe!=v&&(r(a).removeClass(t._sRowStripe).addClass(v),t._sRowStripe=v)),s(n,"aoRowCallback",null,[a,t._aData,b,f]),w.push(a),b++;else y=e.sZeroRecords,n.iDraw==1&&p(n)=="ajax"?y=e.sLoadingRecords:e.sEmptyTable&&n.fnRecordsTotal()===0&&(y=e.sEmptyTable),w[0]=r("<tr/>",{"class":g?d[0]:""}).append(r("<td />",{valign:"top",colSpan:vt(n),"class":n.oClasses.sRowEmpty}).html(y))[0];s(n,"aoHeaderCallback","header",[r(n.nTHead).children("tr")[0],er(n),c,l,h]);s(n,"aoFooterCallback","footer",[r(n.nTFoot).children("tr")[0],er(n),c,l,h]);tt=r(n.nTBody);tt.children().detach();tt.append(r(w));s(n,"aoDrawCallback","draw",[n]);n.bSorted=!1;n.bFiltered=!1;n.bDrawing=!1}function rt(n,t){var i=n.oFeatures,r=i.bSort,u=i.bFilter;r&&wf(n);u?bt(n,n.oPreviousSearch):n.aiDisplay=n.aiDisplayMaster.slice();t!==!0&&(n._iDisplayStart=0);it(n)}function pu(n){var v=n.oClasses,d=r(n.nTable),g=r("<div/>").insertBefore(d),h=n.oFeatures,o=r("<div/>",{role:"grid",id:n.sTableId+"_wrapper","class":v.sWrapper+(n.nTFoot?"":" "+v.sNoFooter)}),c,f,t,s,y,i,l,e,p,w,a,k,b;for(n.nTableWrapper=o[0],n.nTableReinsertBefore=n.nTable.nextSibling,c=n.sDom.split(""),e=0;e<c.length;e++){if(f=null,t=c[e],t=="<"){if(s=r("<div/>")[0],y=c[e+1],y=="'"||y=='"'){for(i="",l=2;c[e+l]!=y;)i+=c[e+l],l++;i=="H"?i=v.sJUIHeader:i=="F"&&(i=v.sJUIFooter);i.indexOf(".")!=-1?(p=i.split("."),s.id=p[0].substr(1,p[0].length-1),s.className=p[1]):i.charAt(0)=="#"?s.id=i.substr(1,i.length-1):s.className=i;e+=l}o.append(s);o=r(s)}else if(t==">")o=o.parent();else if(t=="l"&&h.bPaginate&&h.bLengthChange)f=of(n);else if(t=="f"&&h.bFilter)f=du(n);else if(t=="r"&&h.bProcessing)f=hf(n);else if(t=="t")f=cf(n);else if(t=="i"&&h.bInfo)f=uf(n);else if(t=="p"&&h.bPaginate)f=sf(n);else if(u.ext.feature.length!==0)for(w=u.ext.feature,a=0,k=w.length;a<k;a++)if(t==w[a].cFeature){f=w[a].fnInit(n);break}f&&(b=n.aanFeatures,b[t]||(b[t]=[]),b[t].push(f),o.append(f))}g.replaceWith(o)}function wt(n,t){var c=r(t).children("tr"),l,u,i,o,s,h,a,v,f,e,y,p=function(n,t,i){for(var r=n[t];r[i];)i++;return i};for(n.splice(0,n.length),i=0,h=c.length;i<h;i++)n.push([]);for(i=0,h=c.length;i<h;i++)for(l=c[i],v=0,u=l.firstChild;u;){if(u.nodeName.toUpperCase()=="TD"||u.nodeName.toUpperCase()=="TH")for(f=u.getAttribute("colspan")*1,e=u.getAttribute("rowspan")*1,f=!f||f===0||f===1?1:f,e=!e||e===0||e===1?1:e,a=p(n,i,v),y=f===1?!0:!1,s=0;s<f;s++)for(o=0;o<e;o++)n[i+o][a+s]={cell:u,unique:y},n[i+o].nTr=l;u=u.nextSibling}}function si(n,t,i){var f=[],u,e,r,o;for(i||(i=n.aoHeader,t&&(i=[],wt(i,t))),u=0,e=i.length;u<e;u++)for(r=0,o=i[u].length;r<o;r++)!i[u][r].unique||f[r]&&n.bSortCellsTop||(f[r]=i[u][r].cell);return f}function hi(n,t,i){var f,l,e,u,h,o,c;s(n,"aoServerParams","serverParams",[t]);t&&t.__legacy&&(f={},l=/(.*?)\[\]$/,r.each(t,function(n,t){var r=t.name.match(l),i;r?(i=r[0],f[i]||(f[i]=[]),f[i].push(t.value)):f[t.name]=t.value}),t=f);u=n.ajax;h=n.oInstance;r.isPlainObject(u)&&u.data&&(e=u.data,o=r.isFunction(e)?e(t):e,t=r.isFunction(e)&&o?o:r.extend(!0,t,o),delete u.data);c={data:t,success:function(t){var r=t.error||t.sError;r&&n.oApi._fnLog(n,0,r);n.json=t;s(n,null,"xhr",[n,t]);i(t)},dataType:"json",cache:!1,type:n.sServerMethod,error:function(t,i){var r=n.oApi._fnLog;i=="parsererror"?r(n,0,"Invalid JSON response",1):r(n,0,"Ajax error",7)}};n.fnServerData?n.fnServerData.call(h,n.sAjaxSource,t,i,n):n.sAjaxSource||typeof u=="string"?n.jqXHR=r.ajax(r.extend(c,{url:u||n.sAjaxSource})):r.isFunction(u)?n.jqXHR=u.call(h,t,i,n):(n.jqXHR=r.ajax(r.extend(c,u)),u.data=e)}function wu(n){if(n.bAjaxDataGet){n.iDraw++;k(n,!0);var i=n.aoColumns.length,t=bu(n);return hi(n,t,function(t){ku(n,t)},n),!1}return!0}function bu(n){var l=n.aoColumns,y=l.length,e=n.oFeatures,h=n.oPreviousSearch,d=n.aoPreSearchCols,i,c=[],a,f,o,p=ot(n),b=n._iDisplayStart,k=e.bPaginate!==!1?n._iDisplayLength:-1,t=function(n,t){c.push({name:n,value:t})},s,v;for(t("sEcho",n.iDraw),t("iColumns",y),t("sColumns",w(l,"sName").join(",")),t("iDisplayStart",b),t("iDisplayLength",k),s={draw:n.iDraw,columns:[],order:[],start:b,length:k,search:{value:h.sSearch,regex:h.bRegex}},i=0;i<y;i++)f=l[i],o=d[i],a=typeof f.mData=="function"?"function":f.mData,s.columns.push({data:a,name:f.sName,searchable:f.bSearchable,orderable:f.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),t("mDataProp_"+i,a),e.bFilter&&(t("sSearch_"+i,o.sSearch),t("bRegex_"+i,o.bRegex),t("bSearchable_"+i,f.bSearchable)),e.bSort&&t("bSortable_"+i,f.bSortable);return(r.each(p,function(n,i){s.order.push({column:i.col,dir:i.dir});t("iSortCol_"+n,i.col);t("sSortDir_"+n,i.dir)}),e.bFilter&&(t("sSearch",h.sSearch),t("bRegex",h.bRegex)),e.bSort&&t("iSortingCols",p.length),c.__legacy=!0,v=u.ext.legacy.ajax,v===null)?n.sAjaxSource?c:s:v?c:s}function ku(n,t){var u=function(n,r){return t[n]!==i?t[n]:t[r]},f=u("sEcho","draw"),s=u("iTotalRecords","recordsTotal"),h=u("iTotalDisplayRecords","recordsFiltered"),e,r,o;if(f){if(f*1<n.iDraw)return;n.iDraw=f*1}for(ui(n),n._iRecordsTotal=parseInt(s,10),n._iRecordsDisplay=parseInt(h,10),e=ci(n,t),r=0,o=e.length;r<o;r++)nt(n,e[r]);n.aiDisplay=n.aiDisplayMaster.slice();n.bAjaxDataGet=!1;it(n);n._bInitComplete||vi(n,t);n.bAjaxDataGet=!0;k(n,!1)}function ci(n,t){var u=r.isPlainObject(n.ajax)&&n.ajax.dataSrc!==i?n.ajax.dataSrc:n.sAjaxDataProp;return u==="data"?t.aaData||t[u]:u!==""?pt(u)(t):t}function du(n){var f=n.oClasses,e=n.sTableId,i=n.oPreviousSearch,o=n.aanFeatures,s='<input type="search" class="'+f.sFilterInput+'"/>',u=n.oLanguage.sSearch;u=u.match(/_INPUT_/)?u.replace("_INPUT_",s):u+s;var h=r("<div/>",{id:o.f?null:e+"_filter","class":f.sFilter}).append(r("<label/>").append(u)),c=function(){var r=o.f,t=this.value?this.value:"";t!=i.sSearch&&(bt(n,{sSearch:t,bRegex:i.bRegex,bSmart:i.bSmart,bCaseInsensitive:i.bCaseInsensitive}),n._iDisplayStart=0,it(n))},l=r('input[type="search"]',h).val(i.sSearch.replace('"',"&quot;")).bind("keyup.DT search.DT input.DT paste.DT cut.DT",p(n)==="ssp"?yr(c,400):c).bind("keypress.DT",function(n){if(n.keyCode==13)return!1}).attr("aria-controls",e);r(n.nTable).on("filter.DT",function(){try{l[0]!==t.activeElement&&l.val(i.sSearch)}catch(n){}});return h[0]}function bt(n,t,i){var f=n.oPreviousSearch,u=n.aoPreSearchCols,e=function(n){f.sSearch=n.sSearch;f.bRegex=n.bRegex;f.bSmart=n.bSmart;f.bCaseInsensitive=n.bCaseInsensitive},r;if(ir(n),p(n)!="ssp"){for(tf(n,t.sSearch,i,t.bRegex,t.bSmart,t.bCaseInsensitive),e(t),r=0;r<u.length;r++)nf(n,u[r].sSearch,r,u[r].bRegex,u[r].bSmart,u[r].bCaseInsensitive);gu(n)}else e(t);n.bFiltered=!0;s(n,null,"search",[n])}function gu(n){for(var i,t,o,f,s,e=u.ext.search,h=ft(n,"bSearchable"),r=0,c=e.length;r<c;r++)for(i=0,t=0,o=n.aiDisplay.length;t<o;t++)f=n.aiDisplay[t-i],s=e[r](n,vu(n,f,"filter",h),f),s||(n.aiDisplay.splice(t-i,1),i++)}function nf(n,t,i,r,u,f){var s,o,h,e;if(t!=="")for(o=n.aiDisplay,h=hr(t,r,u,f),e=o.length-1;e>=0;e--)s=n.aoData[o[e]]._aFilterData[i],h.test(s)||o.splice(e,1)}function tf(n,t,i,r,f,e){var a=hr(t,r,f,e),h=n.oPreviousSearch.sSearch,c=n.aiDisplayMaster,s,l,o;if(u.ext.search.length!==0&&(i=!0),l=rf(n),t.length<=0)n.aiDisplay=c.slice();else for((l||i||h.length>t.length||t.indexOf(h)!==0||n.bSorted)&&(n.aiDisplay=c.slice()),s=n.aiDisplay,o=s.length-1;o>=0;o--)a.test(n.aoData[s[o]]._sFilterRow)||s.splice(o,1)}function hr(n,t,i,r){var f,u=t?n:cr(n);return i&&(f=u.split(" "),u="^(?=.*?"+f.join(")(?=.*?")+").*$"),new RegExp(u,r?"i":"")}function cr(n){return n.replace(se,"\\$1")}function rf(n){for(var s=n.aoColumns,f,r,c,e,t,o,l=u.ext.type.search,a=!1,i=0,h=n.aoData.length;i<h;i++)if(o=n.aoData[i],!o._aFilterData){for(e=[],r=0,c=s.length;r<c;r++)f=s[r],f.bSearchable?(t=v(n,i,r,"filter"),t=l[f.sType]?l[f.sType](t):t!==null?t:""):t="",t.indexOf&&t.indexOf("&")!==-1&&(li.innerHTML=t,t=ve?li.textContent:li.innerText,t=t.replace(/[\r\n]/g,"")),e.push(t);o._aFilterData=e;o._sFilterRow=e.join("  ");a=!0}return a}function uf(n){var t=n.sTableId,i=n.aanFeatures.i,u=r("<div/>",{"class":n.oClasses.sInfo,id:i?null:t+"_info"});return i||(n.aoDrawCallback.push({fn:ff,sName:"information"}),u.attr("role","alert").attr("aria-live","polite").attr("aria-relevant","all"),r(n.nTable).attr("aria-describedby",t+"_info")),u[0]}function ff(n){var e=n.aanFeatures.i,f;if(e.length!==0){var i=n.oLanguage,s=n._iDisplayStart+1,h=n.fnDisplayEnd(),o=n.fnRecordsTotal(),u=n.fnRecordsDisplay(),t=u?i.sInfo:i.sInfoEmpty;u!==o&&(t+=" "+i.sInfoFiltered);t+=i.sInfoPostFix;t=ef(n,t);f=i.fnInfoCallback;f!==null&&(t=f.call(n.oInstance,n,s,h,o,u,t));r(e).html(t)}}function ef(n,t){var i=n.fnFormatNumber,u=n._iDisplayStart+1,r=n._iDisplayLength,f=n.fnRecordsDisplay(),e=r===-1;return t.replace(/_START_/g,i.call(n,u)).replace(/_END_/g,i.call(n,n.fnDisplayEnd())).replace(/_MAX_/g,i.call(n,n.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(n,f)).replace(/_PAGE_/g,i.call(n,e?1:Math.ceil(u/r))).replace(/_PAGES_/g,i.call(n,e?1:Math.ceil(f/r)))}function ai(n){var t,u,e=n.iInitDisplayStart,f=n.aoColumns,i,s=n.oFeatures,r;if(!n.bInitialised){setTimeout(function(){ai(n)},200);return}for(pu(n),yu(n),tt(n,n.aoHeader),tt(n,n.aoFooter),k(n,!0),s.bAutoWidth&&vr(n),t=0,u=f.length;t<u;t++)i=f[t],i.sWidth&&(i.nTh.style.width=o(i.sWidth));rt(n);r=p(n);r!="ssp"&&(r=="ajax"?hi(n,[],function(i){var r=ci(n,i);for(t=0;t<r.length;t++)nt(n,r[t]);n.iInitDisplayStart=e;rt(n);k(n,!1);vi(n,i)},n):(k(n,!1),vi(n)))}function vi(n,t){n._bInitComplete=!0;t&&lt(n);s(n,"aoInitComplete","init",[n,t])}function lr(n,t){var i=parseInt(t,10);n._iDisplayLength=i;br(n);s(n,null,"length",[n,i])}function of(n){for(var f,o,s=n.oClasses,e=n.sTableId,t=n.aLengthMenu,h=r.isArray(t[0]),c=h?t[0]:t,l=h?t[1]:t,u=r("<select/>",{name:e+"_length","aria-controls":e,"class":s.sLengthSelect}),i=0,a=c.length;i<a;i++)u[0][i]=new Option(l[i],c[i]);return f=r("<div><label/><\/div>").addClass(s.sLength),n.aanFeatures.l||(f[0].id=e+"_length"),o=n.oLanguage.sLengthMenu.split(/(_MENU_)/),f.children().append(o[0]).append(u).append(o[2]),u.val(n._iDisplayLength).bind("change.DT",function(){lr(n,r(this).val());it(n)}),r(n.nTable).bind("length",function(n,t,i){u.val(i)}),f[0]}function sf(n){var e=n.sPaginationType,t=u.ext.pager[e],o=typeof t=="function",s=function(n){it(n)},i=r("<div/>").addClass(n.oClasses.sPaging+e)[0],f=n.aanFeatures;return o||t.fnInit(n,i,s),f.p||(i.id=n.sTableId+"_paginate",n.aoDrawCallback.push({fn:function(n){if(o)for(var l=n._iDisplayStart,r=n._iDisplayLength,a=n.fnRecordsDisplay(),u=r===-1,e=u?0:Math.ceil(l/r),h=u?1:Math.ceil(a/r),v=t(e,h),i=0,c=f.p.length;i<c;i++)kr(n,"pageButton")(n,f.p[i],i,v,e,h);else t.fnUpdate(n,s)},sName:"pagination"})),i}function ar(n,t,i){var r=n._iDisplayStart,u=n._iDisplayLength,f=n.fnRecordsDisplay(),e;return f===0||u===-1?r=0:typeof t=="number"?(r=t*u,r>f&&(r=0)):t=="first"?r=0:t=="previous"?(r=u>=0?r-u:0,r<0&&(r=0)):t=="next"?r+u<f&&(r+=u):t=="last"?r=Math.floor((f-1)/u)*u:st(n,0,"Unknown paging action: "+t,5),e=n._iDisplayStart!==r,n._iDisplayStart=r,s(n,null,"page",[n]),i&&it(n),e}function hf(n){return r("<div/>",{id:n.aanFeatures.r?null:n.sTableId+"_processing","class":n.oClasses.sProcessing}).html(n.oLanguage.sProcessing).insertBefore(n.nTable)[0]}function k(n,t){n.oFeatures.bProcessing&&r(n.aanFeatures.r).css("visibility",t?"visible":"hidden");s(n,null,"processing",[n,t])}function cf(n){var i=n.oScroll,l;if(i.sX===""&&i.sY==="")return n.nTable;var u=i.sX,b=i.sY,f=n.oClasses,t=r(n.nTable),h=t.children("caption"),v=h.length?h[0]._captionSide:null,k=r(t[0].cloneNode(!1)),d=r(t[0].cloneNode(!1)),s=t.children("tfoot"),e="<div/>",c=function(n){return n?o(n):null};i.sX&&t.attr("width")==="100%"&&t.removeAttr("width");s.length||(s=null);l=r(e,{"class":f.sScrollWrapper}).append(r(e,{"class":f.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:u?c(u):"100%"}).append(r(e,{"class":f.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(k.removeAttr("id").css("margin-left",0).append(t.children("thead")))).append(v==="top"?h:null)).append(r(e,{"class":f.sScrollBody}).css({overflow:"auto",height:c(b),width:c(u)}).append(t));s&&l.append(r(e,{"class":f.sScrollFoot}).css({overflow:"hidden",border:0,width:u?c(u):"100%"}).append(r(e,{"class":f.sScrollFootInner}).append(d.removeAttr("id").css("margin-left",0).append(t.children("tfoot")))).append(v==="bottom"?h:null));var a=l.children(),y=a[0],p=a[1],w=s?a[2]:null;return u&&r(p).scroll(function(){var n=this.scrollLeft;y.scrollLeft=n;s&&(w.scrollLeft=n)}),n.nScrollHead=y,n.nScrollBody=p,n.nScrollFoot=w,n.aoDrawCallback.push({fn:kt,sName:"scrolling"}),l[0]}function kt(n){var c=n.oScroll,b=c.sX,nt=c.sXInner,k=c.sY,f=c.iBarWidth,tt=r(n.nScrollHead),gt=tt[0].style,ct=tt.children("div"),lt=ct[0].style,ni=ct.children("table"),i=n.nScrollBody,e=r(i),l=i.style,ti=r(n.nScrollFoot),it=ti.children("div"),ri=it.children("table"),rt=r(n.nTHead),t=r(n.nTable),y=t[0],h=y.style,s=n.nTFoot?r(n.nTFoot):null,at=n.oBrowser,ut=at.bScrollOversize,vt,yt,p,a,g,pt,ft=[],et=[],wt=[],bt,v,u,kt=function(n){var t=n.style;t.paddingTop="0";t.paddingBottom="0";t.borderTopWidth="0";t.borderBottomWidth="0";t.height=0},dt,w,ot,ht;t.children("thead, tfoot").remove();g=rt.clone().prependTo(t);vt=rt.find("tr");p=g.find("tr");g.find("th, td").removeAttr("tabindex");s&&(pt=s.clone().prependTo(t),yt=s.find("tr"),a=pt.find("tr"));b||(l.width="100%",tt[0].style.width="100%");r.each(si(n,g),function(t,i){bt=ii(n,t);i.style.width=n.aoColumns[bt].sWidth});s&&d(function(n){n.style.width=""},a);c.bCollapse&&k!==""&&(l.height=e.offsetHeight+rt[0].offsetHeight+"px");u=t.outerWidth();b===""?(h.width="100%",ut&&(t.find("tbody").height()>i.offsetHeight||e.css("overflow-y")=="scroll")&&(h.width=o(t.outerWidth()-f))):nt!==""?h.width=o(nt):u==e.width()&&e.height()<t.height()?(h.width=o(u-f),t.outerWidth()>u-f&&(h.width=o(u))):h.width=o(u);u=t.outerWidth();d(kt,p);d(function(n){wt.push(n.innerHTML);ft.push(o(r(n).css("width")))},p);d(function(n,t){n.style.width=ft[t]},vt);r(p).height(0);s&&(d(kt,a),d(function(n){et.push(o(r(n).css("width")))},a),d(function(n,t){n.style.width=et[t]},yt),r(a).height(0));d(function(n,t){n.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+wt[t]+"<\/div>";n.style.width=ft[t]},p);s&&d(function(n,t){n.innerHTML="";n.style.width=et[t]},a);t.outerWidth()<u?(v=i.scrollHeight>i.offsetHeight||e.css("overflow-y")=="scroll"?u+f:u,ut&&(i.scrollHeight>i.offsetHeight||e.css("overflow-y")=="scroll")&&(h.width=o(v-f)),(b===""||nt!=="")&&st(n,1,"Possible column misalignment",6)):v="100%";l.width=o(v);gt.width=o(v);s&&(n.nScrollFoot.style.width=o(v));k||ut&&(l.height=o(y.offsetHeight+f));k&&c.bCollapse&&(l.height=o(k),dt=b&&y.offsetWidth>i.offsetWidth?f:0,y.offsetHeight<i.offsetHeight&&(l.height=o(y.offsetHeight+dt)));w=t.outerWidth();ni[0].style.width=o(w);lt.width=o(w);ot=t.height()>i.clientHeight||e.css("overflow-y")=="scroll";ht="padding"+(at.bScrollbarLeft?"Left":"Right");lt[ht]=ot?f+"px":"0px";s&&(ri[0].style.width=o(w),it[0].style.width=o(w),it[0].style[ht]=ot?f+"px":"0px");e.scroll();(n.bSorted||n.bFiltered)&&(i.scrollTop=0)}function d(n,t,i){for(var e=0,u=0,o=t.length,r,f;u<o;){for(r=t[u].firstChild,f=i?i[u].firstChild:null;r;)r.nodeType===1&&(i?n(r,f,e):n(r,e),e++),r=r.nextSibling,f=i?f.nextSibling:null;u++}}function vr(t){for(var c=t.nTable,s=t.aoColumns,p=t.oScroll,g=p.sY,l=p.sX,nt=p.sXInner,w=s.length,e=ft(t,"bVisible"),h=r("th",t.nTHead),a=c.getAttribute("width"),v=c.parentNode,tt=!1,u,b,k,d,f,it,y,i=0;i<e.length;i++)u=s[e[i]],u.sWidth!==null&&(u.sWidth=lf(u.sWidthOrig,v),tt=!0);if(tt||l||g||w!=vt(t)||w!=h.length){for(f=r(c.cloneNode(!1)).css("visibility","hidden").removeAttr("id").append(r(t.nTHead).clone(!1)).append(r(t.nTFoot).clone(!1)).append(r("<tbody><tr/><\/tbody>")),f.find("tfoot th, tfoot td").css("width",""),it=f.find("tbody tr"),h=si(t,f.find("thead")[0]),i=0;i<e.length;i++)u=s[e[i]],h[i].style.width=u.sWidthOrig!==null&&u.sWidthOrig!==""?o(u.sWidthOrig):"";if(t.aoData.length)for(i=0;i<e.length;i++)b=e[i],u=s[b],r(vf(t,b)).clone(!1).append(u.sContentPadding).appendTo(it);if(f.appendTo(v),l&&nt?f.width(nt):l?(f.css("width","auto"),f.width()<v.offsetWidth&&f.width(v.offsetWidth)):g?f.width(v.offsetWidth):a&&f.width(a),af(t,f[0]),l){for(y=0,i=0;i<e.length;i++)u=s[e[i]],d=r(h[i]).outerWidth(),y+=u.sWidthOrig===null?d:parseInt(u.sWidth,10)+d-r(h[i]).width();f.width(o(y));c.style.width=o(y)}for(i=0;i<e.length;i++)u=s[e[i]],k=r(h[i]).width(),k&&(u.sWidth=o(k));c.style.width=o(f.css("width"));f.remove()}else for(i=0;i<w;i++)s[i].sWidth=o(h.eq(i).width());a&&(c.style.width=o(a));(a||l)&&!t._reszEvt&&(r(n).bind("resize.DT-"+t.sInstance,yr(function(){lt(t)})),t._reszEvt=!0)}function yr(n,t){var u=t||200,r,f;return function(){var e=this,t=+new Date,o=arguments;r&&t<r+u?(clearTimeout(f),f=setTimeout(function(){r=i;n.apply(e,o)},u)):r?(r=t,n.apply(e,o)):r=t}}function lf(n,i){if(!n)return 0;var u=r("<div/>").css("width",o(n)).appendTo(i||t.body),f=u[0].offsetWidth;return u.remove(),f}function af(n,t){var i=n.oScroll,u;(i.sX||i.sY)&&(u=i.sX?0:i.iBarWidth,t.style.width=o(r(t).outerWidth()-u))}function vf(n,t){var i=yf(n,t),u;return i<0?null:(u=n.aoData[i],u.nTr?u.anCells[t]:r("<td/>").html(v(n,i,t,"display"))[0])}function yf(n,t){for(var i,u=-1,f=-1,r=0,e=n.aoData.length;r<e;r++)i=v(n,r,t,"display")+"",i=i.replace(ye,""),i.length>u&&(u=i.length,f=r);return f}function o(n){return n===null?"0px":typeof n=="number"?n<0?"0px":n+"px":n.match(/\d$/)?n+"px":n}function pf(){var n;if(!u.__scrollbarWidth){var t=r("<p/>").css({width:"100%",height:200,padding:0})[0],i=r("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(t).appendTo("body"),f=t.offsetWidth;i.css("overflow","scroll");n=t.offsetWidth;f===n&&(n=i[0].clientWidth);i.remove();u.__scrollbarWidth=f-n}return u.__scrollbarWidth}function ot(n){var f,e,a,v=[],y=n.aoColumns,s,h,c,l,t=n.aaSortingFixed,p=r.isPlainObject(t),i=[],o=function(n){n.length&&!r.isArray(n[0])?i.push(n):i.push.apply(i,n)};for(r.isArray(t)&&o(t),p&&t.pre&&o(t.pre),o(n.aaSorting),p&&t.post&&o(t.post),f=0;f<i.length;f++)for(l=i[f][0],s=y[l].aDataSort,e=0,a=s.length;e<a;e++)h=s[e],c=y[h].sType||"string",v.push({src:l,col:h,dir:i[f][1],index:i[f][2],type:c,formatter:u.ext.type.order[c+"-pre"]});return v}function wf(n){var t,s,h,r=[],c=u.ext.type.order,f=n.aoData,a=n.aoColumns,l=0,o,e=n.aiDisplayMaster,i=ot(n);for(ir(n),t=0,s=i.length;t<s;t++)o=i[t],o.formatter&&l++,df(n,o.col);if(p(n)!="ssp"&&i.length!==0){for(t=0,h=e.length;t<h;t++)r[e[t]]=t;l===i.length?e.sort(function(n,t){for(var u,e,s,h,c=i.length,l=f[n]._aSortData,a=f[t]._aSortData,o=0;o<c;o++)if(h=i[o],u=l[h.col],e=a[h.col],s=u<e?-1:u>e?1:0,s!==0)return h.dir==="asc"?s:-s;return u=r[n],e=r[t],u<e?-1:u>e?1:0}):e.sort(function(n,t){for(var e,o,h,u,l,a=i.length,v=f[n]._aSortData,y=f[t]._aSortData,s=0;s<a;s++)if(u=i[s],e=v[u.col],o=y[u.col],l=c[u.type+"-"+u.dir]||c["string-"+u.dir],h=l(e,o),h!==0)return h;return e=r[n],o=r[t],e<o?-1:e>o?1:0})}n.bSorted=!0}function bf(n){for(var u,f,s=n.aoColumns,t=ot(n),h=n.oLanguage.oAria,i=0,l=s.length;i<l;i++){var r=s[i],e=r.asSorting,c=r.sTitle.replace(/<.*?>/g,""),o=r.nTh;o.removeAttribute("aria-sort");r.bSortable?(t.length>0&&t[0].col==i?(o.setAttribute("aria-sort",t[0].dir=="asc"?"ascending":"descending"),f=e[t[0].index+1]||e[0]):f=e[0],u=c+(f==="asc"?h.sSortAscending:h.sSortDescending)):u=c;o.setAttribute("aria-label",u)}}function kf(n,t,u,f){var l=n.aoColumns[t],e=n.aaSorting,o=l.asSorting,s,c=function(n){var t=n._idx;return t===i&&(t=r.inArray(n[1],o)),t+1>=o.length?0:t+1},h;u&&n.oFeatures.bSortMulti?(h=r.inArray(t,w(e,"0")),h!==-1?(s=c(e[h]),e[h][1]=o[s],e[h]._idx=s):(e.push([t,o[0],0]),e[e.length-1]._idx=0)):e.length&&e[0][0]==t?(s=c(e[0]),e.length=1,e[0][1]=o[s],e[0]._idx=s):(e.length=0,e.push([t,o[0]]),e[0]._idx=0);rt(n);typeof f=="function"&&f(n)}function pr(n,t,i,r){var u=n.aoColumns[i];wr(t,{},function(t){u.bSortable!==!1&&(k(n,!0),setTimeout(function(){kf(n,i,t.shiftKey,r);p(n)!=="ssp"&&k(n,!1)},0))})}function yi(n){var e=n.aLastSort,o=n.oClasses.sSortColumn,f=ot(n),s=n.oFeatures,t,i,u;if(s.bSort&&s.bSortClasses){for(t=0,i=e.length;t<i;t++)u=e[t].src,r(w(n.aoData,"anCells",u)).removeClass(o+(t<2?t+1:3));for(t=0,i=f.length;t<i;t++)u=f[t].src,r(w(n.aoData,"anCells",u)).addClass(o+(t<2?t+1:3))}n.aLastSort=f}function df(n,t){var s=n.aoColumns[t],f=u.ext.order[s.sSortDataType],h,r,e,o,i,c;for(f&&(h=f.call(n.oInstance,n,t,at(n,t))),o=u.ext.type.order[s.sType+"-pre"],i=0,c=n.aoData.length;i<c;i++)r=n.aoData[i],r._aSortData||(r._aSortData=[]),(!r._aSortData[t]||f)&&(e=f?h[i]:v(n,i,t,"sort"),r._aSortData[t]=o?o(e):e)}function pi(n){if(n.oFeatures.bStateSave&&!n.bDestroying){for(var i={iCreate:(new Date).getTime(),iStart:n._iDisplayStart,iLength:n._iDisplayLength,aaSorting:r.extend(!0,[],n.aaSorting),oSearch:r.extend(!0,{},n.oPreviousSearch),aoSearchCols:r.extend(!0,[],n.aoPreSearchCols),abVisCols:[]},t=0,u=n.aoColumns.length;t<u;t++)i.abVisCols.push(n.aoColumns[t].bVisible);s(n,"aoStateSaveParams","stateSaveParams",[n,i]);n.fnStateSaveCallback.call(n.oInstance,n,i)}}function gf(n){var i,f,e=n.aoColumns,t,o,u;if(n.oFeatures.bStateSave&&(t=n.fnStateLoadCallback.call(n.oInstance,n),t)&&(o=s(n,"aoStateLoadParams","stateLoadParams",[n,t]),r.inArray(!1,o)===-1)&&!(t.iCreate<(new Date).getTime()-n.iStateDuration*1e3)&&e.length===t.aoSearchCols.length){for(n.oLoadedState=r.extend(!0,{},t),n._iDisplayStart=t.iStart,n.iInitDisplayStart=t.iStart,n._iDisplayLength=t.iLength,n.aaSorting=[],u=t.aaSorting,i=0,f=u.length;i<f;i++)n.aaSorting.push(u[i][0]>=e.length?[0,u[i][1]]:u[i]);for(r.extend(n.oPreviousSearch,t.oSearch),r.extend(!0,n.aoPreSearchCols,t.aoSearchCols),i=0,f=t.abVisCols.length;i<f;i++)e[i].bVisible=t.abVisCols[i];s(n,"aoStateLoaded","stateLoaded",[n,t])}}function wi(n){var t=u.settings,i=r.inArray(n,w(t,"nTable"));return i!==-1?t[i]:null}function st(t,i,r,f){if(r="DataTables warning: "+(t!==null?"table id="+t.sTableId+" - ":"")+r,f&&(r+=". For more information about this error, please see http://datatables.net/tn/"+f),i)n.console&&console.log&&console.log(r);else{var e=u.ext,o=e.sErrMode||e.errMode;if(o=="alert")alert(r);else throw new Error(r);}}function b(n,t,u,f){if(r.isArray(u)){r.each(u,function(i,u){r.isArray(u)?b(n,t,u[0],u[1]):b(n,t,u)});return}f===i&&(f=u);t[u]!==i&&(n[f]=t[u])}function ne(n,t,i){var f;for(var u in t)t.hasOwnProperty(u)&&(f=t[u],r.isPlainObject(f)?(r.isPlainObject(n[u])||(n[u]={}),r.extend(!0,n[u],f)):n[u]=i&&u!=="data"&&u!=="aaData"&&r.isArray(f)?f.slice():f);return n}function wr(n,t,i){r(n).bind("click.DT",t,function(t){n.blur();i(t)}).bind("keypress.DT",t,function(n){n.which===13&&i(n)}).bind("selectstart.DT",function(){return!1})}function y(n,t,i,r){i&&n[t].push({fn:i,sName:r})}function s(n,t,i,u){var f=[];return t&&(f=r.map(n[t].slice().reverse(),function(t){return t.fn.apply(n.oInstance,u)})),i!==null&&r(n.nTable).trigger(i+".dt",u),f}function br(n){var t=n._iDisplayStart,i=n.fnDisplayEnd(),r=n._iDisplayLength;i===n.fnRecordsDisplay()&&(t=i-r);(r===-1||t<0)&&(t=0);n._iDisplayStart=t}function kr(n,t){var i=n.renderer,f=u.ext.renderer[t];return r.isPlainObject(i)&&i[t]?f[i[t]]||f._:typeof i=="string"?f[i]||f._:f._}function p(n){return n.oFeatures.bServerSide?"ssp":n.ajax||n.sAjaxSource?"ajax":"dom"}function uu(n,t){var i=[],r=ru.numbers_length,u=Math.floor(r/2);return t<=r?i=ut(0,t):n<=u?(i=ut(0,r-2),i.push("ellipsis"),i.push(t-1)):n>=t-1-u?(i=ut(t-(r-2),t),i.splice(0,0,"ellipsis"),i.splice(0,0,0)):(i=ut(n-1,n+2),i.push("ellipsis"),i.push(t-1),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function fe(n){r.each({num:function(t){return dt(t,n)},"num-fmt":function(t){return dt(t,n,ki)},"html-num":function(t){return dt(t,n,gt)},"html-num-fmt":function(t){return dt(t,n,gt,ki)}},function(t,i){l.type.order[t+n+"-pre"]=i})}function ee(n){return function(){var t=[wi(this[u.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return u.ext.internal[n].apply(this,t)}}var u,l,e,f,c,bi={},fu=/[\r\n]/g,gt=/<.*?>/g,oe=/^[\d\+\-a-zA-Z]/,se=new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),ki=/[',$£€¥%\u2009\u202F]/g,ht=function(n){return!n||n==="-"?!0:!1},eu=function(n){var t=parseInt(n,10);return!isNaN(t)&&isFinite(n)?t:null},ou=function(n,t){return bi[t]||(bi[t]=new RegExp(cr(t),"g")),n.replace(/\./g,"").replace(bi[t],".")},di=function(n,t,i){var r=typeof n=="string";return t&&r&&(n=ou(n,t)),i&&r&&(n=n.replace(ki,"")),!n||n==="-"||!isNaN(parseFloat(n))&&isFinite(n)},he=function(n){return!n||typeof n=="string"},su=function(n,t,i){if(ht(n))return!0;var r=he(n);return r?di(ce(n),t,i)?!0:null:null},w=function(n,t,r){var f=[],u=0,e=n.length;if(r!==i)for(;u<e;u++)n[u]&&n[u][t]&&f.push(n[u][t][r]);else for(;u<e;u++)n[u]&&f.push(n[u][t]);return f},ni=function(n,t,r,u){var e=[],f=0,o=t.length;if(u!==i)for(;f<o;f++)e.push(n[t[f]][r][u]);else for(;f<o;f++)e.push(n[t[f]][r]);return e},ut=function(n,t){var f=[],u,r;for(t===i?(t=0,u=n):(u=t,t=n),r=t;r<u;r++)f.push(r);return f},ce=function(n){return n.replace(gt,"")},gi=function(n){var r=[],u,t,e=n.length,i,f=0;n:for(t=0;t<e;t++){for(u=n[t],i=0;i<f;i++)if(r[i]===u)continue n;r.push(u);f++}return r},a=function(n,t,r){n[t]!==i&&(n[r]=n[t])},yt=/\[.*?\]$/,et=/\(\)$/,li=r("<div>")[0],ve=li.textContent!==i,ye=/<.*?>/g,ie,dr,ue,ru,dt;u=function(n){var f;this.$=function(n,t){return this.api(!0).$(n,t)};this._=function(n,t){return this.api(!0).rows(n,t).data()};this.api=function(n){return n?new e(wi(this[l.iApiIndex])):new e(this)};this.fnAddData=function(n,t){var u=this.api(!0),f=r.isArray(n)&&(r.isArray(n[0])||r.isPlainObject(n[0]))?u.rows.add(n):u.row.add(n);return(t===i||t)&&u.draw(),f.flatten().toArray()};this.fnAdjustColumnSizing=function(n){var t=this.api(!0).columns.adjust(),r=t.settings()[0],u=r.oScroll;n===i||n?t.draw(!1):(u.sX!==""||u.sY!=="")&&kt(r)};this.fnClearTable=function(n){var t=this.api(!0).clear();(n===i||n)&&t.draw()};this.fnClose=function(n){this.api(!0).row(n).child.hide()};this.fnDeleteRow=function(n,t,r){var f=this.api(!0),u=f.rows(n),e=u.settings()[0],o=e.aoData[u[0][0]];return u.remove(),t&&t.call(this,e,o),(r===i||r)&&f.draw(),o};this.fnDestroy=function(n){this.api(!0).destroy(n)};this.fnDraw=function(n){this.api(!0).draw(!n)};this.fnFilter=function(n,t,r,u,f,e){var o=this.api(!0);t===null||t===i?o.search(n,r,u,e):o.column(t).search(n,r,u,e);o.draw()};this.fnGetData=function(n,t){var r=this.api(!0),u;return n!==i?(u=n.nodeName?n.nodeName.toLowerCase():"",t!==i||u=="td"||u=="th"?r.cell(n,t).data():r.row(n).data()):r.data().toArray()};this.fnGetNodes=function(n){var t=this.api(!0);return n!==i?t.row(n).node():t.rows().nodes().toArray()};this.fnGetPosition=function(n){var r=this.api(!0),i=n.nodeName.toUpperCase(),t;return i=="TR"?r.row(n).index():i=="TD"||i=="TH"?(t=r.cell(n).index(),[t.row,t.columnVisible,t.column]):null};this.fnIsOpen=function(n){return this.api(!0).row(n).child.isShown()};this.fnOpen=function(n,t,i){return this.api(!0).row(n).child(t,i).show()};this.fnPageChange=function(n,t){var r=this.api(!0).page(n);(t===i||t)&&r.draw(!1)};this.fnSetColumnVis=function(n,t,r){var u=this.api(!0).column(n).visible(t);(r===i||r)&&u.columns.adjust().draw()};this.fnSettings=function(){return wi(this[l.iApiIndex])};this.fnSort=function(n){this.api(!0).order(n).draw()};this.fnSortListener=function(n,t,i){this.api(!0).order.listener(n,t,i)};this.fnUpdate=function(n,t,r,u,f){var e=this.api(!0);return r===i||r===null?e.row(t).data(n):e.cell(t,r).data(n),(f===i||f)&&e.columns.adjust(),(u===i||u)&&e.draw(),0};this.fnVersionCheck=l.fnVersionCheck;var t=this,o=n===i,h=this.length;o&&(n={});this.oApi=this.internal=l.internal;for(f in u.ext.internal)f&&(this[f]=ee(f));return this.each(function(){var e=h>1?ne({},n,!0):n,c=0,v,k=this.getAttribute("id"),lt=!1,l=u.defaults,a,at,vt,f,ht,rt,ut,d,tt,ct,it,yt,ft,et,w;if(this.nodeName.toLowerCase()!="table"){st(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}for(hu(l),cu(l.column),g(l,l,!0),g(l.column,l.column,!0),g(l,e),a=u.settings,c=0,v=a.length;c<v;c++){if(a[c].nTable==this){if(at=e.bRetrieve!==i?e.bRetrieve:l.bRetrieve,vt=e.bDestroy!==i?e.bDestroy:l.bDestroy,o||at)return a[c].oInstance;if(vt){a[c].oInstance.fnDestroy();break}else{st(a[c],0,"Cannot reinitialise DataTable",3);return}}if(a[c].sTableId==this.id){a.splice(c,1);break}}if((k===null||k==="")&&(k="DataTables_Table_"+u.ext._unique++,this.id=k),f=r.extend(!0,{},u.models.oSettings,{nTable:this,oApi:t.internal,oInit:e,sDestroyWidth:r(this)[0].style.width,sInstance:k,sTableId:k}),a.push(f),f.oInstance=t.length===1?t:r(this).dataTable(),hu(e),e.oLanguage&&nr(e.oLanguage),e.aLengthMenu&&!e.iDisplayLength&&(e.iDisplayLength=r.isArray(e.aLengthMenu[0])?e.aLengthMenu[0][0]:e.aLengthMenu[0]),e=ne(r.extend(!0,{},l),e),b(f.oFeatures,e,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),b(f,e,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),b(f.oScroll,e,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),b(f.oLanguage,e,"fnInfoCallback"),y(f,"aoDrawCallback",e.fnDrawCallback,"user"),y(f,"aoServerParams",e.fnServerParams,"user"),y(f,"aoStateSaveParams",e.fnStateSaveParams,"user"),y(f,"aoStateLoadParams",e.fnStateLoadParams,"user"),y(f,"aoStateLoaded",e.fnStateLoaded,"user"),y(f,"aoRowCallback",e.fnRowCallback,"user"),y(f,"aoRowCreatedCallback",e.fnCreatedRow,"user"),y(f,"aoHeaderCallback",e.fnHeaderCallback,"user"),y(f,"aoFooterCallback",e.fnFooterCallback,"user"),y(f,"aoInitComplete",e.fnInitComplete,"user"),y(f,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),e.bJQueryUI?(r.extend(f.oClasses,u.ext.oJUIClasses,e.oClasses),e.sDom===l.sDom&&l.sDom==="lfrtip"&&(f.sDom='<"H"lfr>t<"F"ip>'),f.renderer?r.isPlainObject(f.renderer)&&!f.renderer.header&&(f.renderer.header="jqueryui"):f.renderer="jqueryui"):r.extend(f.oClasses,u.ext.classes,e.oClasses),r(this).addClass(f.oClasses.sTable),(f.oScroll.sX!==""||f.oScroll.sY!=="")&&(f.oScroll.iBarWidth=pf()),f.oScroll.sX===!0&&(f.oScroll.sX="100%"),f.iInitDisplayStart===i&&(f.iInitDisplayStart=e.iDisplayStart,f._iDisplayStart=e.iDisplayStart),e.iDeferLoading!==null&&(f.bDeferLoading=!0,ht=r.isArray(e.iDeferLoading),f._iRecordsDisplay=ht?e.iDeferLoading[0]:e.iDeferLoading,f._iRecordsTotal=ht?e.iDeferLoading[1]:e.iDeferLoading),e.oLanguage.sUrl!==""?(f.oLanguage.sUrl=e.oLanguage.sUrl,r.getJSON(f.oLanguage.sUrl,null,function(n){nr(n);g(l.oLanguage,n);r.extend(!0,f.oLanguage,e.oLanguage,n);ai(f)}),lt=!0):r.extend(!0,f.oLanguage,e.oLanguage),e.asStripeClasses===null&&(f.asStripeClasses=[f.oClasses.sStripeOdd,f.oClasses.sStripeEven]),rt=f.asStripeClasses,ut=r("tbody tr:eq(0)",this),r.inArray(!0,r.map(rt,function(n){return ut.hasClass(n)}))!==-1&&(r("tbody tr",this).removeClass(rt.join(" ")),f.asDestroyStripes=rt.slice()),d=[],ct=this.getElementsByTagName("thead"),ct.length!==0&&(wt(f.aoHeader,ct[0]),d=si(f)),e.aoColumns===null)for(tt=[],c=0,v=d.length;c<v;c++)tt.push(null);else tt=e.aoColumns;for(c=0,v=tt.length;c<v;c++)tr(f,d?d[c]:null);if(au(f,e.aoColumnDefs,tt,function(n,t){ti(f,n,t)}),ut.length&&(it=function(n,t){return n.getAttribute("data-"+t)?t:null},r.each(oi(f,ut[0]).cells,function(n,t){var e=f.aoColumns[n],r,u;e.mData===n&&(r=it(t,"sort")||it(t,"order"),u=it(t,"filter")||it(t,"search"),(r!==null||u!==null)&&(e.mData={_:n+".display",sort:r!==null?n+".@data-"+r:i,type:r!==null?n+".@data-"+r:i,filter:u!==null?n+".@data-"+u:i},ti(f,n)))})),e.bStateSave&&(f.oFeatures.bStateSave=!0,gf(f,e),y(f,"aoDrawCallback",pi,"state_save")),e.aaSorting===i)for(c=0,v=f.aaSorting.length;c<v;c++)f.aaSorting[c][1]=f.aoColumns[c].asSorting[0];if(yi(f),f.oFeatures.bSort&&y(f,"aoDrawCallback",function(){if(f.bSorted){var n=ot(f),t={};r.each(n,function(n,i){t[i.src]=i.dir});s(f,null,"order",[f,n,t]);yi(f);bf(f)}}),lu(f),yt=r(this).children("caption").each(function(){this._captionSide=r(this).css("caption-side")}),ft=r(this).children("thead"),ft.length===0&&(ft=r("<thead/>").appendTo(this)),f.nTHead=ft[0],et=r(this).children("tbody"),et.length===0&&(et=r("<tbody/>").appendTo(this)),f.nTBody=et[0],w=r(this).children("tfoot"),w.length===0&&yt.length>0&&(f.oScroll.sX!==""||f.oScroll.sY!=="")&&(w=r("<tfoot/>").appendTo(this)),w.length===0||w.children().length===0?r(this).addClass(f.oClasses.sNoFooter):w.length>0&&(f.nTFoot=w[0],wt(f.aoFooter,f.nTFoot)),e.aaData)for(c=0;c<e.aaData.length;c++)nt(f,e.aaData[c]);else(f.bDeferLoading||p(f)=="dom")&&ri(f,r(f.nTBody).children("tr"));f.aiDisplay=f.aiDisplayMaster.slice();f.bInitialised=!0;lt===!1&&ai(f)}),t=null,this};var te=[],h=Array.prototype,pe=function(n){var t,i,f=u.settings,e=r.map(f,function(n){return n.nTable});if(n){if(n.nTable&&n.oApi)return[n];if(n.nodeName&&n.nodeName.toLowerCase()==="table")return t=r.inArray(n,e),t!==-1?[f[t]]:null;if(n&&typeof n.settings=="function")return n.settings();typeof n=="string"?i=r(n):n instanceof r&&(i=n)}else return[];if(i)return i.map(function(){return t=r.inArray(this,e),t!==-1?f[t]:null}).toArray()};u.Api=e=function(n,t){var i,f,u,o;if(!this instanceof e)throw"DT API must be constructed as a new object";if(i=[],f=function(n){var t=pe(n);t&&i.push.apply(i,t)},r.isArray(n))for(u=0,o=n.length;u<o;u++)f(n[u]);else f(n);this.context=gi(i);t&&this.push.apply(this,t.toArray?t.toArray():t);this.selector={rows:null,cols:null,opts:null};e.extend(this,this,te)};e.prototype={concat:h.concat,context:[],each:function(n){if(h.forEach)h.forEach.call(this,n,this);else for(var t=0,i=this.length;t<i;t++)n.call(this,this[t],t,this);return this},eq:function(n){var t=this.context;return t.length>n?new e(t[n],this[n]):null},filter:function(n){var i=[],t,r;if(h.filter)i=h.filter.call(this,n,this);else for(t=0,r=this.length;t<r;t++)n.call(this,this[t],t,this)&&i.push(this[t]);return new e(this.context,i)},flatten:function(){var n=[];return new e(this.context,n.concat.apply(n,this.toArray()))},join:h.join,indexOf:h.indexOf||function(n,t){for(var i=t||0,r=this.length;i<r;i++)if(this[i]===n)return i;return-1},iterator:function(n,t,r){var o=[],f,u,p,h,w,s=this.context,b,v,c,l=this.selector,y,a;for(typeof n=="string"&&(r=t,t=n,n=!1),u=0,p=s.length;u<p;u++)if(t==="table")f=r(s[u],u),f!==i&&o.push(f);else if(t==="columns"||t==="rows")f=r(s[u],this[u],u),f!==i&&o.push(f);else if(t==="column"||t==="column-rows"||t==="row"||t==="cell")for(v=this[u],t==="column-rows"&&(b=iu(s[u],l.opts)),h=0,w=v.length;h<w;h++)c=v[h],f=t==="cell"?r(s[u],c.row,c.column,u,h):r(s[u],c,u,h,b),f!==i&&o.push(f);return o.length?(y=new e(s,n?o.concat.apply([],o):o),a=y.selector,a.rows=l.rows,a.cols=l.cols,a.opts=l.opts,y):this},lastIndexOf:h.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(n){var i=[],t,r;if(h.map)i=h.map.call(this,n,this);else for(t=0,r=this.length;t<r;t++)i.push(n.call(this,this[t],t));return new e(this.context,i)},pluck:function(n){return this.map(function(t){return t[n]})},pop:h.pop,push:h.push,reduce:h.reduce||function(n,t){var r,u=!1,i,f;for(arguments.length>1&&(r=t,u=!0),i=0,f=this.length;i<f;i++)this.hasOwnProperty(i)&&(r=u?n(r,this[i],i,this):this[i],u=!0);return r},reduceRight:h.reduceRight||function(n,t){var r,u=!1,i;for(arguments.length>1&&(r=t,u=!0),i=this.length-1;i>=0;i--)this.hasOwnProperty(i)&&(r=u?n(r,this[i],i,this):this[i],u=!0);return r},reverse:h.reverse,selector:null,shift:h.shift,sort:h.sort,splice:h.splice,toArray:function(){return h.slice.call(this)},to$:function(){return r(this)},toJQuery:function(){return r(this)},unique:function(){return new e(this.context,gi(this))},unshift:h.unshift};e.extend=function(n,t,i){if(t&&(t instanceof e||t.__dt_wrapper))for(var r,o=function(t,i){return function(){var r=t.apply(n,arguments);return e.extend(r,r,i.methodExt),r}},u=0,f=i.length;u<f;u++)r=i[u],t[r.name]=typeof r.val=="function"?o(r.val,r):r.val,t[r.name].__dt_wrapper=!0,e.extend(n,t[r.name],r.propExt)};e.register=f=function(n,t){var o,v,f;if(r.isArray(n)){for(o=0,v=n.length;o<v;o++)e.register(n[o],t);return}for(var s=n.split("."),c=te,l,a,y=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i].name===t)return n[i];return null},i=0,h=s.length;i<h;i++)a=s[i].indexOf("()")!==-1,l=a?s[i].replace("()",""):s[i],f=y(c,l),f||(f={name:l,val:{},methodExt:[],propExt:[]},c.push(f)),i===h-1?f.val=t:c=a?f.methodExt:f.propExt;e.ready&&u.api.build()};e.registerPlural=c=function(n,t,u){e.register(n,u);e.register(t,function(){var n=u.apply(this,arguments);return n===this?this:n instanceof e?n.length?r.isArray(n[0])?new e(n.context,n[0]):n[0]:i:n})};ie=function(n,t){if(typeof n=="number")return[t[n]];var i=r.map(t,function(n){return n.nTable});return r(i).filter(n).map(function(){var n=r.inArray(this,i);return t[n]}).toArray()};f("tables()",function(n){return n?new e(ie(n,this.context)):this});f("table()",function(n){var t=this.tables(n),i=t.context;return i.length?new e(i[0]):t});c("tables().nodes()","table().node()",function(){return this.iterator("table",function(n){return n.nTable})});c("tables().body()","table().body()",function(){return this.iterator("table",function(n){return n.nTBody})});c("tables().header()","table().header()",function(){return this.iterator("table",function(n){return n.nTHead})});c("tables().footer()","table().footer()",function(){return this.iterator("table",function(n){return n.nTFoot})});f("draw()",function(n){return this.iterator("table",function(t){rt(t,n===!1)})});f("page()",function(n){return n===i?this.page.info().page:this.iterator("table",function(t){ar(t,n)})});f("page.info()",function(){if(this.context.length===0)return i;var n=this.context[0],r=n._iDisplayStart,t=n._iDisplayLength,u=n.fnRecordsDisplay(),f=t===-1;return{page:f?0:Math.floor(r/t),pages:f?1:Math.ceil(u/t),start:r,end:n.fnDisplayEnd(),length:t,recordsTotal:n.fnRecordsTotal(),recordsDisplay:u}});f("page.len()",function(n){return n===i?this.context.length!==0?this.context[0]._iDisplayLength:i:this.iterator("table",function(t){lr(t,n)})});dr=function(n,t,i){if(p(n)=="ssp"?rt(n,t):hi(n,[],function(i){var u,r,f;for(ui(n),u=ci(n,i),r=0,f=u.length;r<f;r++)nt(n,u[r]);rt(n,t)}),i){var r=new e(n);r.one("draw",function(){console.log(r.ajax.json());i(r.ajax.json())})}};f("ajax.json()",function(){var n=this.context;if(n.length>0)return n[0].json});f("ajax.reload()",function(n,t){return this.iterator("table",function(i){dr(i,t===!1,n)})});f("ajax.url()",function(n){var t=this.context;return n===i?t.length===0?i:(t=t[0],t.ajax?r.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(t){r.isPlainObject(t.ajax)?t.ajax.url=n:t.ajax=n})});f("ajax.url().load()",function(n,t){return this.iterator("table",function(i){dr(i,t===!1,n)})});var gr=function(n,t){var o=[],e,f,i,s,u,h;for(r.isArray(n)||(n=[n]),i=0,s=n.length;i<s;i++)for(f=n[i]&&n[i].split?n[i].split(","):[n[i]],u=0,h=f.length;u<h;u++)e=t(typeof f[u]=="string"?r.trim(f[u]):f[u]),e&&e.length&&o.push.apply(o,e);return o},nu=function(n){return n||(n={}),n.filter&&!n.search&&(n.search=n.filter),{search:n.search||"none",order:n.order||"current",page:n.page||"all"}},tu=function(n){for(var t=0,i=n.length;t<i;t++)if(n[t].length>0)return n[0]=n[t],n.length=1,n.context=[n.context[t]],n;return n.length=0,n},iu=function(n,t){var i,e,h,f=[],o=n.aiDisplay,c=n.aiDisplayMaster,u=t.search,s=t.order,l=t.page;if(p(n)=="ssp")return u==="removed"?[]:ut(0,c.length);if(l=="current")for(i=n._iDisplayStart,e=n.fnDisplayEnd();i<e;i++)f.push(o[i]);else if(s=="current"||s=="applied")f=u=="none"?c.slice():u=="applied"?o.slice():r.map(c,function(n){return r.inArray(n,o)===-1?n:null});else if(s=="index"||s=="original")for(i=0,e=n.aoData.length;i<e;i++)u=="none"?f.push(i):(h=r.inArray(i,o),(h===-1&&u=="removed"||h===1&&u=="applied")&&f.push(i));return f},we=function(n,t,i){return gr(t,function(t){var u=eu(t),f,e,o,s;if(u!==null&&!i)return[u];if(f=iu(n,i),u!==null&&r.inArray(u,f)!==-1)return[u];if(!t)return f;for(e=[],o=0,s=f.length;o<s;o++)e.push(n.aoData[f[o]].nTr);return t.nodeName&&r.inArray(t,e)!==-1?[t._DT_RowIndex]:r(e).filter(t).map(function(){return this._DT_RowIndex}).toArray()})};f("rows()",function(n,t){n===i?n="":r.isPlainObject(n)&&(t=n,n="");t=nu(t);var u=this.iterator("table",function(i){return we(i,n,t)});return u.selector.rows=n,u.selector.opts=t,u});f("rows().nodes()",function(){return this.iterator("row",function(n,t){return n.aoData[t].nTr||i})});f("rows().data()",function(){return this.iterator(!0,"rows",function(n,t){return ni(n.aoData,t,"_aData")})});c("rows().cache()","row().cache()",function(n){return this.iterator("row",function(t,i){var r=t.aoData[i];return n==="search"?r._aFilterData:r._aSortData})});c("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(t,i){ei(t,i,n)})});c("rows().indexes()","row().index()",function(){return this.iterator("row",function(n,t){return t})});c("rows().remove()","row().remove()",function(){var n=this;return this.iterator("row",function(t,i,u){var e=t.aoData,f,o,s;for(e.splice(i,1),f=0,o=e.length;f<o;f++)e[f].nTr!==null&&(e[f].nTr._DT_RowIndex=f);s=r.inArray(i,t.aiDisplay);fi(t.aiDisplayMaster,i);fi(t.aiDisplay,i);fi(n[u],i,!1);br(t)})});f("rows.add()",function(n){var i=this.iterator("table",function(t){for(var i,u=[],r=0,f=n.length;r<f;r++)i=n[r],i.nodeName&&i.nodeName.toUpperCase()==="TR"?u.push(ri(t,i)[0]):u.push(nt(t,i));return u}),t=this.rows(-1);return t.pop(),t.push.apply(t,i.toArray()),t});f("row()",function(n,t){return tu(this.rows(n,t))});f("row().data()",function(n){var t=this.context;return n===i?t.length&&this.length?t[0].aoData[this[0]]._aData:i:(t[0].aoData[this[0]]._aData=n,ei(t[0],this[0],"data"),this)});f("row().node()",function(){var n=this.context;return n.length&&this.length?n[0].aoData[this[0]].nTr||null:null});f("row.add()",function(n){n instanceof r&&n.length&&(n=n[0]);var t=this.iterator("table",function(t){return n.nodeName&&n.nodeName.toUpperCase()==="TR"?ri(t,n)[0]:nt(t,n)});return this.row(t[0])});var be=function(n,t,i,u){var e=[],o=function(t,i){t.nodeName&&t.nodeName.toUpperCase()==="tr"||(t=r("<tr><td><\/td><\/tr>").find("td").html(t).parent());r("td",t).addClass(i)[0].colSpan=vt(n);e.push(t[0])},f,s;if(r.isArray(i)||i instanceof r)for(f=0,s=i.length;f<s;f++)o(i[f],u);else o(i,u);t._details&&t._details.remove();t._details=r(e);t._detailsShow&&t._details.insertAfter(t.nTr)},re=function(n){var i=this.context,t;return i.length&&this.length&&(t=i[0].aoData[this[0]],t._details&&(t._detailsShow=n,n?t._details.insertAfter(t.nTr):t._details.remove(),ke(i[0]))),this},ke=function(n){var t=new e(n),i=".dt.DT_details",r="draw"+i,u="column-visibility"+i;if(t.off(r+" "+u),w(n.aoData,"_details").length>0){t.on(r,function(){t.rows({page:"current"}).eq(0).each(function(t){var i=n.aoData[t];i._detailsShow&&i._details.insertAfter(i.nTr)})});t.on(u,function(n,t){for(var i,u=vt(t),r=0,f=t.aoData.length;r<f;r++)i=t.aoData[r],i._details&&i._details.children("td[colspan]").attr("colspan",u)})}};f("row().child()",function(n,t){var r=this.context;return n===i?r.length&&this.length?r[0].aoData[this[0]]._details:i:(r.length&&this.length&&be(r[0],r[0].aoData[this[0]],n,t),this)});f(["row().child.show()","row().child().show()"],function(){re.call(this,!0)});f(["row().child.hide()","row().child().hide()"],function(){re.call(this,!1)});f("row().child.isShown()",function(){var n=this.context;return n.length&&this.length?n[0].aoData[this[0]]._detailsShow||!1:!1});var de=/^(.*):(name|visIdx|visible)$/,ge=function(n,t){var i=n.aoColumns,f=w(i,"sName"),u=w(i,"nTh");return gr(t,function(t){var o=eu(t),e,s,h;if(t==="")return ut(i.length);if(o!==null)return[o>=0?o:i.length+o];if(e=t.match(de),e)switch(e[2]){case"visIdx":case"visible":return(s=parseInt(e[1],10),s<0)?(h=r.map(i,function(n,t){return n.bVisible?t:null}),[h[h.length+s]]):[ii(n,s)];case"name":return r.map(f,function(n,t){return n===e[1]?t:null})}else return r(u).filter(t).map(function(){return r.inArray(this,u)}).toArray()})},no=function(n,t,u){var l=n.aoColumns,e=l[t],o=n.aoData,h,f,a,c,v;if(u===i)return e.bVisible;if(e.bVisible!==u){if(u)for(v=r.inArray(!0,w(l,"bVisible"),t+1),f=0,a=o.length;f<a;f++)c=o[f].nTr,h=o[f].anCells,c&&c.insertBefore(h[t],h[v]||null);else r(w(n.aoData,"anCells",t)).detach(),e.bVisible=!1,tt(n,n.aoHeader),tt(n,n.aoFooter),pi(n);e.bVisible=u;tt(n,n.aoHeader);tt(n,n.aoFooter);lt(n);(n.oScroll.sX||n.oScroll.sY)&&kt(n);s(n,null,"column-visibility",[n,t,u]);pi(n)}};return f("columns()",function(n,t){n===i?n="":r.isPlainObject(n)&&(t=n,n="");t=nu(t);var u=this.iterator("table",function(i){return ge(i,n,t)});return u.selector.cols=n,u.selector.opts=t,u}),c("columns().header()","column().header()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].nTh})}),c("columns().footer()","column().footer()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].nTf})}),c("columns().data()","column().data()",function(){return this.iterator("column-rows",function(n,t,i,r,u){for(var e=[],f=0,o=u.length;f<o;f++)e.push(v(n,u[f],t,""));return e})}),c("columns().cache()","column().cache()",function(n){return this.iterator("column-rows",function(t,i,r,u,f){return ni(t.aoData,f,n==="search"?"_aFilterData":"_aSortData",i)})}),c("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(n,t,i,r,u){return ni(n.aoData,u,"anCells",t)})}),c("columns().visible()","column().visible()",function(n){return this.iterator("column",function(t,i){return no(t,i,n)})}),c("columns().indexes()","column().index()",function(n){return this.iterator("column",function(t,i){return n==="visible"?at(t,i):i})}),f("columns.adjust()",function(){return this.iterator("table",function(n){lt(n)})}),f("column.index()",function(n,t){if(this.context.length!==0){var i=this.context[0];if(n==="fromVisible"||n==="toData")return at(i,t);if(n==="fromData"||n==="toVisible")return ii(i,t)}}),f("column()",function(n,t){return tu(this.columns(n,t))}),ue=function(n,t,i){var h=n.aoData,o=iu(n,i),l=ni(h,o,"anCells"),a=r([].concat.apply([],l)),u,v=n.aoColumns.length,s,f,c,e;return gr(t,function(n){if(!n){for(s=[],f=0,c=o.length;f<c;f++)for(u=o[f],e=0;e<v;e++)s.push({row:u,column:e});return s}return a.filter(n).map(function(n,t){return u=t.parentNode._DT_RowIndex,{row:u,column:r.inArray(t,h[u].anCells)}})})},f("cells()",function(n,t,u){if(r.isPlainObject(n)&&(u=n,n=null),r.isPlainObject(t)&&(u=t,t=null),t===null||t===i)return this.iterator("table",function(t){return ue(t,n,nu(u))});var s=this.columns(t,u),h=this.rows(n,u),o,f,c,e,l,a=this.iterator("table",function(n,t){for(o=[],f=0,c=h[t].length;f<c;f++)for(e=0,l=s[t].length;e<l;e++)o.push({row:h[t][f],column:s[t][e]});return o});return r.extend(a.selector,{cols:t,rows:n,opts:u}),a}),c("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(n,t,i){return n.aoData[t].anCells[i]})}),f("cells().data()",function(){return this.iterator("cell",function(n,t,i){return v(n,t,i)})}),c("cells().cache()","cell().cache()",function(n){return n=n==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(t,i,r){return t.aoData[i][n][r]})}),c("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(n,t,i){return{row:t,column:i,columnVisible:at(n,i)}})}),f(["cells().invalidate()","cell().invalidate()"],function(n){var t=this.selector;return this.rows(t.rows,t.opts).invalidate(n),this}),f("cell()",function(n,t,i){return tu(this.cells(n,t,i))}),f("cell().data()",function(n){var r=this.context,t=this[0];return n===i?r.length&&t.length?v(r[0],t[0].row,t[0].column):i:(rr(r[0],t[0].row,t[0].column,n),ei(r[0],t[0].row,"data",t[0].column),this)}),f("order()",function(n,t){var u=this.context;return n===i?u.length!==0?u[0].aaSorting:i:(typeof n=="number"?n=[[n,t]]:r.isArray(n[0])||(n=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=n.slice()}))}),f("order.listener()",function(n,t,i){return this.iterator("table",function(r){pr(r,n,t,i)})}),f(["columns().order()","column().order()"],function(n){var t=this;return this.iterator("table",function(i,u){var f=[];r.each(t[u],function(t,i){f.push([i,n])});i.aaSorting=f})}),f("search()",function(n,t,u,f){var e=this.context;return n===i?e.length!==0?e[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&bt(i,r.extend({},i.oPreviousSearch,{sSearch:n+"",bRegex:t===null?!1:t,bSmart:u===null?!0:u,bCaseInsensitive:f===null?!0:f}),1)})}),f(["columns().search()","column().search()"],function(n,t,u,f){return this.iterator("column",function(e,o){var s=e.aoPreSearchCols;if(n===i)return s[o].sSearch;e.oFeatures.bFilter&&(r.extend(s[o],{sSearch:n+"",bRegex:t===null?!1:t,bSmart:u===null?!0:u,bCaseInsensitive:f===null?!0:f}),bt(e,e.oPreviousSearch,1))})}),u.versionCheck=u.fnVersionCheck=function(n){for(var e=u.version.split("."),f=n.split("."),i,r,t=0,o=f.length;t<o;t++)if(i=parseInt(e[t],10)||0,r=parseInt(f[t],10)||0,i!==r)return i>r;return!0},u.isDataTable=u.fnIsDataTable=function(n){var t=r(n).get(0),i=!1;return r.each(u.settings,function(n,r){(r.nTable===t||r.nScrollHead===t||r.nScrollFoot===t)&&(i=!0)}),i},u.tables=u.fnTables=function(n){return jQuery.map(u.settings,function(t){if(!n||n&&r(t.nTable).is(":visible"))return t.nTable})},u.camelToHungarian=g,f("$()",function(n,t){var u=this.rows(t).nodes(),i=r(u);return r([].concat(i.filter(n).toArray(),i.find(n).toArray()))}),r.each(["on","one","off"],function(n,t){f(t+"()",function(){var n=Array.prototype.slice.call(arguments),i;return n[0].indexOf(".dt")===-1&&(n[0]+=".dt"),i=r(this.tables().nodes()),i[t].apply(i,n),this})}),f("clear()",function(){return this.iterator("table",function(n){ui(n)})}),f("settings()",function(){return new e(this.context,this.context)}),f("data()",function(){return this.iterator("table",function(n){return w(n.aoData,"_aData")}).flatten()}),f("destroy()",function(t){return t=t||!1,this.iterator("table",function(i){var b=i.nTableWrapper.parentNode,f=i.oClasses,c=i.nTable,k=i.nTBody,h=i.nTHead,l=i.nTFoot,o=r(c),a=r(k),p=r(i.nTableWrapper),w=r.map(i.aoData,function(n){return n.nTr}),v,y;i.bDestroying=!0;s(i,"aoDestroyCallback","destroy",[i]);t||new e(i).columns().visible(!0);p.unbind(".DT").find(":not(tbody *)").unbind(".DT");r(n).unbind(".DT-"+i.sInstance);c!=h.parentNode&&(o.children("thead").remove(),o.append(h));l&&c!=l.parentNode&&(o.children("tfoot").remove(),o.append(l));o.remove();p.remove();i.aaSorting=[];i.aaSortingFixed=[];yi(i);r(w).removeClass(i.asStripeClasses.join(" "));r("th, td",h).removeClass(f.sSortable+" "+f.sSortableAsc+" "+f.sSortableDesc+" "+f.sSortableNone);i.bJUI&&(r("th span."+f.sSortIcon+", td span."+f.sSortIcon,h).remove(),r("th, td",h).each(function(){var n=r("div."+f.sSortJUIWrapper,this);r(this).append(n.contents());n.remove()}));t||b.insertBefore(c,i.nTableReinsertBefore);a.children().detach();a.append(w);o.css("width",i.sDestroyWidth).removeClass(f.sTable);v=i.asDestroyStripes.length;v&&a.children().each(function(n){r(this).addClass(i.asDestroyStripes[n%v])});y=r.inArray(i,u.settings);y!==-1&&u.settings.splice(y,1)})}),u.version="1.10.0-beta.2",u.settings=[],u.models={},u.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},u.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},u.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},u.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse(localStorage.getItem("DataTables_"+t.sInstance+"_"+n.location.pathname))}catch(i){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,i){try{localStorage.setItem("DataTables_"+t.sInstance+"_"+n.location.pathname,JSON.stringify(i))}catch(r){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:r.extend({},u.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},ct(u.defaults),u.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},ct(u.defaults.column),u.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return p(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return p(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var n=this._iDisplayLength,t=this._iDisplayStart,r=t+n,i=this.aiDisplay.length,u=this.oFeatures,f=u.bPaginate;return u.bServerSide?f===!1||n===-1?t+i:Math.min(t+n,this._iRecordsDisplay):!f||r>i||n===-1?i:r},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},u.ext=l={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:u.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:u.version},r.extend(l,{afnFiltering:l.search,aTypes:l.type.detect,ofnSearch:l.type.search,oSort:l.type.order,afnSortData:l.order,aoFeatures:l.feature,oApi:l.internal,oStdClasses:l.classes,oPagination:l.pager}),r.extend(u.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var i="";var n=i+"ui-state-default",t=i+"css_right ui-icon ui-icon-",f=i+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";r.extend(u.ext.oJUIClasses,u.ext.classes,{sPageButton:"fg-button ui-button "+n,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:n+" sorting_asc",sSortDesc:n+" sorting_desc",sSortable:n+" sorting",sSortableAsc:n+" sorting_asc_disabled",sSortableDesc:n+" sorting_desc_disabled",sSortableNone:n+" sorting_disabled",sSortJUIAsc:t+"triangle-1-n",sSortJUIDesc:t+"triangle-1-s",sSortJUI:t+"carat-2-n-s",sSortJUIAscAllowed:t+"carat-1-n",sSortJUIDescAllowed:t+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+n,sScrollFoot:"dataTables_scrollFoot "+n,sHeaderTH:n,sFooterTH:n,sJUIHeader:f+" ui-corner-tl ui-corner-tr",sJUIFooter:f+" ui-corner-bl ui-corner-br"})}(),ru=u.ext.pager,r.extend(ru,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(n,t){return["previous",uu(n,t),"next"]},full_numbers:function(n,t){return["first","previous",uu(n,t),"next","last"]},_numbers:uu,numbers_length:7}),r.extend(!0,u.ext.renderer,{pageButton:{_:function(n,t,i,u,f,e){var h=n.oClasses,c=n.oLanguage.oPaginate,o,s,l=function(t,u){for(var p,a,b=function(t){ar(n,t.data.action,!0)},w,v=0,y=u.length;v<y;v++)if(a=u[v],r.isArray(a))w=r("<"+(a.DT_el||"div")+"/>").appendTo(t),l(w,a);else{o="";s="";switch(a){case"ellipsis":t.append("<span>&hellip;<\/span>");break;case"first":o=c.sFirst;s=a+(f>0?"":" "+h.sPageButtonDisabled);break;case"previous":o=c.sPrevious;s=a+(f>0?"":" "+h.sPageButtonDisabled);break;case"next":o=c.sNext;s=a+(f<e-1?"":" "+h.sPageButtonDisabled);break;case"last":o=c.sLast;s=a+(f<e-1?"":" "+h.sPageButtonDisabled);break;default:o=a+1;s=f===a?h.sPageButtonActive:""}o&&(p=r("<a>",{"class":h.sPageButton+" "+s,"aria-controls":n.sTableId,tabindex:n.iTabIndex,id:i===0&&typeof a=="string"?n.sTableId+"_"+a:null}).html(o).appendTo(t),wr(p,{action:a},b))}};l(r(t).empty(),u)}}}),dt=function(n,t,i,r){return!n||n==="-"?-Infinity:(t&&(n=ou(n,t)),n.replace&&(i&&(n=n.replace(i,"")),r&&(n=n.replace(r,""))),n*1)},r.extend(l.type.order,{"date-pre":function(n){return Date.parse(n)||0},"html-pre":function(n){return n.replace?n.replace(/<.*?>/g,"").toLowerCase():n+""},"string-pre":function(n){return typeof n=="string"?n.toLowerCase():!n||!n.toString?"":n.toString()},"string-asc":function(n,t){return n<t?-1:n>t?1:0},"string-desc":function(n,t){return n<t?1:n>t?-1:0}}),fe(""),r.extend(u.ext.type.detect,[function(n,t){var i=t.oLanguage.sDecimal;return di(n,i)?"num"+i:null},function(n){if(n&&!oe.test(n))return null;var t=Date.parse(n);return t!==null&&!isNaN(t)||ht(n)?"date":null},function(n,t){var i=t.oLanguage.sDecimal;return di(n,i,!0)?"num-fmt"+i:null},function(n,t){var i=t.oLanguage.sDecimal;return su(n,i)?"html-num"+i:null},function(n,t){var i=t.oLanguage.sDecimal;return su(n,i,!0)?"html-num-fmt"+i:null},function(n){return ht(n)||typeof n=="string"&&n.indexOf("<")!==-1?"html":null}]),r.extend(u.ext.type.search,{html:function(n){return ht(n)?"":typeof n=="string"?n.replace(fu," ").replace(gt,""):""},string:function(n){return ht(n)?"":typeof n=="string"?n.replace(fu," "):n}}),r.extend(!0,u.ext.renderer,{header:{_:function(n,t,i,u){r(n.nTable).on("order.dt",function(n,r,f,e){var o=i.idx;t.removeClass(i.sSortingClass+" "+u.sSortAsc+" "+u.sSortDesc).addClass(e[o]=="asc"?u.sSortAsc:e[o]=="desc"?u.sSortDesc:i.sSortingClass)})},jqueryui:function(n,t,i,u){var f=i.idx;r("<div/>").addClass(u.sSortJUIWrapper).append(t.contents()).append(r("<span/>").addClass(u.sSortIcon+" "+i.sSortingClassJUI)).appendTo(t);r(n.nTable).on("order.dt",function(n,r,e,o){t.removeClass(u.sSortAsc+" "+u.sSortDesc).addClass(o[f]=="asc"?u.sSortAsc:o[f]=="desc"?u.sSortDesc:i.sSortingClass);t.find("span").removeClass(u.sSortJUIAsc+" "+u.sSortJUIDesc+" "+u.sSortJUI+" "+u.sSortJUIAscAllowed+" "+u.sSortJUIDescAllowed).addClass(o[f]=="asc"?u.sSortJUIAsc:o[f]=="desc"?u.sSortJUIDesc:i.sSortingClassJUI)})}}}),r.extend(u.ext.internal,{_fnExternApiFunc:ee,_fnBuildAjax:hi,_fnAjaxUpdate:wu,_fnAjaxParameters:bu,_fnAjaxUpdateDraw:ku,_fnAjaxDataSrc:ci,_fnAddColumn:tr,_fnColumnOptions:ti,_fnAdjustColumnSizing:lt,_fnVisibleToColumnIndex:ii,_fnColumnIndexToVisible:at,_fnVisbleColumns:vt,_fnGetColumns:ft,_fnColumnTypes:ir,_fnApplyColumnDefs:au,_fnHungarianMap:ct,_fnCamelToHungarian:g,_fnLanguageCompat:nr,_fnBrowserDetect:lu,_fnAddData:nt,_fnAddTr:ri,_fnNodeToDataIndex:le,_fnNodeToColumnIndex:ae,_fnGetRowData:vu,_fnGetCellData:v,_fnSetCellData:rr,_fnSplitObjNotation:ur,_fnGetObjectDataFn:pt,_fnSetObjectDataFn:fr,_fnGetDataMaster:er,_fnClearTable:ui,_fnDeleteIndex:fi,_fnInvalidateRow:ei,_fnGetRowElements:oi,_fnCreateTr:or,_fnBuildHead:yu,_fnDrawHead:tt,_fnDraw:it,_fnReDraw:rt,_fnAddOptionsHtml:pu,_fnDetectHeader:wt,_fnGetUniqueThs:si,_fnFeatureHtmlFilter:du,_fnFilterComplete:bt,_fnFilterCustom:gu,_fnFilterColumn:nf,_fnFilter:tf,_fnFilterCreateSearch:hr,_fnEscapeRegex:cr,_fnFilterData:rf,_fnFeatureHtmlInfo:uf,_fnUpdateInfo:ff,_fnInfoMacros:ef,_fnInitialise:ai,_fnInitComplete:vi,_fnLengthChange:lr,_fnFeatureHtmlLength:of,_fnFeatureHtmlPaginate:sf,_fnPageChange:ar,_fnFeatureHtmlProcessing:hf,_fnProcessingDisplay:k,_fnFeatureHtmlTable:cf,_fnScrollDraw:kt,_fnApplyToChildren:d,_fnCalculateColumnWidths:vr,_fnThrottle:yr,_fnConvertToWidth:lf,_fnScrollingWidthAdjust:af,_fnGetWidestNode:vf,_fnGetMaxLenString:yf,_fnStringToCss:o,_fnScrollBarWidth:pf,_fnSortFlatten:ot,_fnSort:wf,_fnSortAria:bf,_fnSortListener:kf,_fnSortAttachListener:pr,_fnSortingClasses:yi,_fnSortData:df,_fnSaveState:pi,_fnLoadState:gf,_fnSettingsFromNode:wi,_fnLog:st,_fnMap:b,_fnBindAction:wr,_fnCallbackReg:y,_fnCallbackFire:s,_fnLengthOverflow:br,_fnRenderer:kr,_fnDataSource:p,_fnRowAttributes:sr,_fnCalculateEnd:function(){}}),r.fn.dataTable=u,r.fn.dataTableSettings=u.settings,r.fn.dataTableExt=u.ext,r.fn.DataTable=function(n){return r(this).dataTable(n).api()},r.each(u,function(n,t){r.fn.DataTable[n]=t}),r.fn.dataTable})})(window,document);$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'table-header clearfix'<'table-caption'><'DT-lf-right'<'DT-per-page'l><'DT-search'f>>r>t<'table-footer clearfix'<'DT-label'i><'DT-pagination'p>>",oLanguage:{sLengthMenu:"Per page: _MENU_",sSearch:""}});$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"});$.fn.dataTable.Api?($.fn.dataTable.defaults.renderer="bootstrap",$.fn.dataTable.ext.renderer.pageButton.bootstrap=function(n,t,i,r,u,f){var c=new $.fn.dataTable.Api(n),l=n.oClasses,s=n.oLanguage.oPaginate,e,o,h=function(t,r){for(var p,a,w=function(n){n.preventDefault();n.data.action!=="ellipsis"&&c.page(n.data.action).draw(!1)},v=0,y=r.length;v<y;v++)if(a=r[v],$.isArray(a))h(t,a);else{e="";o="";switch(a){case"ellipsis":e="&hellip;";o="disabled";break;case"first":e=s.sFirst;o=a+(u>0?"":" disabled");break;case"previous":e=s.sPrevious;o=a+(u>0?"":" disabled");break;case"next":e=s.sNext;o=a+(u<f-1?"":" disabled");break;case"last":e=s.sLast;o=a+(u<f-1?"":" disabled");break;default:e=a+1;o=u===a?"active":""}e&&(p=$("<li>",{"class":l.sPageButton+" "+o,"aria-controls":n.sTableId,tabindex:n.iTabIndex,id:i===0&&typeof a=="string"?n.sTableId+"_"+a:null}).append($("<a>",{href:"#"}).html(e)).appendTo(t),n.oApi._fnBindAction(p,{action:a},w))}};h($(t).empty().html('<ul class="pagination"/>').children("ul"),r)}):($.fn.dataTable.defaults.sPaginationType="bootstrap",$.fn.dataTableExt.oApi.fnPagingInfo=function(n){return{iStart:n._iDisplayStart,iEnd:n.fnDisplayEnd(),iLength:n._iDisplayLength,iTotal:n.fnRecordsTotal(),iFilteredTotal:n.fnRecordsDisplay(),iPage:n._iDisplayLength===-1?0:Math.ceil(n._iDisplayStart/n._iDisplayLength),iTotalPages:n._iDisplayLength===-1?0:Math.ceil(n.fnRecordsDisplay()/n._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(n,t,i){var u=n.oLanguage.oPaginate,f=function(t){t.preventDefault();n.oApi._fnPageChange(n,t.data.action)&&i(n)},r;$(t).append('<ul class="pagination"><li class="prev disabled"><a href="#">&larr; '+u.sPrevious+'<\/a><\/li><li class="next disabled"><a href="#">'+u.sNext+" &rarr; <\/a><\/li><\/ul>");r=$("a",t);$(r[0]).bind("click.DT",{action:"previous"},f);$(r[1]).bind("click.DT",{action:"next"},f)},fnUpdate:function(n,t){var e=5,i=n.oInstance.fnPagingInfo(),u=n.aanFeatures.p,r,c,o,l,f,s,h=Math.floor(e/2);for(i.iTotalPages<e?(f=1,s=i.iTotalPages):i.iPage<=h?(f=1,s=e):i.iPage>=i.iTotalPages-h?(f=i.iTotalPages-e+1,s=i.iTotalPages):(f=i.iPage-h+1,s=f+e-1),r=0,c=u.length;r<c;r++){for($("li:gt(0)",u[r]).filter(":not(:last)").remove(),o=f;o<=s;o++)l=o==i.iPage+1?'class="active"':"",$("<li "+l+'><a href="#">'+o+"<\/a><\/li>").insertBefore($("li:last",u[r])[0]).bind("click",function(r){r.preventDefault();n._iDisplayStart=(parseInt($("a",this).text(),10)-1)*i.iLength;t(n)});i.iPage===0?$("li:first",u[r]).addClass("disabled"):$("li:first",u[r]).removeClass("disabled");i.iPage===i.iTotalPages-1||i.iTotalPages===0?$("li:last",u[r]).addClass("disabled"):$("li:last",u[r]).removeClass("disabled")}}}}));$.fn.DataTable.TableTools&&($.extend(!0,$.fn.DataTable.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info modal"},select:{row:"active"}}),$.extend(!0,$.fn.DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}));Emitter.prototype.on=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks[n]=this._callbacks[n]||[]).push(t),this};Emitter.prototype.once=function(n,t){function i(){r.off(n,i);t.apply(this,arguments)}var r=this;this._callbacks=this._callbacks||{};t._off=i;this.on(n,i);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=function(n,t){var i,r;return(this._callbacks=this._callbacks||{},i=this._callbacks[n],!i)?this:1==arguments.length?(delete this._callbacks[n],this):(r=i.indexOf(t._off||t),~r&&i.splice(r,1),this)};Emitter.prototype.emit=function(n){var r,t,i,u;if(this._callbacks=this._callbacks||{},r=[].slice.call(arguments,1),t=this._callbacks[n],t)for(t=t.slice(0),i=0,u=t.length;i<u;++i)t[i].apply(this,r);return this};Emitter.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks[n]||[]};Emitter.prototype.hasListeners=function(n){return!!this.listeners(n).length},function(){var n,i,r,u,f,e,t,o,s={}.hasOwnProperty,h=function(n,t){function r(){this.constructor=n}for(var i in t)s.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},c=[].slice;i=typeof Emitter!="undefined"&&Emitter!==null?Emitter:require("emitter");t=function(){};n=function(n){function i(n,t){var f,u,e;if(this.element=n,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!(this.element&&this.element.nodeType!=null))throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(i.instances.push(this),this.element.dropzone=this,f=(e=i.optionsForElement(this.element))!=null?e:{},this.options=r({},this.defaultOptions,f,t!=null?t:{}),this.options.forceFallback||!i.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes);this.options.method=this.options.method.toUpperCase();(u=this.getExistingFallback())&&u.parentNode&&u.parentNode.removeChild(u);this.previewsContainer=this.options.previewsContainer?i.getElement(this.options.previewsContainer,"previewsContainer"):this.element;this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:i.getElements(this.options.clickable,"clickable"));this.init()}var r;return h(i,n),i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"],i.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(n,t){return t()},init:function(){return t},forceFallback:!1,fallback:function(){var t,n,u,r,e,f;for(this.element.className=""+this.element.className+" dz-browser-not-supported",f=this.element.getElementsByTagName("div"),r=0,e=f.length;r<e;r++)if(t=f[r],/(^| )dz-message($| )/.test(t.className)){n=t;t.className="dz-message";continue}return n||(n=i.createElement('<div class="dz-message"><span><\/span><\/div>'),this.element.appendChild(n)),u=n.getElementsByTagName("span")[0],u&&(u.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(n){var t,r,i;return t={srcX:0,srcY:0,srcWidth:n.width,srcHeight:n.height},r=n.width/n.height,i=this.options.thumbnailWidth/this.options.thumbnailHeight,n.height<this.options.thumbnailHeight||n.width<this.options.thumbnailWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):r>i?(t.srcHeight=n.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=n.width,t.srcHeight=t.srcWidth/i),t.srcX=(n.width-t.srcWidth)/2,t.srcY=(n.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:t,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:t,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(n){var r,l,a,u,f,e,v,y,p,o,s,h,c,t=this;for(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),n.previewElement=i.createElement(this.options.previewTemplate.trim()),n.previewTemplate=n.previewElement,this.previewsContainer.appendChild(n.previewElement),o=n.previewElement.querySelectorAll("[data-dz-name]"),u=0,v=o.length;u<v;u++)r=o[u],r.textContent=n.name;for(s=n.previewElement.querySelectorAll("[data-dz-size]"),f=0,y=s.length;f<y;f++)r=s[f],r.innerHTML=this.filesize(n.size);for(this.options.addRemoveLinks&&(n._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"<\/a>"),n.previewElement.appendChild(n._removeLink)),l=function(r){return r.preventDefault(),r.stopPropagation(),n.status===i.UPLOADING?i.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(n)}):t.options.dictRemoveFileConfirmation?i.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(n)}):t.removeFile(n)},h=n.previewElement.querySelectorAll("[data-dz-remove]"),c=[],e=0,p=h.length;e<p;e++)a=h[e],c.push(a.addEventListener("click",l));return c},removedfile:function(n){var t;return(t=n.previewElement)!=null&&t.parentNode.removeChild(n.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(n,t){var r,i,e,u,f;for(n.previewElement.classList.remove("dz-file-preview"),n.previewElement.classList.add("dz-image-preview"),u=n.previewElement.querySelectorAll("[data-dz-thumbnail]"),f=[],i=0,e=u.length;i<e;i++)r=u[i],r.alt=n.name,f.push(r.src=t);return f},error:function(n,t){var f,i,e,r,u;for(n.previewElement.classList.add("dz-error"),typeof t!="String"&&t.error&&(t=t.error),r=n.previewElement.querySelectorAll("[data-dz-errormessage]"),u=[],i=0,e=r.length;i<e;i++)f=r[i],u.push(f.textContent=t);return u},errormultiple:t,processing:function(n){return n.previewElement.classList.add("dz-processing"),n._removeLink?n._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:t,uploadprogress:function(n,t){var f,i,e,r,u;for(r=n.previewElement.querySelectorAll("[data-dz-uploadprogress]"),u=[],i=0,e=r.length;i<e;i++)f=r[i],u.push(f.style.width=""+t+"%");return u},totaluploadprogress:t,sending:t,sendingmultiple:t,success:function(n){return n.previewElement.classList.add("dz-success")},successmultiple:t,canceled:function(n){return this.emit("error",n,"Upload canceled.")},canceledmultiple:t,complete:function(n){if(n._removeLink)return n._removeLink.textContent=this.options.dictRemoveFile},completemultiple:t,maxfilesexceeded:t,maxfilesreached:t,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name><\/span><\/div>\n    <div class="dz-size" data-dz-size><\/div>\n    <img data-dz-thumbnail />\n  <\/div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress><\/span><\/div>\n  <div class="dz-success-mark"><span>✔<\/span><\/div>\n  <div class="dz-error-mark"><span>✘<\/span><\/div>\n  <div class="dz-error-message"><span data-dz-errormessage><\/span><\/div>\n<\/div>'},r=function(){var t,i,r,u,f,n,e;for(u=arguments[0],r=2<=arguments.length?c.call(arguments,1):[],n=0,e=r.length;n<e;n++){i=r[n];for(t in i)f=i[t],u[t]=f}return u},i.prototype.getAcceptedFiles=function(){var t,n,u,i,r;for(i=this.files,r=[],n=0,u=i.length;n<u;n++)t=i[n],t.accepted&&r.push(t);return r},i.prototype.getRejectedFiles=function(){var t,n,u,i,r;for(i=this.files,r=[],n=0,u=i.length;n<u;n++)t=i[n],t.accepted||r.push(t);return r},i.prototype.getQueuedFiles=function(){var t,n,f,r,u;for(r=this.files,u=[],n=0,f=r.length;n<f;n++)t=r[n],t.status===i.QUEUED&&u.push(t);return u},i.prototype.getUploadingFiles=function(){var t,n,f,r,u;for(r=this.files,u=[],n=0,f=r.length;n<f;n++)t=r[n],t.status===i.UPLOADING&&u.push(t);return u},i.prototype.init=function(){var u,t,f,r,o,s,e,n=this;for(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"<\/span><\/div>")),this.clickableElements.length&&(f=function(){return n.hiddenFileInput&&document.body.removeChild(n.hiddenFileInput),n.hiddenFileInput=document.createElement("input"),n.hiddenFileInput.setAttribute("type","file"),(n.options.maxFiles==null||n.options.maxFiles>1)&&n.hiddenFileInput.setAttribute("multiple","multiple"),n.options.acceptedFiles!=null&&n.hiddenFileInput.setAttribute("accept",n.options.acceptedFiles),n.hiddenFileInput.style.visibility="hidden",n.hiddenFileInput.style.position="absolute",n.hiddenFileInput.style.top="0",n.hiddenFileInput.style.left="0",n.hiddenFileInput.style.height="0",n.hiddenFileInput.style.width="0",document.body.appendChild(n.hiddenFileInput),n.hiddenFileInput.addEventListener("change",function(){var r,t,i,u;if(t=n.hiddenFileInput.files,t.length)for(i=0,u=t.length;i<u;i++)r=t[i],n.addFile(r);return f()})},f()),this.URL=(s=window.URL)!=null?s:window.webkitURL,e=this.events,r=0,o=e.length;r<o;r++){u=e[r];this.on(u,this.options[u])}this.on("uploadprogress",function(){return n.updateTotalUploadProgress()});this.on("removedfile",function(){return n.updateTotalUploadProgress()});this.on("canceled",function(t){return n.emit("complete",t)});this.on("complete",function(){if(n.getUploadingFiles().length===0&&n.getQueuedFiles().length===0)return setTimeout(function(){return n.emit("queuecomplete")},0)});return t=function(n){return n.stopPropagation(),n.preventDefault?n.preventDefault():n.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return n.emit("dragstart",t)},dragenter:function(i){return t(i),n.emit("dragenter",i)},dragover:function(i){var r;try{r=i.dataTransfer.effectAllowed}catch(u){}return i.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy",t(i),n.emit("dragover",i)},dragleave:function(t){return n.emit("dragleave",t)},drop:function(i){return t(i),n.drop(i)},dragend:function(t){return n.emit("dragend",t)}}}],this.clickableElements.forEach(function(t){return n.listeners.push({element:t,events:{click:function(r){if(t!==n.element||r.target===n.element||i.elementInside(r.target,n.element.querySelector(".dz-message")))return n.hiddenFileInput.click()}}})}),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var n;return this.disable(),this.removeAllFiles(!0),((n=this.hiddenFileInput)!=null?n.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)},i.prototype.updateTotalUploadProgress=function(){var e,r,n,t,u,i,o,f;if(t=0,n=0,e=this.getAcceptedFiles(),e.length){for(f=this.getAcceptedFiles(),i=0,o=f.length;i<o;i++)r=f[i],t+=r.upload.bytesSent,n+=r.upload.total;u=100*t/n}else u=100;return this.emit("totaluploadprogress",u,n,t)},i.prototype.getFallbackForm=function(){var u,r,n,t;return(u=this.getExistingFallback())?u:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"<\/p>"),n+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"><\/div>',r=i.createElement(n),this.element.tagName!=="FORM"?(t=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"><\/form>'),t.appendChild(r)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),t!=null?t:r)},i.prototype.getExistingFallback=function(){var i,r,u,n,f,t;for(r=function(n){for(var i,t=0,r=n.length;t<r;t++)if(i=n[t],/(^| )fallback($| )/.test(i.className))return i},t=["div","form"],n=0,f=t.length;n<f;n++)if(u=t[n],i=r(this.element.getElementsByTagName(u)))return i},i.prototype.setupEventListeners=function(){var t,i,f,n,e,r,u;for(r=this.listeners,u=[],n=0,e=r.length;n<e;n++)t=r[n],u.push(function(){var n,r;n=t.events;r=[];for(i in n)f=n[i],r.push(t.element.addEventListener(i,f,!1));return r}());return u},i.prototype.removeEventListeners=function(){var t,i,f,n,e,r,u;for(r=this.listeners,u=[],n=0,e=r.length;n<e;n++)t=r[n],u.push(function(){var n,r;n=t.events;r=[];for(i in n)f=n[i],r.push(t.element.removeEventListener(i,f,!1));return r}());return u},i.prototype.disable=function(){var r,n,u,t,i;for(this.clickableElements.forEach(function(n){return n.classList.remove("dz-clickable")}),this.removeEventListeners(),t=this.files,i=[],n=0,u=t.length;n<u;n++)r=t[n],i.push(this.cancelUpload(r));return i},i.prototype.enable=function(){return this.clickableElements.forEach(function(n){return n.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(n){var t;return n>=1099511627776/10?(n=n/(1099511627776/10),t="TiB"):n>=1073741824/10?(n=n/(1073741824/10),t="GiB"):n>=1048576/10?(n=n/(1048576/10),t="MiB"):n>=1024/10?(n=n/(1024/10),t="KiB"):(n=n*10,t="b"),"<strong>"+Math.round(n)/10+"<\/strong> "+t},i.prototype._updateMaxFilesReachedClass=function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(n){var i,t;n.dataTransfer&&(this.emit("drop",n),i=n.dataTransfer.files,i.length&&(t=n.dataTransfer.items,t&&t.length&&t[0].webkitGetAsEntry!=null?this._addFilesFromItems(t):this.handleFiles(i)))},i.prototype.paste=function(n){var t,i;if((n!=null?(i=n.clipboardData)!=null?i.items:void 0:void 0)!=null)return this.emit("paste",n),t=n.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},i.prototype.handleFiles=function(n){var r,t,u,i;for(i=[],t=0,u=n.length;t<u;t++)r=n[t],i.push(this.addFile(r));return i},i.prototype._addFilesFromItems=function(n){var r,t,u,f,i;for(i=[],u=0,f=n.length;u<f;u++)t=n[u],t.webkitGetAsEntry!=null&&(r=t.webkitGetAsEntry())?r.isFile?i.push(this.addFile(t.getAsFile())):r.isDirectory?i.push(this._addFilesFromDirectory(r,r.name)):i.push(void 0):t.getAsFile!=null?t.kind==null||t.kind==="file"?i.push(this.addFile(t.getAsFile())):i.push(void 0):i.push(void 0);return i},i.prototype._addFilesFromDirectory=function(n,t){var r,u,i=this;return r=n.createReader(),u=function(n){for(var r,u=0,f=n.length;u<f;u++)r=n[u],r.isFile?r.file(function(n){if(!i.options.ignoreHiddenFiles||n.name.substring(0,1)!==".")return n.fullPath=""+t+"/"+n.name,i.addFile(n)}):r.isDirectory&&i._addFilesFromDirectory(r,""+t+"/"+r.name)},r.readEntries(u,function(n){if(typeof console!="undefined"&&console!==null)return typeof console.log=="function"?console.log(n):void 0})},i.prototype.accept=function(n,t){return n.size>this.options.maxFilesize*1048576?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(n.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(n,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",n)):this.options.accept.call(this,n,t):t(this.options.dictInvalidFileType)},i.prototype.addFile=function(n){var t=this;return n.upload={progress:0,total:n.size,bytesSent:0},this.files.push(n),n.status=i.ADDED,this.emit("addedfile",n),this._enqueueThumbnail(n),this.accept(n,function(i){return i?(n.accepted=!1,t._errorProcessing([n],i)):t.enqueueFile(n),t._updateMaxFilesReachedClass()})},i.prototype.enqueueFiles=function(n){for(var i,t=0,r=n.length;t<r;t++)i=n[t],this.enqueueFile(i);return null},i.prototype.enqueueFile=function(n){var t=this;if(n.accepted=!0,n.status===i.ADDED){if(n.status=i.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return t.processQueue()},0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.");},i.prototype._thumbnailQueue=[],i.prototype._processingThumbnail=!1,i.prototype._enqueueThumbnail=function(n){var t=this;if(this.options.createImageThumbnails&&n.type.match(/image.*/)&&n.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(n),setTimeout(function(){return t._processThumbnailQueue()},0)},i.prototype._processThumbnailQueue=function(){var n=this;if(!this._processingThumbnail&&this._thumbnailQueue.length!==0)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(){return n._processingThumbnail=!1,n._processThumbnailQueue()})},i.prototype.removeFile=function(n){return n.status===i.UPLOADING&&this.cancelUpload(n),this.files=o(this.files,n),this.emit("removedfile",n),this.files.length===0?this.emit("reset"):void 0},i.prototype.removeAllFiles=function(n){var r,t,f,u;for(n==null&&(n=!1),u=this.files.slice(),t=0,f=u.length;t<f;t++)r=u[t],(r.status!==i.UPLOADING||n)&&this.removeFile(r);return null},i.prototype.createThumbnail=function(n,t){var r,i=this;return r=new FileReader,r.onload=function(){var u;return u=document.createElement("img"),u.onload=function(){var f,o,r,s,h,c,l,a;return n.width=u.width,n.height=u.height,r=i.options.resize.call(i,n),r.trgWidth==null&&(r.trgWidth=i.options.thumbnailWidth),r.trgHeight==null&&(r.trgHeight=i.options.thumbnailHeight),f=document.createElement("canvas"),o=f.getContext("2d"),f.width=r.trgWidth,f.height=r.trgHeight,e(o,u,(h=r.srcX)!=null?h:0,(c=r.srcY)!=null?c:0,r.srcWidth,r.srcHeight,(l=r.trgX)!=null?l:0,(a=r.trgY)!=null?a:0,r.trgWidth,r.trgHeight),s=f.toDataURL("image/png"),i.emit("thumbnail",n,s),t!=null?t():void 0},u.src=r.result},r.readAsDataURL(n)},i.prototype.processQueue=function(){var r,t,i,n;if((t=this.options.parallelUploads,i=this.getUploadingFiles().length,r=i,!(i>=t))&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));while(r<t){if(!n.length)return;this.processFile(n.shift());r++}}},i.prototype.processFile=function(n){return this.processFiles([n])},i.prototype.processFiles=function(n){for(var t,r=0,u=n.length;r<u;r++)t=n[r],t.processing=!0,t.status=i.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",n),this.uploadFiles(n)},i.prototype._getFilesWithXhr=function(n){var t;return function(){var i,f,r,u;for(r=this.files,u=[],i=0,f=r.length;i<f;i++)t=r[i],t.xhr===n&&u.push(t);return u}.call(this)},i.prototype.cancelUpload=function(n){var r,t,u,f,e,o,s;if(n.status===i.UPLOADING){for(t=this._getFilesWithXhr(n.xhr),u=0,e=t.length;u<e;u++)r=t[u],r.status=i.CANCELED;for(n.xhr.abort(),f=0,o=t.length;f<o;f++)r=t[f],this.emit("canceled",r);this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else((s=n.status)===i.ADDED||s===i.QUEUED)&&(n.status=i.CANCELED,this.emit("canceled",n),this.options.uploadMultiple&&this.emit("canceledmultiple",[n]));if(this.options.autoProcessQueue)return this.processQueue()},i.prototype.uploadFile=function(n){return this.uploadFiles([n])},i.prototype.uploadFiles=function(n){var t,f,p,w,ut,s,e,b,k,d,g,ft,o,nt,et,u,h,c,l,a,ot,st,ht,ct,lt,v,at,tt,it,rt,vt,y=this;for(u=new XMLHttpRequest,h=0,ot=n.length;h<ot;h++)t=n[h],t.xhr=u;u.open(this.options.method,this.options.url,!0);u.withCredentials=!!this.options.withCredentials;o=null;p=function(){var i,f,r;for(r=[],i=0,f=n.length;i<f;i++)t=n[i],r.push(y._errorProcessing(n,o||y.options.dictResponseError.replace("{{statusCode}}",u.status),u));return r};nt=function(i){var o,r,u,f,e,h,c,l,s;if(i!=null)for(r=100*i.loaded/i.total,u=0,h=n.length;u<h;u++)t=n[u],t.upload={progress:r,total:i.total,bytesSent:i.loaded};else{for(o=!0,r=100,f=0,c=n.length;f<c;f++)t=n[f],t.upload.progress===100&&t.upload.bytesSent===t.upload.total||(o=!1),t.upload.progress=r,t.upload.bytesSent=t.upload.total;if(o)return}for(s=[],e=0,l=n.length;e<l;e++)t=n[e],s.push(y.emit("uploadprogress",t,r,t.upload.bytesSent));return s};u.onload=function(t){var r;if(n[0].status!==i.CANCELED&&u.readyState===4){if(o=u.responseText,u.getResponseHeader("content-type")&&~u.getResponseHeader("content-type").indexOf("application/json"))try{o=JSON.parse(o)}catch(f){t=f;o="Invalid JSON response from server."}return nt(),200<=(r=u.status)&&r<300?y._finished(n,o,t):p()}};u.onerror=function(){if(n[0].status!==i.CANCELED)return p()};ft=(at=u.upload)!=null?at:u;ft.onprogress=nt;s={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&r(s,this.options.headers);for(w in s)ut=s[w],u.setRequestHeader(w,ut);if(f=new FormData,this.options.params){tt=this.options.params;for(d in tt)et=tt[d],f.append(d,et)}for(c=0,st=n.length;c<st;c++)t=n[c],this.emit("sending",t,u,f);if(this.options.uploadMultiple&&this.emit("sendingmultiple",n,u,f),this.element.tagName==="FORM")for(it=this.element.querySelectorAll("input, textarea, select, button"),l=0,ht=it.length;l<ht;l++)if(e=it[l],b=e.getAttribute("name"),k=e.getAttribute("type"),e.tagName==="SELECT"&&e.hasAttribute("multiple"))for(rt=e.options,a=0,ct=rt.length;a<ct;a++)g=rt[a],g.selected&&f.append(b,g.value);else(!k||(vt=k.toLowerCase())!=="checkbox"&&vt!=="radio"||e.checked)&&f.append(b,e.value);for(v=0,lt=n.length;v<lt;v++)t=n[v],f.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),t,t.name);return u.send(f)},i.prototype._finished=function(n,t,r){for(var u,f=0,e=n.length;f<e;f++)u=n[f],u.status=i.SUCCESS,this.emit("success",u,t,r),this.emit("complete",u);return this.options.uploadMultiple&&(this.emit("successmultiple",n,t,r),this.emit("completemultiple",n)),this.options.autoProcessQueue?this.processQueue():void 0},i.prototype._errorProcessing=function(n,t,r){for(var u,f=0,e=n.length;f<e;f++)u=n[f],u.status=i.ERROR,this.emit("error",u,t,r),this.emit("complete",u);return this.options.uploadMultiple&&(this.emit("errormultiple",n,t,r),this.emit("completemultiple",n)),this.options.autoProcessQueue?this.processQueue():void 0},i}(i);n.version="3.8.4";n.options={};n.optionsForElement=function(t){if(t.getAttribute("id"))return n.options[r(t.getAttribute("id"))]};n.instances=[];n.forElement=function(n){if(typeof n=="string"&&(n=document.querySelector(n)),(n!=null?n.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return n.dropzone};n.autoDiscover=!0;n.discover=function(){var u,f,t,i,e,r;for(document.querySelectorAll?t=document.querySelectorAll(".dropzone"):(t=[],u=function(n){var u,i,f,r;for(r=[],i=0,f=n.length;i<f;i++)u=n[i],/(^| )dropzone($| )/.test(u.className)?r.push(t.push(u)):r.push(void 0);return r},u(document.getElementsByTagName("div")),u(document.getElementsByTagName("form"))),r=[],i=0,e=t.length;i<e;i++)f=t[i],n.optionsForElement(f)!==!1?r.push(new n(f)):r.push(void 0);return r};n.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];n.isBrowserSupported=function(){var t,u,i,f,r;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){for(r=n.blacklistedBrowsers,i=0,f=r.length;i<f;i++)if(u=r[i],u.test(navigator.userAgent)){t=!1;continue}}else t=!1;else t=!1;return t};o=function(n,t){var r,i,f,u;for(u=[],i=0,f=n.length;i<f;i++)r=n[i],r!==t&&u.push(r);return u};r=function(n){return n.replace(/[\-_](\w)/g,function(n){return n[1].toUpperCase()})};n.createElement=function(n){var t;return t=document.createElement("div"),t.innerHTML=n,t.childNodes[0]};n.elementInside=function(n,t){if(n===t)return!0;while(n=n.parentNode)if(n===t)return!0;return!1};n.getElement=function(n,t){var i;if(typeof n=="string"?i=document.querySelector(n):n.nodeType!=null&&(i=n),i==null)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i};n.getElements=function(n,t){var h,r,i,u,f,o,s,e;if(n instanceof Array){i=[];try{for(u=0,o=n.length;u<o;u++)r=n[u],i.push(this.getElement(r,t))}catch(c){h=c;i=null}}else if(typeof n=="string")for(i=[],e=document.querySelectorAll(n),f=0,s=e.length;f<s;f++)r=e[f],i.push(r);else n.nodeType!=null&&(i=[n]);if(!(i!=null&&i.length))throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i};n.confirm=function(n,t,i){return window.confirm(n)?t():i!=null?i():void 0};n.isValidFile=function(n,t){var f,u,i,r,e;if(!t)return!0;for(t=t.split(","),u=n.type,f=u.replace(/\/.*$/,""),r=0,e=t.length;r<e;r++)if(i=t[r],i=i.trim(),i.charAt(0)==="."){if(n.name.toLowerCase().indexOf(i.toLowerCase(),n.name.length-i.length)!==-1)return!0}else if(/\/\*$/.test(i)){if(f===i.replace(/\/.*$/,""))return!0}else if(u===i)return!0;return!1};typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new n(this,t)})});typeof module!="undefined"&&module!==null?module.exports=n:window.Dropzone=n;n.ADDED="added";n.QUEUED="queued";n.ACCEPTED=n.QUEUED;n.UPLOADING="uploading";n.PROCESSING=n.UPLOADING;n.CANCELED="canceled";n.ERROR="error";n.SUCCESS="success";f=function(n){var s,r,f,h,e,i,c,t,o,u;for(c=n.naturalWidth,i=n.naturalHeight,r=document.createElement("canvas"),r.width=1,r.height=i,f=r.getContext("2d"),f.drawImage(n,0,0),h=f.getImageData(0,0,1,i).data,u=0,e=i,t=i;t>u;)s=h[(t-1)*4+3],s===0?e=t:u=t,t=e+u>>1;return o=t/i,o===0?1:o};e=function(n,t,i,r,u,e,o,s,h,c){var l;return l=f(t),n.drawImage(t,i,r,u,e,o,s,h,c/l)};u=function(n,t){var f,i,e,r,o,u,c,s,h;if(e=!1,h=!0,i=n.document,s=i.documentElement,f=i.addEventListener?"addEventListener":"attachEvent",c=i.addEventListener?"removeEventListener":"detachEvent",u=i.addEventListener?"":"on",r=function(f){if(f.type!=="readystatechange"||i.readyState==="complete")return(f.type==="load"?n:i)[c](u+f.type,r,!1),!e&&(e=!0)?t.call(n,f.type||f):void 0},o=function(){var n;try{s.doScroll("left")}catch(t){n=t;setTimeout(o,50);return}return r("poll")},i.readyState!=="complete"){if(i.createEventObject&&s.doScroll){try{h=!n.frameElement}catch(l){}h&&o()}return i[f](u+"DOMContentLoaded",r,!1),i[f](u+"readystatechange",r,!1),n[f](u+"load",r,!1)}};n._autoDiscoverFunction=function(){if(n.autoDiscover)return n.discover()};u(window,n._autoDiscoverFunction)}.call(this),function(){var n,i,r,u,f,e,t,o,s={}.hasOwnProperty,h=function(n,t){function r(){this.constructor=n}for(var i in t)s.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},c=[].slice;i=typeof Emitter!="undefined"&&Emitter!==null?Emitter:require("emitter");t=function(){};n=function(n){function i(n,t){var f,u,e;if(this.element=n,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!(this.element&&this.element.nodeType!=null))throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(i.instances.push(this),this.element.dropzone=this,f=(e=i.optionsForElement(this.element))!=null?e:{},this.options=r({},this.defaultOptions,f,t!=null?t:{}),this.options.forceFallback||!i.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes);this.options.method=this.options.method.toUpperCase();(u=this.getExistingFallback())&&u.parentNode&&u.parentNode.removeChild(u);this.previewsContainer=this.options.previewsContainer?i.getElement(this.options.previewsContainer,"previewsContainer"):this.element;this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:i.getElements(this.options.clickable,"clickable"));this.init()}var r;return h(i,n),i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"],i.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(n,t){return t()},init:function(){return t},forceFallback:!1,fallback:function(){var t,n,u,r,e,f;for(this.element.className=""+this.element.className+" dz-browser-not-supported",f=this.element.getElementsByTagName("div"),r=0,e=f.length;r<e;r++)if(t=f[r],/(^| )dz-message($| )/.test(t.className)){n=t;t.className="dz-message";continue}return n||(n=i.createElement('<div class="dz-message"><span><\/span><\/div>'),this.element.appendChild(n)),u=n.getElementsByTagName("span")[0],u&&(u.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(n){var t,r,i;return t={srcX:0,srcY:0,srcWidth:n.width,srcHeight:n.height},r=n.width/n.height,i=this.options.thumbnailWidth/this.options.thumbnailHeight,n.height<this.options.thumbnailHeight||n.width<this.options.thumbnailWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):r>i?(t.srcHeight=n.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=n.width,t.srcHeight=t.srcWidth/i),t.srcX=(n.width-t.srcWidth)/2,t.srcY=(n.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:t,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:t,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(n){var r,l,a,u,f,e,v,y,p,o,s,h,c,t=this;for(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),n.previewElement=i.createElement(this.options.previewTemplate.trim()),n.previewTemplate=n.previewElement,this.previewsContainer.appendChild(n.previewElement),o=n.previewElement.querySelectorAll("[data-dz-name]"),u=0,v=o.length;u<v;u++)r=o[u],r.textContent=n.name;for(s=n.previewElement.querySelectorAll("[data-dz-size]"),f=0,y=s.length;f<y;f++)r=s[f],r.innerHTML=this.filesize(n.size);for(this.options.addRemoveLinks&&(n._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"<\/a>"),n.previewElement.appendChild(n._removeLink)),l=function(r){return r.preventDefault(),r.stopPropagation(),n.status===i.UPLOADING?i.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(n)}):t.options.dictRemoveFileConfirmation?i.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(n)}):t.removeFile(n)},h=n.previewElement.querySelectorAll("[data-dz-remove]"),c=[],e=0,p=h.length;e<p;e++)a=h[e],c.push(a.addEventListener("click",l));return c},removedfile:function(n){var t;return(t=n.previewElement)!=null&&t.parentNode.removeChild(n.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(n,t){var r,i,e,u,f;for(n.previewElement.classList.remove("dz-file-preview"),n.previewElement.classList.add("dz-image-preview"),u=n.previewElement.querySelectorAll("[data-dz-thumbnail]"),f=[],i=0,e=u.length;i<e;i++)r=u[i],r.alt=n.name,f.push(r.src=t);return f},error:function(n,t){var f,i,e,r,u;for(n.previewElement.classList.add("dz-error"),typeof t!="String"&&t.error&&(t=t.error),r=n.previewElement.querySelectorAll("[data-dz-errormessage]"),u=[],i=0,e=r.length;i<e;i++)f=r[i],u.push(f.textContent=t);return u},errormultiple:t,processing:function(n){return n.previewElement.classList.add("dz-processing"),n._removeLink?n._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:t,uploadprogress:function(n,t){var f,i,e,r,u;for(r=n.previewElement.querySelectorAll("[data-dz-uploadprogress]"),u=[],i=0,e=r.length;i<e;i++)f=r[i],u.push(f.style.width=""+t+"%");return u},totaluploadprogress:t,sending:t,sendingmultiple:t,success:function(n){return n.previewElement.classList.add("dz-success")},successmultiple:t,canceled:function(n){return this.emit("error",n,"Upload canceled.")},canceledmultiple:t,complete:function(n){if(n._removeLink)return n._removeLink.textContent=this.options.dictRemoveFile},completemultiple:t,maxfilesexceeded:t,maxfilesreached:t,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name><\/span><\/div>\n    <div class="dz-size" data-dz-size><\/div>\n    <img data-dz-thumbnail />\n  <\/div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress><\/span><\/div>\n  <div class="dz-success-mark"><span>✔<\/span><\/div>\n  <div class="dz-error-mark"><span>✘<\/span><\/div>\n  <div class="dz-error-message"><span data-dz-errormessage><\/span><\/div>\n<\/div>'},r=function(){var t,i,r,u,f,n,e;for(u=arguments[0],r=2<=arguments.length?c.call(arguments,1):[],n=0,e=r.length;n<e;n++){i=r[n];for(t in i)f=i[t],u[t]=f}return u},i.prototype.getAcceptedFiles=function(){var t,n,u,i,r;for(i=this.files,r=[],n=0,u=i.length;n<u;n++)t=i[n],t.accepted&&r.push(t);return r},i.prototype.getRejectedFiles=function(){var t,n,u,i,r;for(i=this.files,r=[],n=0,u=i.length;n<u;n++)t=i[n],t.accepted||r.push(t);return r},i.prototype.getQueuedFiles=function(){var t,n,f,r,u;for(r=this.files,u=[],n=0,f=r.length;n<f;n++)t=r[n],t.status===i.QUEUED&&u.push(t);return u},i.prototype.getUploadingFiles=function(){var t,n,f,r,u;for(r=this.files,u=[],n=0,f=r.length;n<f;n++)t=r[n],t.status===i.UPLOADING&&u.push(t);return u},i.prototype.init=function(){var u,t,f,r,o,s,e,n=this;for(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"<\/span><\/div>")),this.clickableElements.length&&(f=function(){return n.hiddenFileInput&&document.body.removeChild(n.hiddenFileInput),n.hiddenFileInput=document.createElement("input"),n.hiddenFileInput.setAttribute("type","file"),(n.options.maxFiles==null||n.options.maxFiles>1)&&n.hiddenFileInput.setAttribute("multiple","multiple"),n.options.acceptedFiles!=null&&n.hiddenFileInput.setAttribute("accept",n.options.acceptedFiles),n.hiddenFileInput.style.visibility="hidden",n.hiddenFileInput.style.position="absolute",n.hiddenFileInput.style.top="0",n.hiddenFileInput.style.left="0",n.hiddenFileInput.style.height="0",n.hiddenFileInput.style.width="0",document.body.appendChild(n.hiddenFileInput),n.hiddenFileInput.addEventListener("change",function(){var r,t,i,u;if(t=n.hiddenFileInput.files,t.length)for(i=0,u=t.length;i<u;i++)r=t[i],n.addFile(r);return f()})},f()),this.URL=(s=window.URL)!=null?s:window.webkitURL,e=this.events,r=0,o=e.length;r<o;r++){u=e[r];this.on(u,this.options[u])}this.on("uploadprogress",function(){return n.updateTotalUploadProgress()});this.on("removedfile",function(){return n.updateTotalUploadProgress()});this.on("canceled",function(t){return n.emit("complete",t)});this.on("complete",function(){if(n.getUploadingFiles().length===0&&n.getQueuedFiles().length===0)return setTimeout(function(){return n.emit("queuecomplete")},0)});return t=function(n){return n.stopPropagation(),n.preventDefault?n.preventDefault():n.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return n.emit("dragstart",t)},dragenter:function(i){return t(i),n.emit("dragenter",i)},dragover:function(i){var r;try{r=i.dataTransfer.effectAllowed}catch(u){}return i.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy",t(i),n.emit("dragover",i)},dragleave:function(t){return n.emit("dragleave",t)},drop:function(i){return t(i),n.drop(i)},dragend:function(t){return n.emit("dragend",t)}}}],this.clickableElements.forEach(function(t){return n.listeners.push({element:t,events:{click:function(r){if(t!==n.element||r.target===n.element||i.elementInside(r.target,n.element.querySelector(".dz-message")))return n.hiddenFileInput.click()}}})}),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var n;return this.disable(),this.removeAllFiles(!0),((n=this.hiddenFileInput)!=null?n.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)},i.prototype.updateTotalUploadProgress=function(){var e,r,n,t,u,i,o,f;if(t=0,n=0,e=this.getAcceptedFiles(),e.length){for(f=this.getAcceptedFiles(),i=0,o=f.length;i<o;i++)r=f[i],t+=r.upload.bytesSent,n+=r.upload.total;u=100*t/n}else u=100;return this.emit("totaluploadprogress",u,n,t)},i.prototype.getFallbackForm=function(){var u,r,n,t;return(u=this.getExistingFallback())?u:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"<\/p>"),n+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"><\/div>',r=i.createElement(n),this.element.tagName!=="FORM"?(t=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"><\/form>'),t.appendChild(r)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),t!=null?t:r)},i.prototype.getExistingFallback=function(){var i,r,u,n,f,t;for(r=function(n){for(var i,t=0,r=n.length;t<r;t++)if(i=n[t],/(^| )fallback($| )/.test(i.className))return i},t=["div","form"],n=0,f=t.length;n<f;n++)if(u=t[n],i=r(this.element.getElementsByTagName(u)))return i},i.prototype.setupEventListeners=function(){var t,i,f,n,e,r,u;for(r=this.listeners,u=[],n=0,e=r.length;n<e;n++)t=r[n],u.push(function(){var n,r;n=t.events;r=[];for(i in n)f=n[i],r.push(t.element.addEventListener(i,f,!1));return r}());return u},i.prototype.removeEventListeners=function(){var t,i,f,n,e,r,u;for(r=this.listeners,u=[],n=0,e=r.length;n<e;n++)t=r[n],u.push(function(){var n,r;n=t.events;r=[];for(i in n)f=n[i],r.push(t.element.removeEventListener(i,f,!1));return r}());return u},i.prototype.disable=function(){var r,n,u,t,i;for(this.clickableElements.forEach(function(n){return n.classList.remove("dz-clickable")}),this.removeEventListeners(),t=this.files,i=[],n=0,u=t.length;n<u;n++)r=t[n],i.push(this.cancelUpload(r));return i},i.prototype.enable=function(){return this.clickableElements.forEach(function(n){return n.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(n){var t;return n>=1099511627776/10?(n=n/(1099511627776/10),t="TiB"):n>=1073741824/10?(n=n/(1073741824/10),t="GiB"):n>=1048576/10?(n=n/(1048576/10),t="MiB"):n>=1024/10?(n=n/(1024/10),t="KiB"):(n=n*10,t="b"),"<strong>"+Math.round(n)/10+"<\/strong> "+t},i.prototype._updateMaxFilesReachedClass=function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(n){var i,t;n.dataTransfer&&(this.emit("drop",n),i=n.dataTransfer.files,i.length&&(t=n.dataTransfer.items,t&&t.length&&t[0].webkitGetAsEntry!=null?this._addFilesFromItems(t):this.handleFiles(i)))},i.prototype.paste=function(n){var t,i;if((n!=null?(i=n.clipboardData)!=null?i.items:void 0:void 0)!=null)return this.emit("paste",n),t=n.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},i.prototype.handleFiles=function(n){var r,t,u,i;for(i=[],t=0,u=n.length;t<u;t++)r=n[t],i.push(this.addFile(r));return i},i.prototype._addFilesFromItems=function(n){var r,t,u,f,i;for(i=[],u=0,f=n.length;u<f;u++)t=n[u],t.webkitGetAsEntry!=null&&(r=t.webkitGetAsEntry())?r.isFile?i.push(this.addFile(t.getAsFile())):r.isDirectory?i.push(this._addFilesFromDirectory(r,r.name)):i.push(void 0):t.getAsFile!=null?t.kind==null||t.kind==="file"?i.push(this.addFile(t.getAsFile())):i.push(void 0):i.push(void 0);return i},i.prototype._addFilesFromDirectory=function(n,t){var r,u,i=this;return r=n.createReader(),u=function(n){for(var r,u=0,f=n.length;u<f;u++)r=n[u],r.isFile?r.file(function(n){if(!i.options.ignoreHiddenFiles||n.name.substring(0,1)!==".")return n.fullPath=""+t+"/"+n.name,i.addFile(n)}):r.isDirectory&&i._addFilesFromDirectory(r,""+t+"/"+r.name)},r.readEntries(u,function(n){if(typeof console!="undefined"&&console!==null)return typeof console.log=="function"?console.log(n):void 0})},i.prototype.accept=function(n,t){return n.size>this.options.maxFilesize*1048576?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(n.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(n,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",n)):this.options.accept.call(this,n,t):t(this.options.dictInvalidFileType)},i.prototype.addFile=function(n){var t=this;return n.upload={progress:0,total:n.size,bytesSent:0},this.files.push(n),n.status=i.ADDED,this.emit("addedfile",n),this._enqueueThumbnail(n),this.accept(n,function(i){return i?(n.accepted=!1,t._errorProcessing([n],i)):t.enqueueFile(n),t._updateMaxFilesReachedClass()})},i.prototype.enqueueFiles=function(n){for(var i,t=0,r=n.length;t<r;t++)i=n[t],this.enqueueFile(i);return null},i.prototype.enqueueFile=function(n){var t=this;if(n.accepted=!0,n.status===i.ADDED){if(n.status=i.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return t.processQueue()},0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.");},i.prototype._thumbnailQueue=[],i.prototype._processingThumbnail=!1,i.prototype._enqueueThumbnail=function(n){var t=this;if(this.options.createImageThumbnails&&n.type.match(/image.*/)&&n.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(n),setTimeout(function(){return t._processThumbnailQueue()},0)},i.prototype._processThumbnailQueue=function(){var n=this;if(!this._processingThumbnail&&this._thumbnailQueue.length!==0)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(){return n._processingThumbnail=!1,n._processThumbnailQueue()})},i.prototype.removeFile=function(n){return n.status===i.UPLOADING&&this.cancelUpload(n),this.files=o(this.files,n),this.emit("removedfile",n),this.files.length===0?this.emit("reset"):void 0},i.prototype.removeAllFiles=function(n){var r,t,f,u;for(n==null&&(n=!1),u=this.files.slice(),t=0,f=u.length;t<f;t++)r=u[t],(r.status!==i.UPLOADING||n)&&this.removeFile(r);return null},i.prototype.createThumbnail=function(n,t){var r,i=this;return r=new FileReader,r.onload=function(){var u;return u=document.createElement("img"),u.onload=function(){var f,o,r,s,h,c,l,a;return n.width=u.width,n.height=u.height,r=i.options.resize.call(i,n),r.trgWidth==null&&(r.trgWidth=i.options.thumbnailWidth),r.trgHeight==null&&(r.trgHeight=i.options.thumbnailHeight),f=document.createElement("canvas"),o=f.getContext("2d"),f.width=r.trgWidth,f.height=r.trgHeight,e(o,u,(h=r.srcX)!=null?h:0,(c=r.srcY)!=null?c:0,r.srcWidth,r.srcHeight,(l=r.trgX)!=null?l:0,(a=r.trgY)!=null?a:0,r.trgWidth,r.trgHeight),s=f.toDataURL("image/png"),i.emit("thumbnail",n,s),t!=null?t():void 0},u.src=r.result},r.readAsDataURL(n)},i.prototype.processQueue=function(){var r,t,i,n;if((t=this.options.parallelUploads,i=this.getUploadingFiles().length,r=i,!(i>=t))&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));while(r<t){if(!n.length)return;this.processFile(n.shift());r++}}},i.prototype.processFile=function(n){return this.processFiles([n])},i.prototype.processFiles=function(n){for(var t,r=0,u=n.length;r<u;r++)t=n[r],t.processing=!0,t.status=i.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",n),this.uploadFiles(n)},i.prototype._getFilesWithXhr=function(n){var t;return function(){var i,f,r,u;for(r=this.files,u=[],i=0,f=r.length;i<f;i++)t=r[i],t.xhr===n&&u.push(t);return u}.call(this)},i.prototype.cancelUpload=function(n){var r,t,u,f,e,o,s;if(n.status===i.UPLOADING){for(t=this._getFilesWithXhr(n.xhr),u=0,e=t.length;u<e;u++)r=t[u],r.status=i.CANCELED;for(n.xhr.abort(),f=0,o=t.length;f<o;f++)r=t[f],this.emit("canceled",r);this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else((s=n.status)===i.ADDED||s===i.QUEUED)&&(n.status=i.CANCELED,this.emit("canceled",n),this.options.uploadMultiple&&this.emit("canceledmultiple",[n]));if(this.options.autoProcessQueue)return this.processQueue()},i.prototype.uploadFile=function(n){return this.uploadFiles([n])},i.prototype.uploadFiles=function(n){var t,f,p,w,ut,s,e,b,k,d,g,ft,o,nt,et,u,h,c,l,a,ot,st,ht,ct,lt,v,at,tt,it,rt,vt,y=this;for(u=new XMLHttpRequest,h=0,ot=n.length;h<ot;h++)t=n[h],t.xhr=u;u.open(this.options.method,this.options.url,!0);u.withCredentials=!!this.options.withCredentials;o=null;p=function(){var i,f,r;for(r=[],i=0,f=n.length;i<f;i++)t=n[i],r.push(y._errorProcessing(n,o||y.options.dictResponseError.replace("{{statusCode}}",u.status),u));return r};nt=function(i){var o,r,u,f,e,h,c,l,s;if(i!=null)for(r=100*i.loaded/i.total,u=0,h=n.length;u<h;u++)t=n[u],t.upload={progress:r,total:i.total,bytesSent:i.loaded};else{for(o=!0,r=100,f=0,c=n.length;f<c;f++)t=n[f],t.upload.progress===100&&t.upload.bytesSent===t.upload.total||(o=!1),t.upload.progress=r,t.upload.bytesSent=t.upload.total;if(o)return}for(s=[],e=0,l=n.length;e<l;e++)t=n[e],s.push(y.emit("uploadprogress",t,r,t.upload.bytesSent));return s};u.onload=function(t){var r;if(n[0].status!==i.CANCELED&&u.readyState===4){if(o=u.responseText,u.getResponseHeader("content-type")&&~u.getResponseHeader("content-type").indexOf("application/json"))try{o=JSON.parse(o)}catch(f){t=f;o="Invalid JSON response from server."}return nt(),200<=(r=u.status)&&r<300?y._finished(n,o,t):p()}};u.onerror=function(){if(n[0].status!==i.CANCELED)return p()};ft=(at=u.upload)!=null?at:u;ft.onprogress=nt;s={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&r(s,this.options.headers);for(w in s)ut=s[w],u.setRequestHeader(w,ut);if(f=new FormData,this.options.params){tt=this.options.params;for(d in tt)et=tt[d],f.append(d,et)}for(c=0,st=n.length;c<st;c++)t=n[c],this.emit("sending",t,u,f);if(this.options.uploadMultiple&&this.emit("sendingmultiple",n,u,f),this.element.tagName==="FORM")for(it=this.element.querySelectorAll("input, textarea, select, button"),l=0,ht=it.length;l<ht;l++)if(e=it[l],b=e.getAttribute("name"),k=e.getAttribute("type"),e.tagName==="SELECT"&&e.hasAttribute("multiple"))for(rt=e.options,a=0,ct=rt.length;a<ct;a++)g=rt[a],g.selected&&f.append(b,g.value);else(!k||(vt=k.toLowerCase())!=="checkbox"&&vt!=="radio"||e.checked)&&f.append(b,e.value);for(v=0,lt=n.length;v<lt;v++)t=n[v],f.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),t,t.name);return u.send(f)},i.prototype._finished=function(n,t,r){for(var u,f=0,e=n.length;f<e;f++)u=n[f],u.status=i.SUCCESS,this.emit("success",u,t,r),this.emit("complete",u);return this.options.uploadMultiple&&(this.emit("successmultiple",n,t,r),this.emit("completemultiple",n)),this.options.autoProcessQueue?this.processQueue():void 0},i.prototype._errorProcessing=function(n,t,r){for(var u,f=0,e=n.length;f<e;f++)u=n[f],u.status=i.ERROR,this.emit("error",u,t,r),this.emit("complete",u);return this.options.uploadMultiple&&(this.emit("errormultiple",n,t,r),this.emit("completemultiple",n)),this.options.autoProcessQueue?this.processQueue():void 0},i}(i);n.version="3.8.4";n.options={};n.optionsForElement=function(t){if(t.getAttribute("id"))return n.options[r(t.getAttribute("id"))]};n.instances=[];n.forElement=function(n){if(typeof n=="string"&&(n=document.querySelector(n)),(n!=null?n.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return n.dropzone};n.autoDiscover=!0;n.discover=function(){var u,f,t,i,e,r;for(document.querySelectorAll?t=document.querySelectorAll(".dropzone"):(t=[],u=function(n){var u,i,f,r;for(r=[],i=0,f=n.length;i<f;i++)u=n[i],/(^| )dropzone($| )/.test(u.className)?r.push(t.push(u)):r.push(void 0);return r},u(document.getElementsByTagName("div")),u(document.getElementsByTagName("form"))),r=[],i=0,e=t.length;i<e;i++)f=t[i],n.optionsForElement(f)!==!1?r.push(new n(f)):r.push(void 0);return r};n.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];n.isBrowserSupported=function(){var t,u,i,f,r;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){for(r=n.blacklistedBrowsers,i=0,f=r.length;i<f;i++)if(u=r[i],u.test(navigator.userAgent)){t=!1;continue}}else t=!1;else t=!1;return t};o=function(n,t){var r,i,f,u;for(u=[],i=0,f=n.length;i<f;i++)r=n[i],r!==t&&u.push(r);return u};r=function(n){return n.replace(/[\-_](\w)/g,function(n){return n[1].toUpperCase()})};n.createElement=function(n){var t;return t=document.createElement("div"),t.innerHTML=n,t.childNodes[0]};n.elementInside=function(n,t){if(n===t)return!0;while(n=n.parentNode)if(n===t)return!0;return!1};n.getElement=function(n,t){var i;if(typeof n=="string"?i=document.querySelector(n):n.nodeType!=null&&(i=n),i==null)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i};n.getElements=function(n,t){var h,r,i,u,f,o,s,e;if(n instanceof Array){i=[];try{for(u=0,o=n.length;u<o;u++)r=n[u],i.push(this.getElement(r,t))}catch(c){h=c;i=null}}else if(typeof n=="string")for(i=[],e=document.querySelectorAll(n),f=0,s=e.length;f<s;f++)r=e[f],i.push(r);else n.nodeType!=null&&(i=[n]);if(!(i!=null&&i.length))throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i};n.confirm=function(n,t,i){return window.confirm(n)?t():i!=null?i():void 0};n.isValidFile=function(n,t){var f,u,i,r,e;if(!t)return!0;for(t=t.split(","),u=n.type,f=u.replace(/\/.*$/,""),r=0,e=t.length;r<e;r++)if(i=t[r],i=i.trim(),i.charAt(0)==="."){if(n.name.toLowerCase().indexOf(i.toLowerCase(),n.name.length-i.length)!==-1)return!0}else if(/\/\*$/.test(i)){if(f===i.replace(/\/.*$/,""))return!0}else if(u===i)return!0;return!1};typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new n(this,t)})});typeof module!="undefined"&&module!==null?module.exports=n:window.Dropzone=n;n.ADDED="added";n.QUEUED="queued";n.ACCEPTED=n.QUEUED;n.UPLOADING="uploading";n.PROCESSING=n.UPLOADING;n.CANCELED="canceled";n.ERROR="error";n.SUCCESS="success";f=function(n){var s,r,f,h,e,i,c,t,o,u;for(c=n.naturalWidth,i=n.naturalHeight,r=document.createElement("canvas"),r.width=1,r.height=i,f=r.getContext("2d"),f.drawImage(n,0,0),h=f.getImageData(0,0,1,i).data,u=0,e=i,t=i;t>u;)s=h[(t-1)*4+3],s===0?e=t:u=t,t=e+u>>1;return o=t/i,o===0?1:o};e=function(n,t,i,r,u,e,o,s,h,c){var l;return l=f(t),n.drawImage(t,i,r,u,e,o,s,h,c/l)};u=function(n,t){var f,i,e,r,o,u,c,s,h;if(e=!1,h=!0,i=n.document,s=i.documentElement,f=i.addEventListener?"addEventListener":"attachEvent",c=i.addEventListener?"removeEventListener":"detachEvent",u=i.addEventListener?"":"on",r=function(f){if(f.type!=="readystatechange"||i.readyState==="complete")return(f.type==="load"?n:i)[c](u+f.type,r,!1),!e&&(e=!0)?t.call(n,f.type||f):void 0},o=function(){var n;try{s.doScroll("left")}catch(t){n=t;setTimeout(o,50);return}return r("poll")},i.readyState!=="complete"){if(i.createEventObject&&s.doScroll){try{h=!n.frameElement}catch(l){}h&&o()}return i[f](u+"DOMContentLoaded",r,!1),i[f](u+"readystatechange",r,!1),n[f](u+"load",r,!1)}};n._autoDiscoverFunction=function(){if(n.autoDiscover)return n.discover()};u(window,n._autoDiscoverFunction)}.call(this),function(n){typeof define=="function"&&define.amd?define(["jquery","codemirror"],n):n(window.jQuery,window.CodeMirror)}(function(n,t){var s,h;"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(n,t){var i,r,f=this.length>>>0,u=!1;for(1<arguments.length&&(r=t,u=!0),i=0;f>i;++i)this.hasOwnProperty(i)&&(u?r=n(r,this[i],i,this):(r=this[i],u=!0));if(!u)throw new TypeError("Reduce of empty array with no initial value");return r});var f={bMac:navigator.appVersion.indexOf("Mac")>-1,bMSIE:navigator.userAgent.indexOf("MSIE")>-1,bFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(n.fn.jquery),bCodeMirror:!!t},o=function(){var n=function(n){return function(t){return n===t}},t=function(n,t){return n===t},i=function(){return!0},r=function(){return!1},u=function(n){return function(){return!n.apply(n,arguments)}},f=function(n){return n};return{eq:n,eq2:t,ok:i,fail:r,not:u,self:f}}(),e=function(){var t=function(n){return n[0]},n=function(n){return n[n.length-1]},r=function(n){return n.slice(0,n.length-1)},i=function(n){return n.slice(1)},u=function(n,t){var i=n.indexOf(t);return i===-1?null:n[i+1]},f=function(n,t){var i=n.indexOf(t);return i===-1?null:n[i-1]},e=function(n,t){return t=t||o.self,n.reduce(function(n,i){return n+t(i)},0)},s=function(n){for(var i=[],t=-1,r=n.length;++t<r;)i[t]=n[t];return i},h=function(r,u){if(r.length===0)return[];var f=i(r);return f.reduce(function(t,i){var r=n(t);return u(n(r),i)?r[r.length]=i:t[t.length]=[i],t},[[t(r)]])},c=function(n){for(var i=[],t=0,r=n.length;t<r;t++)n[t]&&i.push(n[t]);return i};return{head:t,last:n,initial:r,tail:i,prev:f,next:u,sum:e,from:s,compact:c,clusterBy:h}}(),i=function(){var c=function(t){return t&&n(t).hasClass("note-editable")},w=function(t){return t&&n(t).hasClass("note-control-sizing")},b=function(n){var t=function(t){return function(){return n.find(t)}};return{editor:function(){return n},dropzone:t(".note-dropzone"),toolbar:t(".note-toolbar"),editable:t(".note-editable"),codable:t(".note-codable"),statusbar:t(".note-statusbar"),popover:t(".note-popover"),handle:t(".note-handle"),dialog:t(".note-dialog")}},t=function(n){return function(t){return t&&t.nodeName===n}},k=function(n){return n&&/^DIV|^P|^LI|^H[1-7]/.test(n.nodeName)},d=function(n){return n&&/^UL|^OL/.test(n.nodeName)},g=function(n){return n&&/^TD|^TH/.test(n.nodeName)},l=function(n,t){while(n){if(t(n))return n;if(c(n))break;n=n.parentNode}return null},r=function(n,t){t=t||o.fail;var i=[];return l(n,function(n){return i.push(n),t(n)}),i},a=function(t,i){for(var f=r(t),u=i;u;u=u.parentNode)if(n.inArray(u,f)>-1)return u;return null},nt=function(n,t){var i=[],r=!1,u=!1;return function f(e){if(e){if(e===n&&(r=!0),r&&!u&&i.push(e),e===t){u=!0;return}for(var o=0,s=e.childNodes.length;o<s;o++)f(e.childNodes[o])}}(a(n,t)),i},tt=function(n,t){t=t||o.fail;for(var i=[];n;){if(i.push(n),t(n))break;n=n.previousSibling}return i},u=function(n,t){t=t||o.fail;for(var i=[];n;){if(i.push(n),t(n))break;n=n.nextSibling}return i},it=function(n,t){var i=[];return t=t||o.ok,function r(u){n!==u&&t(u)&&i.push(u);for(var f=0,e=u.childNodes.length;f<e;f++)r(u.childNodes[f])}(n),i},s=function(n,t){var i=t.nextSibling,r=t.parentNode;return i?r.insertBefore(n,i):r.appendChild(n),n},v=function(t,i){return n.each(i,function(n,i){t.appendChild(i)}),t},h=t("#text"),rt=function(n){return h(n)?n.nodeValue.length:n.childNodes.length},y=function(n){for(var t=0;n=n.previousSibling;)t+=1;return t},ut=function(t,i){var u=e.initial(r(i,o.eq(t)));return n.map(u,y).reverse()},ft=function(n,t){for(var i=n,r=0,u=t.length;r<u;r++)i=i.childNodes[t[r]];return i},p=function(n,t){if(t===0)return n;if(t>=rt(n))return n.nextSibling;if(h(n))return n.splitText(t);var i=n.childNodes[t];return n=s(n.cloneNode(!1),n),v(n,u(i))},et=function(n,t,i){var f=r(t,o.eq(n));return f.length===1?p(t,i):f.reduce(function(n,r){var f=r.cloneNode(!1);return s(f,r),n===t&&(n=p(n,i)),v(f,u(n)),f})},ot=function(n,t){var f,r,i,u;if(n&&n.parentNode){if(n.removeNode)return n.removeNode(t);if(f=n.parentNode,!t){for(r=[],i=0,u=n.childNodes.length;i<u;i++)r.push(n.childNodes[i]);for(i=0,u=r.length;i<u;i++)f.insertBefore(r[i],n)}f.removeChild(n)}},st=function(n){return i.isTextarea(n[0])?n.val():n.html()};return{blank:f.bMSIE?"&nbsp;":"<br/>",emptyPara:"<p><br/><\/p>",isEditable:c,isControlSizing:w,buildLayoutInfo:b,isText:h,isPara:k,isList:d,isTable:t("TABLE"),isCell:g,isAnchor:t("A"),isDiv:t("DIV"),isLi:t("LI"),isSpan:t("SPAN"),isB:t("B"),isU:t("U"),isS:t("S"),isI:t("I"),isImg:t("IMG"),isTextarea:t("TEXTAREA"),ancestor:l,listAncestor:r,listNext:u,listPrev:tt,listDescendant:it,commonAncestor:a,listBetween:nt,insertAfter:s,position:y,makeOffsetPath:ut,fromOffsetPath:ft,split:et,remove:ot,html:st}}(),c=function(){var t=function(t){return n.Deferred(function(i){n.extend(new FileReader,{onload:function(n){var t=n.target.result;i.resolve(t)},onerror:function(){i.reject(this)}}).readAsDataURL(t)}).promise()},i=function(t){return n.Deferred(function(i){n.extend(new Image,{detachEvents:function(){this.onload=null;this.onerror=null;this.onabort=null},onload:function(){this.detachEvents();i.resolve(this)},onerror:function(){this.detachEvents();i.reject(this)},onabort:function(){this.detachEvents();i.reject(this)}}).src=t}).promise()};return{readFileAsDataURL:t,loadImage:i}}(),r={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,NUM0:48,NUM1:49,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLACH:220,RIGHTBRACKET:221},l=function(){var t=function(t,i){if(f.jqueryVersion<1.9){var r={};return n.each(i,function(n,i){r[i]=t.css(i)}),r}return t.css.call(t,i)};this.stylePara=function(t,r){n.each(t.nodes(i.isPara),function(t,i){n(i).css(r)})};this.current=function(r,u){var c=n(i.isText(r.sc)?r.sc.parentNode:r.sc),f=t(c,["font-family","font-size","text-align","list-style-type","line-height"])||{},o,s,e,h;return f["font-size"]=parseInt(f["font-size"]),f["font-bold"]=document.queryCommandState("bold")?"bold":"normal",f["font-italic"]=document.queryCommandState("italic")?"italic":"normal",f["font-underline"]=document.queryCommandState("underline")?"underline":"normal",r.isOnList()?(o=["circle","disc","disc-leading-zero","square"],s=n.inArray(f["list-style-type"],o)>-1,f["list-style"]=s?"unordered":"ordered"):f["list-style"]="none",e=i.ancestor(r.sc,i.isPara),e&&e.style["line-height"]?f["line-height"]=e.style.lineHeight:(h=parseInt(f["line-height"])/parseInt(f["font-size"]),f["line-height"]=h.toFixed(1)),f.image=i.isImg(u)&&u,f.anchor=r.isOnAnchor()&&i.ancestor(r.sc,i.isAnchor),f.aAncestor=i.listAncestor(r.sc,i.isEditable),f}},u=function(){var t=!!document.createRange,r=function(n,t){for(var o=n.parentElement(),a=document.body.createTextRange(),s,h=e.from(o.childNodes),c,r,l,f,v,u=0;u<h.length;u++)if(!i.isText(h[u])){if(a.moveToElementText(h[u]),a.compareEndPoints("StartToStart",n)>=0)break;s=h[u]}if(u!==0&&i.isText(h[u-1])){for(c=document.body.createTextRange(),r=null,c.moveToElementText(s||o),c.collapse(!s),r=s?s.nextSibling:o.firstChild,l=n.duplicate(),l.setEndPoint("StartToStart",c),f=l.text.replace(/[\r\n]/g,"").length;f>r.nodeValue.length&&r.nextSibling;)f-=r.nodeValue.length,r=r.nextSibling;v=r.nodeValue;t&&r.nextSibling&&i.isText(r.nextSibling)&&f===r.nodeValue.length&&(f-=r.nodeValue.length,r=r.nextSibling);o=r;u=f}return{cont:o,offset:u}},u=function(n){var u=function(n,t){var r,f,s,h;if(i.isText(n))s=i.listPrev(n,o.not(i.isText)),h=e.last(s).previousSibling,r=h||n.parentNode,t+=e.sum(e.tail(s),i.length),f=!h;else{if(r=n.childNodes[t]||n,i.isText(r))return u(r,t);t=0;f=!1}return{cont:r,collapseToStart:f,offset:t}},t=document.body.createTextRange(),r=u(n.cont,n.offset);return t.moveToElementText(r.cont),t.collapse(r.collapseToStart),t.moveStart("character",r.offset),t},f=function(r,f,s,h){var l,c;this.sc=r;this.so=f;this.ec=s;this.eo=h;l=function(){var n,i;return t?(n=document.createRange(),n.setStart(r,f),n.setEnd(s,h),n):(i=u({cont:r,offset:f}),i.setEndPoint("EndToEnd",u({cont:s,offset:h})),i)};this.select=function(){var i=l(),n;t?(n=document.getSelection(),n.rangeCount>0&&n.removeAllRanges(),n.addRange(i)):i.select()};this.nodes=function(t){var u=i.listBetween(r,s),f=e.compact(n.map(u,function(n){return i.ancestor(n,t)}));return n.map(e.clusterBy(f,o.eq2),e.head)};this.commonAncestor=function(){return i.commonAncestor(r,s)};c=function(n){return function(){var t=i.ancestor(r,n);return!!t&&t===i.ancestor(s,n)}};this.isOnEditable=c(i.isEditable);this.isOnList=c(i.isList);this.isOnAnchor=c(i.isAnchor);this.isOnCell=c(i.isCell);this.isCollapsed=function(){return r===s&&f===h};this.insertNode=function(n){var i=l();t?i.insertNode(n):i.pasteHTML(n.outerHTML)};this.toString=function(){var n=l();return t?n.toString():n.text};this.bookmark=function(n){return{s:{path:i.makeOffsetPath(n,r),offset:f},e:{path:i.makeOffsetPath(n,s),offset:h}}}};return{create:function(n,i,u,e){var s,o,h,c,l,a,v;if(arguments.length===0)if(t){if(s=document.getSelection(),s.rangeCount===0)return null;o=s.getRangeAt(0);n=o.startContainer;i=o.startOffset;u=o.endContainer;e=o.endOffset}else h=document.selection.createRange(),c=h.duplicate(),c.collapse(!1),l=h,l.collapse(!0),a=r(l,!0),v=r(c,!1),n=a.cont,i=a.offset,u=v.cont,e=v.offset;else arguments.length===2&&(u=n,e=i);return new f(n,i,u,e)},createFromNode:function(n){return this.create(n,0,n,1)},createFromBookmark:function(n,t){var r=i.fromOffsetPath(n,t.s.path),u=t.s.offset,e=i.fromOffsetPath(n,t.e.path),o=t.e.offset;return new f(r,u,e,o)}}}(),a=function(){this.tab=function(n,t){var r=i.ancestor(n.commonAncestor(),i.isCell),o=i.ancestor(r,i.isTable),s=i.listDescendant(o,i.isCell),f=e[t?"prev":"next"](s,r);f&&u.create(f,0).select()};this.createTable=function(t,r){for(var u,h,f,c,e=[],o,s=0;s<t;s++)e.push("<td>"+i.blank+"<\/td>");for(o=e.join(""),u=[],f=0;f<r;f++)u.push("<tr>"+o+"<\/tr>");return h=u.join(""),c='<table class="table table-bordered">'+h+"<\/table>",n(c)[0]}},v=function(){var o=new l,s=new a,t,e,r,h,v;for(this.saveRange=function(n){n.data("range",u.create())},this.restoreRange=function(n){var t=n.data("range");t&&t.select()},this.currentStyle=function(n){var t=u.create();return t&&t.isOnEditable()&&o.current(t,n)},this.undo=function(n){n.data("NoteHistory").undo(n)},this.redo=function(n){n.data("NoteHistory").redo(n)},t=this.recordUndo=function(n){n.data("NoteHistory").recordUndo(n)},e=["bold","italic","underline","strikethrough","justifyLeft","justifyCenter","justifyRight","justifyFull","insertOrderedList","insertUnorderedList","indent","outdent","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"],r=0,h=e.length;r<h;r++)this[e[r]]=function(n){return function(i,r){t(i);document.execCommand(n,!1,r)}}(e[r]);v=function(r,f,e){var s,o;t(r);s=new Array(e+1).join("&nbsp;");f.insertNode(n('<span id="noteTab">'+s+"<\/span>")[0]);o=n("#noteTab").removeAttr("id");f=u.create(o[0],1);f.select();i.remove(o[0])};this.tab=function(n,t,i){var r=u.create();r.isCollapsed()&&r.isOnCell()?s.tab(r,i):v(n,r,t)};this.insertImage=function(i,r){c.loadImage(r).done(function(f){t(i);var e=n("<img>").attr("src",r);e.css("width",Math.min(i.width(),f.width));u.create().insertNode(e[0])}).fail(function(){var n=i.data("callbacks");n.onImageUploadError&&n.onImageUploadError()})};this.insertVideo=function(i,r){var l;t(i);var e=r.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/),o=r.match(/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/),s=r.match(/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/),h=r.match(/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/),c=r.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),f;e&&e[2].length===11?(l=e[2],f=n("<iframe>").attr("src","//www.youtube.com/embed/"+l).attr("width","640").attr("height","360")):o&&o[0].length>0?f=n("<iframe>").attr("src",o[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true"):s&&s[0].length>0?f=n("<iframe>").attr("src",s[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed"):h&&h[3].length>0?f=n("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+h[3]).attr("width","640").attr("height","360"):c&&c[2].length>0&&(f=n("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+c[2]).attr("width","640").attr("height","360"));f&&(f.attr("frameborder",0),u.create().insertNode(f[0]))};this.formatBlock=function(n,i){t(n);i=f.bMSIE?"<"+i+">":i;document.execCommand("FormatBlock",!1,i)};this.fontSize=function(n,i){t(n);document.execCommand("fontSize",!1,3);f.bFF?n.find("font[size=3]").removeAttr("size").css("font-size",i+"px"):n.find("span").filter(function(){return this.style.fontSize==="medium"}).css("font-size",i+"px")};this.lineHeight=function(n,i){t(n);o.stylePara(u.create(),{lineHeight:i})};this.unlink=function(n){var r=u.create(),f;r.isOnAnchor()&&(t(n),f=i.ancestor(r.sc,i.isAnchor),r=u.createFromNode(f),r.select(),document.execCommand("unlink"))};this.createLink=function(r,e,o){var s=u.create(),h,c;t(r);h=e;e.indexOf("@")!==-1&&e.indexOf(":")===-1?h="mailto:"+e:e.indexOf("://")===-1&&(h="http://"+e);(f.bMSIE||f.bFF)&&s.isCollapsed()?(s.insertNode(n('<A id="linkAnchor">'+e+"<\/A>")[0]),c=n("#linkAnchor").attr("href",h).removeAttr("id"),s=u.createFromNode(c[0]),s.select()):(document.execCommand("createlink",!1,h),s=u.create());n.each(s.nodes(i.isAnchor),function(t,i){o?n(i).attr("target","_blank"):n(i).removeAttr("target")})};this.setLinkDialog=function(t,r){var f=u.create(),o=!0,e,s;f.isOnAnchor()&&(e=i.ancestor(f.sc,i.isAnchor),f=u.createFromNode(e),o=n(e).attr("target")==="_blank");s=this;r({text:f.toString(),url:f.isOnAnchor()?i.ancestor(f.sc,i.isAnchor).href:"",newWindow:o},function(n,i){f.select();s.createLink(t,n,i)})};this.setVideoDialog=function(n,t){var r=u.create(),f,e;r.isOnAnchor()&&(f=i.ancestor(r.sc,i.isAnchor),r=u.createFromNode(f));e=this;t({text:r.toString()},function(t){r.select();e.insertVideo(n,t)})};this.color=function(n,i){var r=JSON.parse(i),u=r.foreColor,f=r.backColor;t(n);u&&document.execCommand("foreColor",!1,u);f&&document.execCommand("backColor",!1,f)};this.insertTable=function(n,i){t(n);var r=i.split("x");u.create().insertNode(s.createTable(r[0],r[1]))};this.floatMe=function(n,i,r){t(n);r.css("float",i)};this.resize=function(n,i,r){t(n);r.css({width:n.width()*i+"px",height:""})};this.resizeTo=function(n,t,i){var u,f,r;i?(f=n.y/n.x,r=t.data("ratio"),u={width:r>f?n.x:n.y/r,height:r>f?n.x*r:n.y}):u={width:n.x,height:n.y};t.css(u)};this.removeMedia=function(n,i,r){t(n);r.detach()}},y=function(){var n=[],t=[],i=function(n){var t=n[0],i=u.create();return{contents:n.html(),bookmark:i.bookmark(t),scrollTop:n.scrollTop()}},r=function(n,t){n.html(t.contents).scrollTop(t.scrollTop);u.createFromBookmark(n[0],t.bookmark).select()};this.undo=function(u){var f=i(u);n.length!==0&&(r(u,n.pop()),t.push(f))};this.redo=function(u){var f=i(u);t.length!==0&&(r(u,t.pop()),n.push(f))};this.recordUndo=function(r){t=[];n.push(i(r))}},p=function(){this.update=function(t,i){var f=function(t,i){t.find(".dropdown-menu li a").each(function(){var t=n(this).data("value")+""==i+"";this.className=t?"checked":""})},r=function(n,i){var r=t.find(n);r.toggleClass("active",i())},o=t.find(".note-fontname"),u,s,h;o.length>0&&(u=i["font-family"],!u||(u=e.head(u.split(",")),u=u.replace(/\'/g,""),o.find(".note-current-fontname").text(u),f(o,u)));s=t.find(".note-fontsize");s.find(".note-current-fontsize").text(i["font-size"]);f(s,parseFloat(i["font-size"]));h=t.find(".note-height");f(h,parseFloat(i["line-height"]));r('button[data-event="bold"]',function(){return i["font-bold"]==="bold"});r('button[data-event="italic"]',function(){return i["font-italic"]==="italic"});r('button[data-event="underline"]',function(){return i["font-underline"]==="underline"});r('button[data-event="justifyLeft"]',function(){return i["text-align"]==="left"||i["text-align"]==="start"});r('button[data-event="justifyCenter"]',function(){return i["text-align"]==="center"});r('button[data-event="justifyRight"]',function(){return i["text-align"]==="right"});r('button[data-event="justifyFull"]',function(){return i["text-align"]==="justify"});r('button[data-event="insertUnorderedList"]',function(){return i["list-style"]==="unordered"});r('button[data-event="insertOrderedList"]',function(){return i["list-style"]==="ordered"})};this.updateRecentColor=function(t,i,r){var o=n(t).closest(".note-color"),u=o.find(".note-recent-color"),f=JSON.parse(u.attr("data-value")),e;f[i]=r;u.attr("data-value",JSON.stringify(f));e=i==="backColor"?"background-color":"color";u.find("i").css(e,r)};this.updateFullscreen=function(n,t){var i=n.find('button[data-event="fullscreen"]');i.toggleClass("active",t)};this.updateCodeview=function(n,t){var i=n.find('button[data-event="codeview"]');i.toggleClass("active",t)};this.activate=function(n){n.find("button").not('button[data-event="codeview"]').removeClass("disabled")};this.deactivate=function(n){n.find("button").not('button[data-event="codeview"]').addClass("disabled")}},w=function(){var t=function(t,i){var r=n(i),u=r.position(),f=r.height();t.css({display:"block",left:u.left,top:u.top+f})};this.update=function(n,i){var r=n.find(".note-link-popover"),f,u;i.anchor?(f=r.find("a"),f.attr("href",i.anchor.href).html(i.anchor.href),t(r,i.anchor)):r.hide();u=n.find(".note-image-popover");i.image?t(u,i.image):u.hide()};this.hide=function(n){n.children().hide()}},b=function(){this.update=function(t,i){var u=t.find(".note-control-selection"),o;if(i.image){var f=n(i.image),e=f.position(),r={w:f.width(),h:f.height()};u.css({display:"block",left:e.left,top:e.top,width:r.w,height:r.h}).data("target",i.image);o=r.w+"x"+r.h;u.find(".note-control-selection-info").text(o)}else u.hide()};this.hide=function(n){n.children().hide()}},k=function(){var t=function(n,t){t?n.removeClass("disabled").attr("disabled",!1):n.addClass("disabled").attr("disabled",!0)};this.showImageDialog=function(i,r,u,f){var o=r.find(".note-image-dialog"),h=r.find(".note-image-input"),e=r.find(".note-image-url"),s=r.find(".note-image-btn");o.one("shown.bs.modal",function(i){i.stopPropagation();h.on("change",function(){u(this.files);n(this).val("");o.modal("hide")});s.click(function(n){o.modal("hide");f(e.val());n.preventDefault()});e.keyup(function(){t(s,e.val())}).val("").focus()}).one("hidden.bs.modal",function(){i.focus();h.off("change");e.off("keyup");s.off("click")}).modal("show")};this.showVideoDialog=function(n,i,r,u){var f=i.find(".note-video-dialog"),e=f.find(".note-video-url"),o=f.find(".note-video-btn");f.one("shown.bs.modal",function(n){n.stopPropagation();e.val(r.text).keyup(function(){t(o,e.val())}).trigger("keyup").trigger("focus");o.click(function(n){f.modal("hide");u(e.val());n.preventDefault()})}).one("hidden.bs.modal",function(){n.focus();e.off("keyup");o.off("click")}).modal("show")};this.showLinkDialog=function(n,i,r,u){var f=i.find(".note-link-dialog"),s=f.find(".note-link-text"),e=f.find(".note-link-url"),o=f.find(".note-link-btn"),h=f.find("input[type=checkbox]");f.one("shown.bs.modal",function(n){n.stopPropagation();s.val(r.text);e.val(r.url).keyup(function(){t(o,e.val());r.text||s.val(e.val())}).trigger("focus");h.prop("checked",r.newWindow);o.click(function(n){f.modal("hide");u(e.val(),h.is(":checked"));n.preventDefault()})}).one("hidden.bs.modal",function(){n.focus();e.off("keyup");o.off("click")}).modal("show")};this.showHelpDialog=function(n,t){var i=t.find(".note-help-dialog");i.one("hidden.bs.modal",function(){n.focus()}).modal("show")}},d=function(){var u=new v,o=new p,h=new w,l=new b,s=new k,e=function(t){var r=n(t).closest(".note-editor");return r.length>0&&i.buildLayoutInfo(r)},a=function(t,i){u.restoreRange(t);var r=t.data("callbacks");if(r.onImageUpload)r.onImageUpload(i,u,t);else n.each(i,function(n,i){c.readFileAsDataURL(i).done(function(n){u.insertImage(t,n)}).fail(function(){r.onImageUploadError&&r.onImageUploadError()})})},it=function(n){var o=f.bMac?n.metaKey:n.ctrlKey,h=n.shiftKey,t=n.keyCode,a=o||h||t===r.TAB,i=a?e(n.target):null,c,l;if(t===r.TAB)c=i.editor().data("options").tabsize,u.tab(i.editable(),c,h);else if(o&&(h&&t===r.Z||t===r.Y))u.redo(i.editable());else if(o&&t===r.Z)u.undo(i.editable());else if(o&&t===r.B)u.bold(i.editable());else if(o&&t===r.I)u.italic(i.editable());else if(o&&t===r.U)u.underline(i.editable());else if(o&&h&&t===r.S)u.strikethrough(i.editable());else if(o&&t===r.BACKSLACH)u.removeFormat(i.editable());else if(o&&t===r.K)u.setLinkDialog(i.editable(),function(n,t){s.showLinkDialog(i.editable(),i.dialog(),n,t)});else if(o&&t===r.SLASH)s.showHelpDialog(i.editable(),i.dialog());else if(o&&h&&t===r.L)u.justifyLeft(i.editable());else if(o&&h&&t===r.E)u.justifyCenter(i.editable());else if(o&&h&&t===r.R)u.justifyRight(i.editable());else if(o&&h&&t===r.J)u.justifyFull(i.editable());else if(o&&h&&t===r.NUM7)u.insertUnorderedList(i.editable());else if(o&&h&&t===r.NUM8)u.insertOrderedList(i.editable());else if(o&&t===r.LEFTBRACKET)u.outdent(i.editable());else if(o&&t===r.RIGHTBRACKET)u.indent(i.editable());else if(o&&t===r.NUM0)u.formatBlock(i.editable(),"P");else if(o&&r.NUM1<=t&&t<=r.NUM6)l="H"+String.fromCharCode(t),u.formatBlock(i.editable(),l);else if(o&&t===r.ENTER)u.insertHorizontalRule(i.editable());else{(t===r.BACKSPACE||t===r.ENTER||t===r.SPACE)&&u.recordUndo(e(n.target).editable());return}n.preventDefault()},rt=function(n){var t=n.originalEvent.dataTransfer,i;t&&t.files&&(i=e(n.currentTarget||n.target),i.editable().focus(),a(i.editable(),t.files));n.preventDefault()},ut=function(n){i.isImg(n.target)&&n.preventDefault()},d=function(n){var i=e(n.currentTarget||n.target),t=u.currentStyle(n.target);t&&(o.update(i.toolbar(),t),h.update(i.popover(),t),l.update(i.handle(),t))},ft=function(n){var t=e(n.currentTarget||n.target);h.hide(t.popover());l.hide(t.handle())},et=function(t){if(i.isControlSizing(t.target)){var f=e(t.target),s=f.handle(),v=f.popover(),y=f.editable(),c=f.editor(),o=s.find(".note-control-selection").data("target"),r=n(o),a=r.offset(),p=n(document).scrollTop();c.on("mousemove",function(n){u.resizeTo({x:n.clientX-a.left,y:n.clientY-(a.top-p)},r,!n.shiftKey);l.update(s,{image:o});h.update(v,{image:o})}).one("mouseup",function(){c.off("mousemove")});r.data("ratio")||r.data("ratio",r.height()/r.width());u.recordUndo(y);t.stopPropagation();t.preventDefault()}},g=function(t){var i=n(t.target).closest("[data-event]");i.length>0&&t.preventDefault()},nt=function(r){var w=n(r.target).closest("[data-event]"),ot,st,tt,lt,g,it,rt;if(w.length>0){var v=w.attr("data-event"),ut=w.attr("data-value"),p=e(r.target),y=p.editor(),b=p.toolbar(),k=p.dialog(),h=p.editable(),l=p.codable(),nt,c,ft=y.data("options"),et;if(n.inArray(v,["resize","floatMe","removeMedia"])!==-1&&(ot=p.handle(),st=ot.find(".note-control-selection"),et=n(st.data("target"))),u[v]&&(h.trigger("focus"),u[v](h,ut,et)),n.inArray(v,["backColor","foreColor"])!==-1)o.updateRecentColor(w[0],v,ut);else if(v==="showLinkDialog")h.focus(),u.setLinkDialog(h,function(n,t){s.showLinkDialog(h,k,n,t)});else if(v==="showImageDialog")h.focus(),s.showImageDialog(h,k,function(n){a(h,n)},function(n){u.restoreRange(h);u.insertImage(h,n)});else if(v==="showVideoDialog")h.focus(),u.setVideoDialog(h,function(n,t){s.showVideoDialog(h,k,n,t)});else if(v==="showHelpDialog")s.showHelpDialog(h,k);else if(v==="fullscreen"){y.toggleClass("fullscreen");var at=function(){var r=n(window).width(),t,i;y.css("width",r);t=n(window).height()-b.outerHeight();h.css("height",t);l.css("height",t);i=l.data("cmEditor");i&&i.setSize(null,t)},ht=n("html, body"),ct=y.hasClass("fullscreen");ct?(y.data("orgWidth",y.width()),h.data("orgHeight",h.css("height")),n(window).on("resize",at).trigger("resize"),ht.css("overflow","hidden")):(tt=y.data("orgWidth"),lt=tt===n(window).width()?"auto":tt,y.css("width",lt),g=h.data("orgHeight"),h.css("height",g),l.css("height",g),c=l.data("cmEditor"),c&&c.setSize(null,g),ht.css("overflow","auto"),n(window).off("resize"));o.updateFullscreen(b,ct)}else if(v==="codeview"){if(y.toggleClass("codeview"),it=y.hasClass("codeview"),it){if(l.val(h.html()),l.height(h.height()),o.deactivate(b),l.focus(),f.bCodeMirror){if(c=t.fromTextArea(l[0],n.extend({mode:"text/html",lineNumbers:!0},ft.codemirror)),rt=y.data("options").codemirror.tern||!1,rt){nt=new t.TernServer(rt);c.ternServer=nt;c.on("cursorActivity",function(n){nt.updateArgHints(n)})}c.setSize(null,h.outerHeight());c.autoFormatRange&&c.autoFormatRange({line:0,ch:0},{line:c.lineCount(),ch:c.getTextArea().value.length});l.data("cmEditor",c)}}else f.bCodeMirror&&(c=l.data("cmEditor"),l.val(c.getValue()),c.toTextArea()),h.html(l.val()||i.emptyPara),h.height(ft.height?l.height():"auto"),o.activate(b),h.focus();o.updateCodeview(p.toolbar(),it)}d(r)}},ot=24,st=function(t){var i=n(document),r=e(t.target).editable(),u=r.offset().top-i.scrollTop();i.on("mousemove",function(n){var t=n.clientY-(u+ot);r.height(t)}).one("mouseup",function(){i.off("mousemove")});t.stopPropagation();t.preventDefault()},tt=18,ht=function(t){var r=n(t.target.parentNode),o=r.next(),s=r.find(".note-dimension-picker-mousecatcher"),h=r.find(".note-dimension-picker-highlighted"),e=r.find(".note-dimension-picker-unhighlighted"),u,f,i;t.offsetX===undefined?(f=n(t.target).offset(),u={x:t.pageX-f.left,y:t.pageY-f.top}):u={x:t.offsetX,y:t.offsetY};i={c:Math.ceil(u.x/tt)||1,r:Math.ceil(u.y/tt)||1};h.css({width:i.c+"em",height:i.r+"em"});s.attr("data-value",i.c+"x"+i.r);3<i.c&&i.c<10&&e.css({width:i.c+1+"em"});3<i.r&&i.r<10&&e.css({height:i.r+1+"em"});o.html(i.c+" x "+i.r)},ct=function(t){var i=n(),r=t.dropzone,u=t.dropzone.find(".note-dropzone-message");n(document).on("dragenter",function(n){var f=t.editor.hasClass("codeview");f||i.length!==0||(t.editor.addClass("dragover"),r.width(t.editor.width()),r.height(t.editor.height()),u.text("Drag Image Here"));i=i.add(n.target)}).on("dragleave",function(n){i=i.not(n.target);i.length===0&&t.editor.removeClass("dragover")}).on("drop",function(){i=n();t.editor.removeClass("dragover")});r.on("dragenter",function(){r.addClass("hover");u.text("Drop Image")}).on("dragleave",function(){r.removeClass("hover");u.text("Drag Image Here")});r.on("drop",function(n){rt(n)}).on("dragover",!1)};this.attach=function(n,t){n.editable.on("keydown",it);n.editable.on("mousedown",ut);n.editable.on("keyup mouseup",d);n.editable.on("scroll",ft);t.disableDragAndDrop||ct(n);n.handle.on("mousedown",et);n.toolbar.on("click",nt);n.popover.on("click",nt);n.toolbar.on("mousedown",g);n.popover.on("mousedown",g);n.statusbar.on("mousedown",st);var i=n.toolbar,e=i.find(".note-dimension-picker-mousecatcher");e.on("mousemove",ht);n.editable.on("blur",function(){u.saveRange(n.editable)});n.editor.data("options",t);t.styleWithSpan&&!f.bMSIE&&setTimeout(function(){document.execCommand("styleWithCSS",0,!0)});n.editable.data("NoteHistory",new y);t.onenter&&n.editable.keypress(function(n){if(n.keyCode===r.ENTER)t.onenter(n)});t.onfocus&&n.editable.focus(t.onfocus);t.onblur&&n.editable.blur(t.onblur);t.onkeyup&&n.editable.keyup(t.onkeyup);t.onkeydown&&n.editable.keydown(t.onkeydown);t.onToolbarClick&&n.toolbar.click(t.onToolbarClick);n.editable.data("callbacks",{onChange:t.onChange,onAutoSave:t.onAutoSave,onPasteBefore:t.onPasteBefore,onPasteAfter:t.onPasteAfter,onImageUpload:t.onImageUpload,onImageUploadError:t.onImageUpload,onFileUpload:t.onFileUpload,onFileUploadError:t.onFileUpload})};this.dettach=function(n){n.editable.off();n.toolbar.off();n.handle.off();n.popover.off()}},g=function(){var t,r,c,u,e;t={picture:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+n.image.image+'" data-event="showImageDialog" tabindex="-1"><i class="fa fa-picture-o icon-picture"><\/i><\/button>'},link:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+n.link.link+'" data-event="showLinkDialog" data-shortcut="Ctrl+K" data-mac-shortcut="⌘+K" tabindex="-1"><i class="fa fa-link icon-link"><\/i><\/button>'},video:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+n.video.video+'" data-event="showVideoDialog" tabindex="-1"><i class="fa fa-youtube-play icon-play"><\/i><\/button>'},table:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+n.table.table+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-table icon-table"><\/i> <span class="caret"><\/span><\/button><ul class="dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"><\/div><div class="note-dimension-picker-highlighted"><\/div><div class="note-dimension-picker-unhighlighted"><\/div><\/div><div class="note-dimension-display"> 1 x 1 <\/div><\/ul>'},style:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+n.style.style+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-magic icon-magic"><\/i> <span class="caret"><\/span><\/button><ul class="dropdown-menu"><li><a data-event="formatBlock" data-value="p">'+n.style.normal+'<\/a><\/li><li><a data-event="formatBlock" data-value="blockquote"><blockquote>'+n.style.blockquote+'<\/blockquote><\/a><\/li><li><a data-event="formatBlock" data-value="pre">'+n.style.pre+'<\/a><\/li><li><a data-event="formatBlock" data-value="h1"><h1>'+n.style.h1+'<\/h1><\/a><\/li><li><a data-event="formatBlock" data-value="h2"><h2>'+n.style.h2+'<\/h2><\/a><\/li><li><a data-event="formatBlock" data-value="h3"><h3>'+n.style.h3+'<\/h3><\/a><\/li><li><a data-event="formatBlock" data-value="h4"><h4>'+n.style.h4+'<\/h4><\/a><\/li><li><a data-event="formatBlock" data-value="h5"><h5>'+n.style.h5+'<\/h5><\/a><\/li><li><a data-event="formatBlock" data-value="h6"><h6>'+n.style.h6+"<\/h6><\/a><\/li><\/ul>"},fontname:function(n){var i=["Serif","Sans","Arial","Arial Black","Courier","Courier New","Comic Sans MS","Helvetica","Impact","Lucida Grande","Lucida Sans","Tahoma","Times","Times New Roman","Verdana"],r='<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+n.font.name+'" tabindex="-1"><span class="note-current-fontname">Arial<\/span> <b class="caret"><\/b><\/button>',t;for(r+='<ul class="dropdown-menu">',t=0;t<i.length;t++)r+='<li><a data-event="fontName" data-value="'+i[t]+'"><i class="fa fa-check icon-ok"><\/i> '+i[t]+"<\/a><\/li>";return r+"<\/ul>"},fontsize:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+n.font.size+'" tabindex="-1"><span class="note-current-fontsize">11<\/span> <b class="caret"><\/b><\/button><ul class="dropdown-menu"><li><a data-event="fontSize" data-value="8"><i class="fa fa-check icon-ok"><\/i> 8<\/a><\/li><li><a data-event="fontSize" data-value="9"><i class="fa fa-check icon-ok"><\/i> 9<\/a><\/li><li><a data-event="fontSize" data-value="10"><i class="fa fa-check icon-ok"><\/i> 10<\/a><\/li><li><a data-event="fontSize" data-value="11"><i class="fa fa-check icon-ok"><\/i> 11<\/a><\/li><li><a data-event="fontSize" data-value="12"><i class="fa fa-check icon-ok"><\/i> 12<\/a><\/li><li><a data-event="fontSize" data-value="14"><i class="fa fa-check icon-ok"><\/i> 14<\/a><\/li><li><a data-event="fontSize" data-value="18"><i class="fa fa-check icon-ok"><\/i> 18<\/a><\/li><li><a data-event="fontSize" data-value="24"><i class="fa fa-check icon-ok"><\/i> 24<\/a><\/li><li><a data-event="fontSize" data-value="36"><i class="fa fa-check icon-ok"><\/i> 36<\/a><\/li><\/ul>'},color:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small note-recent-color" title="'+n.color.recent+'" data-event="color" data-value=\'{"backColor":"yellow"}\' tabindex="-1"><i class="fa fa-font icon-font" style="color:black;background-color:yellow;"><\/i><\/button><button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+n.color.more+'" data-toggle="dropdown" tabindex="-1"><span class="caret"><\/span><\/button><ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+n.color.background+'<\/div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+n.color.transparent+'">'+n.color.setTransparent+'<\/div><div class="note-color-palette" data-target-event="backColor"><\/div><\/div><div class="btn-group"><div class="note-palette-title">'+n.color.foreground+'<\/div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+n.color.reset+'">'+n.color.resetToDefault+'<\/div><div class="note-color-palette" data-target-event="foreColor"><\/div><\/div><\/li><\/ul>'},bold:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+n.font.bold+'" data-shortcut="Ctrl+B" data-mac-shortcut="⌘+B" data-event="bold" tabindex="-1"><i class="fa fa-bold icon-bold"><\/i><\/button>'},italic:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+n.font.italic+'" data-shortcut="Ctrl+I" data-mac-shortcut="⌘+I" data-event="italic" tabindex="-1"><i class="fa fa-italic icon-italic"><\/i><\/button>'},underline:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+n.font.underline+'" data-shortcut="Ctrl+U" data-mac-shortcut="⌘+U" data-event="underline" tabindex="-1"><i class="fa fa-underline icon-underline"><\/i><\/button>'},clear:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+n.font.clear+'" data-shortcut="Ctrl+\\" data-mac-shortcut="⌘+\\" data-event="removeFormat" tabindex="-1"><i class="fa fa-eraser icon-eraser"><\/i><\/button>'},ul:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+n.lists.unordered+'" data-shortcut="Ctrl+Shift+8" data-mac-shortcut="⌘+⇧+7" data-event="insertUnorderedList" tabindex="-1"><i class="fa fa-list-ul icon-list-ul"><\/i><\/button>'},ol:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+n.lists.ordered+'" data-shortcut="Ctrl+Shift+7" data-mac-shortcut="⌘+⇧+8" data-event="insertOrderedList" tabindex="-1"><i class="fa fa-list-ol icon-list-ol"><\/i><\/button>'},paragraph:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+n.paragraph.paragraph+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-align-left icon-align-left"><\/i>  <span class="caret"><\/span><\/button><div class="dropdown-menu"><div class="note-align btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.paragraph.left+'" data-shortcut="Ctrl+Shift+L" data-mac-shortcut="⌘+⇧+L" data-event="justifyLeft" tabindex="-1"><i class="fa fa-align-left icon-align-left"><\/i><\/button><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.paragraph.center+'" data-shortcut="Ctrl+Shift+E" data-mac-shortcut="⌘+⇧+E" data-event="justifyCenter" tabindex="-1"><i class="fa fa-align-center icon-align-center"><\/i><\/button><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.paragraph.right+'" data-shortcut="Ctrl+Shift+R" data-mac-shortcut="⌘+⇧+R" data-event="justifyRight" tabindex="-1"><i class="fa fa-align-right icon-align-right"><\/i><\/button><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.paragraph.justify+'" data-shortcut="Ctrl+Shift+J" data-mac-shortcut="⌘+⇧+J" data-event="justifyFull" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"><\/i><\/button><\/div><div class="note-list btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.paragraph.outdent+'" data-shortcut="Ctrl+[" data-mac-shortcut="⌘+[" data-event="outdent" tabindex="-1"><i class="fa fa-outdent icon-indent-left"><\/i><\/button><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.paragraph.indent+'" data-shortcut="Ctrl+]" data-mac-shortcut="⌘+]" data-event="indent" tabindex="-1"><i class="fa fa-indent icon-indent-right"><\/i><\/button><\/div><\/div>'},height:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+n.font.height+'" tabindex="-1"><i class="fa fa-text-height icon-text-height"><\/i>&nbsp; <b class="caret"><\/b><\/button><ul class="dropdown-menu"><li><a data-event="lineHeight" data-value="1.0"><i class="fa fa-check icon-ok"><\/i> 1.0<\/a><\/li><li><a data-event="lineHeight" data-value="1.2"><i class="fa fa-check icon-ok"><\/i> 1.2<\/a><\/li><li><a data-event="lineHeight" data-value="1.4"><i class="fa fa-check icon-ok"><\/i> 1.4<\/a><\/li><li><a data-event="lineHeight" data-value="1.5"><i class="fa fa-check icon-ok"><\/i> 1.5<\/a><\/li><li><a data-event="lineHeight" data-value="1.6"><i class="fa fa-check icon-ok"><\/i> 1.6<\/a><\/li><li><a data-event="lineHeight" data-value="1.8"><i class="fa fa-check icon-ok"><\/i> 1.8<\/a><\/li><li><a data-event="lineHeight" data-value="2.0"><i class="fa fa-check icon-ok"><\/i> 2.0<\/a><\/li><li><a data-event="lineHeight" data-value="3.0"><i class="fa fa-check icon-ok"><\/i> 3.0<\/a><\/li><\/ul>'},help:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+n.options.help+'" data-shortcut="Ctrl+/" data-mac-shortcut="⌘+/" data-event="showHelpDialog" tabindex="-1"><i class="fa fa-question icon-question"><\/i><\/button>'},fullscreen:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+n.options.fullscreen+'" data-event="fullscreen" tabindex="-1"><i class="fa fa-arrows-alt icon-fullscreen"><\/i><\/button>'},codeview:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+n.options.codeview+'" data-event="codeview" tabindex="-1"><i class="fa fa-code icon-code"><\/i><\/button>'},undo:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+n.history.undo+'" data-event="undo" tabindex="-1"><i class="fa fa-undo icon-undo"><\/i><\/button>'},redo:function(n){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+n.history.redo+'" data-event="redo" tabindex="-1"><i class="fa fa-repeat icon-repeat"><\/i><\/button>'}};r=function(n){return'<div class="note-popover"><div class="note-link-popover popover bottom in" style="display: none;"><div class="arrow"><\/div><div class="popover-content note-link-content"><a href="http://www.google.com" target="_blank">www.google.com<\/a>&nbsp;&nbsp;<div class="note-insert btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.link.edit+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-edit icon-edit"><\/i><\/button><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.link.unlink+'" data-event="unlink" tabindex="-1"><i class="fa fa-unlink icon-unlink"><\/i><\/button><\/div><\/div><\/div><div class="note-image-popover popover bottom in" style="display: none;"><div class="arrow"><\/div><div class="popover-content note-image-content"><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.image.resizeFull+'" data-event="resize" data-value="1" tabindex="-1"><span class="note-fontsize-10">100%<\/span> <\/button><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.image.resizeHalf+'" data-event="resize" data-value="0.5" tabindex="-1"><span class="note-fontsize-10">50%<\/span> <\/button><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.image.resizeQuarter+'" data-event="resize" data-value="0.25" tabindex="-1"><span class="note-fontsize-10">25%<\/span> <\/button><\/div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.image.floatLeft+'" data-event="floatMe" data-value="left" tabindex="-1"><i class="fa fa-align-left icon-align-left"><\/i><\/button><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.image.floatRight+'" data-event="floatMe" data-value="right" tabindex="-1"><i class="fa fa-align-right icon-align-right"><\/i><\/button><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.image.floatNone+'" data-event="floatMe" data-value="none" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"><\/i><\/button><\/div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+n.image.remove+'" data-event="removeMedia" data-value="none" tabindex="-1"><i class="fa fa-trash-o icon-trash"><\/i><\/button><\/div><\/div><\/div><\/div>'};var c=function(){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"><\/div><div class="note-control-holder note-control-nw"><\/div><div class="note-control-holder note-control-ne"><\/div><div class="note-control-holder note-control-sw"><\/div><div class="note-control-sizing note-control-se"><\/div><div class="note-control-selection-info"><\/div><\/div><\/div>'},l=function(n){return'<table class="note-shortcut"><thead><tr><th><\/th><th>'+n.shortcut.textFormatting+"<\/th><\/tr><\/thead><tbody><tr><td>⌘ + B<\/td><td>"+n.font.bold+"<\/td><\/tr><tr><td>⌘ + I<\/td><td>"+n.font.italic+"<\/td><\/tr><tr><td>⌘ + U<\/td><td>"+n.font.underline+"<\/td><\/tr><tr><td>⌘ + ⇧ + S<\/td><td>"+n.font.strike+"<\/td><\/tr><tr><td>⌘ + \\<\/td><td>"+n.font.clear+"<\/td><\/tr><\/tr><\/tbody><\/table>"},a=function(n){return'<table class="note-shortcut"><thead><tr><th><\/th><th>'+n.shortcut.action+"<\/th><\/tr><\/thead><tbody><tr><td>⌘ + Z<\/td><td>"+n.history.undo+"<\/td><\/tr><tr><td>⌘ + ⇧ + Z<\/td><td>"+n.history.redo+"<\/td><\/tr><tr><td>⌘ + ]<\/td><td>"+n.paragraph.indent+"<\/td><\/tr><tr><td>⌘ + [<\/td><td>"+n.paragraph.outdent+"<\/td><\/tr><tr><td>⌘ + K<\/td><td>"+n.link.insert+"<\/td><\/tr><tr><td>⌘ + ENTER<\/td><td>"+n.hr.insert+"<\/td><\/tr><\/tbody><\/table>"},v=function(n,t){var r='<table class="note-shortcut"><thead><tr><th><\/th><th>'+n.shortcut.extraKeys+"<\/th><\/tr><\/thead><tbody>";for(var i in t.extraKeys)t.extraKeys.hasOwnProperty(i)&&(r+="<tr><td>"+i+"<\/td><td>"+t.extraKeys[i]+"<\/td><\/tr>");return r+"<\/tbody><\/table>"},y=function(n){return'<table class="note-shortcut"><thead><tr><th><\/th><th>'+n.shortcut.paragraphFormatting+"<\/th><\/tr><\/thead><tbody><tr><td>⌘ + ⇧ + L<\/td><td>"+n.paragraph.left+"<\/td><\/tr><tr><td>⌘ + ⇧ + E<\/td><td>"+n.paragraph.center+"<\/td><\/tr><tr><td>⌘ + ⇧ + R<\/td><td>"+n.paragraph.right+"<\/td><\/tr><tr><td>⌘ + ⇧ + J<\/td><td>"+n.paragraph.justify+"<\/td><\/tr><tr><td>⌘ + ⇧ + NUM7<\/td><td>"+n.lists.ordered+"<\/td><\/tr><tr><td>⌘ + ⇧ + NUM8<\/td><td>"+n.lists.unordered+"<\/td><\/tr><\/tbody><\/table>"},p=function(n){return'<table class="note-shortcut"><thead><tr><th><\/th><th>'+n.shortcut.documentStyle+"<\/th><\/tr><\/thead><tbody><tr><td>⌘ + NUM0<\/td><td>"+n.style.normal+"<\/td><\/tr><tr><td>⌘ + NUM1<\/td><td>"+n.style.h1+"<\/td><\/tr><tr><td>⌘ + NUM2<\/td><td>"+n.style.h2+"<\/td><\/tr><tr><td>⌘ + NUM3<\/td><td>"+n.style.h3+"<\/td><\/tr><tr><td>⌘ + NUM4<\/td><td>"+n.style.h4+"<\/td><\/tr><tr><td>⌘ + NUM5<\/td><td>"+n.style.h5+"<\/td><\/tr><tr><td>⌘ + NUM6<\/td><td>"+n.style.h6+"<\/td><\/tr><\/tbody><\/table>"},o=function(n,t){var i='<table class="note-shortcut-layout"><tbody><tr><td>'+a(n,t)+"<\/td><td>"+l(n,t)+"<\/td><\/tr><tr><td>"+p(n,t)+"<\/td><td>"+y(n,t)+"<\/td><\/tr>";return t.extraKeys&&(i+='<tr><td colspan="2">'+v(n,t)+"<\/td><\/tr>"),i+"<\/tbody<\/table>"},w=function(n){return n.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift")};u=function(n,t){var i=function(){return'<div class="note-image-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;<\/button><h4>'+n.image.insert+'<\/h4><\/div><div class="modal-body"><div class="row-fluid"><h5>'+n.image.selectFromFiles+'<\/h5><input class="note-image-input" type="file" name="files" accept="image/*" /><h5>'+n.image.url+'<\/h5><input class="note-image-url form-control span12" type="text" /><\/div><\/div><div class="modal-footer"><button href="#" class="btn btn-primary note-image-btn disabled" disabled="disabled">'+n.image.insert+"<\/button><\/div><\/div><\/div><\/div>"},r=function(){return'<div class="note-link-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;<\/button><h4>'+n.link.insert+'<\/h4><\/div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+n.link.textToDisplay+'<\/label><input class="note-link-text form-control span12" disabled type="text" /><\/div><div class="form-group"><label>'+n.link.url+'<\/label><input class="note-link-url form-control span12" type="text" /><\/div>'+(t.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+n.link.openInNewWindow+"<\/label><\/div>")+'<\/div><\/div><div class="modal-footer"><button href="#" class="btn btn-primary note-link-btn disabled" disabled="disabled">'+n.link.insert+"<\/button><\/div><\/div><\/div><\/div>"},u=function(){return'<div class="note-video-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;<\/button><h4>'+n.video.insert+'<\/h4><\/div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+n.video.url+'<\/label>&nbsp;<small class="text-muted">'+n.video.providers+'<\/small><input class="note-video-url form-control span12" type="text" /><\/div><\/div><\/div><div class="modal-footer"><button href="#" class="btn btn-primary note-video-btn disabled" disabled="disabled">'+n.video.insert+"<\/button><\/div><\/div><\/div><\/div>"},e=function(){return'<div class="note-help-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+n.shortcut.close+'<\/a><div class="title">'+n.shortcut.shortcuts+"<\/div>"+(f.bMac?o(n,t):w(o(n,t)))+'<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.1<\/a> · <a href="//github.com/HackerWins/summernote" target="_blank">Project<\/a> · <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues<\/a><\/p><\/div><\/div><\/div><\/div>'};return'<div class="note-dialog">'+i()+r()+u()+e()+"<\/div>"};e=function(){return'<div class="note-resizebar"><div class="note-icon-bar"><\/div><div class="note-icon-bar"><\/div><div class="note-icon-bar"><\/div><\/div>'};var s=function(t,i){t.find("button").each(function(t,i){var r=n(i),u=r.attr(f.bMac?"data-mac-shortcut":"data-shortcut");u&&r.attr("title",function(n,t){return t+" ("+u+")"})}).tooltip({container:"body",trigger:"hover",placement:i||"top"}).on("click",function(){n(this).tooltip("hide")})},h=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],b=function(t){t.find(".note-color-palette").each(function(){for(var u,f,t,s,i,e=n(this),c=e.attr("data-target-event"),o=[],r=0,l=h.length;r<l;r++){for(u=h[r],f=[],t=0,s=u.length;t<s;t++)i=u[t],f.push(['<button type="button" class="note-color-btn" style="background-color:',i,';" data-event="',c,'" data-value="',i,'" title="',i,'" data-toggle="button" tabindex="-1"><\/button>'].join(""));o.push("<div>"+f.join("")+"<\/div>")}e.html(o.join(""))})};this.createLayout=function(f,o){var d=f.next(),h,g,a,v,l,y,nt,p,w,tt,k,it,rt;if(!d||!d.hasClass("note-editor")){for(h=n('<div class="note-editor"><\/div>'),o.width&&h.width(o.width),o.height>0&&n('<div class="note-statusbar">'+e()+"<\/div>").prependTo(h),g=!f.is(":disabled"),a=n('<div class="note-editable" contentEditable="'+g+'"><\/div>').prependTo(h),o.height&&a.height(o.height),o.direction&&a.attr("dir",o.direction),a.html(i.html(f)||i.emptyPara),n('<textarea class="note-codable"><\/textarea>').prependTo(h),v=n.summernote.lang[o.lang],l="",y=0,nt=o.toolbar.length;y<nt;y++){for(p=o.toolbar[y],l+='<div class="note-'+p[0]+' btn-group">',w=0,tt=p[1].length;w<tt;w++)l+=t[p[1][w]](v);l+="<\/div>"}l='<div class="note-toolbar btn-toolbar">'+l+"<\/div>";k=n(l).prependTo(h);b(k);s(k,"bottom");it=n(r(v)).prependTo(h);s(it);n(c()).prependTo(h);rt=n(u(v,o)).prependTo(h);rt.find("button.close, a.modal-close").click(function(){n(this).closest(".modal").modal("hide")});n('<div class="note-dropzone"><div class="note-dropzone-message"><\/div><\/div>').prependTo(h);h.insertAfter(f);f.hide()}};this.layoutInfoFromHolder=function(n){var u=n.next(),t,r;if(u.hasClass("note-editor")){t=i.buildLayoutInfo(u);for(r in t)t.hasOwnProperty(r)&&(t[r]=t[r].call());return t}};this.removeLayout=function(n){var t=this.layoutInfoFromHolder(n);t&&(n.html(t.editable.html()),t.editor.remove(),n.show())}};n.summernote=n.summernote||{};n.extend(n.summernote,{version:"0.5.1",options:{width:null,height:null,focus:!1,tabsize:null,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,codemirror:null,lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview"]],["help",["help"]]],oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strike",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, or DailyMotion)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"BackColor",foreground:"FontColor",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}});s=new g;h=new d;n.fn.extend({summernote:function(t){if(t=n.extend({},n.summernote.options,t),this.each(function(r,u){var f=n(u),e;s.createLayout(f,t);e=s.layoutInfoFromHolder(f);h.attach(e,t);i.isTextarea(f[0])&&f.closest("form").submit(function(){f.html(f.code())})}),this.first()&&t.focus){var r=s.layoutInfoFromHolder(this.first());r.editable.focus()}return this.length>0&&t.oninit&&t.oninit(),this},code:function(t){var r,i,u;return t===undefined?(r=this.first(),r.length===0)?void 0:(i=s.layoutInfoFromHolder(r),!!(i&&i.editable))?(u=i.editor.hasClass("codeview"),u&&f.bCodeMirror&&i.codable.data("cmEditor").save(),u?i.codable.val():i.editable.html()):r.html():(this.each(function(i,r){var u=s.layoutInfoFromHolder(n(r));u&&u.editable&&u.editable.html(t)}),this)},destroy:function(){return this.each(function(t,i){var u=n(i),r=s.layoutInfoFromHolder(u);r&&r.editable&&(h.dettach(r),s.removeLayout(u))}),this}})}),function(n){function c(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function l(){var n=require("util");return"Markdown.mk_block( "+n.inspect(this.toString())+", "+n.inspect(this.trailing)+", "+n.inspect(this.lineNumber)+" )"}function o(n){for(var t=0,i=-1;(i=n.indexOf("\n",i+1))!==-1;)t++;return t}function f(n,t){function u(n){this.len_after=n;this.name="close_"+t}var i=n+"_state",r=n=="strong"?"em_state":"strong_state";return function(f){var o,s,c;if(this[i][0]==t)return this[i].shift(),[f.length,new u(f.length-t.length)];o=this[r].slice();s=this[i].slice();this[i].unshift(t);var e=this.processInline(f.substr(t.length)),h=e[e.length-1],l=this[i].shift();return h instanceof u?(e.pop(),c=f.length-h.len_after,[c,[n].concat(e)]):(this[r]=o,this[i]=s,[t.length,t])}}function v(n){for(var r=n.split(""),t=[""],u=!1,i;r.length;){i=r.shift();switch(i){case" ":u?t[t.length-1]+=i:t.push("");break;case"'":case'"':u=!u;break;case"\\":i=r.shift();default:t[t.length-1]+=i}}return t}function i(n){return u(n)&&n.length>1&&typeof n[1]=="object"&&!u(n[1])?n[1]:undefined}function s(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function h(n){var i,u;if(typeof n=="string")return s(n);var t=n.shift(),r={},f=[];for(!n.length||typeof n[0]!="object"||n[0]instanceof Array||(r=n.shift());n.length;)f.push(arguments.callee(n.shift()));i="";for(u in r)i+=" "+u+'="'+s(r[u])+'"';return t=="img"||t=="br"||t=="hr"?"<"+t+i+"/>":"<"+t+i+">"+f.join("")+"<\/"+t+">"}function y(n,t,r){var e,u,f,s,o,h;if(r=r||{},u=n.slice(0),typeof r.preprocessTreeNode=="function"&&(u=r.preprocessTreeNode(u,t)),f=i(u),f){u[1]={};for(e in f)u[1][e]=f[e];f=u[1]}if(typeof u=="string")return u;switch(u[0]){case"header":u[0]="h"+u[1].level;delete u[1].level;break;case"bulletlist":u[0]="ul";break;case"numberlist":u[0]="ol";break;case"listitem":u[0]="li";break;case"para":u[0]="p";break;case"markdown":u[0]="html";f&&delete f.references;break;case"code_block":u[0]="pre";e=f?2:1;s=["code"];s.push.apply(s,u.splice(e));u[e]=s;break;case"inlinecode":u[0]="code";break;case"img":u[1].src=u[1].href;delete u[1].href;break;case"linebreak":u[0]="br";break;case"link":u[0]="a";break;case"link_ref":if(u[0]="a",o=t[f.ref],o)delete f.ref,f.href=o.href,o.title&&(f.title=o.title),delete f.original;else return f.original;break;case"img_ref":if(u[0]="img",o=t[f.ref],o)delete f.ref,f.src=o.href,o.title&&(f.title=o.title),delete f.original;else return f.original}if(e=1,f){for(h in u[1])e=2;e===1&&u.splice(e,1)}for(;e<u.length;++e)u[e]=arguments.callee(u[e],t,r);return u}function w(n){for(var t=i(n)?2:1;t<n.length;)typeof n[t]=="string"?t+1<n.length&&typeof n[t+1]=="string"?n[t]+=n.splice(t+1,1)[0]:++t:(arguments.callee(n[t]),++t)}var t=n.Markdown=function t(n){switch(typeof n){case"undefined":this.dialect=t.dialects.Gruber;break;case"object":this.dialect=n;break;default:if(n in t.dialects)this.dialect=t.dialects[n];else throw new Error("Unknown Markdown dialect '"+String(n)+"'");}this.em_state=[];this.strong_state=[];this.debug_indent=""},r,u,e;n.parse=function(n,i){var r=new t(i);return r.toTree(n)};n.toHTML=function(t,i,r){var u=n.toHTMLTree(t,i,r);return n.renderJsonML(u)};n.toHTMLTree=function(n,t,r){var u,f,e;return typeof n=="string"&&(n=this.parse(n,t)),u=i(n),f={},u&&u.references&&(f=u.references),e=y(n,f,r),w(e),e};r=t.mk_block=function(n,t,i){arguments.length==1&&(t="\n\n");var r=new String(n);return r.trailing=t,r.inspect=l,r.toSource=c,i!=undefined&&(r.lineNumber=i),r};t.prototype.split_blocks=function(n){var u=/([\s\S]+?)($|\n(?:\s*\n|$)+)/g,f=[],t,i=1;for((t=/^(\s*\n)/.exec(n))!=null&&(i+=o(t[0]),u.lastIndex=t[0].length);(t=u.exec(n))!==null;)f.push(r(t[1],t[2],i)),i+=o(t[0]);return f};t.prototype.processBlock=function(n,t){var f=this.dialect.block,e=f.__order__,r,i;if("__call__"in f)return f.__call__.call(this,n,t);for(r=0;r<e.length;r++)if(i=f[e[r]].call(this,n,t),i)return(!u(i)||i.length>0&&!u(i[0]))&&this.debug(e[r],"didn't return a proper array"),i;return[]};t.prototype.processInline=function(n){return this.dialect.inline.__call__.call(this,String(n))};t.prototype.toTree=function(n,t){var i=n instanceof Array?n:this.split_blocks(n),u=this.tree,r;try{this.tree=t||this.tree||["markdown"];n:while(i.length)(r=this.processBlock(i.shift(),i),r.length)&&this.tree.push.apply(this.tree,r);return this.tree}finally{t&&(this.tree=u)}};t.prototype.debug=function(){var n=Array.prototype.slice.call(arguments);n.unshift(this.debug_indent);typeof print!="undefined"&&print.apply(print,n);typeof console!="undefined"&&typeof console.log!="undefined"&&console.log.apply(null,n)};t.prototype.loop_re_over_block=function(n,t,i){for(var u,r=t.valueOf();r.length&&(u=n.exec(r))!=null;)r=r.substr(u[0].length),i.call(this,u);return r};t.dialects={};t.dialects.Gruber={block:{atxHeader:function(n,t){var i=n.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/),u;return i?(u=["header",{level:i[1].length}],Array.prototype.push.apply(u,this.processInline(i[2])),i[0].length<n.length&&t.unshift(r(n.substr(i[0].length),n.trailing,n.lineNumber+2)),[u]):undefined},setextHeader:function(n,t){var i=n.match(/^(.*)\n([-=])\2\2+(?:\n|$)/),u,f;return i?(u=i[2]==="="?1:2,f=["header",{level:u},i[1]],i[0].length<n.length&&t.unshift(r(n.substr(i[0].length),n.trailing,n.lineNumber+2)),[f]):undefined},code:function(n,t){var i=[],u=/^(?: {0,3}\t| {4})(.*)\n?/,f;if(!n.match(u))return undefined;n:do if(f=this.loop_re_over_block(u,n.valueOf(),function(n){i.push(n[1])}),f.length){t.unshift(r(f,n.trailing));break n}else if(t.length){if(!t[0].match(u))break n;i.push(n.trailing.replace(/[^\n]/g,"").substring(2));n=t.shift()}else break n;while(1);return[["code_block",i.join("\n")]]},horizRule:function(n,t){var i=n.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/),u;return i?(u=[["hr"]],i[1]&&u.unshift.apply(u,this.processBlock(i[1],[])),i[3]&&t.unshift(r(i[3])),u):undefined},lists:function(){function s(i){return new RegExp("(?:^("+n+"{0,"+i+"} {0,3})("+t+")\\s+)|(^"+n+"{0,"+(i-1)+"}[ ]{0,4})")}function h(n){return n.replace(/ {0,3}\t/g,"    ")}function u(n,t,i,r){var u,f,e,o;if(t){n.push(["para"].concat(i));return}for(u=n[n.length-1]instanceof Array&&n[n.length-1][0]=="para"?n[n.length-1]:n,r&&n.length>1&&i.unshift(r),f=0;f<i.length;f++)e=i[f],o=typeof e=="string",o&&u.length>1&&typeof u[u.length-1]=="string"?u[u.length-1]+=e:u.push(e)}function c(t,i){for(var o=new RegExp("^("+n+"{"+t+"}.*?\\n?)*$"),s=new RegExp("^"+n+"{"+t+"}","gm"),f=[],u,e;i.length>0;){o.exec(i[0])&&(u=i.shift(),e=u.replace(s,""),f.push(r(e,u.trailing,u.lineNumber)));break}return f}function f(n,t,i){var u=n.list,r=u[u.length-1],f;r[1]instanceof Array&&r[1][0]=="para"||(t+1==i.length?r.push(["para"].concat(r.splice(1))):(f=r.pop(),r.push(["para"].concat(r.splice(1)),f)))}var t="[*+-]|\\d+\\.",o=/[*+-]/,i=new RegExp("^( {0,3})("+t+")[ \t]+"),n="(?: {0,3}\\t| {4})";return function(n,t){function g(n){var t=o.exec(n[2])?["bulletlist"]:["numberlist"];return r.push({list:t,indent:n[1]}),t}var l=n.match(i),tt,y,d,w,rt,ut,ft,et;if(!l)return undefined;var r=[],v=g(l),a,b=!1,nt=[r[0].list],p;n:for(;;){for(tt=n.split(/(?=\n)/),y="",d=0;d<tt.length;d++){var k="",it=tt[d].replace(/^\n/,function(n){return k=n,""}),ot=s(r.length);if(l=it.match(ot),l[1]!==undefined){if(y.length&&(u(a,b,this.processInline(y),k),b=!1,y=""),l[1]=h(l[1]),w=Math.floor(l[1].length/4)+1,w>r.length)v=g(l),a.push(v),a=v[1]=["listitem"];else{for(rt=!1,p=0;p<r.length;p++)if(r[p].indent==l[1]){v=r[p].list;r.splice(p+1);rt=!0;break}rt||(w++,w<=r.length?(r.splice(w),v=r[w-1].list):(v=g(l),a.push(v)));a=["listitem"];v.push(a)}k=""}it.length>l[0].length&&(y+=k+it.substr(l[0].length))}if(y.length&&(u(a,b,this.processInline(y),k),b=!1,y=""),ut=c(r.length,t),ut.length>0&&(e(r,f,this),a.push.apply(a,this.toTree(ut,[]))),ft=t[0]&&t[0].valueOf()||"",ft.match(i)||ft.match(/^ /)){if(n=t.shift(),et=this.dialect.block.horizRule(n,t),et){nt.push.apply(nt,et);break}e(r,f,this);b=!0;continue n}break}return nt}}(),blockquote:function(n,t){var i,r,u,f,e,o;if(!n.match(/^>/m))return undefined;if(i=[],n[0]!=">"){for(r=n.split(/\n/),u=[];r.length&&r[0][0]!=">";)u.push(r.shift());n=r.join("\n");i.push.apply(i,this.processBlock(u.join("\n"),[]))}while(t.length&&t[0][0]==">")f=t.shift(),n=new String(n+n.trailing+f),n.trailing=f.trailing;return e=n.replace(/^> ?/gm,""),o=this.tree,i.push(this.toTree(e,["blockquote"])),i},referenceDefn:function(n,t){var e=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/,u,f;return n.match(e)?(i(this.tree)||this.tree.splice(1,0,{}),u=i(this.tree),u.references===undefined&&(u.references={}),f=this.loop_re_over_block(e,n,function(n){n[2]&&n[2][0]=="<"&&n[2][n[2].length-1]==">"&&(n[2]=n[2].substring(1,n[2].length-1));var t=u.references[n[1].toLowerCase()]={href:n[2]};n[4]!==undefined?t.title=n[4]:n[5]!==undefined&&(t.title=n[5])}),f.length&&t.unshift(r(f,n.trailing)),[]):undefined},para:function(n){return[["para"].concat(this.processInline(n))]}}};t.dialects.Gruber.inline={__oneElement__:function(n,t,i){var r,f,u;if(t=t||this.dialect.inline.__patterns__,f=new RegExp("([\\s\\S]*?)("+(t.source||t)+")"),r=f.exec(n),r){if(r[1])return[r[1].length,r[1]]}else return[n.length,n];return r[2]in this.dialect.inline&&(u=this.dialect.inline[r[2]].call(this,n.substr(r.index),r,i||[])),u||[r[2].length,r[2]]},__call__:function(n,t){function u(n){typeof n=="string"&&typeof i[i.length-1]=="string"?i[i.length-1]+=n:i.push(n)}for(var i=[],r;n.length>0;)r=this.dialect.inline.__oneElement__.call(this,n,t,i),n=n.substr(r.shift()),e(r,u);return i},"]":function(){},"}":function(){},"\\":function(n){return n.match(/^\\[\\`\*_{}\[\]()#\+.!\-]/)?[2,n[1]]:[1,"\\"]},"![":function(n){var t=n.match(/^!\[(.*?)\][ \t]*\([ \t]*(\S*)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/),i;return t?(t[2]&&t[2][0]=="<"&&t[2][t[2].length-1]==">"&&(t[2]=t[2].substring(1,t[2].length-1)),t[2]=this.dialect.inline.__call__.call(this,t[2],/\\/)[0],i={alt:t[1],href:t[2]||""},t[4]!==undefined&&(i.title=t[4]),[t[0].length,["img",i]]):(t=n.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),t)?[t[0].length,["img_ref",{alt:t[1],ref:t[2].toLowerCase(),original:t[0]}]]:[2,"!["]},"[":function(n){var l=String(n),h=t.DialectHelpers.inline_until_char.call(this,n.substr(1),"]"),u,f,o,e,r,i,c,s;if(!h)return[1,"["];if(u=1+h[0],f=h[1],n=n.substr(u),r=n.match(/^\s*\([ \t]*(\S+)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/),r){if(i=r[1],u+=r[0].length,i&&i[0]=="<"&&i[i.length-1]==">"&&(i=i.substring(1,i.length-1)),!r[3])for(c=1,s=0;s<i.length;s++)switch(i[s]){case"(":c++;break;case")":--c==0&&(u-=i.length-s,i=i.substring(0,s))}return i=this.dialect.inline.__call__.call(this,i,/\\/)[0],e={href:i||""},r[3]!==undefined&&(e.title=r[3]),o=["link",e].concat(f),[u,o]}return(r=n.match(/^\s*\[(.*?)\]/),r)?(u+=r[0].length,e={ref:(r[1]||String(f)).toLowerCase(),original:l.substr(0,u)},o=["link_ref",e].concat(f),[u,o]):f.length==1&&typeof f[0]=="string"?(e={ref:f[0].toLowerCase(),original:l.substr(0,u)},o=["link_ref",e,f[0]],[u,o]):[1,"["]},"<":function(n){var t;return(t=n.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))!=null?t[3]?[t[0].length,["link",{href:"mailto:"+t[3]},t[3]]]:t[2]=="mailto"?[t[0].length,["link",{href:t[1]},t[1].substr(7)]]:[t[0].length,["link",{href:t[1]},t[1]]]:[1,"<"]},"`":function(n){var t=n.match(/(`+)(([\s\S]*?)\1)/);return t&&t[2]?[t[1].length+t[2].length,["inlinecode",t[3]]]:[1,"`"]},"  \n":function(){return[3,["linebreak"]]}};t.dialects.Gruber.inline["**"]=f("strong","**");t.dialects.Gruber.inline.__=f("strong","__");t.dialects.Gruber.inline["*"]=f("em","*");t.dialects.Gruber.inline._=f("em","_");t.buildBlockOrder=function(n){var i=[];for(var t in n)t!="__order__"&&t!="__call__"&&i.push(t);n.__order__=i};t.buildInlinePatterns=function(n){var t=[],i,r,u;for(i in n)i.match(/^__.*__$/)||(r=i.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n"),t.push(i.length==1?r:"(?:"+r+")"));t=t.join("|");n.__patterns__=t;u=n.__call__;n.__call__=function(n,i){return i!=undefined?u.call(this,n,i):u.call(this,n,t)}};t.DialectHelpers={};t.DialectHelpers.inline_until_char=function(n,t){for(var i=0,r=[],u;;){if(n[i]==t)return i++,[i,r];if(i>=n.length)return null;u=this.dialect.inline.__oneElement__.call(this,n.substr(i));i+=u[0];r.push.apply(r,u.slice(1))}};t.subclassDialect=function(n){function t(){}function i(){}return t.prototype=n.block,i.prototype=n.inline,{block:new t,inline:new i}};t.buildBlockOrder(t.dialects.Gruber.block);t.buildInlinePatterns(t.dialects.Gruber.inline);t.dialects.Maruku=t.subclassDialect(t.dialects.Gruber);t.dialects.Maruku.processMetaHash=function(n){for(var u,i=v(n),r={},t=0;t<i.length;++t)/^#/.test(i[t])?r.id=i[t].substring(1):/^\./.test(i[t])?r["class"]=r["class"]?r["class"]+i[t].replace(/./," "):i[t].substring(1):/\=/.test(i[t])&&(u=i[t].split(/\=/),r[u[0]]=u[1]);return r};t.dialects.Maruku.block.document_meta=function(n){var t;if(n.lineNumber>1||!n.match(/^(?:\w+:.*\n)*\w+:.*$/))return undefined;i(this.tree)||this.tree.splice(1,0,{});t=n.split(/\n/);for(p in t){var r=t[p].match(/(\w+):\s*(.*)$/),u=r[1].toLowerCase(),f=r[2];this.tree[1][u]=f}return[]};t.dialects.Maruku.block.block_meta=function(n){var e=n.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/),r,t,u,o,f;if(!e)return undefined;if(r=this.dialect.processMetaHash(e[2]),e[1]===""){if(u=this.tree[this.tree.length-1],t=i(u),typeof u=="string")return undefined;t||(t={},u.splice(1,0,t));for(a in r)t[a]=r[a];return[]}o=n.replace(/\n.*$/,"");f=this.processBlock(o,[]);t=i(f[0]);t||(t={},f[0].splice(1,0,t));for(a in r)t[a]=r[a];return f};t.dialects.Maruku.block.definition_list=function(n,t){var f=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,e=["dl"],i,r,u;if(o=n.match(f)){for(r=[n];t.length&&f.exec(t[0]);)r.push(t.shift());for(u=0;u<r.length;++u){var o=r[u].match(f),s=o[1].replace(/\n$/,"").split(/\n/),h=o[2].split(/\n:\s+/);for(i=0;i<s.length;++i)e.push(["dt",s[i]]);for(i=0;i<h.length;++i)e.push(["dd"].concat(this.processInline(h[i].replace(/(\n)\s+/,"$1"))))}}else return undefined;return[e]};t.dialects.Maruku.inline["{:"]=function(n,t,r){var f,e,o,u,s;if(!r.length)return[2,"{:"];if(f=r[r.length-1],typeof f=="string")return[2,"{:"];if(e=n.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/),!e)return[2,"{:"];o=this.dialect.processMetaHash(e[1]);u=i(f);u||(u={},f.splice(1,0,u));for(s in o)u[s]=o[s];return[e[0].length,""]};t.buildBlockOrder(t.dialects.Maruku.block);t.buildInlinePatterns(t.dialects.Maruku.inline);u=Array.isArray||function(n){return Object.prototype.toString.call(n)=="[object Array]"};e=Array.prototype.forEach?function(n,t,i){return n.forEach(t,i)}:function(n,t,i){for(var r=0;r<n.length;r++)t.call(i||n,n[r],r,n)};n.renderJsonML=function(n,t){t=t||{};t.root=t.root||!1;var i=[];if(t.root)i.push(h(n));else for(n.shift(),!n.length||typeof n[0]!="object"||n[0]instanceof Array||n.shift();n.length;)i.push(h(n.shift()));return i.join("\n\n")}}(function(){return typeof exports=="undefined"?(window.markdown={},window.markdown):exports}());var toMarkdown=function(n){function h(n,t){var r=t.type==="void"?"<"+t.tag+"\\b([^>]*)\\/?>":"<"+t.tag+"\\b([^>]*)>([\\s\\S]*?)<\\/"+t.tag+">",i=new RegExp(r,"gi");return typeof t.replacement=="string"?n.replace(i,t.replacement):n.replace(i,function(n,i,r,u){return t.replacement.call(this,n,i,r,u)})}function r(n){return new RegExp(n+"\\s*=\\s*[\"']?([^\"']*)[\"']?","i")}function l(n){return n=n.replace(/<(ul|ol)\b[^>]*>([\s\S]*?)<\/\1>/gi,function(n,i,r){var u=r.split("<\/li>"),e;for(u.splice(u.length-1,1),t=0,f=u.length;t<f;t++)u[t]&&(e=i==="ol"?t+1+".  ":"*   ",u[t]=u[t].replace(/\s*<li[^>]*>([\s\S]*)/i,function(n,t){return t=t.replace(/^\s+/,""),t=t.replace(/\n\n/g,"\n\n    "),t=t.replace(/\n([ ]*)+(\*|\d+\.) /g,"\n$1    $2 "),e+t}));return u.join("\n")}),"\n\n"+n.replace(/[ \t]+\n|\s+$/g,"")}function a(n){return n.replace(/<blockquote\b[^>]*>([\s\S]*?)<\/blockquote>/gi,function(n,t){return t=t.replace(/^\s+|\s+$/g,""),t=c(t),t=t.replace(/^/gm,"> "),t.replace(/^(>([ \t]{2,}>)+)/gm,"> >")})}function c(n){return n=n.replace(/^[\t\r\n]+|[\t\r\n]+$/g,""),n=n.replace(/\n\s+\n/g,"\n\n"),n.replace(/\n{3,}/g,"\n\n")}for(var u,s,e,o,i=[{patterns:"p",replacement:function(n,t,i){return i?"\n\n"+i+"\n":""}},{patterns:"br",type:"void",replacement:"\n"},{patterns:"h([1-6])",replacement:function(n,t,i,r){for(var u="",f=0;f<t;f++)u+="#";return"\n\n"+u+" "+r+"\n"}},{patterns:"hr",type:"void",replacement:"\n\n* * *\n"},{patterns:"a",replacement:function(n,t,i){var f=t.match(r("href")),u=t.match(r("title"));return f?"["+i+"]("+f[1]+(u&&u[1]?' "'+u[1]+'"':"")+")":n}},{patterns:["b","strong"],replacement:function(n,t,i){return i?"**"+i+"**":""}},{patterns:["i","em"],replacement:function(n,t,i){return i?"_"+i+"_":""}},{patterns:"code",replacement:function(n,t,i){return i?"`"+i+"`":""}},{patterns:"img",type:"void",replacement:function(n,t){var f=t.match(r("src")),i=t.match(r("alt")),u=t.match(r("title"));return"!["+(i&&i[1]?i[1]:"")+"]("+f[1]+(u&&u[1]?' "'+u[1]+'"':"")+")"}}],t=0,f=i.length;t<f;t++)if(typeof i[t].patterns=="string")n=h(n,{tag:i[t].patterns,replacement:i[t].replacement,type:i[t].type});else for(u=0,s=i[t].patterns.length;u<s;u++)n=h(n,{tag:i[t].patterns[u],replacement:i[t].replacement,type:i[t].type});for(n=n.replace(/<pre\b[^>]*>`([\s\S]*)`<\/pre>/gi,function(n,t){return t=t.replace(/^\t+/g,"  "),t=t.replace(/\n/g,"\n    "),"\n\n    "+t+"\n"}),n=n.replace(/^(\s{0,3}\d+)\. /g,"$1\\. "),e=/<(ul|ol)\b[^>]*>(?:(?!<ul|<ol)[\s\S])*?<\/\1>/gi;n.match(e);)n=n.replace(e,function(n){return l(n)});for(o=/<blockquote\b[^>]*>((?:(?!<blockquote)[\s\S])*?)<\/blockquote>/gi;n.match(o);)n=n.replace(o,function(n){return a(n)});return c(n)};typeof exports=="object"&&(exports.toMarkdown=toMarkdown);!function(n){"use strict";var t=function(t,i){this.$ns="bootstrap-markdown";this.$element=n(t);this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null};this.$options=n.extend(!0,{},n.fn.markdown.defaults,i);this.$oldContent=null;this.$isPreview=!1;this.$editor=null;this.$textarea=null;this.$handler=[];this.$callback=[];this.$nextTab=[];this.showEditor()},u,i,r;t.prototype={constructor:t,__alterButtons:function(t,i){var r=this.$handler,u=t=="all",f=this;n.each(r,function(n,r){var e=!0;e=u?!1:r.indexOf(t)<0;e==!1&&i(f.$editor.find('button[data-handler="'+r+'"]'))})},__buildButtons:function(t,i){for(var c=this.$ns,v=this.$handler,y=this.$callback,f,o,e,s,h,u=0;u<t.length;u++)for(o=t[u],f=0;f<o.length;f++){for(s=o[f].data,h=n("<div/>",{"class":"btn-group"}),e=0;e<s.length;e++){var r=s[e],l="",a=c+"-"+r.name,p=r.icon instanceof Object?r.icon[this.$options.iconlibrary]:r.icon,w=r.btnText?r.btnText:"",b=r.btnClass?r.btnClass:"btn",k=r.tabIndex?r.tabIndex:"-1";r.toggle==!0&&(l=' data-toggle="button"');h.append('<button type="button" class="'+b+' btn-default btn-sm" title="'+r.title+'" tabindex="'+k+'" data-provider="'+c+'" data-handler="'+a+'"'+l+'><span class="'+p+'"><\/span> '+w+"<\/button>");v.push(a);y.push(r.callback)}i.append(h)}return i},__setListener:function(){var t=typeof this.$textarea.attr("rows")!="undefined",i=this.$textarea.val().split("\n").length>5?this.$textarea.val().split("\n").length:"5",r=t?this.$textarea.attr("rows"):i;this.$textarea.attr("rows",r);this.$textarea.css("resize","none");this.$textarea.on("focus",n.proxy(this.focus,this)).on("keypress",n.proxy(this.keypress,this)).on("keyup",n.proxy(this.keyup,this));if(this.eventSupported("keydown"))this.$textarea.on("keydown",n.proxy(this.keydown,this));this.$textarea.data("markdown",this)},__handle:function(t){var r=n(t.currentTarget),u=this.$handler,f=this.$callback,i=r.attr("data-handler"),e=u.indexOf(i),o=f[e];n(t.currentTarget).focus();o(this);i.indexOf("cmdSave")<0&&this.$textarea.focus();t.preventDefault()},showEditor:function(){var l=this,u,a=this.$ns,t=this.$element,p=t.css("height"),w=t.css("width"),f=this.$editable,v=this.$handler,y=this.$callback,i=this.$options,r=n("<div/>",{"class":"md-editor",click:function(){l.focus()}}),e,h,c,o,s;if(this.$editor==null){e=n("<div/>",{"class":"md-header btn-toolbar"});i.buttons.length>0&&(e=this.__buildButtons(i.buttons,e));i.additionalButtons.length>0&&(e=this.__buildButtons(i.additionalButtons,e));r.append(e);t.is("textarea")?(t.before(r),u=t,u.addClass("md-input"),r.append(u)):(h=typeof toMarkdown=="function"?toMarkdown(t.html()):t.html(),c=n.trim(h),u=n("<textarea/>",{"class":"md-input",val:c}),r.append(u),f.el=t,f.type=t.prop("tagName").toLowerCase(),f.content=t.html(),n(t[0].attributes).each(function(){f.attrKeys.push(this.nodeName);f.attrValues.push(this.nodeValue)}),t.replaceWith(r));i.savable&&(o=n("<div/>",{"class":"md-footer"}),s="cmdSave",v.push(s),y.push(i.onSave),o.append('<button class="btn btn-success" data-provider="'+a+'" data-handler="'+s+'"><i class="icon icon-white icon-ok"><\/i> Save<\/button>'),r.append(o));n.each(["height","width"],function(n,t){i[t]!="inherit"&&(jQuery.isNumeric(i[t])?r.css(t,i[t]+"px"):r.addClass(i[t]))});this.$editor=r;this.$textarea=u;this.$editable=f;this.$oldContent=this.getContent();this.__setListener();this.$editor.attr("id",(new Date).getTime());this.$editor.on("click",'[data-provider="bootstrap-markdown"]',n.proxy(this.__handle,this))}else this.$editor.show();i.autofocus&&(this.$textarea.focus(),this.$editor.addClass("active"));i.onShow(this);return this},showPreview:function(){var o=this.$options,e=o.onPreview(this),t=this.$textarea,u=t.next(),i=n("<div/>",{"class":"md-preview","data-provider":"markdown-preview"}),f,r;return this.$isPreview=!0,this.disableButtons("all").enableButtons("cmdPreview"),typeof e=="string"?f=e:(r=t.val(),f=typeof markdown=="object"?markdown.toHTML(r):typeof marked=="function"?marked(r):r),i.html(f),u&&u.attr("class")=="md-footer"?i.insertBefore(u):t.parent().append(i),t.hide(),i.data("markdown",this),this},hidePreview:function(){this.$isPreview=!1;var n=this.$editor.find('div[data-provider="markdown-preview"]');return n.remove(),this.enableButtons("all"),this.$textarea.show(),this.__setListener(),this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(n){return this.$textarea.val(n),this},findSelection:function(n){var u=this.getContent(),t,i,r;return(t=u.indexOf(n),t>=0&&n.length>0)?(i=this.getSelection(),this.setSelection(t,t+n.length),r=this.getSelection(),this.setSelection(i.start,i.end),r):null},getSelection:function(){var n=this.$textarea[0];return("selectionStart"in n&&function(){var t=n.selectionEnd-n.selectionStart;return{start:n.selectionStart,end:n.selectionEnd,length:t,text:n.value.substr(n.selectionStart,t)}}||function(){return null})()},setSelection:function(n,t){var i=this.$textarea[0];return("selectionStart"in i&&function(){i.selectionStart=n;i.selectionEnd=t;return}||function(){return null})()},replaceSelection:function(n){var t=this.$textarea[0];return("selectionStart"in t&&function(){return t.value=t.value.substr(0,t.selectionStart)+n+t.value.substr(t.selectionEnd,t.value.length),t.selectionStart=t.value.length,this}||function(){return t.value+=n,jQuery(t)})()},getNextTab:function(){if(this.$nextTab.length==0)return null;var t,n=this.$nextTab.shift();return typeof n=="function"?t=n():typeof n=="object"&&n.length>0&&(t=n),t},setNextTab:function(n,t){var r,i;typeof n=="string"?(r=this,this.$nextTab.push(function(){return r.findSelection(n)})):typeof n=="numeric"&&typeof t=="numeric"&&(i=this.getSelection(),this.setSelection(n,t),this.$nextTab.push(this.getSelection()),this.setSelection(i.start,i.end));return},enableButtons:function(n){var t=function(n){n.removeAttr("disabled")};return this.__alterButtons(n,t),this},disableButtons:function(n){var t=function(n){n.attr("disabled","disabled")};return this.__alterButtons(n,t),this},eventSupported:function(n){var t=n in this.$element;return t||(this.$element.setAttribute(n,"return;"),t=typeof this.$element[n]=="function"),t},keydown:function(t){this.suppressKeyPressRepeat=~n.inArray(t.keyCode,[40,38,9,13,27]);this.keyup(t)},keypress:function(n){this.suppressKeyPressRepeat||this.keyup(n)},keyup:function(n){var t=!1,i,u,r;switch(n.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:(i=this.getNextTab(),i!=null)?(u=this,setTimeout(function(){u.setSelection(i.start,i.end)},500),t=!0):(r=this.getSelection(),r.start==r.end&&r.end==this.getContent().length?t=!1:(this.setSelection(this.getContent().length,this.getContent().length),t=!0));break;case 13:case 27:t=!1;break;default:t=!1}t&&(n.stopPropagation(),n.preventDefault())},focus:function(){var t=this.$options,r=t.hideable,i=this.$editor;i.addClass("active");n(document).find(".md-editor").each(function(){if(n(this).attr("id")!=i.attr("id")){var t;(t=n(this).find("textarea").data("markdown"),t==null)&&(t=n(this).find('div[data-provider="markdown-preview"]').data("markdown"));t&&t.blur()}});t.onFocus(this);return this},blur:function(){var u=this.$options,e=u.hideable,i=this.$editor,t=this.$editable;if(i.hasClass("active")||this.$element.parent().length==0){if(i.removeClass("active"),e)if(t.el!=null){var r=n("<"+t.type+"/>"),f=this.getContent(),o=typeof markdown=="object"?markdown.toHTML(f):f;n(t.attrKeys).each(function(n){r.attr(t.attrKeys[n],t.attrValues[n])});r.html(o);i.replaceWith(r)}else i.hide();u.onBlur(this)}return this}};u=n.fn.markdown;n.fn.markdown=function(i){return this.each(function(){var r=n(this),u=r.data("markdown"),f=typeof i=="object"&&i;u||r.data("markdown",u=new t(this,f))})};n.fn.markdown.defaults={autofocus:!1,hideable:!1,savable:!1,width:"inherit",height:"inherit",iconlibrary:"glyph",buttons:[[{name:"groupFont",data:[{name:"cmdBold",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold"},callback:function(n){var i,r,t=n.getSelection(),u=n.getContent();i=t.length==0?"strong text":t.text;u.substr(t.start-2,2)=="**"&&u.substr(t.end,2)=="**"?(n.setSelection(t.start-2,t.end+2),n.replaceSelection(i),r=t.start-2):(n.replaceSelection("**"+i+"**"),r=t.start+2);n.setSelection(r,r+i.length)}},{name:"cmdItalic",title:"Italic",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic"},callback:function(n){var i,r,t=n.getSelection(),u=n.getContent();i=t.length==0?"emphasized text":t.text;u.substr(t.start-1,1)=="*"&&u.substr(t.end,1)=="*"?(n.setSelection(t.start-1,t.end+1),n.replaceSelection(i),r=t.start-1):(n.replaceSelection("*"+i+"*"),r=t.start+1);n.setSelection(r,r+i.length)}},{name:"cmdHeading",title:"Heading",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-font"},callback:function(n){var r,u,t=n.getSelection(),f=n.getContent(),i,e;r=t.length==0?"heading text":t.text+"\n";(i=4,f.substr(t.start-i,i)=="### ")||(i=3,f.substr(t.start-i,i)=="###")?(n.setSelection(t.start-i,t.end),n.replaceSelection(r),u=t.start-i):t.start>0&&(e=f.substr(t.start-1,1),!!e&&e!="\n")?(n.replaceSelection("\n\n### "+r),u=t.start+6):(n.replaceSelection("### "+r),u=t.start+4);n.setSelection(u,u+r.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",icon:{glyph:"glyphicon glyphicon-globe",fa:"fa fa-globe"},callback:function(n){var i,r,u=n.getSelection(),f=n.getContent(),t;i=u.length==0?"enter link description here":u.text;t=prompt("Insert Hyperlink","http://");t!=null&&t!=""&&t!="http://"&&(n.replaceSelection("["+i+"]("+t+")"),r=u.start+1,n.setSelection(r,r+i.length))}},{name:"cmdImage",title:"Image",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o"},callback:function(n){var t,i,r=n.getSelection(),f=n.getContent(),u;t=r.length==0?"enter image description here":r.text;u=prompt("Insert Image Hyperlink","http://");u!=null&&(n.replaceSelection("!["+t+"]("+u+' "enter image title here")'),i=r.start+2,n.setNextTab("enter image title here"),n.setSelection(i,i+t.length))}}]},{name:"groupMisc",data:[{name:"cmdList",title:"List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list"},callback:function(t){var r,f,i=t.getSelection(),e=t.getContent(),u;i.length==0?(r="list text here",t.replaceSelection("- "+r),f=i.start+2):i.text.indexOf("\n")<0?(r=i.text,t.replaceSelection("- "+r),f=i.start+2):(u=[],u=i.text.split("\n"),r=u[0],n.each(u,function(n,t){u[n]="- "+t}),t.replaceSelection("\n\n"+u.join("\n")),f=i.start+4);t.setSelection(f,f+r.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:!0,title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search"},callback:function(n){var t=n.$isPreview;t==!1?n.showPreview():n.hidePreview()}}]}]],additionalButtons:[],onShow:function(){},onPreview:function(){},onSave:function(){},onBlur:function(){},onFocus:function(){}};n.fn.markdown.Constructor=t;n.fn.markdown.noConflict=function(){return n.fn.markdown=u,this};i=function(n){var t=n;if(t.data("markdown")){t.data("markdown").showEditor();return}t.markdown(t.data())};r=function(t){var r=!1,i,u=n(t.currentTarget);(t.type=="focusin"||t.type=="click")&&u.length==1&&typeof u[0]=="object"&&(i=u[0].activeElement,n(i).data("markdown")||(typeof n(i).parent().parent().parent().attr("class")=="undefined"||n(i).parent().parent().parent().attr("class").indexOf("md-editor")<0?(typeof n(i).parent().parent().attr("class")=="undefined"||n(i).parent().parent().attr("class").indexOf("md-editor")<0)&&(r=!0):r=!1),r&&n(document).find(".md-editor").each(function(){var r=n(i).parent(),t;n(this).attr("id")!=r.attr("id")&&((t=n(this).find("textarea").data("markdown"),t==null)&&(t=n(this).find('div[data-provider="markdown-preview"]').data("markdown")),t&&t.blur())}),t.stopPropagation())};n(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(t){i(n(this));t.preventDefault()}).on("click",function(n){r(n)}).on("focusin",function(n){r(n)}).ready(function(){n('textarea[data-provide="markdown"]').each(function(){i(n(this))})})}(window.jQuery);!function(n){var r,i,o="0.4.2",e="hasOwnProperty",f=/[\.\/]/,s="*",h=function(){},c=function(n,t){return n-t},u={n:{}},t=function(n,u){var e,y;n=String(n);var f,p=i,a=Array.prototype.slice.call(arguments,2),o=t.listeners(n),l=0,h=[],v={},s=[],w=r;for(r=n,i=0,e=0,y=o.length;y>e;e++)"zIndex"in o[e]&&(h.push(o[e].zIndex),o[e].zIndex<0&&(v[o[e].zIndex]=o[e]));for(h.sort(c);h[l]<0;)if(f=v[h[l++]],s.push(f.apply(u,a)),i)return i=p,s;for(e=0;y>e;e++)if(f=o[e],"zIndex"in f)if(f.zIndex==h[l]){if(s.push(f.apply(u,a)),i)break;do if(l++,f=v[h[l]],f&&s.push(f.apply(u,a)),i)break;while(f)}else v[f.zIndex]=f;else if(s.push(f.apply(u,a)),i)break;return i=p,r=w,s.length?s:null};t._events=u;t.listeners=function(n){for(var t,a,o,r,y,h,p=n.split(f),e=u,c=[e],l=[],i=0,v=p.length;v>i;i++){for(h=[],r=0,y=c.length;y>r;r++)for(e=c[r].n,a=[e[p[i]],e[s]],o=2;o--;)t=a[o],t&&(h.push(t),l=l.concat(t.f||[]));c=h}return l};t.on=function(n,t){if(n=String(n),"function"!=typeof t)return function(){};for(var e=n.split(f),i=u,r=0,o=e.length;o>r;r++)i=i.n,i=i.hasOwnProperty(e[r])&&i[e[r]]||(i[e[r]]={n:{}});for(i.f=i.f||[],r=0,o=i.f.length;o>r;r++)if(i.f[r]==t)return h;return i.f.push(t),function(n){+n==+n&&(t.zIndex=+n)}};t.f=function(n){var i=[].slice.call(arguments,1);return function(){t.apply(null,[n,null].concat(i).concat([].slice.call(arguments,0)))}};t.stop=function(){i=1};t.nt=function(n){return n?new RegExp("(?:\\.|\\/|^)"+n+"(?:\\.|\\/|$)").test(r):r};t.nts=function(){return r.split(f)};t.off=t.unbind=function(n,i){var r,h,a,c,p,o,w,v,l,y;if(!n)return t._events=u={n:{}},void 0;for(v=n.split(f),l=[u],c=0,p=v.length;p>c;c++)for(o=0;o<l.length;o+=a.length-2){if(a=[o,1],r=l[o].n,v[c]!=s)r[v[c]]&&a.push(r[v[c]]);else for(h in r)r[e](h)&&a.push(r[h]);l.splice.apply(l,a)}for(c=0,p=l.length;p>c;c++)for(r=l[c];r.n;){if(i){if(r.f){for(o=0,w=r.f.length;w>o;o++)if(r.f[o]==i){r.f.splice(o,1);break}r.f.length||delete r.f}for(h in r.n)if(r.n[e](h)&&r.n[h].f){for(y=r.n[h].f,o=0,w=y.length;w>o;o++)if(y[o]==i){y.splice(o,1);break}y.length||delete r.n[h].f}}else{delete r.f;for(h in r.n)r.n[e](h)&&r.n[h].f&&delete r.n[h].f}r=r.n}};t.once=function(n,i){var r=function(){return t.unbind(n,r),i.apply(this,arguments)};return t.on(n,r)};t.version=o;t.toString=function(){return"You are running Eve "+o};"undefined"!=typeof module&&module.exports?module.exports=t:"undefined"!=typeof define?define("eve",[],function(){return t}):n.eve=t}(window||this),function(n,t){"function"==typeof define&&define.amd?define(["eve"],function(i){return t(n,i)}):t(n,n.eve)}(this,function(n,t){function i(n){var r,u;return i.is(n,"function")?vi?n():t.on("raphael.DOMload",n):i.is(n,tt)?i._engine.create[v](i,n.splice(0,3+i.is(n[0],p))).add(n):(r=Array.prototype.slice.call(arguments,0),i.is(r[r.length-1],"function"))?(u=r.pop(),vi?u.call(i._engine.create[v](i,r)):t.on("raphael.DOMload",function(){u.call(i._engine.create[v](i,r))})):i._engine.create[v](i,arguments)}function yt(n){var i,t;if("function"==typeof n||Object(n)!==n)return n;i=new n.constructor;for(t in n)n[a](t)&&(i[t]=yt(n[t]));return i}function cu(n,t){for(var i=0,r=n.length;r>i;i++)if(n[i]===t)return n.push(n.splice(i,1)[0])}function it(n,t,i){function r(){var o=Array.prototype.slice.call(arguments,0),u=o.join("␀"),f=r.cache=r.cache||{},e=r.count=r.count||[];return f[a](u)?(cu(e,u),i?i(f[u]):f[u]):(e.length>=1e3&&delete f[e.shift()],e.push(u),f[u]=n[v](t,o),i?i(f[u]):f[u])}return r}function dt(){return this.hex}function or(n,t){for(var i,f=[],r=0,u=n.length;u-2*!t>r;r+=2)i=[{x:+n[r-2],y:+n[r-1]},{x:+n[r],y:+n[r+1]},{x:+n[r+2],y:+n[r+3]},{x:+n[r+4],y:+n[r+5]}],t?r?u-4==r?i[3]={x:+n[0],y:+n[1]}:u-2==r&&(i[2]={x:+n[0],y:+n[1]},i[3]={x:+n[2],y:+n[3]}):i[0]={x:+n[u-2],y:+n[u-1]}:u-4==r?i[3]=i[2]:r||(i[0]={x:+n[r],y:+n[r+1]}),f.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y]);return f}function sr(n,t,i,r,u){var f=-3*t+9*i-9*r+3*u,e=n*f+6*t-12*i+6*r;return n*e-3*t+3*i}function lt(n,t,i,r,f,e,o,s,h){null==h&&(h=1);h=h>1?1:0>h?0:h;for(var l=h/2,w=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],b=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],a=0,c=0;12>c;c++){var v=l*w[c]+l,y=sr(v,n,i,f,o),p=sr(v,t,r,e,s),k=y*y+p*p;a+=b[c]*u.sqrt(k)}return l*a}function lu(n,t,i,r,u,f,e,o,s){if(!(0>s||lt(n,t,i,r,u,f,e,o)<s)){for(var a=1,l=a/2,c=a-l,h=lt(n,t,i,r,u,f,e,o,c);y(h-s)>.01;)l/=2,c+=(s>h?1:-1)*l,h=lt(n,t,i,r,u,f,e,o,c);return c}}function au(n,t,i,r,u,f,e,s){if(!(o(n,i)<l(u,e)||l(n,i)>o(u,e)||o(t,r)<l(f,s)||l(t,r)>o(f,s))){var p=(n*r-t*i)*(u-e)-(n-i)*(u*s-f*e),w=(n*r-t*i)*(f-s)-(t-r)*(u*s-f*e),a=(n-i)*(f-s)-(t-r)*(u-e);if(a){var v=p/a,y=w/a,h=+v.toFixed(2),c=+y.toFixed(2);if(!(h<+l(n,i).toFixed(2)||h>+o(n,i).toFixed(2)||h<+l(u,e).toFixed(2)||h>+o(u,e).toFixed(2)||c<+l(t,r).toFixed(2)||c>+o(t,r).toFixed(2)||c<+l(f,s).toFixed(2)||c>+o(f,s).toFixed(2)))return{x:v,y:y}}}}function vu(n,t,r){var ut=i.bezierBBox(n),ft=i.bezierBBox(t),h,c,d,g;if(!i.isBBoxIntersect(ut,ft))return r?0:[];for(var et=lt.apply(0,n),ot=lt.apply(0,t),p=o(~~(et/5),1),w=o(~~(ot/5),1),nt=[],tt=[],rt={},it=r?0:[],u=0;p+1>u;u++)h=i.findDotsAtSegment.apply(i,n.concat(u/p)),nt.push({x:h.x,y:h.y,t:u/p});for(u=0;w+1>u;u++)h=i.findDotsAtSegment.apply(i,t.concat(u/w)),tt.push({x:h.x,y:h.y,t:u/w});for(u=0;p>u;u++)for(c=0;w>c;c++){var e=nt[u],a=nt[u+1],s=tt[c],v=tt[c+1],b=y(a.x-e.x)<.001?"y":"x",k=y(v.x-s.x)<.001?"y":"x",f=au(e.x,e.y,a.x,a.y,s.x,s.y,v.x,v.y);if(f){if(rt[f.x.toFixed(4)]==f.y.toFixed(4))continue;rt[f.x.toFixed(4)]=f.y.toFixed(4);d=e.t+y((f[b]-e[b])/(a[b]-e[b]))*(a.t-e.t);g=s.t+y((f[k]-s[k])/(v[k]-s[k]))*(v.t-s.t);d>=0&&1.001>=d&&g>=0&&1.001>=g&&(r?it++:it.push({x:f.x,y:f.y,t1:l(d,1),t2:l(g,1)}))}}return it}function ai(n,t,r){var a,y,nt,v,u,f,tt;n=i._path2curve(n);t=i._path2curve(t);for(var e,o,s,h,p,w,b,k,c,l,d=r?0:[],g=0,it=n.length;it>g;g++)if(a=n[g],"M"==a[0])e=p=a[1],o=w=a[2];else for("C"==a[0]?(c=[e,o].concat(a.slice(1)),e=c[6],o=c[7]):(c=[e,o,e,o,p,w,p,w],e=p,o=w),y=0,nt=t.length;nt>y;y++)if(v=t[y],"M"==v[0])s=b=v[1],h=k=v[2];else if("C"==v[0]?(l=[s,h].concat(v.slice(1)),s=l[6],h=l[7]):(l=[s,h,s,h,b,k,b,k],s=b,h=k),u=vu(c,l,r),r)d+=u;else{for(f=0,tt=u.length;tt>f;f++)u[f].segment1=g,u[f].segment2=y,u[f].bez1=c,u[f].bez2=l;d=d.concat(u)}return d}function st(n,t,i,r,u,f){null!=n?(this.a=+n,this.b=+t,this.c=+i,this.d=+r,this.e=+u,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function hr(){return this.x+wt+this.y+wt+this.width+" × "+this.height}function yu(n,t,i,r,u,f){function h(n){return((c*n+o)*n+e)*n}function a(n,t){var i=v(n,t);return((p*i+l)*i+s)*i}function v(n,t){for(var r,u,f,s,i=n,l=0;8>l;l++){if(f=h(i)-n,y(f)<t)return i;if(s=(3*c*i+2*o)*i+e,y(s)<1e-6)break;i-=f/s}if(r=0,u=1,i=n,r>i)return r;if(i>u)return u;for(;u>r;){if(f=h(i),y(f-n)<t)return i;n>f?r=i:u=i;i=(u-r)/2+r}return i}var e=3*t,o=3*(r-t)-e,c=1-e-o,s=3*i,l=3*(u-i)-s,p=1-s-l;return a(n,1/(200*f))}function ft(n,t){var i=[],u={},r;if(this.ms=t,this.times=1,n){for(r in n)n[a](r)&&(u[h(r)]=n[r],i.push(h(r)));i.sort(ef)}this.anim=u;this.top=i[i.length-1];this.percents=i}function pt(n,r,u,e,o,c){var nt,v,et,l,at,dt,ii,tt,vt,gt,yt,d,rt,ht,ct,ni,ft,lt;u=h(u);var it,ot,pt,ti,wt,kt,w=n.ms,y={},g={},k={};if(e){for(v=0,et=f.length;et>v;v++)if(nt=f[v],nt.el.id==r.id&&nt.anim==n){nt.percent!=u?(f.splice(v,1),pt=1):ot=nt;r.attr(nt.totalOrigin);break}}else e=+g;for(v=0,et=n.percents.length;et>v;v++){if(n.percents[v]==u||n.percents[v]>e*n.top){u=n.percents[v];wt=n.percents[v-1]||0;w=w/n.top*(u-wt);ti=n.percents[v+1];it=n.anim[u];break}e&&r.attr(n.anim[n.percents[v]])}if(it){if(ot)ot.initstatus=e,ot.start=new Date-ot.ms*e;else{for(l in it)if(it[a](l)&&(bi[a](l)||r.paper.customAttributes[a](l)))switch(y[l]=r.attr(l),null==y[l]&&(y[l]=nf[l]),g[l]=it[l],bi[l]){case p:k[l]=(g[l]-y[l])/w;break;case"colour":y[l]=i.getRGB(y[l]);at=i.getRGB(g[l]);k[l]={r:(at.r-y[l].r)/w,g:(at.g-y[l].g)/w,b:(at.b-y[l].b)/w};break;case"path":for(dt=bt(y[l],g[l]),ii=dt[1],y[l]=dt[0],k[l]=[],v=0,et=y[l].length;et>v;v++)for(k[l][v]=[0],tt=1,vt=y[l][v].length;vt>tt;tt++)k[l][v][tt]=(ii[v][tt]-y[l][v][tt])/w;break;case"transform":if(gt=r._,yt=vf(gt[l],g[l]),yt)for(y[l]=yt.from,g[l]=yt.to,k[l]=[],k[l].real=!0,v=0,et=y[l].length;et>v;v++)for(k[l][v]=[y[l][v][0]],tt=1,vt=y[l][v].length;vt>tt;tt++)k[l][v][tt]=(g[l][v][tt]-y[l][v][tt])/w;else d=r.matrix||new st,rt={_:{transform:gt.transform},getBBox:function(){return r.getBBox(1)}},y[l]=[d.a,d.b,d.c,d.d,d.e,d.f],iu(rt,g[l]),g[l]=rt._.transform,k[l]=[(rt.matrix.a-d.a)/w,(rt.matrix.b-d.b)/w,(rt.matrix.c-d.c)/w,(rt.matrix.d-d.d)/w,(rt.matrix.e-d.e)/w,(rt.matrix.f-d.f)/w];break;case"csv":if(ht=b(it[l])[ut](yi),ct=b(y[l])[ut](yi),"clip-rect"==l)for(y[l]=ct,k[l]=[],v=ct.length;v--;)k[l][v]=(ht[v]-y[l][v])/w;g[l]=ht;break;default:for(ht=[][s](it[l]),ct=[][s](y[l]),k[l]=[],v=r.paper.customAttributes[l].length;v--;)k[l][v]=((ht[v]||0)-(ct[v]||0))/w}if(ni=it.easing,ft=i.easing_formulas[ni],ft||((ft=b(ni).match(gu),ft&&5==ft.length)?(lt=ft,ft=function(n){return yu(n,+lt[1],+lt[2],+lt[3],+lt[4],w)}):ft=sf),kt=it.start||n.start||+new Date,nt={anim:n,percent:u,timestamp:kt,start:kt+(n.del||0),status:0,initstatus:e||0,stop:!1,ms:w,easing:ft,from:y,diff:k,to:g,el:r,callback:it.callback,prev:wt,next:ti,repeat:c||n.times,origin:r.attr(),totalOrigin:o},f.push(nt),e&&!ot&&!pt&&(nt.stop=!0,nt.start=new Date-w*e,1==f.length))return fr();pt&&(nt.start=new Date-nt.ms*e);1==f.length&&hu(fr)}t("raphael.anim.start."+r.id,r,n)}}function cr(n){for(var t=0;t<f.length;t++)f[t].el.paper==n&&f.splice(t--,1)}var fi,ei,et,kt,ct,eu,g,vt,w,li;i.version="2.1.2";i.eve=t;var vi,c,yi=/[, ]+/,pu={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},wu=/\{(\d+)\}/g,a="hasOwnProperty",r={doc:document,win:n},pi={was:Object.prototype[a].call(r.win,"Raphael"),is:r.win.Raphael},lr=function(){this.ca=this.customAttributes={}},v="apply",s="concat",gt="ontouchstart"in r.win||r.win.DocumentTouch&&r.doc instanceof DocumentTouch,d="",wt=" ",b=String,ut="split",ar="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[ut](wt),ni={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},ti=b.prototype.toLowerCase,u=Math,o=u.max,l=u.min,y=u.abs,nt=u.pow,k=u.PI,p="number",ii="string",tt="array",bu=Object.prototype.toString,ku=(i._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),du={NaN:1,Infinity:1,"-Infinity":1},gu=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,wi=u.round,h=parseFloat,ht=parseInt,vr=b.prototype.toUpperCase,nf=i._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},bi=i._availableAnimAttrs={blur:p,"clip-rect":"csv",cx:p,cy:p,fill:"colour","fill-opacity":p,"font-size":p,height:p,opacity:p,path:"path",r:p,rx:p,ry:p,stroke:"colour","stroke-opacity":p,"stroke-width":p,transform:"transform",width:p,x:p,y:p},ki=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,tf={hs:1,rg:1},rf=/,?([achlmqrstvxz]),?/gi,uf=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ff=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,yr=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,at=(i._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ef=function(n,t){return h(n)-h(t)},of=function(){},sf=function(n){return n},ri=i._rectPath=function(n,t,i,r,u){return u?[["M",n+u,t],["l",i-2*u,0],["a",u,u,0,0,1,u,u],["l",0,r-2*u],["a",u,u,0,0,1,-u,u],["l",2*u-i,0],["a",u,u,0,0,1,-u,-u],["l",0,2*u-r],["a",u,u,0,0,1,u,-u],["z"]]:[["M",n,t],["l",i,0],["l",0,r],["l",-i,0],["z"]]},pr=function(n,t,i,r){return null==r&&(r=i),[["M",n,t],["m",0,-r],["a",i,r,0,1,1,0,2*r],["a",i,r,0,1,1,0,-2*r],["z"]]},ui=i._getPath={path:function(n){return n.attr("path")},circle:function(n){var t=n.attrs;return pr(t.cx,t.cy,t.r)},ellipse:function(n){var t=n.attrs;return pr(t.cx,t.cy,t.rx,t.ry)},rect:function(n){var t=n.attrs;return ri(t.x,t.y,t.width,t.height,t.r)},image:function(n){var t=n.attrs;return ri(t.x,t.y,t.width,t.height)},text:function(n){var t=n._getBBox();return ri(t.x,t.y,t.width,t.height)},set:function(n){var t=n._getBBox();return ri(t.x,t.y,t.width,t.height)}},di=i.mapPath=function(n,t){if(!t)return n;var f,e,u,i,o,s,r;for(n=bt(n),u=0,o=n.length;o>u;u++)for(r=n[u],i=1,s=r.length;s>i;i+=2)f=t.x(r[i],r[i+1]),e=t.y(r[i],r[i+1]),r[i]=f,r[i+1]=e;return n};if(i._g=r,i.type=r.win.SVGAngle||r.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==i.type){if(ei=r.doc.createElement("div"),ei.innerHTML='<v:shape adj="1"/>',fi=ei.firstChild,fi.style.behavior="url(#default#VML)",!fi||"object"!=typeof fi.adj)return i.type=d;ei=null}i.svg=!(i.vml="VML"==i.type);i._Paper=lr;i.fn=c=lr.prototype=i.prototype;i._id=0;i._oid=0;i.is=function(n,t){return t=ti.call(t),"finite"==t?!du[a](+n):"array"==t?n instanceof Array:"null"==t&&null===n||t==typeof n&&null!==n||"object"==t&&n===Object(n)||"array"==t&&Array.isArray&&Array.isArray(n)||bu.call(n).slice(8,-1).toLowerCase()==t};i.angle=function(n,t,r,f,e,o){if(null==e){var s=n-r,h=t-f;return s||h?(180+180*u.atan2(-h,-s)/k+360)%360:0}return i.angle(n,t,e,o)-i.angle(r,f,e,o)};i.rad=function(n){return n%360*k/180};i.deg=function(n){return 180*n/k%360};i.snapTo=function(n,t,r){var f,u;if(r=i.is(r,"finite")?r:10,i.is(n,tt)){for(f=n.length;f--;)if(y(n[f]-t)<=r)return n[f]}else{if(n=+n,u=t%n,r>u)return t-u;if(u>n-r)return t-u+n}return t};i.createUUID=function(n,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(n,t).toUpperCase()}}(/[xy]/g,function(n){var t=16*u.random()|0,i="x"==n?t:3&t|8;return i.toString(16)});i.setWindow=function(n){t("raphael.setWindow",i,r.win,n);r.win=n;r.doc=r.win.document;i._engine.initWin&&i._engine.initWin(r.win)};var oi=function(n){var u,e,f,o,t;if(i.vml){e=/^\s+|\s+$/g;try{f=new ActiveXObject("htmlfile");f.write("<body>");f.close();u=f.body}catch(s){u=createPopup().document.body}o=u.createTextRange();oi=it(function(n){try{u.style.color=b(n).replace(e,d);var t=o.queryCommandValue("ForeColor");return t=(255&t)<<16|65280&t|(16711680&t)>>>16,"#"+("000000"+t.toString(16)).slice(-6)}catch(i){return"none"}})}else t=r.doc.createElement("i"),t.title="Raphaël Colour Picker",t.style.display="none",r.doc.body.appendChild(t),oi=it(function(n){return t.style.color=n,r.doc.defaultView.getComputedStyle(t,d).getPropertyValue("color")});return oi(n)},hf=function(){return"hsb("+[this.h,this.s,this.b]+")"},cf=function(){return"hsl("+[this.h,this.s,this.l]+")"},wr=function(){return this.hex},br=function(n,t,r){if(null==t&&i.is(n,"object")&&"r"in n&&"g"in n&&"b"in n&&(r=n.b,t=n.g,n=n.r),null==t&&i.is(n,ii)){var u=i.getRGB(n);n=u.r;t=u.g;r=u.b}return(n>1||t>1||r>1)&&(n/=255,t/=255,r/=255),[n,t,r]},kr=function(n,t,r,u){n*=255;t*=255;r*=255;var f={r:n,g:t,b:r,hex:i.rgb(n,t,r),toString:wr};return i.is(u,"finite")&&(f.opacity=u),f};i.color=function(n){var t;return i.is(n,"object")&&"h"in n&&"s"in n&&"b"in n?(t=i.hsb2rgb(n),n.r=t.r,n.g=t.g,n.b=t.b,n.hex=t.hex):i.is(n,"object")&&"h"in n&&"s"in n&&"l"in n?(t=i.hsl2rgb(n),n.r=t.r,n.g=t.g,n.b=t.b,n.hex=t.hex):(i.is(n,"string")&&(n=i.getRGB(n)),i.is(n,"object")&&"r"in n&&"g"in n&&"b"in n?(t=i.rgb2hsl(n),n.h=t.h,n.s=t.s,n.l=t.l,t=i.rgb2hsb(n),n.v=t.b):(n={hex:"none"},n.r=n.g=n.b=n.h=n.s=n.v=n.l=-1)),n.toString=wr,n};i.hsb2rgb=function(n,t,i,r){this.is(n,"object")&&"h"in n&&"s"in n&&"b"in n&&(i=n.b,t=n.s,n=n.h,r=n.o);n*=360;var e,o,s,f,u;return n=n%360/60,u=i*t,f=u*(1-y(n%2-1)),e=o=s=i-u,n=~~n,e+=[u,f,0,0,f,u][n],o+=[f,u,u,f,0,0][n],s+=[0,0,f,u,u,f][n],kr(e,o,s,r)};i.hsl2rgb=function(n,t,i,r){this.is(n,"object")&&"h"in n&&"s"in n&&"l"in n&&(i=n.l,t=n.s,n=n.h);(n>1||t>1||i>1)&&(n/=360,t/=100,i/=100);n*=360;var e,o,s,f,u;return n=n%360/60,u=2*t*(.5>i?i:1-i),f=u*(1-y(n%2-1)),e=o=s=i-u/2,n=~~n,e+=[u,f,0,0,f,u][n],o+=[f,u,u,f,0,0][n],s+=[0,0,f,u,u,f][n],kr(e,o,s,r)};i.rgb2hsb=function(n,t,i){i=br(n,t,i);n=i[0];t=i[1];i=i[2];var f,e,u,r;return u=o(n,t,i),r=u-l(n,t,i),f=0==r?null:u==n?(t-i)/r:u==t?(i-n)/r+2:(n-t)/r+4,f=(f+360)%6/6,e=0==r?0:r/u,{h:f,s:e,b:u,toString:hf}};i.rgb2hsl=function(n,t,i){i=br(n,t,i);n=i[0];t=i[1];i=i[2];var e,h,u,f,s,r;return f=o(n,t,i),s=l(n,t,i),r=f-s,e=0==r?null:f==n?(t-i)/r:f==t?(i-n)/r+2:(n-t)/r+4,e=(e+360)%6/6,u=(f+s)/2,h=0==r?0:.5>u?r/(2*u):r/(2-2*u),{h:e,s:h,l:u,toString:cf}};i._path2string=function(){return this.join(",").replace(rf,"$1")};i._preload=function(n,t){var i=r.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em";i.onload=function(){t.call(this);this.onload=null;r.doc.body.removeChild(this)};i.onerror=function(){r.doc.body.removeChild(this)};r.doc.body.appendChild(i);i.src=n};i.getRGB=it(function(n){if(!n||(n=b(n)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:dt};if("none"==n)return{r:-1,g:-1,b:-1,hex:"none",toString:dt};tf[a](n.toLowerCase().substring(0,2))||"#"==n.charAt()||(n=oi(n));var u,f,e,o,s,t,r=n.match(ku);return r?(r[2]&&(e=ht(r[2].substring(5),16),f=ht(r[2].substring(3,5),16),u=ht(r[2].substring(1,3),16)),r[3]&&(e=ht((s=r[3].charAt(3))+s,16),f=ht((s=r[3].charAt(2))+s,16),u=ht((s=r[3].charAt(1))+s,16)),r[4]&&(t=r[4][ut](ki),u=h(t[0]),"%"==t[0].slice(-1)&&(u*=2.55),f=h(t[1]),"%"==t[1].slice(-1)&&(f*=2.55),e=h(t[2]),"%"==t[2].slice(-1)&&(e*=2.55),"rgba"==r[1].toLowerCase().slice(0,4)&&(o=h(t[3])),t[3]&&"%"==t[3].slice(-1)&&(o/=100)),r[5]?(t=r[5][ut](ki),u=h(t[0]),"%"==t[0].slice(-1)&&(u*=2.55),f=h(t[1]),"%"==t[1].slice(-1)&&(f*=2.55),e=h(t[2]),"%"==t[2].slice(-1)&&(e*=2.55),("deg"==t[0].slice(-3)||"°"==t[0].slice(-1))&&(u/=360),"hsba"==r[1].toLowerCase().slice(0,4)&&(o=h(t[3])),t[3]&&"%"==t[3].slice(-1)&&(o/=100),i.hsb2rgb(u,f,e,o)):r[6]?(t=r[6][ut](ki),u=h(t[0]),"%"==t[0].slice(-1)&&(u*=2.55),f=h(t[1]),"%"==t[1].slice(-1)&&(f*=2.55),e=h(t[2]),"%"==t[2].slice(-1)&&(e*=2.55),("deg"==t[0].slice(-3)||"°"==t[0].slice(-1))&&(u/=360),"hsla"==r[1].toLowerCase().slice(0,4)&&(o=h(t[3])),t[3]&&"%"==t[3].slice(-1)&&(o/=100),i.hsl2rgb(u,f,e,o)):(r={r:u,g:f,b:e,toString:dt},r.hex="#"+(16777216|e|f<<8|u<<16).toString(16).slice(1),i.is(o,"finite")&&(r.opacity=o),r)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:dt}},i);i.hsb=it(function(n,t,r){return i.hsb2rgb(n,t,r).hex});i.hsl=it(function(n,t,r){return i.hsl2rgb(n,t,r).hex});i.rgb=it(function(n,t,i){return"#"+(16777216|i|t<<8|n<<16).toString(16).slice(1)});i.getColor=function(n){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:n||.75},i=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),i.hex};i.getColor.reset=function(){delete this.start};i.parsePathString=function(n){var r,u,t;return n?(r=et(n),r.arr)?rt(r.arr):(u={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},t=[],i.is(n,tt)&&i.is(n[0],tt)&&(t=rt(n)),t.length||b(n).replace(uf,function(n,i,r){var f=[],e=i.toLowerCase();if(r.replace(yr,function(n,t){t&&f.push(+t)}),"m"==e&&f.length>2&&(t.push([i][s](f.splice(0,2))),e="l",i="m"==i?"l":"L"),"r"==e)t.push([i][s](f));else for(;f.length>=u[e]&&(t.push([i][s](f.splice(0,u[e]))),u[e]););}),t.toString=i._path2string,r.arr=rt(t),t):null};i.parseTransformString=it(function(n){if(!n)return null;var t=[];return i.is(n,tt)&&i.is(n[0],tt)&&(t=rt(n)),t.length||b(n).replace(ff,function(n,i,r){var u=[];ti.call(i);r.replace(yr,function(n,t){t&&u.push(+t)});t.push([i][s](u))}),t.toString=i._path2string,t});et=function(n){var t=et.ps=et.ps||{};return t[n]?t[n].sleep=100:t[n]={sleep:100},setTimeout(function(){for(var i in t)t[a](i)&&i!=n&&(t[i].sleep--,!t[i].sleep&&delete t[i])}),t[n]};i.findDotsAtSegment=function(n,t,i,r,f,e,o,s,h){var c=1-h,w=nt(c,3),b=nt(c,2),l=h*h,d=l*h,tt=w*n+3*b*h*i+3*c*h*h*f+d*o,it=w*t+3*b*h*r+3*c*h*h*e+d*s,a=n+2*h*(i-n)+l*(f-2*i+n),v=t+2*h*(r-t)+l*(e-2*r+t),y=i+2*h*(f-i)+l*(o-2*f+i),p=r+2*h*(e-r)+l*(s-2*e+r),rt=c*n+h*i,ut=c*t+h*r,ft=c*f+h*o,et=c*e+h*s,g=90-180*u.atan2(a-y,v-p)/k;return(a>y||p>v)&&(g+=180),{x:tt,y:it,m:{x:a,y:v},n:{x:y,y:p},start:{x:rt,y:ut},end:{x:ft,y:et},alpha:g}};i.bezierBBox=function(n,t,r,u,f,e,o,s){i.is(n,"array")||(n=[n,t,r,u,f,e,o,s]);var h=tu.apply(null,n);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}};i.isPointInsideBBox=function(n,t,i){return t>=n.x&&t<=n.x2&&i>=n.y&&i<=n.y2};i.isBBoxIntersect=function(n,t){var r=i.isPointInsideBBox;return r(t,n.x,n.y)||r(t,n.x2,n.y)||r(t,n.x,n.y2)||r(t,n.x2,n.y2)||r(n,t.x,t.y)||r(n,t.x2,t.y)||r(n,t.x,t.y2)||r(n,t.x2,t.y2)||(n.x<t.x2&&n.x>t.x||t.x<n.x2&&t.x>n.x)&&(n.y<t.y2&&n.y>t.y||t.y<n.y2&&t.y>n.y)};i.pathIntersection=function(n,t){return ai(n,t)};i.pathIntersectionNumber=function(n,t){return ai(n,t,1)};i.isPointInsidePath=function(n,t,r){var u=i.pathBBox(n);return i.isPointInsideBBox(u,t,r)&&ai(n,[["M",t,r],["H",u.x2+10]],1)%2==1};i._removedFactory=function(n){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+n+"” of removed object",n)}};var gi=i.pathBBox=function(n){var h=et(n),u;if(h.bbox)return yt(h.bbox);if(!n)return{x:0,y:0,width:0,height:0,x2:0,y2:0};n=bt(n);for(var t,f=0,e=0,i=[],r=[],c=0,g=n.length;g>c;c++)(t=n[c],"M"==t[0])?(f=t[1],e=t[2],i.push(f),r.push(e)):(u=tu(f,e,t[1],t[2],t[3],t[4],t[5],t[6]),i=i[s](u.min.x,u.max.x),r=r[s](u.min.y,u.max.y),f=t[5],e=t[6]);var a=l[v](0,i),y=l[v](0,r),p=o[v](0,i),w=o[v](0,r),b=p-a,k=w-y,d={x:a,y:y,x2:p,y2:w,width:b,height:k,cx:a+b/2,cy:y+k/2};return h.bbox=yt(d),d},rt=function(n){var t=yt(n);return t.toString=i._path2string,t},lf=i._pathToRelative=function(n){var v=et(n),u,p,f,t,s,w,h,b,c;if(v.rel)return rt(v.rel);i.is(n,tt)&&i.is(n&&n[0],tt)||(n=i.parsePathString(n));var r=[],o=0,e=0,l=0,a=0,y=0;for("M"==n[0][0]&&(o=n[0][1],e=n[0][2],l=o,a=e,y++,r.push(["M",o,e])),u=y,p=n.length;p>u;u++){if(f=r[u]=[],t=n[u],t[0]!=ti.call(t[0]))switch(f[0]=ti.call(t[0]),f[0]){case"a":f[1]=t[1];f[2]=t[2];f[3]=t[3];f[4]=t[4];f[5]=t[5];f[6]=+(t[6]-o).toFixed(3);f[7]=+(t[7]-e).toFixed(3);break;case"v":f[1]=+(t[1]-e).toFixed(3);break;case"m":l=t[1];a=t[2];default:for(s=1,w=t.length;w>s;s++)f[s]=+(t[s]-(s%2?o:e)).toFixed(3)}else for(f=r[u]=[],"m"==t[0]&&(l=t[1]+o,a=t[2]+e),h=0,b=t.length;b>h;h++)r[u][h]=t[h];c=r[u].length;switch(r[u][0]){case"z":o=l;e=a;break;case"h":o+=+r[u][c-1];break;case"v":e+=+r[u][c-1];break;default:o+=+r[u][c-2];e+=+r[u][c-1]}}return r.toString=i._path2string,v.rel=rt(r),r},dr=i._pathToAbsolute=function(n){var v=et(n),c,k;if(v.abs)return rt(v.abs);if(i.is(n,tt)&&i.is(n&&n[0],tt)||(n=i.parsePathString(n)),!n||!n.length)return[["M",0,0]];var o=[],u=0,f=0,l=0,a=0,w=0;"M"==n[0][0]&&(u=+n[0][1],f=+n[0][2],l=u,a=f,w++,o[0]=["M",u,f]);for(var t,r,b=3==n.length&&"M"==n[0][0]&&"R"==n[1][0].toUpperCase()&&"Z"==n[2][0].toUpperCase(),y=w,d=n.length;d>y;y++){if(o.push(t=[]),r=n[y],r[0]!=vr.call(r[0]))switch(t[0]=vr.call(r[0]),t[0]){case"A":t[1]=r[1];t[2]=r[2];t[3]=r[3];t[4]=r[4];t[5]=r[5];t[6]=+(r[6]+u);t[7]=+(r[7]+f);break;case"V":t[1]=+r[1]+f;break;case"H":t[1]=+r[1]+u;break;case"R":for(var h=[u,f][s](r.slice(1)),e=2,p=h.length;p>e;e++)h[e]=+h[e]+u,h[++e]=+h[e]+f;o.pop();o=o[s](or(h,b));break;case"M":l=+r[1]+u;a=+r[2]+f;default:for(e=1,p=r.length;p>e;e++)t[e]=+r[e]+(e%2?u:f)}else if("R"==r[0])h=[u,f][s](r.slice(1)),o.pop(),o=o[s](or(h,b)),t=["R"][s](r.slice(-2));else for(c=0,k=r.length;k>c;c++)t[c]=r[c];switch(t[0]){case"Z":u=l;f=a;break;case"H":u=t[1];break;case"V":f=t[1];break;case"M":l=t[t.length-2];a=t[t.length-1];default:u=t[t.length-2];f=t[t.length-1]}}return o.toString=i._path2string,v.abs=rt(o),o},si=function(n,t,i,r){return[n,t,i,r,i,r]},gr=function(n,t,i,r,u,f){var e=1/3,o=2/3;return[e*n+o*i,e*t+o*r,e*u+o*i,e*f+o*r,u,f]},nu=function(n,t,i,r,f,e,o,h,c,l){var g,lt=120*k/180,et=k/180*(+f||0),p=[],ot=it(function(n,t,i){var r=n*u.cos(i)-t*u.sin(i),f=n*u.sin(i)+t*u.cos(i);return{x:r,y:f}}),st;if(l)v=l[0],a=l[1],rt=l[2],ft=l[3];else{g=ot(n,t,-et);n=g.x;t=g.y;g=ot(h,c,-et);h=g.x;c=g.y;var b=(u.cos(k/180*f),u.sin(k/180*f),(n-h)/2),d=(t-c)/2,tt=b*b/(i*i)+d*d/(r*r);tt>1&&(tt=u.sqrt(tt),i=tt*i,r=tt*r);var ht=i*i,ct=r*r,at=(e==o?-1:1)*u.sqrt(y((ht*ct-ht*d*d-ct*b*b)/(ht*d*d+ct*b*b))),rt=at*i*d/r+(n+h)/2,ft=at*-r*b/i+(t+c)/2,v=u.asin(((t-ft)/r).toFixed(9)),a=u.asin(((c-ft)/r).toFixed(9));v=rt>n?k-v:v;a=rt>h?k-a:a;0>v&&(v=2*k+v);0>a&&(a=2*k+a);o&&v>a&&(v-=2*k);!o&&a>v&&(a-=2*k)}if(st=a-v,y(st)>lt){var gt=a,ni=h,ti=c;a=v+lt*(o&&a>v?1:-1);h=rt+i*u.cos(a);c=ft+r*u.sin(a);p=nu(h,c,i,r,f,0,o,ni,ti,[a,gt,rt,ft])}st=a-v;var ii=u.cos(v),ri=u.sin(v),ui=u.cos(a),fi=u.sin(a),vt=u.tan(st/4),yt=4/3*i*vt,pt=4/3*r*vt,wt=[n,t],nt=[n+yt*ri,t-pt*ii],bt=[h+yt*fi,c-pt*ui],kt=[h,c];if(nt[0]=2*wt[0]-nt[0],nt[1]=2*wt[1]-nt[1],l)return[nt,bt,kt][s](p);p=[nt,bt,kt][s](p).join()[ut](",");for(var dt=[],w=0,ei=p.length;ei>w;w++)dt[w]=w%2?ot(p[w-1],p[w],et).y:ot(p[w],p[w+1],et).x;return dt},hi=function(n,t,i,r,u,f,e,o,s){var h=1-s;return{x:nt(h,3)*n+3*nt(h,2)*s*i+3*h*s*s*u+nt(s,3)*e,y:nt(h,3)*t+3*nt(h,2)*s*r+3*h*s*s*f+nt(s,3)*o}},tu=it(function(n,t,i,r,f,e,s,h){var a,b=f-2*i+n-(s-2*f+i),c=2*(i-n)-2*(f-i),g=n-i,p=(-c+u.sqrt(c*c-4*b*g))/2/b,w=(-c-u.sqrt(c*c-4*b*g))/2/b,k=[t,h],d=[n,s];return y(p)>"1e12"&&(p=.5),y(w)>"1e12"&&(w=.5),p>0&&1>p&&(a=hi(n,t,i,r,f,e,s,h,p),d.push(a.x),k.push(a.y)),w>0&&1>w&&(a=hi(n,t,i,r,f,e,s,h,w),d.push(a.x),k.push(a.y)),b=e-2*r+t-(h-2*e+r),c=2*(r-t)-2*(e-r),g=t-r,p=(-c+u.sqrt(c*c-4*b*g))/2/b,w=(-c-u.sqrt(c*c-4*b*g))/2/b,y(p)>"1e12"&&(p=.5),y(w)>"1e12"&&(w=.5),p>0&&1>p&&(a=hi(n,t,i,r,f,e,s,h,p),d.push(a.x),k.push(a.y)),w>0&&1>w&&(a=hi(n,t,i,r,f,e,s,h,w),d.push(a.x),k.push(a.y)),{min:{x:l[v](0,d),y:l[v](0,k)},max:{x:o[v](0,d),y:o[v](0,k)}}}),bt=i._path2curve=it(function(n,t){var p=!t&&et(n);if(!t&&p.curve)return rt(p.curve);for(var r=dr(n),i=t&&dr(t),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},b=function(n,t,i){var r,u;if(!n)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(!(n[0]in{T:1,Q:1})&&(t.qx=t.qy=null),n[0]){case"M":t.X=n[1];t.Y=n[2];break;case"A":n=["C"][s](nu[v](0,[t.x,t.y][s](n.slice(1))));break;case"S":"C"==i||"S"==i?(r=2*t.x-t.bx,u=2*t.y-t.by):(r=t.x,u=t.y);n=["C",r,u][s](n.slice(1));break;case"T":"Q"==i||"T"==i?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y);n=["C"][s](gr(t.x,t.y,t.qx,t.qy,n[1],n[2]));break;case"Q":t.qx=n[1];t.qy=n[2];n=["C"][s](gr(t.x,t.y,n[1],n[2],n[3],n[4]));break;case"L":n=["C"][s](si(t.x,t.y,n[1],n[2]));break;case"H":n=["C"][s](si(t.x,t.y,n[1],t.y));break;case"V":n=["C"][s](si(t.x,t.y,t.x,n[1]));break;case"Z":n=["C"][s](si(t.x,t.y,t.X,t.Y))}return n},k=function(n,t){if(n[t].length>7){n[t].shift();for(var u=n[t];u.length;)n.splice(t++,0,["C"][s](u.splice(0,6)));n.splice(t,1);w=o(r.length,i&&i.length||0)}},d=function(n,t,u,f,e){n&&t&&"M"==n[e][0]&&"M"!=t[e][0]&&(t.splice(e,0,["M",f.x,f.y]),u.bx=0,u.by=0,u.x=n[e][1],u.y=n[e][2],w=o(r.length,i&&i.length||0))},u=0,w=o(r.length,i&&i.length||0);w>u;u++){r[u]=b(r[u],f);k(r,u);i&&(i[u]=b(i[u],e));i&&k(i,u);d(r,i,f,e,u);d(i,r,e,f,u);var c=r[u],l=i&&i[u],a=c.length,y=i&&l.length;f.x=c[a-2];f.y=c[a-1];f.bx=h(c[a-4])||f.x;f.by=h(c[a-3])||f.y;e.bx=i&&(h(l[y-4])||e.x);e.by=i&&(h(l[y-3])||e.y);e.x=i&&l[y-2];e.y=i&&l[y-1]}return i||(p.curve=rt(r)),i?[r,i]:r},null,rt),ci=(i._parseDots=it(function(n){for(var u,s,l,r=[],t=0,o=n.length;o>t;t++){if(u={},s=n[t].match(/^([^:]*):?([\d\.]*)/),u.color=i.getRGB(s[1]),u.color.error)return null;u.color=u.color.hex;s[2]&&(u.offset=s[2]+"%");r.push(u)}for(t=1,o=r.length-1;o>t;t++)if(!r[t].offset){for(var c=h(r[t-1].offset||0),e=0,f=t+1;o>f;f++)if(r[f].offset){e=r[f].offset;break}for(e||(e=100,f=o),e=h(e),l=(e-c)/(f-t+1);f>t;t++)c+=l,r[t].offset=c+"%"}return r}),i._tear=function(n,t){n==t.top&&(t.top=n.prev);n==t.bottom&&(t.bottom=n.next);n.next&&(n.next.prev=n.prev);n.prev&&(n.prev.next=n.next)}),af=(i._tofront=function(n,t){t.top!==n&&(ci(n,t),n.next=null,n.prev=t.top,t.top.next=n,t.top=n)},i._toback=function(n,t){t.bottom!==n&&(ci(n,t),n.next=t.bottom,n.prev=null,t.bottom.prev=n,t.bottom=n)},i._insertafter=function(n,t,i){ci(n,i);t==i.top&&(i.top=n);t.next&&(t.next.prev=n);n.next=t.next;n.prev=t;t.next=n},i._insertbefore=function(n,t,i){ci(n,i);t==i.bottom&&(i.bottom=n);t.prev&&(t.prev.next=n);n.prev=t.prev;t.prev=n;n.next=t},i.toMatrix=function(n,t){var r=gi(n),i={_:{transform:d},getBBox:function(){return r}};return iu(i,t),i.matrix}),iu=(i.transformPath=function(n,t){return di(n,af(n,t))},i._extractTransform=function(n,t){var w,tt;if(null==t)return n._.transform;t=b(t).replace(/\.{3}|\u2026/g,n._.transform||d);var a=i.parseTransformString(t),v=0,g=0,nt=0,y=1,p=1,e=n._,u=new st;if(e.transform=a||[],a)for(w=0,tt=a.length;tt>w;w++){var it,rt,h,c,f,r=a[w],o=r.length,l=b(r[0]).toLowerCase(),k=r[0]!=l,s=k?u.invert():0;"t"==l&&3==o?k?(it=s.x(0,0),rt=s.y(0,0),h=s.x(r[1],r[2]),c=s.y(r[1],r[2]),u.translate(h-it,c-rt)):u.translate(r[1],r[2]):"r"==l?2==o?(f=f||n.getBBox(1),u.rotate(r[1],f.x+f.width/2,f.y+f.height/2),v+=r[1]):4==o&&(k?(h=s.x(r[2],r[3]),c=s.y(r[2],r[3]),u.rotate(r[1],h,c)):u.rotate(r[1],r[2],r[3]),v+=r[1]):"s"==l?2==o||3==o?(f=f||n.getBBox(1),u.scale(r[1],r[o-1],f.x+f.width/2,f.y+f.height/2),y*=r[1],p*=r[o-1]):5==o&&(k?(h=s.x(r[3],r[4]),c=s.y(r[3],r[4]),u.scale(r[1],r[2],h,c)):u.scale(r[1],r[2],r[3],r[4]),y*=r[1],p*=r[2]):"m"==l&&7==o&&u.add(r[1],r[2],r[3],r[4],r[5],r[6]);e.dirtyT=1;n.matrix=u}n.matrix=u;e.sx=y;e.sy=p;e.deg=v;e.dx=g=u.e;e.dy=nt=u.f;1==y&&1==p&&!v&&e.bbox?(e.bbox.x+=+g,e.bbox.y+=+nt):e.dirtyT=1}),ru=function(n){var t=n[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==n.length?[t,0,n[2],n[3]]:[t,0];case"s":return 5==n.length?[t,1,1,n[3],n[4]]:3==n.length?[t,1,1]:[t,1]}},vf=i._equaliseTransform=function(n,t){t=b(t).replace(/\.{3}|\u2026/g,n);n=i.parseTransformString(n)||[];t=i.parseTransformString(t)||[];for(var u,c,r,f,l=o(n.length,t.length),s=[],h=[],e=0;l>e;e++){if(r=n[e]||ru(t[e]),f=t[e]||ru(r),r[0]!=f[0]||"r"==r[0].toLowerCase()&&(r[2]!=f[2]||r[3]!=f[3])||"s"==r[0].toLowerCase()&&(r[3]!=f[3]||r[4]!=f[4]))return;for(s[e]=[],h[e]=[],u=0,c=o(r.length,f.length);c>u;u++)u in r&&(s[e][u]=r[u]),u in f&&(h[e][u]=f[u])}return{from:s,to:h}};i._getContainer=function(n,t,u,f){var e;return e=null!=f||i.is(n,"object")?n:r.doc.getElementById(n),null!=e?e.tagName?null==t?{container:e,width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight}:{container:e,width:t,height:u}:{container:1,x:n,y:t,width:u,height:f}:void 0};i.pathToRelative=lf;i._engine={};i.path2curve=bt;i.matrix=function(n,t,i,r,u,f){return new st(n,t,i,r,u,f)},function(n){function t(n){return n[0]*n[0]+n[1]*n[1]}function r(n){var i=u.sqrt(t(n));n[0]&&(n[0]/=i);n[1]&&(n[1]/=i)}n.add=function(n,t,i,r,u,f){var o,s,h,c,e=[[],[],[]],a=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],l=[[n,i,u],[t,r,f],[0,0,1]];for(n&&n instanceof st&&(l=[[n.a,n.c,n.e],[n.b,n.d,n.f],[0,0,1]]),o=0;3>o;o++)for(s=0;3>s;s++){for(c=0,h=0;3>h;h++)c+=a[o][h]*l[h][s];e[o][s]=c}this.a=e[0][0];this.b=e[1][0];this.c=e[0][1];this.d=e[1][1];this.e=e[0][2];this.f=e[1][2]};n.invert=function(){var n=this,t=n.a*n.d-n.b*n.c;return new st(n.d/t,-n.b/t,-n.c/t,n.a/t,(n.c*n.f-n.d*n.e)/t,(n.b*n.e-n.a*n.f)/t)};n.clone=function(){return new st(this.a,this.b,this.c,this.d,this.e,this.f)};n.translate=function(n,t){this.add(1,0,0,1,n,t)};n.scale=function(n,t,i,r){null==t&&(t=n);(i||r)&&this.add(1,0,0,1,i,r);this.add(n,0,0,t,0,0);(i||r)&&this.add(1,0,0,1,-i,-r)};n.rotate=function(n,t,r){n=i.rad(n);t=t||0;r=r||0;var f=+u.cos(n).toFixed(9),e=+u.sin(n).toFixed(9);this.add(f,e,-e,f,t,r);this.add(1,0,0,1,-t,-r)};n.x=function(n,t){return n*this.a+t*this.c+this.e};n.y=function(n,t){return n*this.b+t*this.d+this.f};n.get=function(n){return+this[b.fromCharCode(97+n)].toFixed(4)};n.toString=function(){return i.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()};n.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};n.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};n.split=function(){var n={},f,e,o;return n.dx=this.e,n.dy=this.f,f=[[this.a,this.c],[this.b,this.d]],n.scalex=u.sqrt(t(f[0])),r(f[0]),n.shear=f[0][0]*f[1][0]+f[0][1]*f[1][1],f[1]=[f[1][0]-f[0][0]*n.shear,f[1][1]-f[0][1]*n.shear],n.scaley=u.sqrt(t(f[1])),r(f[1]),n.shear/=n.scaley,e=-f[0][1],o=f[1][1],0>o?(n.rotate=i.deg(u.acos(o)),0>e&&(n.rotate=360-n.rotate)):n.rotate=i.deg(u.asin(e)),n.isSimple=!(+n.shear.toFixed(9)||n.scalex.toFixed(9)!=n.scaley.toFixed(9)&&n.rotate),n.isSuperSimple=!+n.shear.toFixed(9)&&n.scalex.toFixed(9)==n.scaley.toFixed(9)&&!n.rotate,n.noRotation=!+n.shear.toFixed(9)&&!n.rotate,n};n.toTransformString=function(n){var t=n||this[ut]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:d)+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:d)+(t.rotate?"r"+[t.rotate,0,0]:d)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(st.prototype);kt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);c.safari="Apple Computer, Inc."==navigator.vendor&&(kt&&kt[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&kt&&kt[1]<8?function(){var n=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){n.remove()})}:of;for(var yf=function(){this.returnValue=!1},pf=function(){return this.originalEvent.preventDefault()},wf=function(){this.cancelBubble=!0},bf=function(){return this.originalEvent.stopPropagation()},uu=function(n){var t=r.doc.documentElement.scrollTop||r.doc.body.scrollTop,i=r.doc.documentElement.scrollLeft||r.doc.body.scrollLeft;return{x:n.clientX+i,y:n.clientY+t}},kf=function(){return r.doc.addEventListener?function(n,t,i,r){var u=function(n){var t=uu(n);return i.call(r,n,t.x,t.y)},f;return(n.addEventListener(t,u,!1),gt&&ni[t])&&(f=function(t){for(var f=uu(t),e=t,u=0,o=t.targetTouches&&t.targetTouches.length;o>u;u++)if(t.targetTouches[u].target==n){t=t.targetTouches[u];t.originalEvent=e;t.preventDefault=pf;t.stopPropagation=bf;break}return i.call(r,t,f.x,f.y)},n.addEventListener(ni[t],f,!1)),function(){return n.removeEventListener(t,u,!1),gt&&ni[t]&&n.removeEventListener(ni[t],u,!1),!0}}:r.doc.attachEvent?function(n,t,i,u){var f=function(n){n=n||r.win.event;var t=r.doc.documentElement.scrollTop||r.doc.body.scrollTop,f=r.doc.documentElement.scrollLeft||r.doc.body.scrollLeft,e=n.clientX+f,o=n.clientY+t;return n.preventDefault=n.preventDefault||yf,n.stopPropagation=n.stopPropagation||wf,i.call(u,n,e,o)};return n.attachEvent("on"+t,f),function(){return n.detachEvent("on"+t,f),!0}}:void 0}(),ot=[],nr=function(n){for(var o,s,i,f=n.clientX,e=n.clientY,v=r.doc.documentElement.scrollTop||r.doc.body.scrollTop,y=r.doc.documentElement.scrollLeft||r.doc.body.scrollLeft,l=ot.length;l--;){if(i=ot[l],gt&&n.touches){for(s=n.touches.length;s--;)if(o=n.touches[s],o.identifier==i.el._drag.id){f=o.clientX;e=o.clientY;(n.originalEvent?n.originalEvent:n).preventDefault();break}}else n.preventDefault();var h,u=i.el.node,a=u.nextSibling,c=u.parentNode,p=u.style.display;r.win.opera&&c.removeChild(u);u.style.display="none";h=i.el.paper.getElementByPoint(f,e);u.style.display=p;r.win.opera&&(a?c.insertBefore(u,a):c.appendChild(u));h&&t("raphael.drag.over."+i.el.id,i.el,h);f+=y;e+=v;t("raphael.drag.move."+i.el.id,i.move_scope||i.el,f-i.el._drag.x,e-i.el._drag.y,f,e,n)}},tr=function(n){i.unmousemove(nr).unmouseup(tr);for(var r,u=ot.length;u--;)r=ot[u],r.el._drag={},t("raphael.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,n);ot=[]},e=i.el={},fu=ar.length;fu--;)!function(n){i[n]=e[n]=function(t,u){return i.is(t,"function")&&(this.events=this.events||[],this.events.push({name:n,f:t,unbind:kf(this.shape||this.node||r.doc,n,t,u||this)})),this};i["un"+n]=e["un"+n]=function(t){for(var r=this.events||[],u=r.length;u--;)r[u].name==n&&(i.is(t,"undefined")||r[u].f==t)&&(r[u].unbind(),r.splice(u,1),!r.length&&delete this.events);return this}}(ar[fu]);e.data=function(n,r){var u=at[this.id]=at[this.id]||{},f;if(0==arguments.length)return u;if(1==arguments.length){if(i.is(n,"object")){for(f in n)n[a](f)&&this.data(f,n[f]);return this}return t("raphael.data.get."+this.id,this,u[n],n),u[n]}return u[n]=r,t("raphael.data.set."+this.id,this,r,n),this};e.removeData=function(n){return null==n?at[this.id]={}:at[this.id]&&delete at[this.id][n],this};e.getData=function(){return yt(at[this.id]||{})};e.hover=function(n,t,i,r){return this.mouseover(n,i).mouseout(t,r||i)};e.unhover=function(n,t){return this.unmouseover(n).unmouseout(t)};ct=[];e.drag=function(n,u,f,e,o,s){function h(h){var c,l;(h.originalEvent||h).preventDefault();var a=h.clientX,v=h.clientY,y=r.doc.documentElement.scrollTop||r.doc.body.scrollTop,p=r.doc.documentElement.scrollLeft||r.doc.body.scrollLeft;if(this._drag.id=h.identifier,gt&&h.touches)for(l=h.touches.length;l--;)if(c=h.touches[l],this._drag.id=c.identifier,c.identifier==this._drag.id){a=c.clientX;v=c.clientY;break}this._drag.x=a+p;this._drag.y=v+y;!ot.length&&i.mousemove(nr).mouseup(tr);ot.push({el:this,move_scope:e,start_scope:o,end_scope:s});u&&t.on("raphael.drag.start."+this.id,u);n&&t.on("raphael.drag.move."+this.id,n);f&&t.on("raphael.drag.end."+this.id,f);t("raphael.drag.start."+this.id,o||e||this,h.clientX+p,h.clientY+y,h)}return this._drag={},ct.push({el:this,start:h}),this.mousedown(h),this};e.onDragOver=function(n){n?t.on("raphael.drag.over."+this.id,n):t.unbind("raphael.drag.over."+this.id)};e.undrag=function(){for(var n=ct.length;n--;)ct[n].el==this&&(this.unmousedown(ct[n].start),ct.splice(n,1),t.unbind("raphael.drag.*."+this.id));ct.length||i.unmousemove(nr).unmouseup(tr);ot=[]};c.circle=function(n,t,r){var u=i._engine.circle(this,n||0,t||0,r||0);return this.__set__&&this.__set__.push(u),u};c.rect=function(n,t,r,u,f){var e=i._engine.rect(this,n||0,t||0,r||0,u||0,f||0);return this.__set__&&this.__set__.push(e),e};c.ellipse=function(n,t,r,u){var f=i._engine.ellipse(this,n||0,t||0,r||0,u||0);return this.__set__&&this.__set__.push(f),f};c.path=function(n){!n||i.is(n,ii)||i.is(n[0],tt)||(n+=d);var t=i._engine.path(i.format[v](i,arguments),this);return this.__set__&&this.__set__.push(t),t};c.image=function(n,t,r,u,f){var e=i._engine.image(this,n||"about:blank",t||0,r||0,u||0,f||0);return this.__set__&&this.__set__.push(e),e};c.text=function(n,t,r){var u=i._engine.text(this,n||0,t||0,b(r));return this.__set__&&this.__set__.push(u),u};c.set=function(n){i.is(n,"array")||(n=Array.prototype.splice.call(arguments,0,arguments.length));var t=new vt(n);return this.__set__&&this.__set__.push(t),t.paper=this,t.type="set",t};c.setStart=function(n){this.__set__=n||this.set()};c.setFinish=function(){var n=this.__set__;return delete this.__set__,n};c.setSize=function(n,t){return i._engine.setSize.call(this,n,t)};c.setViewBox=function(n,t,r,u,f){return i._engine.setViewBox.call(this,n,t,r,u,f)};c.top=c.bottom=null;c.raphael=i;eu=function(n){var u=n.getBoundingClientRect(),f=n.ownerDocument,t=f.body,i=f.documentElement,e=i.clientTop||t.clientTop||0,o=i.clientLeft||t.clientLeft||0,s=u.top+(r.win.pageYOffset||i.scrollTop||t.scrollTop)-e,h=u.left+(r.win.pageXOffset||i.scrollLeft||t.scrollLeft)-o;return{y:s,x:h}};c.getElementByPoint=function(n,t){var o=this,f=o.canvas,i=r.doc.elementFromPoint(n,t),s,u,e;if(r.win.opera&&"svg"==i.tagName&&(s=eu(f),u=f.createSVGRect(),u.x=n-s.x,u.y=t-s.y,u.width=u.height=1,e=f.getIntersectionList(u,null),e.length&&(i=e[e.length-1])),!i)return null;for(;i.parentNode&&i!=f.parentNode&&!i.raphael;)i=i.parentNode;return i==o.canvas.parentNode&&(i=f),i=i&&i.raphael?o.getById(i.raphaelid):null};c.getElementsByBBox=function(n){var t=this.set();return this.forEach(function(r){i.isBBoxIntersect(r.getBBox(),n)&&t.push(r)}),t};c.getById=function(n){for(var t=this.bottom;t;){if(t.id==n)return t;t=t.next}return null};c.forEach=function(n,t){for(var i=this.bottom;i;){if(n.call(t,i)===!1)return this;i=i.next}return this};c.getElementsByPoint=function(n,t){var i=this.set();return this.forEach(function(r){r.isPointInside(n,t)&&i.push(r)}),i};e.isPointInside=function(n,t){var r=this.realPath=ui[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=i.transformPath(r,this.attr("transform"))),i.isPointInsidePath(r,n,t)};e.getBBox=function(n){if(this.removed)return{};var t=this._;return n?((t.dirty||!t.bboxwt)&&(this.realPath=ui[this.type](this),t.bboxwt=gi(this.realPath),t.bboxwt.toString=hr,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&((t.dirty||!this.realPath)&&(t.bboxwt=0,this.realPath=ui[this.type](this)),t.bbox=gi(di(this.realPath,this.matrix)),t.bbox.toString=hr,t.dirty=t.dirtyT=0),t.bbox)};e.clone=function(){if(this.removed)return null;var n=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(n),n};e.glow=function(n){var r;if("text"==this.type)return null;n=n||{};var t={width:(n.width||10)+(+this.attr("stroke-width")||1),fill:n.fill||!1,opacity:n.opacity||.5,offsetx:n.offsetx||0,offsety:n.offsety||0,color:n.color||"#000"},u=t.width/2,f=this.paper,e=f.set(),i=this.realPath||ui[this.type](this);for(i=this.matrix?di(i,this.matrix):i,r=1;u+1>r;r++)e.push(f.path(i).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/u*r).toFixed(3),opacity:+(t.opacity/u).toFixed(3)}));return e.insertBefore(this).translate(t.offsetx,t.offsety)};var ir=function(n,t,r,u,f,e,o,s,h){return null==h?lt(n,t,r,u,f,e,o,s):i.findDotsAtSegment(n,t,r,u,f,e,o,s,lu(n,t,r,u,f,e,o,s,h))},rr=function(n,t){return function(r,u,f){r=bt(r);for(var s,h,e,a,o,c="",v={},l=0,y=0,p=r.length;p>y;y++){if(e=r[y],"M"==e[0])s=+e[1],h=+e[2];else{if(a=ir(s,h,e[1],e[2],e[3],e[4],e[5],e[6]),l+a>u){if(t&&!v.start){if(o=ir(s,h,e[1],e[2],e[3],e[4],e[5],e[6],u-l),c+=["C"+o.start.x,o.start.y,o.m.x,o.m.y,o.x,o.y],f)return c;v.start=c;c=["M"+o.x,o.y+"C"+o.n.x,o.n.y,o.end.x,o.end.y,e[5],e[6]].join();l+=a;s=+e[5];h=+e[6];continue}if(!n&&!t)return o=ir(s,h,e[1],e[2],e[3],e[4],e[5],e[6],u-l),{x:o.x,y:o.y,alpha:o.alpha}}l+=a;s=+e[5];h=+e[6]}c+=e.shift()+e}return v.end=c,o=n?l:t?v:i.findDotsAtSegment(s,h,e[0],e[1],e[2],e[3],e[4],e[5],1),o.alpha&&(o={x:o.x,y:o.y,alpha:o.alpha}),o}},ou=rr(1),su=rr(),ur=rr(0,1);i.getTotalLength=ou;i.getPointAtLength=su;i.getSubpath=function(n,t,i){if(this.getTotalLength(n)-i<1e-6)return ur(n,t).end;var r=ur(n,i,1);return t?ur(r,t).end:r};e.getTotalLength=function(){var n=this.getPath();if(n)return this.node.getTotalLength?this.node.getTotalLength():ou(n)};e.getPointAtLength=function(n){var t=this.getPath();if(t)return su(t,n)};e.getPath=function(){var n,t=i._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return t&&(n=t(this)),n};e.getSubpath=function(n,t){var r=this.getPath();if(r)return i.getSubpath(r,n,t)};g=i.easing_formulas={linear:function(n){return n},"<":function(n){return nt(n,1.7)},">":function(n){return nt(n,.48)},"<>":function(n){var i=.48-n/1.04,r=u.sqrt(.1734+i*i),f=r-i,o=nt(y(f),1/3)*(0>f?-1:1),e=-r-i,s=nt(y(e),1/3)*(0>e?-1:1),t=o+s+.5;return 3*(1-t)*t*t+t*t*t},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){n-=1;var t=1.70158;return n*n*((t+1)*n+t)+1},elastic:function(n){return n==!!n?n:nt(2,-10*n)*u.sin(2*(n-.075)*k/.3)+1},bounce:function(n){var i,r=7.5625,t=2.75;return 1/t>n?i=r*n*n:2/t>n?(n-=1.5/t,i=r*n*n+.75):2.5/t>n?(n-=2.25/t,i=r*n*n+.9375):(n-=2.625/t,i=r*n*n+.984375),i}};g.easeIn=g["ease-in"]=g["<"];g.easeOut=g["ease-out"]=g[">"];g.easeInOut=g["ease-in-out"]=g["<>"];g["back-in"]=g.backIn;g["back-out"]=g.backOut;var f=[],hu=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(n){setTimeout(n,16)},fr=function(){for(var n,v,r,u,g,c,nt,w,ft,it=+new Date,b=0;b<f.length;b++)if(n=f[b],!n.el.removed&&!n.paused){var e,d,k=it-n.start,h=n.ms,et=n.easing,o=n.from,l=n.diff,tt=n.to,y=(n.t,n.el),rt={},ut={};if(n.initstatus?(k=(n.initstatus*n.anim.top-n.prev)/(n.percent-n.prev)*h,n.status=n.initstatus,delete n.initstatus,n.stop&&f.splice(b--,1)):n.status=(n.prev+(n.percent-n.prev)*(k/h))/n.anim.top,!(0>k))if(h>k){v=et(k/h);for(r in o)if(o[a](r)){switch(bi[r]){case p:e=+o[r]+v*h*l[r];break;case"colour":e="rgb("+[er(wi(o[r].r+v*h*l[r].r)),er(wi(o[r].g+v*h*l[r].g)),er(wi(o[r].b+v*h*l[r].b))].join(",")+")";break;case"path":for(e=[],u=0,g=o[r].length;g>u;u++){for(e[u]=[o[r][u][0]],c=1,nt=o[r][u].length;nt>c;c++)e[u][c]=+o[r][u][c]+v*h*l[r][u][c];e[u]=e[u].join(wt)}e=e.join(wt);break;case"transform":if(l[r].real)for(e=[],u=0,g=o[r].length;g>u;u++)for(e[u]=[o[r][u][0]],c=1,nt=o[r][u].length;nt>c;c++)e[u][c]=o[r][u][c]+v*h*l[r][u][c];else w=function(n){return+o[r][n]+v*h*l[r][n]},e=[["m",w(0),w(1),w(2),w(3),w(4),w(5)]];break;case"csv":if("clip-rect"==r)for(e=[],u=4;u--;)e[u]=+o[r][u]+v*h*l[r][u];break;default:for(ft=[][s](o[r]),e=[],u=y.paper.customAttributes[r].length;u--;)e[u]=+ft[u]+v*h*l[r][u]}rt[r]=e}y.attr(rt),function(n,i,r){setTimeout(function(){t("raphael.anim.frame."+n,i,r)})}(y.id,y,n.anim)}else{if(function(n,r,u){setTimeout(function(){t("raphael.anim.frame."+r.id,r,u);t("raphael.anim.finish."+r.id,r,u);i.is(n,"function")&&n.call(r)})}(n.callback,y,n.anim),y.attr(tt),f.splice(b--,1),n.repeat>1&&!n.next){for(d in tt)tt[a](d)&&(ut[d]=n.totalOrigin[d]);n.el.attr(ut);pt(n.anim,n.el,n.anim.percents[0],null,n.totalOrigin,n.repeat-1)}n.next&&!n.stop&&pt(n.anim,n.el,n.next,null,n.totalOrigin,n.repeat)}}i.svg&&y&&y.paper&&y.paper.safari();f.length&&hu(fr)},er=function(n){return n>255?255:0>n?0:n};e.animateWith=function(n,t,r,u,e,o){var s=this,c,h,l;if(s.removed)return o&&o.call(s),s;for(c=r instanceof ft?r:i.animation(r,u,e,o),pt(c,s,c.percents[0],null,s.attr()),h=0,l=f.length;l>h;h++)if(f[h].anim==t&&f[h].el==n){f[l-1].start=f[h].start;break}return s};e.onAnimation=function(n){return n?t.on("raphael.anim.frame."+this.id,n):t.unbind("raphael.anim.frame."+this.id),this};ft.prototype.delay=function(n){var t=new ft(this.anim,this.ms);return t.times=this.times,t.del=+n||0,t};ft.prototype.repeat=function(n){var t=new ft(this.anim,this.ms);return t.del=this.del,t.times=u.floor(o(n,0))||1,t};i.animation=function(n,t,r,u){if(n instanceof ft)return n;(i.is(r,"function")||!r)&&(u=u||r||null,r=null);n=Object(n);t=+t||0;var o,f,e={};for(f in n)n[a](f)&&h(f)!=f&&h(f)+"%"!=f&&(o=!0,e[f]=n[f]);return o?(r&&(e.easing=r),u&&(e.callback=u),new ft({100:e},t)):new ft(n,t)};e.animate=function(n,t,r,u){var f=this,e;return f.removed?(u&&u.call(f),f):(e=n instanceof ft?n:i.animation(n,t,r,u),pt(e,f,e.percents[0],null,f.attr()),f)};e.setTime=function(n,t){return n&&null!=t&&this.status(n,l(t,n.ms)/n.ms),this};e.status=function(n,t){var u,i,e=[],r=0;if(null!=t)return pt(n,this,-1,l(t,1)),this;for(u=f.length;u>r;r++)if(i=f[r],i.el.id==this.id&&(!n||i.anim==n)){if(n)return i.status;e.push({anim:i.anim,status:i.status})}return n?0:e};e.pause=function(n){for(var i=0;i<f.length;i++)f[i].el.id!=this.id||n&&f[i].anim!=n||t("raphael.anim.pause."+this.id,this,f[i].anim)!==!1&&(f[i].paused=!0);return this};e.resume=function(n){for(var r,i=0;i<f.length;i++)f[i].el.id!=this.id||n&&f[i].anim!=n||(r=f[i],t("raphael.anim.resume."+this.id,this,r.anim)!==!1&&(delete r.paused,this.status(r.anim,r.status)));return this};e.stop=function(n){for(var i=0;i<f.length;i++)f[i].el.id!=this.id||n&&f[i].anim!=n||t("raphael.anim.stop."+this.id,this,f[i].anim)!==!1&&f.splice(i--,1);return this};t.on("raphael.remove",cr);t.on("raphael.clear",cr);e.toString=function(){return"Raphaël’s object"};vt=function(n){if(this.items=[],this.length=0,this.type="set",n)for(var t=0,i=n.length;i>t;t++)n[t]&&(n[t].constructor==e.constructor||n[t].constructor==vt)&&(this[this.items.length]=this.items[this.items.length]=n[t],this.length++)};w=vt.prototype;w.push=function(){for(var n,t,i=0,r=arguments.length;r>i;i++)n=arguments[i],n&&(n.constructor==e.constructor||n.constructor==vt)&&(t=this.items.length,this[t]=this.items[t]=n,this.length++);return this};w.pop=function(){return this.length&&delete this[this.length--],this.items.pop()};w.forEach=function(n,t){for(var i=0,r=this.items.length;r>i;i++)if(n.call(t,this.items[i],i)===!1)return this;return this};for(li in e)e[a](li)&&(w[li]=function(n){return function(){var t=arguments;return this.forEach(function(i){i[n][v](i,t)})}}(li));return w.attr=function(n,t){var r,f,u,e;if(n&&i.is(n,tt)&&i.is(n[0],"object"))for(r=0,f=n.length;f>r;r++)this.items[r].attr(n[r]);else for(u=0,e=this.items.length;e>u;u++)this.items[u].attr(n,t);return this},w.clear=function(){for(;this.length;)this.pop()},w.splice=function(n,t){var r;n=0>n?o(this.length+n,0):n;t=o(0,l(this.length-n,t));for(var u=[],e=[],f=[],i=2;i<arguments.length;i++)f.push(arguments[i]);for(i=0;t>i;i++)e.push(this[n+i]);for(;i<this.length-n;i++)u.push(this[n+i]);for(r=f.length,i=0;i<r+u.length;i++)this.items[n+i]=this[n+i]=r>i?f[i]:u[i-r];for(i=this.items.length=this.length-=t-r;this[i];)delete this[i++];return new vt(e)},w.exclude=function(n){for(var t=0,i=this.length;i>t;t++)if(this[t]==n)return this.splice(t,1),!0},w.animate=function(n,t,r,u){var o;(i.is(r,"function")||!r)&&(u=r||null);var h,s,e=this.items.length,f=e,c=this;if(!e)return this;for(u&&(s=function(){--e||u.call(c)}),r=i.is(r,ii)?r:s,o=i.animation(n,t,r,s),h=this.items[--f].animate(o);f--;)this.items[f]&&!this.items[f].removed&&this.items[f].animateWith(h,o,o),this.items[f]&&!this.items[f].removed||e--;return this},w.insertAfter=function(n){for(var t=this.items.length;t--;)this.items[t].insertAfter(n);return this},w.getBBox=function(){for(var n,t=[],i=[],r=[],u=[],f=this.items.length;f--;)this.items[f].removed||(n=this.items[f].getBBox(),t.push(n.x),i.push(n.y),r.push(n.x+n.width),u.push(n.y+n.height));return t=l[v](0,t),i=l[v](0,i),r=o[v](0,r),u=o[v](0,u),{x:t,y:i,x2:r,y2:u,width:r-t,height:u-i}},w.clone=function(n){n=this.paper.set();for(var t=0,i=this.items.length;i>t;t++)n.push(this.items[t].clone());return n},w.toString=function(){return"Raphaël‘s set"},w.glow=function(n){var t=this.paper.set();return this.forEach(function(i){var r=i.glow(n);null!=r&&r.forEach(function(n){t.push(n)})}),t},w.isPointInside=function(n,t){var i=!1;return this.forEach(function(r){if(r.isPointInside(n,t))return(console.log("runned"),i=!0,!1)}),i},i.registerFont=function(n){var i,u,f,r,t,e;if(!n.face)return n;this.fonts=this.fonts||{};i={w:n.w,face:{},glyphs:{}};u=n.face["font-family"];for(f in n.face)n.face[a](f)&&(i.face[f]=n.face[f]);if(this.fonts[u]?this.fonts[u].push(i):this.fonts[u]=[i],!n.svg){i.face["units-per-em"]=ht(n.face["units-per-em"],10);for(r in n.glyphs)if(n.glyphs[a](r)&&(t=n.glyphs[r],i.glyphs[r]={w:t.w,k:{},d:t.d&&"M"+t.d.replace(/[mlcxtrv]/g,function(n){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[n]||"M"})+"z"},t.k))for(e in t.k)t[a](e)&&(i.glyphs[r].k[e]=t.k[e])}return n},c.getFont=function(n,t,r,u){var f,h,o,e,s,c;if(u=u||"normal",r=r||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400,i.fonts){if(f=i.fonts[n],!f){h=new RegExp("(^|\\s)"+n.replace(/[^\w\d\s+!~.:_-]/g,d)+"(\\s|$)","i");for(o in i.fonts)if(i.fonts[a](o)&&h.test(o)){f=i.fonts[o];break}}if(f)for(s=0,c=f.length;c>s&&(e=f[s],e.face["font-weight"]!=t||e.face["font-style"]!=r&&e.face["font-style"]||e.face["font-stretch"]!=u);s++);return e}},c.print=function(n,t,r,u,f,e,s,h){var k,y;e=e||"middle";s=o(l(s||0,1),-1);h=o(l(h||1,3),1);var c,v=b(r)[ut](d),g=0,p=0,tt=d;if(i.is(u,"string")&&(u=this.getFont(u)),u){c=(f||16)/u.face["units-per-em"];for(var w=u.face.bbox[ut](yi),it=+w[0],nt=w[3]-w[1],rt=0,ft=+w[1]+("baseline"==e?nt+ +u.face.descent:nt/2),a=0,et=v.length;et>a;a++)"\n"==v[a]?(g=0,y=0,p=0,rt+=nt*h):(k=p&&u.glyphs[v[a-1]]||{},y=u.glyphs[v[a]],g+=p?(k.w||u.w)+(k.k&&k.k[v[a]]||0)+u.w*s:0,p=1),y&&y.d&&(tt+=i.transformPath(y.d,["t",g*c,rt*c,"s",c,c,it,ft,"t",(n-it)/c,(t-ft)/c]))}return this.path(tt).attr({fill:"#000",stroke:"none"})},c.add=function(n){if(i.is(n,"array"))for(var t,u=this.set(),r=0,f=n.length;f>r;r++)t=n[r]||{},pu[a](t.type)&&u.push(this[t.type]().attr(t));return u},i.format=function(n,t){var r=i.is(t,tt)?[0][s](t):arguments;return n&&i.is(n,ii)&&r.length-1&&(n=n.replace(wu,function(n,t){return null==r[++t]?d:r[t]})),n||d},i.fullfill=function(){var n=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(n,i,r){var u=r;return i.replace(t,function(n,t,i,r,f){t=t||r;u&&(t in u&&(u=u[t]),"function"==typeof u&&f&&(u=u()))}),u=(null==u||u==r?n:u)+""};return function(t,r){return String(t).replace(n,function(n,t){return i(n,t,r)})}}(),i.ninja=function(){return pi.was?r.win.Raphael=pi.is:delete Raphael,i},i.st=w,function(n,t,r){function u(){/in/.test(n.readyState)?setTimeout(u,9):i.eve("raphael.DOMload")}null==n.readyState&&n.addEventListener&&(n.addEventListener(t,r=function(){n.removeEventListener(t,r,!1);n.readyState="complete"},!1),n.readyState="loading");u()}(document,"DOMContentLoaded"),t.on("raphael.DOMload",function(){vi=!0}),function(){var nt,v;if(i.svg){var t="hasOwnProperty",u=String,f=parseFloat,tt=parseInt,c=Math,k=c.max,y=c.abs,d=c.pow,l=/[, ]+/,p=i.eve,o="",w=" ",a="http://www.w3.org/1999/xlink",ft={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},e={};i.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var n=function(r,f){if(f){"string"==typeof r&&(r=n(r));for(var e in f)f[t](e)&&("xlink:"==e.substring(0,6)?r.setAttributeNS(a,e.substring(6),u(f[e])):r.setAttribute(e,u(f[e])))}else r=i._g.doc.createElementNS("http://www.w3.org/2000/svg",r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},it=function(t,r){var w="linear",l=t.id+r,b=.5,s=.5,tt=t.node,it=t.paper,g=tt.style,a=i._g.doc.getElementById(l),v,e,nt,p,h,rt;if(!a){if(r=u(r).replace(i._radial_gradient,function(n,t,i){if(w="radial",t&&i){b=f(t);s=f(i);var r=2*(s>.5)-1;d(b-.5,2)+d(s-.5,2)>.25&&(s=c.sqrt(.25-d(b-.5,2))*r+.5)&&.5!=s&&(s=s.toFixed(5)-1e-5*r)}return o}),r=r.split(/\s*\-\s*/),"linear"==w){if(v=r.shift(),v=-f(v),isNaN(v))return null;e=[0,0,c.cos(i.rad(v)),c.sin(i.rad(v))];nt=1/(k(y(e[2]),y(e[3]))||1);e[2]*=nt;e[3]*=nt;e[2]<0&&(e[0]=-e[2],e[2]=0);e[3]<0&&(e[1]=-e[3],e[3]=0)}if(p=i._parseDots(r),!p)return null;if(l=l.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&l!=t.gradient.id&&(it.defs.removeChild(t.gradient),delete t.gradient),!t.gradient)for(a=n(w+"Gradient",{id:l}),t.gradient=a,n(a,"radial"==w?{fx:b,fy:s}:{x1:e[0],y1:e[1],x2:e[2],y2:e[3],gradientTransform:t.matrix.invert()}),it.defs.appendChild(a),h=0,rt=p.length;rt>h;h++)a.appendChild(n("stop",{offset:p[h].offset?p[h].offset:h?"100%":"0%","stop-color":p[h].color||"#fff"}))}return n(tt,{fill:"url(#"+l+")",opacity:1,"fill-opacity":1}),g.fill=o,g.opacity=1,g.fillOpacity=1,1},b=function(t){var i=t.getBBox(1);n(t.pattern,{patternTransform:t.matrix.invert()+" translate("+i.x+","+i.y+")"})},s=function(r,f,s){var b,k,tt,g,it,rt;if("path"==r.type){for(var p,w,ut,et,c,ot=u(f).toLowerCase().split("-"),ht=r.paper,h=s?"end":"start",ct=r.node,l=r.attrs,d=l["stroke-width"],st=ot.length,a="classic",v=3,y=3,nt=5;st--;)switch(ot[st]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=ot[st];break;case"wide":y=5;break;case"narrow":y=2;break;case"long":v=5;break;case"short":v=2}("open"==a?(v+=2,y+=2,nt+=2,ut=1,et=s?4:1,c={fill:"none",stroke:l.stroke}):(et=ut=v/2,c={fill:l.stroke,stroke:"none"}),r._.arrows?s?(r._.arrows.endPath&&e[r._.arrows.endPath]--,r._.arrows.endMarker&&e[r._.arrows.endMarker]--):(r._.arrows.startPath&&e[r._.arrows.startPath]--,r._.arrows.startMarker&&e[r._.arrows.startMarker]--):r._.arrows={},"none"!=a)?(b="raphael-marker-"+a,k="raphael-marker-"+h+a+v+y,i._g.doc.getElementById(b)?e[b]++:(ht.defs.appendChild(n(n("path"),{"stroke-linecap":"round",d:ft[a],id:b})),e[b]=1),g=i._g.doc.getElementById(k),g?(e[k]++,tt=g.getElementsByTagName("use")[0]):(g=n(n("marker"),{id:k,markerHeight:y,markerWidth:v,orient:"auto",refX:et,refY:y/2}),tt=n(n("use"),{"xlink:href":"#"+b,transform:(s?"rotate(180 "+v/2+" "+y/2+") ":o)+"scale("+v/nt+","+y/nt+")","stroke-width":(2/(v/nt+y/nt)).toFixed(4)}),g.appendChild(tt),ht.defs.appendChild(g),e[k]=1),n(tt,c),it=ut*("diamond"!=a&&"oval"!=a),s?(p=r._.arrows.startdx*d||0,w=i.getTotalLength(l.path)-it*d):(p=it*d,w=i.getTotalLength(l.path)-(r._.arrows.enddx*d||0)),c={},c["marker-"+h]="url(#"+k+")",(w||p)&&(c.d=i.getSubpath(l.path,p,w)),n(ct,c),r._.arrows[h+"Path"]=b,r._.arrows[h+"Marker"]=k,r._.arrows[h+"dx"]=it,r._.arrows[h+"Type"]=a,r._.arrows[h+"String"]=f):(s?(p=r._.arrows.startdx*d||0,w=i.getTotalLength(l.path)-p):(p=0,w=i.getTotalLength(l.path)-(r._.arrows.enddx*d||0)),r._.arrows[h+"Path"]&&n(ct,{d:i.getSubpath(l.path,p,w)}),delete r._.arrows[h+"Path"],delete r._.arrows[h+"Marker"],delete r._.arrows[h+"dx"],delete r._.arrows[h+"Type"],delete r._.arrows[h+"String"]);for(c in e)e[t](c)&&!e[c]&&(rt=i._g.doc.getElementById(c),rt&&rt.parentNode.removeChild(rt))}},et={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},rt=function(t,i,r){if(i=et[u(i).toLowerCase()]){for(var e=t.attrs["stroke-width"]||"1",s={round:e,square:e,butt:0}[t.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,o=[],f=i.length;f--;)o[f]=i[f]*e+(f%2?1:-1)*s;n(t.node,{"stroke-dasharray":o.join(",")})}},g=function(r,f){var h=r.node,c=r.attrs,yt=h.style.visibility,v,e,at,g,d,nt,p,et,lt,st,ht,ct,w,ut,ft,vt;h.style.visibility="hidden";for(v in f)if(f[t](v)){if(!i._availableAttrs[t](v))continue;e=f[v];switch(c[v]=e,v){case"blur":r.blur(e);break;case"href":case"title":d=n("title");at=i._g.doc.createTextNode(e);d.appendChild(at);h.appendChild(d);break;case"target":g=h.parentNode;"a"!=g.tagName.toLowerCase()&&(d=n("a"),g.insertBefore(d,h),d.appendChild(h),g=d);"target"==v?g.setAttributeNS(a,"show","blank"==e?"new":e):g.setAttributeNS(a,v,e);break;case"cursor":h.style.cursor=e;break;case"transform":r.transform(e);break;case"arrow-start":s(r,e);break;case"arrow-end":s(r,e,1);break;case"clip-rect":nt=u(e).split(l);4==nt.length&&(r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode),p=n("clipPath"),et=n("rect"),p.id=i.createUUID(),n(et,{x:nt[0],y:nt[1],width:nt[2],height:nt[3]}),p.appendChild(et),r.paper.defs.appendChild(p),n(h,{"clip-path":"url(#"+p.id+")"}),r.clip=et);e||(lt=h.getAttribute("clip-path"),lt&&(st=i._g.doc.getElementById(lt.replace(/(^url\(#|\)$)/g,o)),st&&st.parentNode.removeChild(st),n(h,{"clip-path":o}),delete r.clip));break;case"path":"path"==r.type&&(n(h,{d:e?c.path=i._pathToAbsolute(e):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&s(r,r._.arrows.startString),"endString"in r._.arrows&&s(r,r._.arrows.endString,1)));break;case"width":if(h.setAttribute(v,e),r._.dirty=1,!c.fx)break;v="x";e=c.x;case"x":c.fx&&(e=-c.x-(c.width||0));case"rx":if("rx"==v&&"rect"==r.type)break;case"cx":h.setAttribute(v,e);r.pattern&&b(r);r._.dirty=1;break;case"height":if(h.setAttribute(v,e),r._.dirty=1,!c.fy)break;v="y";e=c.y;case"y":c.fy&&(e=-c.y-(c.height||0));case"ry":if("ry"==v&&"rect"==r.type)break;case"cy":h.setAttribute(v,e);r.pattern&&b(r);r._.dirty=1;break;case"r":"rect"==r.type?n(h,{rx:e,ry:e}):h.setAttribute(v,e);r._.dirty=1;break;case"src":"image"==r.type&&h.setAttributeNS(a,"href",e);break;case"stroke-width":(1!=r._.sx||1!=r._.sy)&&(e/=k(y(r._.sx),y(r._.sy))||1);r.paper._vbSize&&(e*=r.paper._vbSize);h.setAttribute(v,e);c["stroke-dasharray"]&&rt(r,c["stroke-dasharray"],f);r._.arrows&&("startString"in r._.arrows&&s(r,r._.arrows.startString),"endString"in r._.arrows&&s(r,r._.arrows.endString,1));break;case"stroke-dasharray":rt(r,e,f);break;case"fill":if(ht=u(e).match(i._ISURL),ht){p=n("pattern");ct=n("image");p.id=i.createUUID();n(p,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});n(ct,{x:0,y:0,"xlink:href":ht[1]});p.appendChild(ct),function(t){i._preload(ht[1],function(){var i=this.offsetWidth,u=this.offsetHeight;n(t,{width:i,height:u});n(ct,{width:i,height:u});r.paper.safari()})}(p);r.paper.defs.appendChild(p);n(h,{fill:"url(#"+p.id+")"});r.pattern=p;r.pattern&&b(r);break}if(w=i.getRGB(e),w.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=u(e).charAt())&&it(r,e)){("opacity"in c||"fill-opacity"in c)&&(ut=i._g.doc.getElementById(h.getAttribute("fill").replace(/^url\(#|\)$/g,o)),ut&&(ft=ut.getElementsByTagName("stop"),n(ft[ft.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})));c.gradient=e;c.fill="none";break}}else delete f.gradient,delete c.gradient,!i.is(c.opacity,"undefined")&&i.is(f.opacity,"undefined")&&n(h,{opacity:c.opacity}),!i.is(c["fill-opacity"],"undefined")&&i.is(f["fill-opacity"],"undefined")&&n(h,{"fill-opacity":c["fill-opacity"]});w[t]("opacity")&&n(h,{"fill-opacity":w.opacity>1?w.opacity/100:w.opacity});case"stroke":w=i.getRGB(e);h.setAttribute(v,w.hex);"stroke"==v&&w[t]("opacity")&&n(h,{"stroke-opacity":w.opacity>1?w.opacity/100:w.opacity});"stroke"==v&&r._.arrows&&("startString"in r._.arrows&&s(r,r._.arrows.startString),"endString"in r._.arrows&&s(r,r._.arrows.endString,1));break;case"gradient":("circle"==r.type||"ellipse"==r.type||"r"!=u(e).charAt())&&it(r,e);break;case"opacity":c.gradient&&!c[t]("stroke-opacity")&&n(h,{"stroke-opacity":e>1?e/100:e});case"fill-opacity":if(c.gradient){ut=i._g.doc.getElementById(h.getAttribute("fill").replace(/^url\(#|\)$/g,o));ut&&(ft=ut.getElementsByTagName("stop"),n(ft[ft.length-1],{"stop-opacity":e}));break}default:"font-size"==v&&(e=tt(e,10)+"px");vt=v.replace(/(\-.)/g,function(n){return n.substring(1).toUpperCase()});h.style[vt]=e;r._.dirty=1;h.setAttribute(v,e)}}ot(r,f);h.style.visibility=yt},ut=1.2,ot=function(r,f){var y,a;if("text"==r.type&&(f[t]("text")||f[t]("font")||f[t]("font-size")||f[t]("x")||f[t]("y"))){var h=r.attrs,s=r.node,p=s.firstChild?tt(i._g.doc.defaultView.getComputedStyle(s.firstChild,o).getPropertyValue("font-size"),10):10;if(f[t]("text")){for(h.text=f.text;s.firstChild;)s.removeChild(s.firstChild);for(var l,w=u(f.text).split("\n"),c=[],e=0,v=w.length;v>e;e++)l=n("tspan"),e&&n(l,{dy:p*ut,x:h.x}),l.appendChild(i._g.doc.createTextNode(w[e])),s.appendChild(l),c[e]=l}else for(c=s.getElementsByTagName("tspan"),e=0,v=c.length;v>e;e++)e?n(c[e],{dy:p*ut,x:h.x}):n(c[0],{dy:0});n(s,{x:h.x,y:h.y});r._.dirty=1;y=r._getBBox();a=h.y-(y.y+y.height/2);a&&i.is(a,"finite")&&n(c[0],{dy:a})}},h=function(n,t){this[0]=this.node=n;n.raphael=!0;this.id=i._oid++;n.raphaelid=this.id;this.matrix=i.matrix();this.realPath=null;this.paper=t;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!t.bottom&&(t.bottom=this);this.prev=t.top;t.top&&(t.top.next=this);t.top=this;this.next=null},r=i.el;h.prototype=r;r.constructor=h;i._engine.path=function(t,i){var u=n("path"),r;return i.canvas&&i.canvas.appendChild(u),r=new h(u,i),r.type="path",g(r,{fill:"none",stroke:"#000",path:t}),r};r.rotate=function(n,t,i){if(this.removed)return this;if(n=u(n).split(l),n.length-1&&(t=f(n[1]),i=f(n[2])),n=f(n[0]),null==i&&(t=i),null==t||null==i){var r=this.getBBox(1);t=r.x+r.width/2;i=r.y+r.height/2}return this.transform(this._.transform.concat([["r",n,t,i]])),this};r.scale=function(n,t,i,r){if(this.removed)return this;if(n=u(n).split(l),n.length-1&&(t=f(n[1]),i=f(n[2]),r=f(n[3])),n=f(n[0]),null==t&&(t=n),null==r&&(i=r),null==i||null==r)var e=this.getBBox(1);return i=null==i?e.x+e.width/2:i,r=null==r?e.y+e.height/2:r,this.transform(this._.transform.concat([["s",n,t,i,r]])),this};r.translate=function(n,t){return this.removed?this:(n=u(n).split(l),n.length-1&&(t=f(n[1])),n=f(n[0])||0,t=+t||0,this.transform(this._.transform.concat([["t",n,t]])),this)};r.transform=function(r){var u=this._,f;return null==r?u.transform:((i._extractTransform(this,r),this.clip&&n(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&n(this.node,{transform:this.matrix}),1!=u.sx||1!=u.sy)&&(f=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":f})),this)};r.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this};r.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this};r.remove=function(){var n,t;if(!this.removed&&this.node.parentNode){n=this.paper;n.__set__&&n.__set__.exclude(this);p.unbind("raphael.*.*."+this.id);this.gradient&&n.defs.removeChild(this.gradient);i._tear(this,n);"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(t in this)this[t]="function"==typeof this[t]?i._removedFactory(t):null;this.removed=!0}};r._getBBox=function(){var t,n;"none"==this.node.style.display&&(this.show(),t=!0);n={};try{n=this.node.getBBox()}catch(i){}finally{n=n||{}}return t&&this.hide(),n};r.attr=function(n,r){var e,h,f,u,a,v;if(this.removed)return this;if(null==n){e={};for(h in this.attrs)this.attrs[t](h)&&(e[h]=this.attrs[h]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==r&&i.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var y=n.split(l),s={},o=0,c=y.length;c>o;o++)n=y[o],s[n]=n in this.attrs?this.attrs[n]:i.is(this.paper.customAttributes[n],"function")?this.paper.customAttributes[n].def:i._availableAttrs[n];return c-1?s:s[y[0]]}if(null==r&&i.is(n,"array")){for(s={},o=0,c=n.length;c>o;o++)s[n[o]]=this.attr(n[o]);return s}null!=r?(f={},f[n]=r):null!=n&&i.is(n,"object")&&(f=n);for(u in f)p("raphael.attr."+u+"."+this.id,this,f[u]);for(u in this.paper.customAttributes)if(this.paper.customAttributes[t](u)&&f[t](u)&&i.is(this.paper.customAttributes[u],"function")){a=this.paper.customAttributes[u].apply(this,[].concat(f[u]));this.attrs[u]=f[u];for(v in a)a[t](v)&&(f[v]=a[v])}return g(this,f),this};r.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var n=this.paper;return n.top!=this&&i._tofront(this,n),this};r.toBack=function(){if(this.removed)return this;var n=this.node.parentNode;return"a"==n.tagName.toLowerCase()?n.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):n.firstChild!=this.node&&n.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper),this.paper,this};r.insertAfter=function(n){if(this.removed)return this;var t=n.node||n[n.length-1].node;return t.nextSibling?t.parentNode.insertBefore(this.node,t.nextSibling):t.parentNode.appendChild(this.node),i._insertafter(this,n,this.paper),this};r.insertBefore=function(n){if(this.removed)return this;var t=n.node||n[0].node;return t.parentNode.insertBefore(this.node,t),i._insertbefore(this,n,this.paper),this};r.blur=function(t){var r=this,u,f;return 0!=+t?(u=n("filter"),f=n("feGaussianBlur"),r.attrs.blur=t,u.id=i.createUUID(),n(f,{stdDeviation:+t||1.5}),u.appendChild(f),r.paper.defs.appendChild(u),r._blur=u,n(r.node,{filter:"url(#"+u.id+")"})):(r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter")),r};i._engine.circle=function(t,i,r,u){var e=n("circle"),f;return t.canvas&&t.canvas.appendChild(e),f=new h(e,t),f.attrs={cx:i,cy:r,r:u,fill:"none",stroke:"#000"},f.type="circle",n(e,f.attrs),f};i._engine.rect=function(t,i,r,u,f,e){var s=n("rect"),o;return t.canvas&&t.canvas.appendChild(s),o=new h(s,t),o.attrs={x:i,y:r,width:u,height:f,r:e||0,rx:e||0,ry:e||0,fill:"none",stroke:"#000"},o.type="rect",n(s,o.attrs),o};i._engine.ellipse=function(t,i,r,u,f){var o=n("ellipse"),e;return t.canvas&&t.canvas.appendChild(o),e=new h(o,t),e.attrs={cx:i,cy:r,rx:u,ry:f,fill:"none",stroke:"#000"},e.type="ellipse",n(o,e.attrs),e};i._engine.image=function(t,i,r,u,f,e){var o=n("image"),s;return n(o,{x:r,y:u,width:f,height:e,preserveAspectRatio:"none"}),o.setAttributeNS(a,"href",i),t.canvas&&t.canvas.appendChild(o),s=new h(o,t),s.attrs={x:r,y:u,width:f,height:e,src:i},s.type="image",s};i._engine.text=function(t,r,u,f){var o=n("text"),e;return t.canvas&&t.canvas.appendChild(o),e=new h(o,t),e.attrs={x:r,y:u,"text-anchor":"middle",text:f,font:i._availableAttrs.font,stroke:"none",fill:"#000"},e.type="text",g(e,e.attrs),e};i._engine.setSize=function(n,t){return this.width=n||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this};i._engine.create=function(){var u=i._getContainer.apply(0,arguments),t=u&&u.container,o=u.x,s=u.y,f=u.width,e=u.height,c,r,h;if(!t)throw new Error("SVG container not found.");return r=n("svg"),h="overflow:hidden;",o=o||0,s=s||0,f=f||512,e=e||342,n(r,{height:e,version:1.1,width:f,xmlns:"http://www.w3.org/2000/svg"}),1==t?(r.style.cssText=h+"position:absolute;left:"+o+"px;top:"+s+"px",i._g.doc.body.appendChild(r),c=1):(r.style.cssText=h+"position:relative",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)),t=new i._Paper,t.width=f,t.height=e,t.canvas=r,t.clear(),t._left=t._top=0,c&&(t.renderfix=function(){}),t.renderfix(),t};i._engine.setViewBox=function(t,i,r,u,f){p("raphael.setViewBox",this,this._viewBox,[t,i,r,u,f]);var o,h,s=k(r/this.width,u/this.height),e=this.top,c=f?"meet":"xMinYMin";for(null==t?(this._vbSize&&(s=1),delete this._vbSize,o="0 0 "+this.width+w+this.height):(this._vbSize=s,o=t+w+i+w+r+w+u),n(this.canvas,{viewBox:o,preserveAspectRatio:c});s&&e;)h="stroke-width"in e.attrs?e.attrs["stroke-width"]:1,e.attr({"stroke-width":h}),e._.dirty=1,e._.dirtyT=1,e=e.prev;return this._viewBox=[t,i,r,u,!!f],this};i.prototype.renderfix=function(){var n,t=this.canvas,u=t.style,i,r;try{n=t.getScreenCTM()||t.createSVGMatrix()}catch(f){n=t.createSVGMatrix()}i=-n.e%1;r=-n.f%1;(i||r)&&(i&&(this._left=(this._left+i)%1,u.left=this._left+"px"),r&&(this._top=(this._top+r)%1,u.top=this._top+"px"))};i.prototype.clear=function(){i.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null;(this.desc=n("desc")).appendChild(i._g.doc.createTextNode("Created with Raphaël "+i.version));t.appendChild(this.desc);t.appendChild(this.defs=n("defs"))};i.prototype.remove=function(){p("raphael.remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var n in this)this[n]="function"==typeof this[n]?i._removedFactory(n):null};nt=i.st;for(v in r)r[t](v)&&!nt[t](v)&&(nt[v]=function(n){return function(){var t=arguments;return this.forEach(function(i){i[n].apply(i,t)})}}(v))}}(),function(){var s,d,y;if(i.vml){var h="hasOwnProperty",t=String,f=parseFloat,c=Math,e=c.round,k=c.max,g=c.min,p=c.abs,l="fill",a=/[, ]+/,ut=i.eve,ft=" progid:DXImageTransform.Microsoft",o=" ",u="",nt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},et=/([clmz]),?([^clmz]*)/gi,ot=/ progid:\S+Blur\([^\)]+\)/g,st=/-?[^,\s-]+/g,tt="position:absolute;left:0;top:0;width:1px;height:1px",n=21600,ht={path:1,rect:1,image:1},ct={circle:1,ellipse:1},lt=function(r){var l=/[ahqstv]/gi,a=i._pathToAbsolute,v,y,f,c,s,w,h,p;if(t(r).match(l)&&(a=i._path2curve),l=/[clmz]/g,a==i._pathToAbsolute&&!t(r).match(l))return t(r).replace(et,function(t,i,r){var u=[],o="m"==i.toLowerCase(),f=nt[i];return r.replace(st,function(t){o&&2==u.length&&(f+=u+nt["m"==i?"l":"L"],u=[]);u.push(e(t*n))}),f+u});for(c=a(r),v=[],s=0,w=c.length;w>s;s++){for(y=c[s],f=c[s][0].toLowerCase(),"z"==f&&(f="x"),h=1,p=y.length;p>h;h++)f+=e(y[h]*n)+(h!=p-1?",":u);v.push(f)}return v.join(o)},it=function(n,t,r){var u=i.matrix();return u.rotate(-n,.5,.5),{dx:u.x(t,r),dy:u.y(t,r)}},w=function(t,i,r,u,f,e){var v=t._,k=t.matrix,h=v.fillpos,c=t.node,y=c.style,w=1,b="",d=n/i,g=n/r,a,s;(y.visibility="hidden",i&&r)&&((c.coordsize=p(d)+o+p(g),y.rotation=e*(0>i*r?-1:1),e)&&(a=it(e,u,f),u=a.dx,f=a.dy),(0>i&&(b+="x"),0>r&&(b+=" y")&&(w=-1),y.flip=b,c.coordorigin=u*-d+o+f*-g,h||v.fillsize)&&(s=c.getElementsByTagName(l),s=s&&s[0],c.removeChild(s),h&&(a=it(e,k.x(h[0],h[1]),k.y(h[0],h[1])),s.position=a.dx*w+o+a.dy*w),v.fillsize&&(s.size=v.fillsize[0]*p(i)+o+v.fillsize[1]*p(r)),c.appendChild(s)),y.visibility="visible")};i.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var rt=function(n,i,r){for(var e,u=t(i).toLowerCase().split("-"),o=r?"end":"start",f=u.length,s="classic",h="medium",c="medium";f--;)switch(u[f]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=u[f];break;case"wide":case"narrow":c=u[f];break;case"long":case"short":h=u[f]}e=n.node.getElementsByTagName("stroke")[0];e[o+"arrow"]=s;e[o+"arrowlength"]=h;e[o+"arrowwidth"]=c},v=function(r,c){var yt,nt,ot,ut,ft,y,oi,pt,st,tt,d,kt,dt,et,gt,vt;r.attrs=r.attrs||{};var b=r.node,v=r.attrs,it=b.style,ri=ht[r.type]&&(c.x!=v.x||c.y!=v.y||c.width!=v.width||c.height!=v.height||c.cx!=v.cx||c.cy!=v.cy||c.rx!=v.rx||c.ry!=v.ry||c.r!=v.r),hi=ct[r.type]&&(v.cx!=c.cx||v.cy!=c.cy||v.r!=c.r||v.rx!=c.rx||v.ry!=c.ry),p=r;for(yt in c)c[h](yt)&&(v[yt]=c[yt]);if(ri&&(v.path=i._getPath[r.type](r),r._.dirty=1),c.href&&(b.href=c.href),c.title&&(b.title=c.title),c.target&&(b.target=c.target),c.cursor&&(it.cursor=c.cursor),"blur"in c&&r.blur(c.blur),(c.path&&"path"==r.type||ri)&&(b.path=lt(~t(v.path).toLowerCase().indexOf("r")?i._pathToAbsolute(v.path):v.path),"image"==r.type&&(r._.fillpos=[v.x,v.y],r._.fillsize=[v.width,v.height],w(r,1,1,0,0,0))),"transform"in c&&r.transform(c.transform),hi){var bt=+v.cx,ui=+v.cy,fi=+v.rx||+v.r||0,ei=+v.ry||+v.r||0;b.path=i.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",e((bt-fi)*n),e((ui-ei)*n),e((bt+fi)*n),e((ui+ei)*n),e(bt*n));r._.dirty=1}if("clip-rect"in c&&(nt=t(c["clip-rect"]).split(a),4==nt.length&&(nt[2]=+nt[2]+ +nt[0],nt[3]=+nt[3]+ +nt[1],ot=b.clipRect||i._g.doc.createElement("div"),ut=ot.style,ut.clip=i.format("rect({1}px {2}px {3}px {0}px)",nt),b.clipRect||(ut.position="absolute",ut.top=0,ut.left=0,ut.width=r.paper.width+"px",ut.height=r.paper.height+"px",b.parentNode.insertBefore(ot,b),ot.appendChild(b),b.clipRect=ot)),c["clip-rect"]||b.clipRect&&(b.clipRect.style.clip="auto")),r.textpath&&(ft=r.textpath.style,c.font&&(ft.font=c.font),c["font-family"]&&(ft.fontFamily='"'+c["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,u)+'"'),c["font-size"]&&(ft.fontSize=c["font-size"]),c["font-weight"]&&(ft.fontWeight=c["font-weight"]),c["font-style"]&&(ft.fontStyle=c["font-style"])),("arrow-start"in c&&rt(p,c["arrow-start"]),"arrow-end"in c&&rt(p,c["arrow-end"],1),null!=c.opacity||null!=c["stroke-width"]||null!=c.fill||null!=c.src||null!=c.stroke||null!=c["stroke-width"]||null!=c["stroke-opacity"]||null!=c["fill-opacity"]||null!=c["stroke-dasharray"]||null!=c["stroke-miterlimit"]||null!=c["stroke-linejoin"]||null!=c["stroke-linecap"])&&(y=b.getElementsByTagName(l),oi=!1,(y=y&&y[0],!y&&(oi=y=s(l)),"image"==r.type&&c.src&&(y.src=c.src),c.fill&&(y.on=!0),(null==y.on||"none"==c.fill||null===c.fill)&&(y.on=!1),y.on&&c.fill)&&(pt=t(c.fill).match(i._ISURL),pt?(y.parentNode==b&&b.removeChild(y),y.rotate=!0,y.src=pt[1],y.type="tile",st=r.getBBox(1),y.position=st.x+o+st.y,r._.fillpos=[st.x,st.y],i._preload(pt[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})):(y.color=i.getRGB(c.fill).hex,y.src=u,y.type="solid",i.getRGB(c.fill).error&&(p.type in{circle:1,ellipse:1}||"r"!=t(c.fill).charAt())&&at(p,c.fill,y)&&(v.fill="none",v.gradient=c.fill,y.rotate=!1))),("fill-opacity"in c||"opacity"in c)&&(tt=((+v["fill-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+i.getRGB(c.fill).o+1||2)-1),tt=g(k(tt,0),1),y.opacity=tt,y.src&&(y.color="none")),b.appendChild(y),d=b.getElementsByTagName("stroke")&&b.getElementsByTagName("stroke")[0],kt=!1,d||(kt=d=s("stroke")),(c.stroke&&"none"!=c.stroke||c["stroke-width"]||null!=c["stroke-opacity"]||c["stroke-dasharray"]||c["stroke-miterlimit"]||c["stroke-linejoin"]||c["stroke-linecap"])&&(d.on=!0),("none"==c.stroke||null===c.stroke||null==d.on||0==c.stroke||0==c["stroke-width"])&&(d.on=!1),dt=i.getRGB(c.stroke),d.on&&c.stroke&&(d.color=dt.hex),tt=((+v["stroke-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+dt.o+1||2)-1),et=.75*(f(c["stroke-width"])||1),(tt=g(k(tt,0),1),null==c["stroke-width"]&&(et=v["stroke-width"]),c["stroke-width"]&&(d.weight=et),et&&1>et&&(tt*=et)&&(d.weight=1),d.opacity=tt,c["stroke-linejoin"]&&(d.joinstyle=c["stroke-linejoin"]||"miter"),d.miterlimit=c["stroke-miterlimit"]||8,c["stroke-linecap"]&&(d.endcap="butt"==c["stroke-linecap"]?"flat":"square"==c["stroke-linecap"]?"square":"round"),"stroke-dasharray"in c)&&(gt={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},d.dashstyle=gt[h](c["stroke-dasharray"])?gt[c["stroke-dasharray"]]:u),kt&&b.appendChild(d)),"text"==p.type){p.paper.canvas.style.display=u;var ni=p.paper.span,ti=100,wt=v.font&&v.font.match(/\d+(?:\.\d*)?(?=px)/);it=ni.style;v.font&&(it.font=v.font);v["font-family"]&&(it.fontFamily=v["font-family"]);v["font-weight"]&&(it.fontWeight=v["font-weight"]);v["font-style"]&&(it.fontStyle=v["font-style"]);wt=f(v["font-size"]||wt&&wt[0])||10;it.fontSize=wt*ti+"px";p.textpath.string&&(ni.innerHTML=t(p.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));vt=ni.getBoundingClientRect();p.W=v.w=(vt.right-vt.left)/ti;p.H=v.h=(vt.bottom-vt.top)/ti;p.X=v.x;p.Y=v.y+p.H/2;("x"in c||"y"in c)&&(p.path.v=i.format("m{0},{1}l{2},{1}",e(v.x*n),e(v.y*n),e(v.x*n)+1));for(var si=["x","y","text","font","font-family","font-weight","font-style","font-size"],ii=0,ci=si.length;ci>ii;ii++)if(si[ii]in c){p._.dirty=1;break}switch(v["text-anchor"]){case"start":p.textpath.style["v-text-align"]="left";p.bbx=p.W/2;break;case"end":p.textpath.style["v-text-align"]="right";p.bbx=-p.W/2;break;default:p.textpath.style["v-text-align"]="center";p.bbx=0}p.textpath.style["v-text-kern"]=!0}},at=function(n,r,e){var h,s;n.attrs=n.attrs||{};var a=(n.attrs,Math.pow),v="linear",p=".5 .5";if((n.attrs.gradient=r,r=t(r).replace(i._radial_gradient,function(n,t,i){return v="radial",t&&i&&(t=f(t),i=f(i),a(t-.5,2)+a(i-.5,2)>.25&&(i=c.sqrt(.25-a(t-.5,2))*(2*(i>.5)-1)+.5),p=t+o+i),u}),r=r.split(/\s*\-\s*/),"linear"==v)&&(h=r.shift(),h=-f(h),isNaN(h))||(s=i._parseDots(r),!s))return null;if(n=n.shape||n.node,s.length){n.removeChild(e);e.on=!0;e.method="none";e.color=s[0].color;e.color2=s[s.length-1].color;for(var y=[],l=0,w=s.length;w>l;l++)s[l].offset&&y.push(s[l].offset+o+s[l].color);e.colors=y.length?y.join():"0% "+e.color;"radial"==v?(e.type="gradientTitle",e.focus="100%",e.focussize="0 0",e.focusposition=p,e.angle=0):(e.type="gradient",e.angle=(270-h)%360);n.appendChild(e)}return 1},b=function(n,t){this[0]=this.node=n;n.raphael=!0;this.id=i._oid++;n.raphaelid=this.id;this.X=0;this.Y=0;this.attrs={};this.paper=t;this.matrix=i.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!t.bottom&&(t.bottom=this);this.prev=t.top;t.top&&(t.top.next=this);t.top=this;this.next=null},r=i.el;b.prototype=r;r.constructor=b;r.transform=function(r){var l,e,a;if(null==r)return this._.transform;e=this.paper._viewBoxShift;a=e?"s"+[e.scale,e.scale]+"-1-1t"+[e.dx,e.dy]:u;e&&(l=r=t(r).replace(/\.{3}|\u2026/g,this._.transform||u));i._extractTransform(this,a+r);var f,s=this.matrix.clone(),h=this.skew,c=this.node,v=~t(this.attrs.fill).indexOf("-"),d=!t(this.attrs.fill).indexOf("url(");if(s.translate(1,1),d||v||"image"==this.type)if(h.matrix="1 0 0 1",h.offset="0 0",f=s.split(),v&&f.noRotation||!f.isSimple){c.style.filter=s.toFilter();var y=this.getBBox(),p=this.getBBox(1),b=y.x-p.x,k=y.y-p.y;c.coordorigin=b*-n+o+k*-n;w(this,1,1,b,k,0)}else c.style.filter=u,w(this,f.scalex,f.scaley,f.dx,f.dy,f.rotate);else c.style.filter=u,h.matrix=t(s),h.offset=s.offset();return l&&(this._.transform=l),this};r.rotate=function(n,i,r){if(this.removed)return this;if(null!=n){if(n=t(n).split(a),n.length-1&&(i=f(n[1]),r=f(n[2])),n=f(n[0]),null==r&&(i=r),null==i||null==r){var u=this.getBBox(1);i=u.x+u.width/2;r=u.y+u.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",n,i,r]])),this}};r.translate=function(n,i){return this.removed?this:(n=t(n).split(a),n.length-1&&(i=f(n[1])),n=f(n[0])||0,i=+i||0,this._.bbox&&(this._.bbox.x+=n,this._.bbox.y+=i),this.transform(this._.transform.concat([["t",n,i]])),this)};r.scale=function(n,i,r,u){if(this.removed)return this;if(n=t(n).split(a),n.length-1&&(i=f(n[1]),r=f(n[2]),u=f(n[3]),isNaN(r)&&(r=null),isNaN(u)&&(u=null)),n=f(n[0]),null==i&&(i=n),null==u&&(r=u),null==r||null==u)var e=this.getBBox(1);return r=null==r?e.x+e.width/2:r,u=null==u?e.y+e.height/2:u,this.transform(this._.transform.concat([["s",n,i,r,u]])),this._.dirtyT=1,this};r.hide=function(){return!this.removed&&(this.node.style.display="none"),this};r.show=function(){return!this.removed&&(this.node.style.display=u),this};r._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}};r.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this);i.eve.unbind("raphael.*.*."+this.id);i._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var n in this)this[n]="function"==typeof this[n]?i._removedFactory(n):null;this.removed=!0}};r.attr=function(n,t){var f,s,r,u,y,p;if(this.removed)return this;if(null==n){f={};for(s in this.attrs)this.attrs[h](s)&&(f[s]=this.attrs[s]);return f.gradient&&"none"==f.fill&&(f.fill=f.gradient)&&delete f.gradient,f.transform=this._.transform,f}if(null==t&&i.is(n,"string")){if(n==l&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var w=n.split(a),o={},e=0,c=w.length;c>e;e++)n=w[e],o[n]=n in this.attrs?this.attrs[n]:i.is(this.paper.customAttributes[n],"function")?this.paper.customAttributes[n].def:i._availableAttrs[n];return c-1?o:o[w[0]]}if(this.attrs&&null==t&&i.is(n,"array")){for(o={},e=0,c=n.length;c>e;e++)o[n[e]]=this.attr(n[e]);return o}null!=t&&(r={},r[n]=t);null==t&&i.is(n,"object")&&(r=n);for(u in r)ut("raphael.attr."+u+"."+this.id,this,r[u]);if(r){for(u in this.paper.customAttributes)if(this.paper.customAttributes[h](u)&&r[h](u)&&i.is(this.paper.customAttributes[u],"function")){y=this.paper.customAttributes[u].apply(this,[].concat(r[u]));this.attrs[u]=r[u];for(p in y)y[h](p)&&(r[p]=y[p])}r.text&&"text"==this.type&&(this.textpath.string=r.text);v(this,r)}return this};r.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&i._tofront(this,this.paper),this};r.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper)),this)};r.insertAfter=function(n){return this.removed?this:(n.constructor==i.st.constructor&&(n=n[n.length-1]),n.node.nextSibling?n.node.parentNode.insertBefore(this.node,n.node.nextSibling):n.node.parentNode.appendChild(this.node),i._insertafter(this,n,this.paper),this)};r.insertBefore=function(n){return this.removed?this:(n.constructor==i.st.constructor&&(n=n[0]),n.node.parentNode.insertBefore(this.node,n.node),i._insertbefore(this,n,this.paper),this)};r.blur=function(n){var t=this.node.runtimeStyle,r=t.filter;return r=r.replace(ot,u),0!=+n?(this.attrs.blur=n,t.filter=r+o+ft+".Blur(pixelradius="+(+n||1.5)+")",t.margin=i.format("-{0}px 0 0 -{0}px",e(+n||1.5))):(t.filter=r,t.margin=0,delete this.attrs.blur),this};i._engine.path=function(t,i){var f=s("shape"),r,h,e;return f.style.cssText=tt,f.coordsize=n+o+n,f.coordorigin=i.coordorigin,r=new b(f,i),h={fill:"none",stroke:"#000"},t&&(h.path=t),r.type="path",r.path=[],r.Path=u,v(r,h),i.canvas.appendChild(f),e=s("skew"),e.on=!0,f.appendChild(e),r.skew=e,r.transform(u),r};i._engine.rect=function(n,t,r,u,f,e){var h=i._rectPath(t,r,u,f,e),o=n.path(h),s=o.attrs;return o.X=s.x=t,o.Y=s.y=r,o.W=s.width=u,o.H=s.height=f,s.r=e,s.path=h,o.type="rect",o};i._engine.ellipse=function(n,t,i,r,u){var f=n.path();return f.attrs,f.X=t-r,f.Y=i-u,f.W=2*r,f.H=2*u,f.type="ellipse",v(f,{cx:t,cy:i,rx:r,ry:u}),f};i._engine.circle=function(n,t,i,r){var u=n.path();return u.attrs,u.X=t-r,u.Y=i-r,u.W=u.H=2*r,u.type="circle",v(u,{cx:t,cy:i,r:r}),u};i._engine.image=function(n,t,r,u,f,e){var a=i._rectPath(r,u,f,e),o=n.path(a).attr({stroke:"none"}),s=o.attrs,c=o.node,h=c.getElementsByTagName(l)[0];return s.src=t,o.X=s.x=r,o.Y=s.y=u,o.W=s.width=f,o.H=s.height=e,s.path=a,o.type="image",h.parentNode==c&&c.removeChild(h),h.rotate=!0,h.src=t,h.type="tile",o._.fillpos=[r,u],o._.fillsize=[f,e],c.appendChild(h),w(o,1,1,0,0,0),o};i._engine.text=function(r,f,h,c){var a=s("shape"),y=s("path"),p=s("textpath"),l,k,w;return f=f||0,h=h||0,c=c||"",y.v=i.format("m{0},{1}l{2},{1}",e(f*n),e(h*n),e(f*n)+1),y.textpathok=!0,p.string=t(c),p.on=!0,a.style.cssText=tt,a.coordsize=n+o+n,a.coordorigin="0 0",l=new b(a,r),k={fill:"#000",stroke:"none",font:i._availableAttrs.font,text:c},l.shape=a,l.path=y,l.textpath=p,l.type="text",l.attrs.text=t(c),l.attrs.x=f,l.attrs.y=h,l.attrs.w=1,l.attrs.h=1,v(l,k),a.appendChild(p),a.appendChild(y),r.canvas.appendChild(a),w=s("skew"),w.on=!0,a.appendChild(w),l.skew=w,l.transform(u),l};i._engine.setSize=function(n,t){var r=this.canvas.style;return this.width=n,this.height=t,n==+n&&(n+="px"),t==+t&&(t+="px"),r.width=n,r.height=t,r.clip="rect(0 "+n+" "+t+" 0)",this._viewBox&&i._engine.setViewBox.apply(this,this._viewBox),this};i._engine.setViewBox=function(n,t,r,u,f){i.eve("raphael.setViewBox",this,this._viewBox,[n,t,r,u,f]);var e,o,s=this.width,h=this.height,c=1/k(r/s,u/h);return f&&(e=h/u,o=s/r,s>r*e&&(n-=(s-r*e)/2/e),h>u*o&&(t-=(h-u*o)/2/o)),this._viewBox=[n,t,r,u,!!f],this._viewBoxShift={dx:-n,dy:-t,scale:c},this.forEach(function(n){n.transform("...")}),this};i._engine.initWin=function(n){var t=n.document;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{t.namespaces.rvml||t.namespaces.add("rvml","urn:schemas-microsoft-com:vml");s=function(n){return t.createElement("<rvml:"+n+' class="rvml">')}}catch(i){s=function(n){return t.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}};i._engine.initWin(i._g.win);i._engine.create=function(){var e=i._getContainer.apply(0,arguments),f=e.container,r=e.height,u=e.width,c=e.x,l=e.y;if(!f)throw new Error("VML container not found.");var t=new i._Paper,s=t.canvas=i._g.doc.createElement("div"),h=s.style;return c=c||0,l=l||0,u=u||512,r=r||342,t.width=u,t.height=r,u==+u&&(u+="px"),r==+r&&(r+="px"),t.coordsize=1e3*n+o+1e3*n,t.coordorigin="0 0",t.span=i._g.doc.createElement("span"),t.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",s.appendChild(t.span),h.cssText=i.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",u,r),1==f?(i._g.doc.body.appendChild(s),h.left=c+"px",h.top=l+"px",h.position="absolute"):f.firstChild?f.insertBefore(s,f.firstChild):f.appendChild(s),t.renderfix=function(){},t};i.prototype.clear=function(){i.eve("raphael.clear",this);this.canvas.innerHTML=u;this.span=i._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};i.prototype.remove=function(){i.eve("raphael.remove",this);this.canvas.parentNode.removeChild(this.canvas);for(var n in this)this[n]="function"==typeof this[n]?i._removedFactory(n):null;return!0};d=i.st;for(y in r)r[h](y)&&!d[h](y)&&(d[y]=function(n){return function(){var t=arguments;return this.forEach(function(i){i[n].apply(i,t)})}}(y))}}(),pi.was?r.win.Raphael=i:Raphael=i,i});
/* @license
morris.js v0.5.0
Copyright 2014 Olly Smith All rights reserved.
Licensed under the BSD-2-Clause License.
*/
(function(){var t,n,r,u,e=[].slice,i=function(n,t){return function(){return n.apply(t,arguments)}},o={}.hasOwnProperty,f=function(n,t){function r(){this.constructor=n}for(var i in t)o.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},s=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};n=window.Morris={};t=jQuery;n.EventEmitter=function(){function n(){}return n.prototype.on=function(n,t){return this.handlers==null&&(this.handlers={}),this.handlers[n]==null&&(this.handlers[n]=[]),this.handlers[n].push(t),this},n.prototype.fire=function(){var u,f,t,n,o,i,r;if(t=arguments[0],u=2<=arguments.length?e.call(arguments,1):[],this.handlers!=null&&this.handlers[t]!=null){for(i=this.handlers[t],r=[],n=0,o=i.length;n<o;n++)f=i[n],r.push(f.apply(null,u));return r}},n}();n.commas=function(n){var r,t,i,u;return n!=null?(i=n<0?"-":"",r=Math.abs(n),t=Math.floor(r).toFixed(0),i+=t.replace(/(?=(?:\d{3})+$)(?!^)/g,","),u=r.toString(),u.length>t.length&&(i+=u.slice(t.length)),i):"-"};n.pad2=function(n){return(n<10?"0":"")+n};n.Grid=function(r){function u(n){this.resizeHandler=i(this.resizeHandler,this);var r=this;if(this.el=typeof n.element=="string"?t(document.getElementById(n.element)):t(n.element),this.el==null||this.el.length===0)throw new Error("Graph container element not found");this.el.css("position")==="static"&&this.el.css("position","relative");this.options=t.extend({},this.gridDefaults,this.defaults||{},n);typeof this.options.units=="string"&&(this.options.postUnits=n.units);this.raphael=new Raphael(this.el[0]);this.elementWidth=null;this.elementHeight=null;this.dirty=!1;this.selectFrom=null;this.init&&this.init();this.setData(this.options.data);this.el.bind("mousemove",function(n){var i,u,f,e,t;return u=r.el.offset(),t=n.pageX-u.left,r.selectFrom?(i=r.data[r.hitTest(Math.min(t,r.selectFrom))]._x,f=r.data[r.hitTest(Math.max(t,r.selectFrom))]._x,e=f-i,r.selectionRect.attr({x:i,width:e})):r.fire("hovermove",t,n.pageY-u.top)});this.el.bind("mouseleave",function(){return r.selectFrom&&(r.selectionRect.hide(),r.selectFrom=null),r.fire("hoverout")});this.el.bind("touchstart touchmove touchend",function(n){var i,t;return t=n.originalEvent.touches[0]||n.originalEvent.changedTouches[0],i=r.el.offset(),r.fire("hover",t.pageX-i.left,t.pageY-i.top),t});this.el.bind("click",function(n){var t;return t=r.el.offset(),r.fire("gridclick",n.pageX-t.left,n.pageY-t.top)});this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(n){var t;return t=r.el.offset(),r.startRange(n.pageX-t.left)}),this.el.bind("mouseup",function(n){var t;return t=r.el.offset(),r.endRange(n.pageX-t.left),r.fire("hovermove",n.pageX-t.left,n.pageY-t.top)}));this.options.resize&&t(window).bind("resize",function(){return r.timeoutId!=null&&window.clearTimeout(r.timeoutId),r.timeoutId=window.setTimeout(r.resizeHandler,100)});this.postInit&&this.postInit()}return f(u,r),u.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},u.prototype.setData=function(t,i){var w,c,s,l,a,r,h,v,o,y,b,f,e,u,p;if(i==null&&(i=!0),this.options.data=t,t==null||t.length===0){this.data=[];this.raphael.clear();this.hover!=null&&this.hover.hide();return}return f=this.cumulative?0:null,e=this.cumulative?0:null,this.options.goals.length>0&&(a=Math.min.apply(Math,this.options.goals),l=Math.max.apply(Math,this.options.goals),e=e!=null?Math.min(e,a):a,f=f!=null?Math.max(f,l):l),this.data=function(){var i,a,l;for(l=[],s=i=0,a=t.length;i<a;s=++i)h=t[s],r={src:h},r.label=h[this.options.xkey],this.options.parseTime?(r.x=n.parseDate(r.label),this.options.dateFormat?r.label=this.options.dateFormat(r.x):typeof r.label=="number"&&(r.label=new Date(r.label).toString())):(r.x=s,this.options.xLabelFormat&&(r.label=this.options.xLabelFormat(r))),o=0,r.y=function(){var n,r,t,i;for(t=this.options.ykeys,i=[],c=n=0,r=t.length;n<r;c=++n)b=t[c],u=h[b],typeof u=="string"&&(u=parseFloat(u)),u!=null&&typeof u!="number"&&(u=null),u!=null&&(this.cumulative?o+=u:f!=null?(f=Math.max(u,f),e=Math.min(u,e)):f=e=u),this.cumulative&&o!=null&&(f=Math.max(o,f),e=Math.min(o,e)),i.push(u);return i}.call(this),l.push(r);return l}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(n,t){return(n.x>t.x)-(t.x>n.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.events=this.options.parseTime?function(){var t,u,i,r;for(i=this.options.events,r=[],t=0,u=i.length;t<u;t++)w=i[t],r.push(n.parseDate(w));return r}.call(this):this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",e),this.ymax=this.yboundary("max",f),this.ymin===this.ymax&&(e&&(this.ymin-=1),this.ymax+=1),((p=this.options.axes)===!0||p==="both"||p==="y"||this.options.grid===!0)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(v=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var n,r,t,i;for(i=[],y=n=r=this.ymin,t=this.ymax;v>0?n<=t:n>=t;y=n+=v)i.push(y);return i}.call(this))),this.dirty=!0,i?this.redraw():void 0},u.prototype.yboundary=function(n,t){var i,r;return i=this.options["y"+n],typeof i=="string"?i.slice(0,4)==="auto"?i.length>5?(r=parseInt(i.slice(5),10),t==null)?r:Math[n](t,r):t!=null?t:0:parseInt(i,10):i},u.prototype.autoGridLines=function(n,t,i){var u,f,s,h,c,r,e,o,l;return c=t-n,l=Math.floor(Math.log(c)/Math.log(10)),e=Math.pow(10,l),f=Math.floor(n/e)*e,u=Math.ceil(t/e)*e,r=(u-f)/(i-1),e===1&&r>1&&Math.ceil(r)!==r&&(r=Math.ceil(r),u=f+r*(i-1)),f<0&&u>0&&(f=Math.floor(n/r)*r,u=Math.ceil(t/r)*r),r<1?(h=Math.floor(Math.log(r)/Math.log(10)),s=function(){var n,t;for(t=[],o=n=f;r>0?n<=u:n>=u;o=n+=r)t.push(parseFloat(o.toFixed(1-h)));return t}()):s=function(){var n,t;for(t=[],o=n=f;r>0?n<=u:n>=u;o=n+=r)t.push(o);return t}(),s},u.prototype._calc=function(){var f,e,n,t,i,o,r,u;return i=this.el.width(),n=this.el.height(),(this.elementWidth!==i||this.elementHeight!==n||this.dirty)&&(this.elementWidth=i,this.elementHeight=n,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,((r=this.options.axes)===!0||r==="both"||r==="y")&&(o=function(){var n,r,t,i;for(t=this.grid,i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(this.measureText(this.yAxisFormat(e)).width);return i}.call(this),this.left+=Math.max.apply(Math,o)),((u=this.options.axes)===!0||u==="both"||u==="x")&&(f=function(){var n,i,r;for(r=[],t=n=0,i=this.data.length;0<=i?n<i:n>i;t=0<=i?++n:--n)r.push(this.measureText(this.data[t].text,-this.options.xLabelAngle).height);return r}.call(this),this.bottom-=Math.max.apply(Math,f)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc)?this.calc():void 0},u.prototype.transY=function(n){return this.bottom-(n-this.ymin)*this.dy},u.prototype.transX=function(n){return this.data.length===1?(this.left+this.right)/2:this.left+(n-this.xmin)*this.dx},u.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw?this.draw():void 0},u.prototype.measureText=function(n,t){var r,i;return t==null&&(t=0),i=this.raphael.text(100,100,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(t),r=i.getBBox(),i.remove(),r},u.prototype.yAxisFormat=function(n){return this.yLabelFormat(n)},u.prototype.yLabelFormat=function(t){return typeof this.options.yLabelFormat=="function"?this.options.yLabelFormat(t):""+this.options.preUnits+n.commas(t)+this.options.postUnits},u.prototype.drawGrid=function(){var i,r,n,o,u,f,e,t;if(this.options.grid!==!1||(u=this.options.axes)===!0||u==="both"||u==="y"){for(f=this.grid,t=[],n=0,o=f.length;n<o;n++)i=f[n],r=this.transY(i),((e=this.options.axes)===!0||e==="both"||e==="y")&&this.drawYAxisLabel(this.left-this.options.padding/2,r,this.yAxisFormat(i)),this.options.grid?t.push(this.drawGridLine("M"+this.left+","+r+"H"+(this.left+this.width))):t.push(void 0);return t}},u.prototype.drawGoals=function(){var u,f,n,t,e,i,r;for(i=this.options.goals,r=[],n=t=0,e=i.length;t<e;n=++t)f=i[n],u=this.options.goalLineColors[n%this.options.goalLineColors.length],r.push(this.drawGoal(f,u));return r},u.prototype.drawEvents=function(){var u,f,n,t,e,i,r;for(i=this.events,r=[],n=t=0,e=i.length;t<e;n=++t)f=i[n],u=this.options.eventLineColors[n%this.options.eventLineColors.length],r.push(this.drawEvent(f,u));return r},u.prototype.drawGoal=function(n,t){return this.raphael.path("M"+this.left+","+this.transY(n)+"H"+this.right).attr("stroke",t).attr("stroke-width",this.options.goalStrokeWidth)},u.prototype.drawEvent=function(n,t){return this.raphael.path("M"+this.transX(n)+","+this.bottom+"V"+this.top).attr("stroke",t).attr("stroke-width",this.options.eventStrokeWidth)},u.prototype.drawYAxisLabel=function(n,t,i){return this.raphael.text(n,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},u.prototype.drawGridLine=function(n){return this.raphael.path(n).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},u.prototype.startRange=function(n){return this.hover.hide(),this.selectFrom=n,this.selectionRect.attr({x:n,width:0}).show()},u.prototype.endRange=function(n){var t,i;if(this.selectFrom)return i=Math.min(this.selectFrom,n),t=Math.max(this.selectFrom,n),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(i)].x,end:this.data[this.hitTest(t)].x}),this.selectFrom=null},u.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},u}(n.EventEmitter);n.parseDate=function(n){var e,o,c,s,u,r,h,i,t,f,l;return typeof n=="number"?n:(o=n.match(/^(\d+) Q(\d)$/),s=n.match(/^(\d+)-(\d+)$/),u=n.match(/^(\d+)-(\d+)-(\d+)$/),h=n.match(/^(\d+) W(\d+)$/),i=n.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),t=n.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),o?new Date(parseInt(o[1],10),parseInt(o[2],10)*3-1,1).getTime():s?new Date(parseInt(s[1],10),parseInt(s[2],10)-1,1).getTime():u?new Date(parseInt(u[1],10),parseInt(u[2],10)-1,parseInt(u[3],10)).getTime():h?(f=new Date(parseInt(h[1],10),0,1),f.getDay()!==4&&f.setMonth(0,1+(11-f.getDay())%7),f.getTime()+parseInt(h[2],10)*6048e5):i?i[6]?(r=0,i[6]!=="Z"&&(r=parseInt(i[8],10)*60+parseInt(i[9],10),i[7]==="+"&&(r=0-r)),Date.UTC(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)+r)):new Date(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)).getTime():t?(l=parseFloat(t[6]),e=Math.floor(l),c=Math.round((l-e)*1e3),t[8]?(r=0,t[8]!=="Z"&&(r=parseInt(t[10],10)*60+parseInt(t[11],10),t[9]==="+"&&(r=0-r)),Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10)+r,e,c)):new Date(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),e,c).getTime()):new Date(parseInt(n,10),0,1).getTime())};n.Hover=function(){function i(i){i==null&&(i={});this.options=t.extend({},n.Hover.defaults,i);this.el=t("<div class='"+this.options["class"]+"'><\/div>");this.el.hide();this.options.parent.append(this.el)}return i.defaults={"class":"morris-hover morris-default-style"},i.prototype.update=function(n,t,i){return this.html(n),this.show(),this.moveTo(t,i)},i.prototype.html=function(n){return this.el.html(n)},i.prototype.moveTo=function(n,t){var r,f,e,u,o,i;return o=this.options.parent.innerWidth(),u=this.options.parent.innerHeight(),f=this.el.outerWidth(),r=this.el.outerHeight(),e=Math.min(Math.max(0,n-f/2),o-f),t!=null?(i=t-r-10,i<0&&(i=t+10,i+r>u&&(i=u/2-r/2))):i=u/2-r/2,this.el.css({left:e+"px",top:parseInt(i)+"px"})},i.prototype.show=function(){return this.el.show()},i.prototype.hide=function(){return this.el.hide()},i}();n.Line=function(t){function r(t){if(this.hilight=i(this.hilight,this),this.onHoverOut=i(this.onHoverOut,this),this.onHoverMove=i(this.onHoverMove,this),this.onGridClick=i(this.onGridClick,this),!(this instanceof n.Line))return new n.Line(t);r.__super__.constructor.call(this,t)}return f(r,t),r.prototype.init=function(){if(this.options.hideHover!=="always"){this.hover=new n.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}},r.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,continuousLine:!0,hideHover:!1},r.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},r.prototype.calcPoints=function(){var n,t,i,f,r,u;for(r=this.data,u=[],i=0,f=r.length;i<f;i++)n=r[i],n._x=this.transX(n.x),n._y=function(){var i,f,u,r;for(u=n.y,r=[],i=0,f=u.length;i<f;i++)t=u[i],t!=null?r.push(this.transY(t)):r.push(t);return r}.call(this),u.push(n._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var i,f,r,u;for(r=n._y,u=[],i=0,f=r.length;i<f;i++)t=r[i],t!=null&&u.push(t);return u}())));return u},r.prototype.hitTest=function(n){var t,u,i,f,r;if(this.data.length===0)return null;for(r=this.data.slice(1),t=i=0,f=r.length;i<f;t=++i)if(u=r[t],n<(u._x+this.data[t]._x)/2)break;return t},r.prototype.onGridClick=function(n,t){var i;return i=this.hitTest(n),this.fire("click",i,this.data[i].src,n,t)},r.prototype.onHoverMove=function(n){var t;return t=this.hitTest(n),this.displayHoverForRow(t)},r.prototype.onHoverOut=function(){if(this.options.hideHover!==!1)return this.displayHoverForRow(null)},r.prototype.displayHoverForRow=function(n){var t;return n!=null?((t=this.hover).update.apply(t,this.hoverContentForRow(n)),this.hilight(n)):(this.hover.hide(),this.hilight())},r.prototype.hoverContentForRow=function(n){var i,r,t,e,u,o,f;for(t=this.data[n],i="<div class='morris-hover-row-label'>"+t.label+"<\/div>",f=t.y,r=u=0,o=f.length;u<o;r=++u)e=f[r],i+="<div class='morris-hover-point' style='color: "+this.colorFor(t,r,"label")+"'>\n  "+this.options.labels[r]+":\n  "+this.yLabelFormat(e)+"\n<\/div>";return typeof this.options.hoverCallback=="function"&&(i=this.options.hoverCallback(n,this.options,i,t.src)),[i,t._x,t._ymax]},r.prototype.generatePaths=function(){var u,t,i,r,f;return this.paths=function(){var e,o,c,h;for(h=[],i=e=0,o=this.options.ykeys.length;0<=o?e<o:e>o;i=0<=o?++e:--e)f=typeof this.options.smooth=="boolean"?this.options.smooth:(c=this.options.ykeys[i],s.call(this.options.smooth,c)>=0),t=function(){var n,f,t,u;for(t=this.data,u=[],n=0,f=t.length;n<f;n++)r=t[n],r._y[i]!==void 0&&u.push({x:r._x,y:r._y[i]});return u}.call(this),this.options.continuousLine&&(t=function(){var n,r,i;for(i=[],n=0,r=t.length;n<r;n++)u=t[n],u.y!==null&&i.push(u);return i}()),t.length>1?h.push(n.Line.createPath(t,f,this.bottom)):h.push(null);return h}.call(this)},r.prototype.draw=function(){var n;return((n=this.options.axes)===!0||n==="both"||n==="x")&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1?this.displayHoverForRow(this.data.length-1):void 0},r.prototype.drawXAxis=function(){var h,e,i,r,u,o,c,f,l,s,t=this;for(c=this.bottom+this.options.padding/2,u=null,r=null,h=function(n,i){var e,f,o,s,h;return e=t.drawXAxisLabel(t.transX(i),c,n),h=e.getBBox(),e.transform("r"+-t.options.xLabelAngle),f=e.getBBox(),e.transform("t0,"+f.height/2+"..."),t.options.xLabelAngle!==0&&(s=-.5*h.width*Math.cos(t.options.xLabelAngle*Math.PI/180),e.transform("t"+s+",0...")),f=e.getBBox(),(u==null||u>=f.x+f.width||r!=null&&r>=f.x)&&f.x>=0&&f.x+f.width<t.el.width()?(t.options.xLabelAngle!==0&&(o=1.25*t.options.gridTextSize/Math.sin(t.options.xLabelAngle*Math.PI/180),r=f.x-o),u=f.x-t.options.xLabelMargin):e.remove()},i=this.options.parseTime?this.data.length===1&&this.options.xLabels==="auto"?[[this.data[0].label,this.data[0].x]]:n.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var n,r,t,i;for(t=this.data,i=[],n=0,r=t.length;n<r;n++)o=t[n],i.push([o.label,o.x]);return i}.call(this),i.reverse(),s=[],f=0,l=i.length;f<l;f++)e=i[f],s.push(h(e[0],e[1]));return s},r.prototype.drawSeries=function(){var n,t,i,r,u,f;for(this.seriesPoints=[],n=t=r=this.options.ykeys.length-1;r<=0?t<=0:t>=0;n=r<=0?++t:--t)this._drawLineFor(n);for(f=[],n=i=u=this.options.ykeys.length-1;u<=0?i<=0:i>=0;n=u<=0?++i:--i)f.push(this._drawPointFor(n));return f},r.prototype._drawPointFor=function(n){var r,t,i,e,u,f;for(this.seriesPoints[n]=[],u=this.data,f=[],i=0,e=u.length;i<e;i++)t=u[i],r=null,t._y[n]!=null&&(r=this.drawLinePoint(t._x,t._y[n],this.colorFor(t,n,"point"),n)),f.push(this.seriesPoints[n].push(r));return f},r.prototype._drawLineFor=function(n){var t;return t=this.paths[n],t!==null?this.drawLinePath(t,this.colorFor(null,n,"line"),n):void 0},r.createPath=function(t,i,r){var u,l,h,f,o,a,s,e,v,y,p,w,c,b;for(s="",i&&(h=n.Line.gradients(t)),e={y:null},f=c=0,b=t.length;c<b;f=++c)u=t[f],u.y!=null&&(e.y!=null?i?(l=h[f],a=h[f-1],o=(u.x-e.x)/4,v=e.x+o,p=Math.min(r,e.y+o*a),y=u.x-o,w=Math.min(r,u.y-o*l),s+="C"+v+","+p+","+y+","+w+","+u.x+","+u.y):s+="L"+u.x+","+u.y:i&&h[f]==null||(s+="M"+u.x+","+u.y)),e=u;return s},r.gradients=function(n){var f,e,i,r,u,o,s,t;for(e=function(n,t){return(n.y-t.y)/(n.x-t.x)},t=[],i=o=0,s=n.length;o<s;i=++o)f=n[i],f.y!=null?(r=n[i+1]||{y:null},u=n[i-1]||{y:null},u.y!=null&&r.y!=null?t.push(e(u,r)):u.y!=null?t.push(e(u,f)):r.y!=null?t.push(e(f,r)):t.push(null)):t.push(null);return t},r.prototype.hilight=function(n){var t,i,r,u,f;if(this.prevHilight!==null&&this.prevHilight!==n)for(t=i=0,u=this.seriesPoints.length-1;0<=u?i<=u:i>=u;t=0<=u?++i:--i)this.seriesPoints[t][this.prevHilight]&&this.seriesPoints[t][this.prevHilight].animate(this.pointShrinkSeries(t));if(n!==null&&this.prevHilight!==n)for(t=r=0,f=this.seriesPoints.length-1;0<=f?r<=f:r>=f;t=0<=f?++r:--r)this.seriesPoints[t][n]&&this.seriesPoints[t][n].animate(this.pointGrowSeries(t));return this.prevHilight=n},r.prototype.colorFor=function(n,t,i){return typeof this.options.lineColors=="function"?this.options.lineColors.call(this,n,t,i):i==="point"?this.options.pointFillColors[t%this.options.pointFillColors.length]||this.options.lineColors[t%this.options.lineColors.length]:this.options.lineColors[t%this.options.lineColors.length]},r.prototype.drawXAxisLabel=function(n,t,i){return this.raphael.text(n,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},r.prototype.drawLinePath=function(n,t,i){return this.raphael.path(n).attr("stroke",t).attr("stroke-width",this.lineWidthForSeries(i))},r.prototype.drawLinePoint=function(n,t,i,r){return this.raphael.circle(n,t,this.pointSizeForSeries(r)).attr("fill",i).attr("stroke-width",this.pointStrokeWidthForSeries(r)).attr("stroke",this.pointStrokeColorForSeries(r))},r.prototype.pointStrokeWidthForSeries=function(n){return this.options.pointStrokeWidths[n%this.options.pointStrokeWidths.length]},r.prototype.pointStrokeColorForSeries=function(n){return this.options.pointStrokeColors[n%this.options.pointStrokeColors.length]},r.prototype.lineWidthForSeries=function(n){return this.options.lineWidth instanceof Array?this.options.lineWidth[n%this.options.lineWidth.length]:this.options.lineWidth},r.prototype.pointSizeForSeries=function(n){return this.options.pointSize instanceof Array?this.options.pointSize[n%this.options.pointSize.length]:this.options.pointSize},r.prototype.pointGrowSeries=function(n){return Raphael.animation({r:this.pointSizeForSeries(n)+3},25,"linear")},r.prototype.pointShrinkSeries=function(n){return Raphael.animation({r:this.pointSizeForSeries(n)},25,"linear")},r}(n.Grid);n.labelSeries=function(i,r,u,f,e){var s,y,p,w,c,l,o,a,h,b,v;if(p=200*(r-i)/u,y=new Date(i),o=n.LABEL_SPECS[f],o===void 0)for(v=n.AUTO_LABEL_ORDER,h=0,b=v.length;h<b;h++)if(w=v[h],l=n.LABEL_SPECS[w],p>=l.span){o=l;break}for(o===void 0&&(o=n.LABEL_SPECS.second),e&&(o=t.extend({},o,{fmt:e})),s=o.start(y),c=[];(a=s.getTime())<=r;)a>=i&&c.push([o.fmt(s),a]),o.incr(s);return c};r=function(t){return{span:t*6e4,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours())},fmt:function(t){return""+n.pad2(t.getHours())+":"+n.pad2(t.getMinutes())},incr:function(n){return n.setUTCMinutes(n.getUTCMinutes()+t)}}};u=function(t){return{span:t*1e3,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes())},fmt:function(t){return""+n.pad2(t.getHours())+":"+n.pad2(t.getMinutes())+":"+n.pad2(t.getSeconds())},incr:function(n){return n.setUTCSeconds(n.getUTCSeconds()+t)}}};n.LABEL_SPECS={decade:{span:1728e8,start:function(n){return new Date(n.getFullYear()-n.getFullYear()%10,0,1)},fmt:function(n){return""+n.getFullYear()},incr:function(n){return n.setFullYear(n.getFullYear()+10)}},year:{span:1728e7,start:function(n){return new Date(n.getFullYear(),0,1)},fmt:function(n){return""+n.getFullYear()},incr:function(n){return n.setFullYear(n.getFullYear()+1)}},month:{span:24192e5,start:function(n){return new Date(n.getFullYear(),n.getMonth(),1)},fmt:function(t){return""+t.getFullYear()+"-"+n.pad2(t.getMonth()+1)},incr:function(n){return n.setMonth(n.getMonth()+1)}},week:{span:6048e5,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+n.pad2(t.getMonth()+1)+"-"+n.pad2(t.getDate())},incr:function(n){return n.setDate(n.getDate()+7)}},day:{span:864e5,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+n.pad2(t.getMonth()+1)+"-"+n.pad2(t.getDate())},incr:function(n){return n.setDate(n.getDate()+1)}},hour:r(60),"30min":r(30),"15min":r(15),"10min":r(10),"5min":r(5),minute:r(1),"30sec":u(30),"15sec":u(15),"10sec":u(10),"5sec":u(5),second:u(1)};n.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"];n.Area=function(i){function r(i){var f;if(!(this instanceof n.Area))return new n.Area(i);f=t.extend({},u,i);this.cumulative=!f.behaveLikeLine;f.fillOpacity==="auto"&&(f.fillOpacity=f.behaveLikeLine?.8:1);r.__super__.constructor.call(this,f)}var u;return f(r,i),u={fillOpacity:"auto",behaveLikeLine:!1},r.prototype.calcPoints=function(){var n,i,r,t,e,u,f;for(u=this.data,f=[],t=0,e=u.length;t<e;t++)n=u[t],n._x=this.transX(n.x),i=0,n._y=function(){var t,e,f,u;for(f=n.y,u=[],t=0,e=f.length;t<e;t++)r=f[t],this.options.behaveLikeLine?u.push(this.transY(r)):(i+=r||0,u.push(this.transY(i)));return u}.call(this),f.push(n._ymax=Math.max.apply(Math,n._y));return f},r.prototype.drawSeries=function(){var n,i,t,o,r,u,f,e;for(this.seriesPoints=[],i=this.options.behaveLikeLine?function(){u=[];for(var n=0,t=this.options.ykeys.length-1;0<=t?n<=t:n>=t;0<=t?n++:n--)u.push(n);return u}.apply(this):function(){f=[];for(var n=r=this.options.ykeys.length-1;r<=0?n<=0:n>=0;r<=0?n++:n--)f.push(n);return f}.apply(this),e=[],t=0,o=i.length;t<o;t++)n=i[t],this._drawFillFor(n),this._drawLineFor(n),e.push(this._drawPointFor(n));return e},r.prototype._drawFillFor=function(n){var t;return t=this.paths[n],t!==null?(t=t+("L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z"),this.drawFilledPath(t,this.fillForSeries(n))):void 0},r.prototype.fillForSeries=function(n){var t;return t=Raphael.rgb2hsl(this.colorFor(this.data[n],n,"line")),Raphael.hsl(t.h,this.options.behaveLikeLine?t.s*.9:t.s*.75,Math.min(.98,this.options.behaveLikeLine?t.l*1.2:t.l*1.25))},r.prototype.drawFilledPath=function(n,t){return this.raphael.path(n).attr("fill",t).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},r}(n.Line);n.Bar=function(r){function u(r){if(this.onHoverOut=i(this.onHoverOut,this),this.onHoverMove=i(this.onHoverMove,this),this.onGridClick=i(this.onGridClick,this),!(this instanceof n.Bar))return new n.Bar(r);u.__super__.constructor.call(this,t.extend({},r,{parseTime:!1}))}return f(u,r),u.prototype.init=function(){if(this.cumulative=this.options.stacked,this.options.hideHover!=="always"){this.hover=new n.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}},u.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},u.prototype.calc=function(){var n;return this.calcBars(),this.options.hideHover===!1?(n=this.hover).update.apply(n,this.hoverContentForRow(this.data.length-1)):void 0},u.prototype.calcBars=function(){var n,t,i,r,e,u,f;for(u=this.data,f=[],n=r=0,e=u.length;r<e;n=++r)t=u[n],t._x=this.left+this.width*(n+.5)/this.data.length,f.push(t._y=function(){var n,f,u,r;for(u=t.y,r=[],n=0,f=u.length;n<f;n++)i=u[n],i!=null?r.push(this.transY(i)):r.push(null);return r}.call(this));return f},u.prototype.draw=function(){var n;return((n=this.options.axes)===!0||n==="both"||n==="x")&&this.drawXAxis(),this.drawSeries()},u.prototype.drawXAxis=function(){var o,t,n,h,c,u,f,s,l,a,i,r,e;for(a=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),f=null,u=null,e=[],o=i=0,r=this.data.length;0<=r?i<r:i>r;o=0<=r?++i:--i)s=this.data[this.data.length-1-o],t=this.drawXAxisLabel(s._x,a,s.label),l=t.getBBox(),t.transform("r"+-this.options.xLabelAngle),n=t.getBBox(),t.transform("t0,"+n.height/2+"..."),this.options.xLabelAngle!==0&&(c=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180),t.transform("t"+c+",0...")),(f==null||f>=n.x+n.width||u!=null&&u>=n.x)&&n.x>=0&&n.x+n.width<this.el.width()?(this.options.xLabelAngle!==0&&(h=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),u=n.x-h),e.push(f=n.x-this.options.xLabelMargin)):e.push(t.remove());return e},u.prototype.drawSeries=function(){var n,s,f,e,h,c,v,t,l,i,a,y,r,u,o;return f=this.width/this.options.data.length,t=this.options.stacked!=null?1:this.options.ykeys.length,n=(f*this.options.barSizeRatio-this.options.barGap*(t-1))/t,this.options.barSize&&(n=Math.min(n,this.options.barSize)),y=f-n*t-this.options.barGap*(t-1),v=y/2,o=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var t,w,y,p;for(y=this.data,p=[],e=t=0,w=y.length;t<w;e=++t)l=y[e],h=0,p.push(function(){var y,w,p,t;for(p=l._y,t=[],i=y=0,w=p.length;y<w;i=++y)u=p[i],u!==null?(o?(r=Math.min(u,o),s=Math.max(u,o)):(r=u,s=this.bottom),c=this.left+e*f+v,this.options.stacked||(c+=i*(n+this.options.barGap)),a=s-r,this.options.stacked&&(r-=h),this.drawBar(c,r,n,a,this.colorFor(l,i,"bar"),this.options.barOpacity,this.options.barRadius),t.push(h+=a)):t.push(null);return t}.call(this));return p}.call(this)},u.prototype.colorFor=function(n,t,i){var r,u;return typeof this.options.barColors=="function"?(r={x:n.x,y:n.y[t],label:n.label},u={index:t,key:this.options.ykeys[t],label:this.options.labels[t]},this.options.barColors.call(this,r,u,i)):this.options.barColors[t%this.options.barColors.length]},u.prototype.hitTest=function(n){return this.data.length===0?null:(n=Math.max(Math.min(n,this.right),this.left),Math.min(this.data.length-1,Math.floor((n-this.left)/(this.width/this.data.length))))},u.prototype.onGridClick=function(n,t){var i;return i=this.hitTest(n),this.fire("click",i,this.data[i].src,n,t)},u.prototype.onHoverMove=function(n){var t,i;return t=this.hitTest(n),(i=this.hover).update.apply(i,this.hoverContentForRow(t))},u.prototype.onHoverOut=function(){if(this.options.hideHover!==!1)return this.hover.hide()},u.prototype.hoverContentForRow=function(n){var t,i,r,e,o,u,s,f;for(r=this.data[n],t="<div class='morris-hover-row-label'>"+r.label+"<\/div>",f=r.y,i=u=0,s=f.length;u<s;i=++u)o=f[i],t+="<div class='morris-hover-point' style='color: "+this.colorFor(r,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(o)+"\n<\/div>";return typeof this.options.hoverCallback=="function"&&(t=this.options.hoverCallback(n,this.options,t,r.src)),e=this.left+(n+.5)*this.width/this.data.length,[t,e]},u.prototype.drawXAxisLabel=function(n,t,i){return this.raphael.text(n,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},u.prototype.drawBar=function(n,t,i,r,u,f,e){var o,s;return o=Math.max.apply(Math,e),s=o===0||o>r?this.raphael.rect(n,t,i,r):this.raphael.path(this.roundedRect(n,t,i,r,e)),s.attr("fill",u).attr("fill-opacity",f).attr("stroke","none")},u.prototype.roundedRect=function(n,t,i,r,u){return u==null&&(u=[0,0,0,0]),["M",n,u[0]+t,"Q",n,t,n+u[0],t,"L",n+i-u[1],t,"Q",n+i,t,n+i,t+u[1],"L",n+i,t+r-u[2],"Q",n+i,t+r,n+i-u[2],t+r,"L",n+u[3],t+r,"Q",n,t+r,n,t+r-u[3],"Z"]},u}(n.Grid);n.Donut=function(r){function u(r){this.resizeHandler=i(this.resizeHandler,this);this.select=i(this.select,this);this.click=i(this.click,this);var u=this;if(!(this instanceof n.Donut))return new n.Donut(r);if(this.options=t.extend({},this.defaults,r),this.el=typeof r.element=="string"?t(document.getElementById(r.element)):t(r.element),this.el===null||this.el.length===0)throw new Error("Graph placeholder not found.");r.data!==void 0&&r.data.length!==0&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&t(window).bind("resize",function(){return u.timeoutId!=null&&window.clearTimeout(u.timeoutId),u.timeoutId=window.setTimeout(u.resizeHandler,100)}),this.setData(r.data))}return f(u,r),u.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:n.commas,resize:!1},u.prototype.redraw=function(){var d,r,u,e,t,o,g,l,a,f,v,i,s,h,y,c,nt,tt,it,p,w,b,k;for(this.raphael.clear(),r=this.el.width()/2,u=this.el.height()/2,s=(Math.min(r,u)-10)/3,v=0,p=this.values,h=0,nt=p.length;h<nt;h++)i=p[h],v+=i;for(l=5/(2*s),d=1.9999*Math.PI-l*this.data.length,o=0,t=0,this.segments=[],w=this.values,e=y=0,tt=w.length;y<tt;e=++y){i=w[e];a=o+l+d*(i/v);f=new n.DonutSegment(r,u,s*2,s,o,a,this.data[e].color||this.options.colors[t%this.options.colors.length],this.options.backgroundColor,t,this.raphael);f.render();this.segments.push(f);f.on("hover",this.select);f.on("click",this.click);o=a;t+=1}for(this.text1=this.drawEmptyDonutLabel(r,u-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(r,u+10,this.options.labelColor,14),g=Math.max.apply(Math,this.values),t=0,b=this.values,k=[],c=0,it=b.length;c<it;c++){if(i=b[c],i===g){this.select(t);break}k.push(t+=1)}return k},u.prototype.setData=function(n){var t;return this.data=n,this.values=function(){var n,u,i,r;for(i=this.data,r=[],n=0,u=i.length;n<u;n++)t=i[n],r.push(parseFloat(t.value));return r}.call(this),this.redraw()},u.prototype.click=function(n){return this.fire("click",n,this.data[n])},u.prototype.select=function(n){var t,u,f,i,e,r;for(r=this.segments,i=0,e=r.length;i<e;i++)u=r[i],u.deselect();return f=this.segments[n],f.select(),t=this.data[n],this.setLabels(t.label,this.options.formatter(t.value,t))},u.prototype.setLabels=function(n,t){var u,s,h,f,i,e,r,o;return u=(Math.min(this.el.width()/2,this.el.height()/2)-10)*2/3,f=1.8*u,h=u/2,s=u/3,this.text1.attr({text:n,transform:""}),i=this.text1.getBBox(),e=Math.min(f/i.width,h/i.height),this.text1.attr({transform:"S"+e+","+e+","+(i.x+i.width/2)+","+(i.y+i.height)}),this.text2.attr({text:t,transform:""}),r=this.text2.getBBox(),o=Math.min(f/r.width,s/r.height),this.text2.attr({transform:"S"+o+","+o+","+(r.x+r.width/2)+","+r.y})},u.prototype.drawEmptyDonutLabel=function(n,t,i,r,u){var f;return f=this.raphael.text(n,t,"").attr("font-size",r).attr("fill",i),u!=null&&f.attr("font-weight",u),f},u.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},u}(n.EventEmitter);n.DonutSegment=function(n){function t(n,t,r,u,f,e,o,s,h,c){this.cx=n;this.cy=t;this.inner=r;this.outer=u;this.color=o;this.backgroundColor=s;this.index=h;this.raphael=c;this.deselect=i(this.deselect,this);this.select=i(this.select,this);this.sin_p0=Math.sin(f);this.cos_p0=Math.cos(f);this.sin_p1=Math.sin(e);this.cos_p1=Math.cos(e);this.is_long=e-f>Math.PI?1:0;this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5);this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer);this.hilight=this.calcArc(this.inner)}return f(t,n),t.prototype.calcArcPoints=function(n){return[this.cx+n*this.sin_p0,this.cy+n*this.cos_p0,this.cx+n*this.sin_p1,this.cy+n*this.cos_p1]},t.prototype.calcSegment=function(n,t){var u,f,e,o,s,h,c,l,i,r;return i=this.calcArcPoints(n),u=i[0],e=i[1],f=i[2],o=i[3],r=this.calcArcPoints(t),s=r[0],c=r[1],h=r[2],l=r[3],"M"+u+","+e+("A"+n+","+n+",0,"+this.is_long+",0,"+f+","+o)+("L"+h+","+l)+("A"+t+","+t+",0,"+this.is_long+",1,"+s+","+c)+"Z"},t.prototype.calcArc=function(n){var i,r,u,f,t;return t=this.calcArcPoints(n),i=t[0],u=t[1],r=t[2],f=t[3],"M"+i+","+u+("A"+n+","+n+",0,"+this.is_long+",0,"+r+","+f)},t.prototype.render=function(){var n=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return n.fire("hover",n.index)},function(){return n.fire("click",n.index)})},t.prototype.drawDonutArc=function(n,t){return this.raphael.path(n).attr({stroke:t,"stroke-width":2,opacity:0})},t.prototype.drawDonutSegment=function(n,t,i,r,u){return this.raphael.path(n).attr({fill:t,stroke:i,"stroke-width":3}).hover(r).click(u)},t.prototype.select=function(){if(!this.selected)return this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0},t.prototype.deselect=function(){if(this.selected)return this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1},t}(n.EventEmitter)}).call(this),function(n){n.color={};n.color.make=function(t,i,r,u){var f={};return f.r=t||0,f.g=i||0,f.b=r||0,f.a=u!=null?u:1,f.add=function(n,t){for(var i=0;i<n.length;++i)f[n.charAt(i)]+=t;return f.normalize()},f.scale=function(n,t){for(var i=0;i<n.length;++i)f[n.charAt(i)]*=t;return f.normalize()},f.toString=function(){return f.a>=1?"rgb("+[f.r,f.g,f.b].join(",")+")":"rgba("+[f.r,f.g,f.b,f.a].join(",")+")"},f.normalize=function(){function n(n,t,i){return t<n?n:t>i?i:t}return f.r=n(0,parseInt(f.r),255),f.g=n(0,parseInt(f.g),255),f.b=n(0,parseInt(f.b),255),f.a=n(0,f.a,1),f},f.clone=function(){return n.color.make(f.r,f.b,f.g,f.a)},f.normalize()};n.color.extract=function(t,i){var r;do{if(r=t.css(i).toLowerCase(),r!=""&&r!="transparent")break;t=t.parent()}while(t.length&&!n.nodeName(t.get(0),"body"));return r=="rgba(0, 0, 0, 0)"&&(r="transparent"),n.color.parse(r)};n.color.parse=function(i){var r,u=n.color.make,f;return(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))?u(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10)):(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))?u(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4])):(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(i))?u(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55):(r=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))?u(parseFloat(r[1])*2.55,parseFloat(r[2])*2.55,parseFloat(r[3])*2.55,parseFloat(r[4])):(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))?u(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)):(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))?u(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)):(f=n.trim(i).toLowerCase(),f=="transparent"?u(255,255,255,0):(r=t[f]||[0,0,0],u(r[0],r[1],r[2])))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(n){function t(t,i){var r=i.children("."+t)[0];if(r==null&&(r=document.createElement("canvas"),r.className=t,n(r).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(i),!r.getContext))if(window.G_vmlCanvasManager)r=window.G_vmlCanvasManager.initElement(r);else throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=r;var u=this.context=r.getContext("2d"),f=window.devicePixelRatio||1,e=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1;this.pixelRatio=f/e;this.resize(i.width(),i.height());this.textContainer=null;this.text={};this._textCache={}}function r(i,r,f,e){function nt(n,t){t=[l].concat(t);for(var i=0;i<n.length;++i)n[i].apply(this,t)}function ui(){for(var i,u={Canvas:t},r=0;r<e.length;++r)i=e[r],i.init(l,u),i.options&&n.extend(!0,o,i.options)}function fi(t){var f;n.extend(!0,o,t);t&&t.colors&&(o.colors=t.colors);o.xaxis.color==null&&(o.xaxis.color=n.color.parse(o.grid.color).scale("a",.22).toString());o.yaxis.color==null&&(o.yaxis.color=n.color.parse(o.grid.color).scale("a",.22).toString());o.xaxis.tickColor==null&&(o.xaxis.tickColor=o.grid.tickColor||o.xaxis.color);o.yaxis.tickColor==null&&(o.yaxis.tickColor=o.grid.tickColor||o.yaxis.color);o.grid.borderColor==null&&(o.grid.borderColor=o.grid.color);o.grid.tickColor==null&&(o.grid.tickColor=n.color.parse(o.grid.color).scale("a",.22).toString());for(var r,s=i.css("font-size"),c=s?+s.replace("px",""):13,h={style:i.css("font-style"),size:Math.round(.8*c),variant:i.css("font-variant"),weight:i.css("font-weight"),family:i.css("font-family")},e=o.xaxes.length||1,u=0;u<e;++u)r=o.xaxes[u],r&&!r.tickColor&&(r.tickColor=r.color),r=n.extend(!0,{},o.xaxis,r),o.xaxes[u]=r,r.font&&(r.font=n.extend({},h,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(r.font.size*1.15)));for(e=o.yaxes.length||1,u=0;u<e;++u)r=o.yaxes[u],r&&!r.tickColor&&(r.tickColor=r.color),r=n.extend(!0,{},o.yaxis,r),o.yaxes[u]=r,r.font&&(r.font=n.extend({},h,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(r.font.size*1.15)));for(o.xaxis.noTicks&&o.xaxis.ticks==null&&(o.xaxis.ticks=o.xaxis.noTicks),o.yaxis.noTicks&&o.yaxis.ticks==null&&(o.yaxis.ticks=o.yaxis.noTicks),o.x2axis&&(o.xaxes[1]=n.extend(!0,{},o.xaxis,o.x2axis),o.xaxes[1].position="top"),o.y2axis&&(o.yaxes[1]=n.extend(!0,{},o.yaxis,o.y2axis),o.yaxes[1].position="right"),o.grid.coloredAreas&&(o.grid.markings=o.grid.coloredAreas),o.grid.coloredAreasColor&&(o.grid.markingsColor=o.grid.coloredAreasColor),o.lines&&n.extend(!0,o.series.lines,o.lines),o.points&&n.extend(!0,o.series.points,o.points),o.bars&&n.extend(!0,o.series.bars,o.bars),o.shadowSize!=null&&(o.series.shadowSize=o.shadowSize),o.highlightColor!=null&&(o.series.highlightColor=o.highlightColor),u=0;u<o.xaxes.length;++u)et(y,u+1).options=o.xaxes[u];for(u=0;u<o.yaxes.length;++u)et(w,u+1).options=o.yaxes[u];for(f in p)o.hooks[f]&&o.hooks[f].length&&(p[f]=p[f].concat(o.hooks[f]));nt(p.processOptions,[o])}function ht(n){c=ei(n);si();hi()}function ei(t){for(var r,u=[],i=0;i<t.length;++i)r=n.extend(!0,{},o.series),t[i].data!=null?(r.data=t[i].data,delete t[i].data,n.extend(!0,r,t[i]),t[i].data=r.data):r.data=t[i],u.push(r);return u}function ft(n,t){var i=n[t+"axis"];return typeof i=="object"&&(i=i.n),typeof i!="number"&&(i=1),i}function it(){return n.grep(y.concat(w),function(n){return n})}function ct(n){for(var i={},t,r=0;r<y.length;++r)t=y[r],t&&t.used&&(i["x"+t.n]=t.c2p(n.left));for(r=0;r<w.length;++r)t=w[r],t&&t.used&&(i["y"+t.n]=t.c2p(n.top));return i.x1!==undefined&&(i.x=i.x1),i.y1!==undefined&&(i.y=i.y1),i}function oi(n){for(var u={},t,i,r=0;r<y.length;++r)if(t=y[r],t&&t.used&&(i="x"+t.n,n[i]==null&&t.n==1&&(i="x"),n[i]!=null)){u.left=t.p2c(n[i]);break}for(r=0;r<w.length;++r)if(t=w[r],t&&t.used&&(i="y"+t.n,n[i]==null&&t.n==1&&(i="y"),n[i]!=null)){u.top=t.p2c(n[i]);break}return u}function et(t,i){return t[i-1]||(t[i-1]={n:i,direction:t==y?"x":"y",options:n.extend(!0,{},t==y?o.xaxis:o.yaxis)}),t[i-1]}function si(){for(var f=c.length,e=-1,u,h,t,l,a,i=0;i<c.length;++i)u=c[i].color,u!=null&&(f--,typeof u=="number"&&u>e&&(e=u));f<=e&&(f=e+1);var v,s=[],p=o.colors,b=p.length,r=0;for(i=0;i<f;i++)v=n.color.parse(p[i%b]||"#666"),i%b==0&&i&&(r=r>=0?r<.5?-r-.2:0:-r),s[i]=v.scale("rgb",1+r);for(h=0,i=0;i<c.length;++i){if(t=c[i],t.color==null?(t.color=s[h].toString(),++h):typeof t.color=="number"&&(t.color=s[t.color].toString()),t.lines.show==null){a=!0;for(l in t)if(t[l]&&t[l].show){a=!1;break}a&&(t.lines.show=!0)}t.lines.zero==null&&(t.lines.zero=!!t.lines.fill);t.xaxis=et(y,ft(t,"x"));t.yaxis=et(w,ft(t,"y"))}}function hi(){function b(n,t,i){t<n.datamin&&t!=-v&&(n.datamin=t);i>n.datamax&&i!=v&&(n.datamax=i)}var y=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,v=Number.MAX_VALUE,f,l,e,r,t,u,h,i,s,ut,ft,o,et,ot,k,a;for(n.each(it(),function(n,t){t.datamin=y;t.datamax=w;t.used=!1}),f=0;f<c.length;++f)t=c[f],t.datapoints={points:[]},nt(p.processRawData,[t,t.data,t.datapoints]);for(f=0;f<c.length;++f)if(t=c[f],ft=t.data,o=t.datapoints.format,o||(o=[],o.push({x:!0,number:!0,required:!0}),o.push({y:!0,number:!0,required:!0}),(t.bars.show||t.lines.show&&t.lines.fill)&&(et=!!(t.bars.show&&t.bars.zero||t.lines.show&&t.lines.zero),o.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:et}),t.bars.horizontal&&(delete o[o.length-1].y,o[o.length-1].x=!0)),t.datapoints.format=o),t.datapoints.pointsize==null)for(t.datapoints.pointsize=o.length,h=t.datapoints.pointsize,u=t.datapoints.points,ot=t.lines.show&&t.lines.steps,t.xaxis.used=t.yaxis.used=!0,l=e=0;l<ft.length;++l,e+=h){if(ut=ft[l],k=ut==null,!k)for(r=0;r<h;++r)i=ut[r],s=o[r],s&&(s.number&&i!=null&&(i=+i,isNaN(i)?i=null:i==Infinity?i=v:i==-Infinity&&(i=-v)),i==null&&(s.required&&(k=!0),s.defaultValue!=null&&(i=s.defaultValue))),u[e+r]=i;if(k)for(r=0;r<h;++r)i=u[e+r],i!=null&&(s=o[r],s.autoscale!==!1&&(s.x&&b(t.xaxis,i,i),s.y&&b(t.yaxis,i,i))),u[e+r]=null;else if(ot&&e>0&&u[e-h]!=null&&u[e-h]!=u[e]&&u[e-h+1]!=u[e+1]){for(r=0;r<h;++r)u[e+h+r]=u[e+r];u[e+1]=u[e-h+1];e+=h}}for(f=0;f<c.length;++f)t=c[f],nt(p.processDatapoints,[t,t.datapoints]);for(f=0;f<c.length;++f){t=c[f];u=t.datapoints.points;h=t.datapoints.pointsize;o=t.datapoints.format;var d=y,g=y,tt=w,rt=w;for(l=0;l<u.length;l+=h)if(u[l]!=null)for(r=0;r<h;++r)(i=u[l+r],s=o[r],s&&s.autoscale!==!1&&i!=v&&i!=-v)&&(s.x&&(i<d&&(d=i),i>tt&&(tt=i)),s.y&&(i<g&&(g=i),i>rt&&(rt=i)));if(t.bars.show){switch(t.bars.align){case"left":a=0;break;case"right":a=-t.bars.barWidth;break;default:a=-t.bars.barWidth/2}t.bars.horizontal?(g+=a,rt+=a+t.bars.barWidth):(d+=a,tt+=a+t.bars.barWidth)}b(t.xaxis,d,tt);b(t.yaxis,g,rt)}n.each(it(),function(n,t){t.datamin==y&&(t.datamin=null);t.datamax==w&&(t.datamax=null)})}function ci(){i.css("padding",0).children().filter(function(){return!n(this).hasClass("flot-overlay")&&!n(this).hasClass("flot-base")}).remove();i.css("position")=="static"&&i.css("position","relative");a=new t("flot-base",i);tt=new t("flot-overlay",i);s=a.context;v=tt.context;k=n(tt.element).unbind();var r=i.data("plot");r&&(r.shutdown(),tt.clear());i.data("plot",l)}function li(){o.grid.hoverable&&(k.mousemove(bt),k.bind("mouseleave",kt));o.grid.clickable&&k.click(dt);nt(p.bindEvents,[k])}function lt(){rt&&clearTimeout(rt);k.unbind("mousemove",bt);k.unbind("mouseleave",kt);k.unbind("click",dt);nt(p.shutdown,[k])}function ai(n){function u(n){return n}var i,r,t=n.options.transform||u,f=n.options.inverseTransform;n.direction=="x"?(i=n.scale=d/Math.abs(t(n.max)-t(n.min)),r=Math.min(t(n.max),t(n.min))):(i=n.scale=b/Math.abs(t(n.max)-t(n.min)),i=-i,r=Math.max(t(n.max),t(n.min)));n.p2c=t==u?function(n){return(n-r)*i}:function(n){return(t(n)-r)*i};n.c2p=f?function(n){return f(r+n/i)}:function(n){return r+n/i}}function vi(n){for(var e,o,t=n.options,r=n.ticks||[],i=t.labelWidth||0,u=t.labelHeight||0,s=i||(n.direction=="x"?Math.floor(a.width/(r.length||1)):null),h=n.direction+"Axis "+n.direction+n.n+"Axis",c="flot-"+n.direction+"-axis flot-"+n.direction+n.n+"-axis "+h,l=t.font||"flot-tick-label tickLabel",f=0;f<r.length;++f)(e=r[f],e.label)&&(o=a.getTextInfo(c,e.label,l,null,s),i=Math.max(i,o.width),u=Math.max(u,o.height));n.labelWidth=t.labelWidth||i;n.labelHeight=t.labelHeight||u}function yi(t){var r=t.labelWidth,u=t.labelHeight,e=t.options.position,l=t.direction==="x",f=t.options.tickLength,i=o.grid.axisMargin,s=o.grid.labelMargin,v=!0,p=!0,b=!0,c=!1;n.each(l?y:w,function(n,i){i&&i.reserveSpace&&(i===t?c=!0:i.options.position===e&&(c?p=!1:v=!1),c||(b=!1))});p&&(i=0);f==null&&(f=b?"full":5);isNaN(+f)||(s+=+f);l?(u+=s,e=="bottom"?(h.bottom+=u+i,t.box={top:a.height-h.bottom,height:u}):(t.box={top:h.top+i,height:u},h.top+=u+i)):(r+=s,e=="left"?(t.box={left:h.left+i,width:r},h.left+=r+i):(h.right+=r+i,t.box={left:a.width-h.right,width:r}));t.position=e;t.tickLength=f;t.box.padding=s;t.innermost=v}function pi(n){n.direction=="x"?(n.box.left=h.left-n.labelWidth/2,n.box.width=a.width-h.left-h.right+n.labelWidth):(n.box.top=h.top-n.labelHeight/2,n.box.height=a.height-h.bottom-h.top+n.labelHeight)}function wi(){var i=o.grid.minBorderMargin,r,t;if(i==null)for(i=0,r=0;r<c.length;++r)i=Math.max(i,2*(c[r].points.radius+c[r].points.lineWidth/2));t={left:i,right:i,top:i,bottom:i};n.each(it(),function(n,i){if(i.reserveSpace&&i.ticks&&i.ticks.length){var r=i.ticks[i.ticks.length-1];i.direction==="x"?(t.left=Math.max(t.left,i.labelWidth/2),r.v<=i.max&&(t.right=Math.max(t.right,i.labelWidth/2))):(t.bottom=Math.max(t.bottom,i.labelHeight/2),r.v<=i.max&&(t.top=Math.max(t.top,i.labelHeight/2)))}});h.left=Math.ceil(Math.max(t.left,h.left));h.right=Math.ceil(Math.max(t.right,h.right));h.top=Math.ceil(Math.max(t.top,h.top));h.bottom=Math.ceil(Math.max(t.bottom,h.bottom))}function at(){var r,e=it(),u=o.grid.show,f,t,i;for(t in h)f=o.grid.margin||0,h[t]=typeof f=="number"?f:f[t]||0;nt(p.processOffset,[h]);for(t in h)h[t]+=typeof o.grid.borderWidth=="object"?u?o.grid.borderWidth[t]:0:u?o.grid.borderWidth:0;if(n.each(e,function(n,t){t.show=t.options.show;t.show==null&&(t.show=t.used);t.reserveSpace=t.show||t.options.reserveSpace;bi(t)}),u){for(i=n.grep(e,function(n){return n.reserveSpace}),n.each(i,function(n,t){ki(t);di(t);gi(t,t.ticks);vi(t)}),r=i.length-1;r>=0;--r)yi(i[r]);wi();n.each(i,function(n,t){pi(t)})}d=a.width-h.left-h.right;b=a.height-h.bottom-h.top;n.each(e,function(n,t){ai(t)});u&&tr();er()}function bi(n){var t=n.options,r=+(t.min!=null?t.min:n.datamin),i=+(t.max!=null?t.max:n.datamax),f=i-r,e,u;f==0?(e=i==0?1:.01,t.min==null&&(r-=e),(t.max==null||t.min!=null)&&(i+=e)):(u=t.autoscaleMargin,u!=null&&(t.min==null&&(r-=f*u,r<0&&n.datamin!=null&&n.datamin>=0&&(r=0)),t.max==null&&(i+=f*u,i>0&&n.datamax!=null&&n.datamax<=0&&(i=0))));n.min=r;n.max=i}function ki(t){var i=t.options,b,v,h,f,r,s,p,c;b=typeof i.ticks=="number"&&i.ticks>0?i.ticks:.3*Math.sqrt(t.direction=="x"?a.width:a.height);var l=(t.max-t.min)/b,o=-Math.floor(Math.log(l)/Math.LN10),e=i.tickDecimals;if(e!=null&&o>e&&(o=e),v=Math.pow(10,-o),h=l/v,h<1.5?f=1:h<3?(f=2,h>2.25&&(e==null||o+1<=e)&&(f=2.5,++o)):f=h<7.5?5:10,f*=v,i.minTickSize!=null&&f<i.minTickSize&&(f=i.minTickSize),t.delta=l,t.tickDecimals=Math.max(0,e!=null?e:o),t.tickSize=i.tickSize||f,i.mode=="time"&&!t.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");t.tickGenerator||(t.tickGenerator=function(n){var i=[],e=u(n.min,n.tickSize),r=0,t=Number.NaN,f;do f=t,t=e+r*n.tickSize,i.push(t),++r;while(t<n.max&&t!=f);return i},t.tickFormatter=function(n,t){var u=t.tickDecimals?Math.pow(10,t.tickDecimals):1,i=""+Math.round(n*u)/u,f,r;return t.tickDecimals!=null&&(f=i.indexOf("."),r=f==-1?0:i.length-f-1,r<t.tickDecimals)?(r?i:i+".")+(""+u).substr(1,t.tickDecimals-r):i});n.isFunction(i.tickFormatter)&&(t.tickFormatter=function(n,t){return""+i.tickFormatter(n,t)});i.alignTicksWithAxis!=null&&(r=(t.direction=="x"?y:w)[i.alignTicksWithAxis-1],r&&r.used&&r!=t&&(s=t.tickGenerator(t),s.length>0&&(i.min==null&&(t.min=Math.min(t.min,s[0])),i.max==null&&s.length>1&&(t.max=Math.max(t.max,s[s.length-1]))),t.tickGenerator=function(n){for(var u=[],t,i=0;i<r.ticks.length;++i)t=(r.ticks[i].v-r.min)/(r.max-r.min),t=n.min+t*(n.max-n.min),u.push(t);return u},t.mode||i.tickDecimals!=null||(p=Math.max(0,-Math.floor(Math.log(t.delta)/Math.LN10)+1),c=t.tickGenerator(t),c.length>1&&/\..*0$/.test((c[1]-c[0]).toFixed(p))||(t.tickDecimals=p))))}function di(t){var i=t.options.ticks,e=[],o,u,f,r;for(i==null||typeof i=="number"&&i>0?e=t.tickGenerator(t):i&&(e=n.isFunction(i)?i(t):i),t.ticks=[],o=0;o<e.length;++o)f=null,r=e[o],typeof r=="object"?(u=+r[0],r.length>1&&(f=r[1])):u=+r,f==null&&(f=t.tickFormatter(u,t)),isNaN(u)||t.ticks.push({v:u,label:f})}function gi(n,t){n.options.autoscaleMargin&&t.length>0&&(n.options.min==null&&(n.min=Math.min(n.min,t[0].v)),n.options.max==null&&t.length>1&&(n.max=Math.max(n.max,t[t.length-1].v)))}function vt(){var n,t;for(a.clear(),nt(p.drawBackground,[s]),n=o.grid,n.show&&n.backgroundColor&&nr(),n.show&&!n.aboveData&&pt(),t=0;t<c.length;++t)nt(p.drawSeries,[s,c[t]]),ir(c[t]);nt(p.draw,[s]);n.show&&n.aboveData&&pt();a.render();ut()}function yt(n,t){for(var s,f,i,r,u,o=it(),e=0;e<o.length;++e)if(f=o[e],f.direction==t&&(u=t+f.n+"axis",n[u]||f.n!=1||(u=t+"axis"),n[u])){i=n[u].from;r=n[u].to;break}return n[u]||(f=t=="x"?y[0]:w[0],i=n[t+"1"],r=n[t+"2"]),i!=null&&r!=null&&i>r&&(s=i,i=r,r=s),{from:i,to:r,axis:f}}function nr(){s.save();s.translate(h.left,h.top);s.fillStyle=ri(o.grid.backgroundColor,b,0,"rgba(255, 255, 255, 0)");s.fillRect(0,0,d,b);s.restore()}function pt(){var v,f,t,e,k,tt,w;if(s.save(),s.translate(h.left,h.top),k=o.grid.markings,k)for(n.isFunction(k)&&(f=l.getAxes(),f.xmin=f.xaxis.min,f.xmax=f.xaxis.max,f.ymin=f.yaxis.min,f.ymax=f.yaxis.max,k=k(f)),v=0;v<k.length;++v){var nt=k[v],i=yt(nt,"x"),r=yt(nt,"y");(i.from==null&&(i.from=i.axis.min),i.to==null&&(i.to=i.axis.max),r.from==null&&(r.from=r.axis.min),r.to==null&&(r.to=r.axis.max),i.to<i.axis.min||i.from>i.axis.max||r.to<r.axis.min||r.from>r.axis.max)||(i.from=Math.max(i.from,i.axis.min),i.to=Math.min(i.to,i.axis.max),r.from=Math.max(r.from,r.axis.min),r.to=Math.min(r.to,r.axis.max),i.from!=i.to||r.from!=r.to)&&(i.from=i.axis.p2c(i.from),i.to=i.axis.p2c(i.to),r.from=r.axis.p2c(r.from),r.to=r.axis.p2c(r.to),i.from==i.to||r.from==r.to?(s.beginPath(),s.strokeStyle=nt.color||o.grid.markingsColor,s.lineWidth=nt.lineWidth||o.grid.markingsLineWidth,s.moveTo(i.from,r.from),s.lineTo(i.to,r.to),s.stroke()):(s.fillStyle=nt.color||o.grid.markingsColor,s.fillRect(i.from,r.to,i.to-i.from,r.from-r.to)))}for(f=it(),t=o.grid.borderWidth,tt=0;tt<f.length;++tt){var u=f[tt],rt=u.box,g=u.tickLength,c,a,y,p;if(u.show&&u.ticks.length!=0){for(s.lineWidth=1,u.direction=="x"?(c=0,a=g=="full"?u.position=="top"?0:b:rt.top-h.top+(u.position=="top"?rt.height:0)):(a=0,c=g=="full"?u.position=="left"?0:d:rt.left-h.left+(u.position=="left"?rt.width:0)),u.innermost||(s.strokeStyle=u.options.color,s.beginPath(),y=p=0,u.direction=="x"?y=d+1:p=b+1,s.lineWidth==1&&(u.direction=="x"?a=Math.floor(a)+.5:c=Math.floor(c)+.5),s.moveTo(c,a),s.lineTo(c+y,a+p),s.stroke()),s.strokeStyle=u.options.tickColor,s.beginPath(),v=0;v<u.ticks.length;++v)(w=u.ticks[v].v,y=p=0,isNaN(w)||w<u.min||w>u.max||g=="full"&&(typeof t=="object"&&t[u.position]>0||t>0)&&(w==u.min||w==u.max))||(u.direction=="x"?(c=u.p2c(w),p=g=="full"?-b:g,u.position=="top"&&(p=-p)):(a=u.p2c(w),y=g=="full"?-d:g,u.position=="left"&&(y=-y)),s.lineWidth==1&&(u.direction=="x"?c=Math.floor(c)+.5:a=Math.floor(a)+.5),s.moveTo(c,a),s.lineTo(c+y,a+p));s.stroke()}}t&&(e=o.grid.borderColor,typeof t=="object"||typeof e=="object"?(typeof t!="object"&&(t={top:t,right:t,bottom:t,left:t}),typeof e!="object"&&(e={top:e,right:e,bottom:e,left:e}),t.top>0&&(s.strokeStyle=e.top,s.lineWidth=t.top,s.beginPath(),s.moveTo(0-t.left,0-t.top/2),s.lineTo(d,0-t.top/2),s.stroke()),t.right>0&&(s.strokeStyle=e.right,s.lineWidth=t.right,s.beginPath(),s.moveTo(d+t.right/2,0-t.top),s.lineTo(d+t.right/2,b),s.stroke()),t.bottom>0&&(s.strokeStyle=e.bottom,s.lineWidth=t.bottom,s.beginPath(),s.moveTo(d+t.right,b+t.bottom/2),s.lineTo(0,b+t.bottom/2),s.stroke()),t.left>0&&(s.strokeStyle=e.left,s.lineWidth=t.left,s.beginPath(),s.moveTo(0-t.left/2,b+t.bottom),s.lineTo(0-t.left/2,0),s.stroke())):(s.lineWidth=t,s.strokeStyle=o.grid.borderColor,s.strokeRect(-t/2,-t/2,d+t,b+t)));s.restore()}function tr(){n.each(it(),function(n,t){var i=t.box,l=t.direction+"Axis "+t.direction+t.n+"Axis",c="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+l,v=t.options.font||"flot-tick-label tickLabel",r,u,f,o,s,e;if(a.removeText(c),t.show&&t.ticks.length!=0)for(e=0;e<t.ticks.length;++e)(r=t.ticks[e],!r.label||r.v<t.min||r.v>t.max)||(t.direction=="x"?(o="center",u=h.left+t.p2c(r.v),t.position=="bottom"?f=i.top+i.padding:(f=i.top+i.height-i.padding,s="bottom")):(s="middle",f=h.top+t.p2c(r.v),t.position=="left"?(u=i.left+i.width-i.padding,o="right"):u=i.left+i.padding),a.addText(c,u,f,r.label,v,null,null,o,s))})}function ir(n){n.lines.show&&rr(n);n.bars.show&&fr(n);n.points.show&&ur(n)}function rr(n){function u(n,t,i,r,u){var l=n.points,a=n.pointsize,v=null,y=null,c;for(s.beginPath(),c=a;c<l.length;c+=a){var f=l[c-a],e=l[c-a+1],o=l[c],h=l[c+1];if(f!=null&&o!=null){if(e<=h&&e<u.min){if(h<u.min)continue;f=(u.min-e)/(h-e)*(o-f)+f;e=u.min}else if(h<=e&&h<u.min){if(e<u.min)continue;o=(u.min-e)/(h-e)*(o-f)+f;h=u.min}if(e>=h&&e>u.max){if(h>u.max)continue;f=(u.max-e)/(h-e)*(o-f)+f;e=u.max}else if(h>=e&&h>u.max){if(e>u.max)continue;o=(u.max-e)/(h-e)*(o-f)+f;h=u.max}if(f<=o&&f<r.min){if(o<r.min)continue;e=(r.min-f)/(o-f)*(h-e)+e;f=r.min}else if(o<=f&&o<r.min){if(f<r.min)continue;h=(r.min-f)/(o-f)*(h-e)+e;o=r.min}if(f>=o&&f>r.max){if(o>r.max)continue;e=(r.max-f)/(o-f)*(h-e)+e;f=r.max}else if(o>=f&&o>r.max){if(f>r.max)continue;h=(r.max-f)/(o-f)*(h-e)+e;o=r.max}(f!=v||e!=y)&&s.moveTo(r.p2c(f)+t,u.p2c(e)+i);v=o;y=h;s.lineTo(r.p2c(o)+t,u.p2c(h)+i)}}s.stroke()}function e(n,t,i){for(var c=n.points,o=n.pointsize,b=Math.min(Math.max(0,i.min),i.max),h=0,l=!1,a=1,p=0,w=0,v,y;;){if(o>0&&h>c.length+o)break;h+=o;var r=c[h-o],u=c[h-o+a],f=c[h],e=c[h+a];if(l){if(o>0&&r!=null&&f==null){w=h;o=-o;a=2;continue}if(o<0&&h==p+o){s.fill();l=!1;o=-o;a=1;h=p=w+o;continue}}if(r!=null&&f!=null){if(r<=f&&r<t.min){if(f<t.min)continue;u=(t.min-r)/(f-r)*(e-u)+u;r=t.min}else if(f<=r&&f<t.min){if(r<t.min)continue;e=(t.min-r)/(f-r)*(e-u)+u;f=t.min}if(r>=f&&r>t.max){if(f>t.max)continue;u=(t.max-r)/(f-r)*(e-u)+u;r=t.max}else if(f>=r&&f>t.max){if(r>t.max)continue;e=(t.max-r)/(f-r)*(e-u)+u;f=t.max}if(l||(s.beginPath(),s.moveTo(t.p2c(r),i.p2c(b)),l=!0),u>=i.max&&e>=i.max){s.lineTo(t.p2c(r),i.p2c(i.max));s.lineTo(t.p2c(f),i.p2c(i.max));continue}else if(u<=i.min&&e<=i.min){s.lineTo(t.p2c(r),i.p2c(i.min));s.lineTo(t.p2c(f),i.p2c(i.min));continue}v=r;y=f;u<=e&&u<i.min&&e>=i.min?(r=(i.min-u)/(e-u)*(f-r)+r,u=i.min):e<=u&&e<i.min&&u>=i.min&&(f=(i.min-u)/(e-u)*(f-r)+r,e=i.min);u>=e&&u>i.max&&e<=i.max?(r=(i.max-u)/(e-u)*(f-r)+r,u=i.max):e>=u&&e>i.max&&u<=i.max&&(f=(i.max-u)/(e-u)*(f-r)+r,e=i.max);r!=v&&s.lineTo(t.p2c(v),i.p2c(u));s.lineTo(t.p2c(r),i.p2c(u));s.lineTo(t.p2c(f),i.p2c(e));f!=y&&(s.lineTo(t.p2c(f),i.p2c(e)),s.lineTo(t.p2c(y),i.p2c(e)))}}}var t,i,r,f;s.save();s.translate(h.left,h.top);s.lineJoin="round";t=n.lines.lineWidth;i=n.shadowSize;t>0&&i>0&&(s.lineWidth=i,s.strokeStyle="rgba(0,0,0,0.1)",r=Math.PI/18,u(n.datapoints,Math.sin(r)*(t/2+i/2),Math.cos(r)*(t/2+i/2),n.xaxis,n.yaxis),s.lineWidth=i/2,u(n.datapoints,Math.sin(r)*(t/2+i/4),Math.cos(r)*(t/2+i/4),n.xaxis,n.yaxis));s.lineWidth=t;s.strokeStyle=n.color;f=ot(n.lines,n.color,0,b);f&&(s.fillStyle=f,e(n.datapoints,n.xaxis,n.yaxis));t>0&&u(n.datapoints,0,0,n.xaxis,n.yaxis);s.restore()}function ur(n){function r(n,t,i,r,u,f,e,o){for(var h,c,a=n.points,v=n.pointsize,l=0;l<a.length;l+=v)(h=a[l],c=a[l+1],h==null||h<f.min||h>f.max||c<e.min||c>e.max)||(s.beginPath(),h=f.p2c(h),c=e.p2c(c)+r,o=="circle"?s.arc(h,c,t,0,u?Math.PI:Math.PI*2,!1):o(s,h,c,t,u),s.closePath(),i&&(s.fillStyle=i,s.fill()),s.stroke())}var t;s.save();s.translate(h.left,h.top);var i=n.points.lineWidth,e=n.shadowSize,u=n.points.radius,f=n.points.symbol;i==0&&(i=.0001);i>0&&e>0&&(t=e/2,s.lineWidth=t,s.strokeStyle="rgba(0,0,0,0.1)",r(n.datapoints,u,null,t+t/2,!0,n.xaxis,n.yaxis,f),s.strokeStyle="rgba(0,0,0,0.2)",r(n.datapoints,u,null,t/2,!0,n.xaxis,n.yaxis,f));s.lineWidth=i;s.strokeStyle=n.color;r(n.datapoints,u,ot(n.points,n.color),0,!1,n.xaxis,n.yaxis,f);s.restore()}function wt(n,t,i,r,u,f,e,o,s,h,c){var l,y,a,v,p,w,b,k,d;(h?(k=w=b=!0,p=!1,l=i,y=n,v=t+r,a=t+u,y<l&&(d=y,y=l,l=d,p=!0,w=!1)):(p=w=b=!0,k=!1,l=n+r,y=n+u,a=i,v=t,v<a&&(d=v,v=a,a=d,k=!0,b=!1)),y<e.min||l>e.max||v<o.min||a>o.max)||(l<e.min&&(l=e.min,p=!1),y>e.max&&(y=e.max,w=!1),a<o.min&&(a=o.min,k=!1),v>o.max&&(v=o.max,b=!1),l=e.p2c(l),a=o.p2c(a),y=e.p2c(y),v=o.p2c(v),f&&(s.fillStyle=f(a,v),s.fillRect(l,v,y-l,a-v)),c>0&&(p||w||b||k)&&(s.beginPath(),s.moveTo(l,a),p?s.lineTo(l,v):s.moveTo(l,v),b?s.lineTo(y,v):s.moveTo(y,v),w?s.lineTo(y,a):s.moveTo(y,a),k?s.lineTo(l,a):s.moveTo(l,a),s.stroke()))}function fr(n){function r(t,i,r,u,f,e){for(var h=t.points,c=t.pointsize,o=0;o<h.length;o+=c)h[o]!=null&&wt(h[o],h[o+1],h[o+2],i,r,u,f,e,s,n.bars.horizontal,n.bars.lineWidth)}var t,i;s.save();s.translate(h.left,h.top);s.lineWidth=n.bars.lineWidth;s.strokeStyle=n.color;switch(n.bars.align){case"left":t=0;break;case"right":t=-n.bars.barWidth;break;default:t=-n.bars.barWidth/2}i=n.bars.fill?function(t,i){return ot(n.bars,n.color,t,i)}:null;r(n.datapoints,t,t+n.bars.barWidth,i,n.xaxis,n.yaxis);s.restore()}function ot(t,i,r,u){var e=t.fill,f;return e?t.fillColor?ri(t.fillColor,r,u,i):(f=n.color.parse(i),f.a=typeof e=="number"?e:.4,f.normalize(),f.toString()):null}function er(){var g,r,w,b,v,t,k;if(o.legend.container!=null?n(o.legend.container).html(""):i.find(".legend").remove(),o.legend.show){var f=[],e=[],y=!1,d=o.legend.labelFormatter,s,p;for(r=0;r<c.length;++r)s=c[r],s.label&&(p=d?d(s.label,s):s.label,p&&e.push({label:p,color:s.color}));for(o.legend.sorted&&(n.isFunction(o.legend.sorted)?e.sort(o.legend.sorted):o.legend.sorted=="reverse"?e.reverse():(g=o.legend.sorted!="descending",e.sort(function(n,t){return n.label==t.label?0:n.label<t.label!=g?1:-1}))),r=0;r<e.length;++r)w=e[r],r%o.legend.noColumns==0&&(y&&f.push("<\/tr>"),f.push("<tr>"),y=!0),f.push('<td class="legendColorBox"><div style="border:1px solid '+o.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+w.color+';overflow:hidden"><\/div><\/div><\/td><td class="legendLabel">'+w.label+"<\/td>");if(y&&f.push("<\/tr>"),f.length!=0)if(b='<table style="font-size:smaller;color:'+o.grid.color+'">'+f.join("")+"<\/table>",o.legend.container!=null)n(o.legend.container).html(b);else{var l="",a=o.legend.position,u=o.legend.margin;u[0]==null&&(u=[u,u]);a.charAt(0)=="n"?l+="top:"+(u[1]+h.top)+"px;":a.charAt(0)=="s"&&(l+="bottom:"+(u[1]+h.bottom)+"px;");a.charAt(1)=="e"?l+="right:"+(u[0]+h.right)+"px;":a.charAt(1)=="w"&&(l+="left:"+(u[0]+h.left)+"px;");v=n('<div class="legend">'+b.replace('style="','style="position:absolute;'+l+";")+"<\/div>").appendTo(i);o.legend.backgroundOpacity!=0&&(t=o.legend.backgroundColor,t==null&&(t=o.grid.backgroundColor,t=t&&typeof t=="string"?n.color.parse(t):n.color.extract(v,"background-color"),t.a=1,t=t.toString()),k=v.children(),n('<div style="position:absolute;width:'+k.width()+"px;height:"+k.height()+"px;"+l+"background-color:"+t+';"> <\/div>').prependTo(v).css("opacity",o.legend.backgroundOpacity))}}}function or(n,t,i){for(var w=o.grid.mouseActiveRadius,it=w*w+1,a=null,r,s,e,h,p,tt,u=c.length-1;u>=0;--u)if(i(c[u])){var f=c[u],b=f.xaxis,k=f.yaxis,l=f.datapoints.points,v=b.c2p(n),y=k.c2p(t),g=w/b.scale,nt=w/k.scale;if(s=f.datapoints.pointsize,b.options.inverseTransform&&(g=Number.MAX_VALUE),k.options.inverseTransform&&(nt=Number.MAX_VALUE),f.lines.show||f.points.show)for(r=0;r<l.length;r+=s)if((e=l[r],h=l[r+1],e!=null)&&!(e-v>g)&&!(e-v<-g)&&!(h-y>nt)&&!(h-y<-nt)){var rt=Math.abs(b.p2c(e)-n),ut=Math.abs(k.p2c(h)-t),ft=rt*rt+ut*ut;ft<it&&(it=ft,a=[u,r/s])}if(f.bars.show&&!a){switch(f.bars.align){case"left":p=0;break;case"right":p=-f.bars.barWidth;break;default:p=-f.bars.barWidth/2}for(tt=p+f.bars.barWidth,r=0;r<l.length;r+=s){var e=l[r],h=l[r+1],d=l[r+2];e!=null&&(c[u].bars.horizontal?v<=Math.max(d,e)&&v>=Math.min(d,e)&&y>=h+p&&y<=h+tt:v>=e+p&&v<=e+tt&&y>=Math.min(d,h)&&y<=Math.max(d,h))&&(a=[u,r/s])}}}return a?(u=a[0],r=a[1],s=c[u].datapoints.pointsize,{datapoint:c[u].datapoints.points.slice(r*s,(r+1)*s),dataIndex:r,series:c[u],seriesIndex:u}):null}function bt(n){o.grid.hoverable&&st("plothover",n,function(n){return n.hoverable!=!1})}function kt(n){o.grid.hoverable&&st("plothover",n,function(){return!1})}function dt(n){st("plotclick",n,function(n){return n.clickable!=!1})}function st(n,t,r){var e=k.offset(),l=t.pageX-e.left-h.left,a=t.pageY-e.top-h.top,c=ct({left:l,top:a}),u,s,f;if(c.pageX=t.pageX,c.pageY=t.pageY,u=or(l,a,r),u&&(u.pageX=parseInt(u.series.xaxis.p2c(u.datapoint[0])+e.left+h.left,10),u.pageY=parseInt(u.series.yaxis.p2c(u.datapoint[1])+e.top+h.top,10)),o.grid.autoHighlight){for(s=0;s<g.length;++s)f=g[s],f.auto!=n||u&&f.series==u.series&&f.point[0]==u.datapoint[0]&&f.point[1]==u.datapoint[1]||ti(f.series,f.point);u&&ni(u.series,u.datapoint,n)}i.trigger(n,[c,u])}function ut(){var n=o.interaction.redrawOverlayInterval;if(n==-1){gt();return}rt||(rt=setTimeout(gt,n))}function gt(){rt=null;v.save();tt.clear();v.translate(h.left,h.top);for(var n,t=0;t<g.length;++t)n=g[t],n.series.bars.show?hr(n.series,n.point):sr(n.series,n.point);v.restore();nt(p.drawOverlay,[v])}function ni(n,t,i){var r,u;typeof n=="number"&&(n=c[n]);typeof t=="number"&&(r=n.datapoints.pointsize,t=n.datapoints.points.slice(r*t,r*(t+1)));u=ii(n,t);u==-1?(g.push({series:n,point:t,auto:i}),ut()):i||(g[u].auto=!1)}function ti(n,t){var i,r;if(n==null&&t==null){g=[];ut();return}typeof n=="number"&&(n=c[n]);typeof t=="number"&&(i=n.datapoints.pointsize,t=n.datapoints.points.slice(i*t,i*(t+1)));r=ii(n,t);r!=-1&&(g.splice(r,1),ut())}function ii(n,t){for(var r,i=0;i<g.length;++i)if(r=g[i],r.series==n&&r.point[0]==t[0]&&r.point[1]==t[1])return i;return-1}function sr(t,i){var r=i[0],u=i[1],f=t.xaxis,e=t.yaxis,h=typeof t.highlightColor=="string"?t.highlightColor:n.color.parse(t.color).scale("a",.5).toString(),o,s;r<f.min||r>f.max||u<e.min||u>e.max||(o=t.points.radius+t.points.lineWidth/2,v.lineWidth=o,v.strokeStyle=h,s=1.5*o,r=f.p2c(r),u=e.p2c(u),v.beginPath(),t.points.symbol=="circle"?v.arc(r,u,s,0,2*Math.PI,!1):t.points.symbol(v,r,u,s,!1),v.closePath(),v.stroke())}function hr(t,i){var u=typeof t.highlightColor=="string"?t.highlightColor:n.color.parse(t.color).scale("a",.5).toString(),f=u,r;switch(t.bars.align){case"left":r=0;break;case"right":r=-t.bars.barWidth;break;default:r=-t.bars.barWidth/2}v.lineWidth=t.bars.lineWidth;v.strokeStyle=u;wt(i[0],i[1],i[2]||0,r,r+t.bars.barWidth,function(){return f},t.xaxis,t.yaxis,v,t.bars.horizontal,t.bars.lineWidth)}function ri(t,i,r,u){var h,e,c,f,o;if(typeof t=="string")return t;for(h=s.createLinearGradient(0,r,0,i),e=0,c=t.colors.length;e<c;++e)f=t.colors[e],typeof f!="string"&&(o=n.color.parse(u),f.brightness!=null&&(o=o.scale("rgb",f.brightness)),f.opacity!=null&&(o.a*=f.opacity),f=o.toString()),h.addColorStop(e/(c-1),f);return h}var c=[],o={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},a=null,tt=null,k=null,s=null,v=null,y=[],w=[],h={left:0,right:0,top:0,bottom:0},d=0,b=0,p={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},l=this,g,rt;l.setData=ht;l.setupGrid=at;l.draw=vt;l.getPlaceholder=function(){return i};l.getCanvas=function(){return a.element};l.getPlotOffset=function(){return h};l.width=function(){return d};l.height=function(){return b};l.offset=function(){var n=k.offset();return n.left+=h.left,n.top+=h.top,n};l.getData=function(){return c};l.getAxes=function(){var t={};return n.each(y.concat(w),function(n,i){i&&(t[i.direction+(i.n!=1?i.n:"")+"axis"]=i)}),t};l.getXAxes=function(){return y};l.getYAxes=function(){return w};l.c2p=ct;l.p2c=oi;l.getOptions=function(){return o};l.highlight=ni;l.unhighlight=ti;l.triggerRedrawOverlay=ut;l.pointOffset=function(n){return{left:parseInt(y[ft(n,"x")-1].p2c(+n.x)+h.left,10),top:parseInt(w[ft(n,"y")-1].p2c(+n.y)+h.top,10)}};l.shutdown=lt;l.destroy=function(){lt();i.removeData("plot").empty();c=[];o=null;a=null;tt=null;k=null;s=null;v=null;y=[];w=[];p=null;g=[];l=null};l.resize=function(){var n=i.width(),t=i.height();a.resize(n,t);tt.resize(n,t)};l.hooks=p;ui(l);fi(f);ci();ht(r);at();vt();li();g=[];rt=null}function u(n,t){return t*Math.floor(n/t)}var i=Object.prototype.hasOwnProperty;t.prototype.resize=function(n,t){if(n<=0||t<=0)throw new Error("Invalid dimensions for plot, width = "+n+", height = "+t);var i=this.element,u=this.context,r=this.pixelRatio;this.width!=n&&(i.width=n*r,i.style.width=n+"px",this.width=n);this.height!=t&&(i.height=t*r,i.style.height=t+"px",this.height=t);u.restore();u.save();u.scale(r,r)};t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};t.prototype.render=function(){var h=this._textCache,r,u,f,c,t,e,o,s,n;for(r in h)if(i.call(h,r)){u=this.getTextLayer(r);f=h[r];u.hide();for(c in f)if(i.call(f,c)){t=f[c];for(e in t)if(i.call(t,e)){for(o=t[e].positions,s=0;n=o[s];s++)n.active?n.rendered||(u.append(n.element),n.rendered=!0):(o.splice(s--,1),n.rendered&&n.element.detach());o.length==0&&delete t[e]}}u.show()}};t.prototype.getTextLayer=function(t){var i=this.text[t];return i==null&&(this.textContainer==null&&(this.textContainer=n("<div class='flot-text'><\/div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),i=this.text[t]=n("<div><\/div>").addClass(t).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),i};t.prototype.getTextInfo=function(t,i,r,u,f){var h,o,s,c,e;return i=""+i,h=typeof r=="object"?r.style+" "+r.variant+" "+r.weight+" "+r.size+"px/"+r.lineHeight+"px "+r.family:r,o=this._textCache[t],o==null&&(o=this._textCache[t]={}),s=o[h],s==null&&(s=o[h]={}),c=s[i],c==null&&(e=n("<div><\/div>").html(i).css({position:"absolute","max-width":f,top:-9999}).appendTo(this.getTextLayer(t)),typeof r=="object"?e.css({font:h,color:r.color}):typeof r=="string"&&e.addClass(r),c=s[i]={width:e.outerWidth(!0),height:e.outerHeight(!0),element:e,positions:[]},e.detach()),c};t.prototype.addText=function(n,t,i,r,u,f,e,o,s){var h=this.getTextInfo(n,r,u,f,e),l=h.positions,a,c;for(o=="center"?t-=h.width/2:o=="right"&&(t-=h.width),s=="middle"?i-=h.height/2:s=="bottom"&&(i-=h.height),a=0;c=l[a];a++)if(c.x==t&&c.y==i){c.active=!0;return}c={active:!0,rendered:!1,element:l.length?h.element.clone():h.element,x:t,y:i};l.push(c);c.element.css({top:Math.round(i),left:Math.round(t),"text-align":o})};t.prototype.removeText=function(n,t,r,u,f,e){var h,a,c,v,l,o,s;if(u==null){if(h=this._textCache[n],h!=null)for(a in h)if(i.call(h,a)){c=h[a];for(v in c)if(i.call(c,v))for(l=c[v].positions,o=0;s=l[o];o++)s.active=!1}}else for(l=this.getTextInfo(n,u,f,e).positions,o=0;s=l[o];o++)s.x==t&&s.y==r&&(s.active=!1)};n.plot=function(t,i,u){return new r(n(t),i,u,n.plot.plugins)};n.plot.version="0.8.2";n.plot.plugins=[];n.fn.plot=function(t,i){return this.each(function(){n.plot(this,t,i)})}}(jQuery),function(n){function r(r){function w(t){l||(l=!0,a=t.getCanvas(),h=n(a).parent(),u=t.getOptions(),t.setData(b(t.getData())))}function b(t){for(var i,f=0,e=0,o=0,s=u.series.pie.combine.color,h=[],r=0;r<t.length;++r)i=t[r].data,n.isArray(i)&&i.length==1&&(i=i[0]),n.isArray(i)?i[1]=!isNaN(parseFloat(i[1]))&&isFinite(i[1])?+i[1]:0:i=!isNaN(parseFloat(i))&&isFinite(i)?[1,+i]:[1,0],t[r].data=[i];for(r=0;r<t.length;++r)f+=t[r].data[0][1];for(r=0;r<t.length;++r)i=t[r].data[0][1],i/f<=u.series.pie.combine.threshold&&(e+=i,o++,s||(s=t[r].color));for(r=0;r<t.length;++r)i=t[r].data[0][1],(o<2||i/f>u.series.pie.combine.threshold)&&h.push({data:[[1,i]],color:t[r].color,label:t[r].label,angle:i*Math.PI*2/f,percent:i/(f/100)});return o>1&&h.push({data:[[1,e]],color:s,label:u.series.pie.combine.label,angle:e*Math.PI*2/f,percent:e/(f/100)}),h}function k(r,s){function k(){f.clearRect(0,0,y,p);h.children().filter(".pieLabel, .pieLabelBackground").remove()}function d(){var i=u.series.pie.shadow.left,r=u.series.pie.shadow.top,s=10,h=u.series.pie.shadow.alpha,n=u.series.pie.radius>1?u.series.pie.radius:o*u.series.pie.radius,t;if(!(n>=y/2-i)&&!(n*u.series.pie.tilt>=p/2-r)&&!(n<=s)){for(f.save(),f.translate(i,r),f.globalAlpha=h,f.fillStyle="#000",f.translate(e,c),f.scale(1,u.series.pie.tilt),t=1;t<=s;t++)f.beginPath(),f.arc(0,0,n,0,Math.PI*2,!1),f.fill(),n-=t;f.restore()}}function g(){function l(n,t,r){n<=0||isNaN(n)||(r?f.fillStyle=t:(f.strokeStyle=t,f.lineJoin="round"),f.beginPath(),Math.abs(n-Math.PI*2)>1e-9&&f.moveTo(0,0),f.arc(0,0,s,i,i+n/2,!1),f.arc(0,0,s,i+n/2,i+n,!1),f.closePath(),i+=n,r?f.fill():f.stroke())}function w(){function s(t,i,r){var w,s,b,v,nt;if(t.data[0][1]==0)return!0;w=u.legend.labelFormatter;b=u.series.pie.label.formatter;s=w?w(t.label,t):t.label;b&&(s=b(s,t));var k=(i+t.angle+i)/2,d=e+Math.round(Math.cos(k)*f),g=c+Math.round(Math.sin(k)*f)*u.series.pie.tilt,tt="<span class='pieLabel' id='pieLabel"+r+"' style='position:absolute;top:"+g+"px;left:"+d+"px;'>"+s+"<\/span>";h.append(tt);var o=h.children("#pieLabel"+r),l=g-o.height()/2,a=d-o.width()/2;return(o.css("top",l),o.css("left",a),0-l>0||0-a>0||p-(l+o.height())<0||y-(a+o.width())<0)?!1:(u.series.pie.label.background.opacity!=0&&(v=u.series.pie.label.background.color,v==null&&(v=t.color),nt="top:"+l+"px;left:"+a+"px;",n("<div class='pieLabelBackground' style='position:absolute;width:"+o.width()+"px;height:"+o.height()+"px;"+nt+"background-color:"+v+";'><\/div>").css("opacity",u.series.pie.label.background.opacity).insertBefore(o)),!0)}for(var i=r,f=u.series.pie.label.radius>1?u.series.pie.label.radius:o*u.series.pie.label.radius,t=0;t<a.length;++t){if(a[t].percent>=u.series.pie.label.threshold*100&&!s(a[t],i,t))return!1;i+=a[t].angle}return!0}var r=Math.PI*u.series.pie.startAngle,s=u.series.pie.radius>1?u.series.pie.radius:o*u.series.pie.radius,i,t;for(f.save(),f.translate(e,c),f.scale(1,u.series.pie.tilt),f.save(),i=r,t=0;t<a.length;++t)a[t].startAngle=i,l(a[t].angle,a[t].color,!0);if(f.restore(),u.series.pie.stroke.width>0){for(f.save(),f.lineWidth=u.series.pie.stroke.width,i=r,t=0;t<a.length;++t)l(a[t].angle,u.series.pie.stroke.color,!1);f.restore()}return v(f),f.restore(),u.series.pie.label.show?w():!0}var a,w;if(h){var y=r.getPlaceholder().width(),p=r.getPlaceholder().height(),b=h.children().filter(".legend").children().width()||0;f=s;l=!1;o=Math.min(y,p/u.series.pie.tilt)/2;c=p/2+u.series.pie.offset.top;e=y/2;u.series.pie.offset.left=="auto"?(u.legend.position.match("w")?e+=b/2:e-=b/2,e<o?e=o:e>y-o&&(e=y-o)):e+=u.series.pie.offset.left;a=r.getData();w=0;do w>0&&(o*=i),w+=1,k(),u.series.pie.tilt<=.8&&d();while(!g()&&w<t);w>=t&&(k(),h.prepend("<div class='error'>Could not draw pie with labels contained inside canvas<\/div>"));r.setSeries&&r.insertLegend&&(r.setSeries(a),r.insertLegend())}}function v(n){if(u.series.pie.innerRadius>0){n.save();var t=u.series.pie.innerRadius>1?u.series.pie.innerRadius:o*u.series.pie.innerRadius;n.globalCompositeOperation="destination-out";n.beginPath();n.fillStyle=u.series.pie.stroke.color;n.arc(0,0,t,0,Math.PI*2,!1);n.fill();n.closePath();n.restore();n.save();n.beginPath();n.strokeStyle=u.series.pie.stroke.color;n.arc(0,0,t,0,Math.PI*2,!1);n.stroke();n.closePath();n.restore()}}function d(n,t){for(var u=!1,i=-1,f=n.length,r=f-1;++i<f;r=i)(n[i][1]<=t[1]&&t[1]<n[r][1]||n[r][1]<=t[1]&&t[1]<n[i][1])&&t[0]<(n[r][0]-n[i][0])*(t[1]-n[i][1])/(n[r][1]-n[i][1])+n[i][0]&&(u=!u);return u}function g(n,t){for(var i,l=r.getData(),h=r.getOptions(),u=h.series.pie.radius>1?h.series.pie.radius:o*h.series.pie.radius,a,v,s=0;s<l.length;++s)if(i=l[s],i.pie.show){if(f.save(),f.beginPath(),f.moveTo(0,0),f.arc(0,0,u,i.startAngle,i.startAngle+i.angle/2,!1),f.arc(0,0,u,i.startAngle+i.angle/2,i.startAngle+i.angle,!1),f.closePath(),a=n-e,v=t-c,f.isPointInPath){if(f.isPointInPath(n-e,t-c))return f.restore(),{datapoint:[i.percent,i.data],dataIndex:0,series:i,seriesIndex:s}}else{var y=u*Math.cos(i.startAngle),p=u*Math.sin(i.startAngle),w=u*Math.cos(i.startAngle+i.angle/4),b=u*Math.sin(i.startAngle+i.angle/4),k=u*Math.cos(i.startAngle+i.angle/2),g=u*Math.sin(i.startAngle+i.angle/2),nt=u*Math.cos(i.startAngle+i.angle/1.5),tt=u*Math.sin(i.startAngle+i.angle/1.5),it=u*Math.cos(i.startAngle+i.angle),rt=u*Math.sin(i.startAngle+i.angle),ut=[[0,0],[y,p],[w,b],[k,g],[nt,tt],[it,rt]],ft=[a,v];if(d(ut,ft))return f.restore(),{datapoint:[i.percent,i.data],dataIndex:0,series:i,seriesIndex:s}}f.restore()}return null}function nt(n){y("plothover",n)}function tt(n){y("plotclick",n)}function y(n,t){var o=r.offset(),l=parseInt(t.pageX-o.left),a=parseInt(t.pageY-o.top),i=g(l,a),f,e,c;if(u.grid.autoHighlight)for(f=0;f<s.length;++f)e=s[f],e.auto!=n||i&&e.series==i.series||rt(e.series);i&&it(i.series,n);c={pageX:t.pageX,pageY:t.pageY};h.trigger(n,[c,i])}function it(n,t){var i=p(n);i==-1?(s.push({series:n,auto:t}),r.triggerRedrawOverlay()):t||(s[i].auto=!1)}function rt(n){n==null&&(s=[],r.triggerRedrawOverlay());var t=p(n);t!=-1&&(s.splice(t,1),r.triggerRedrawOverlay())}function p(n){for(var i,t=0;t<s.length;++t)if(i=s[t],i.series==n)return t;return-1}function ut(n,t){function f(n){n.angle<=0||isNaN(n.angle)||(t.fillStyle="rgba(255, 255, 255, "+i.series.pie.highlight.opacity+")",t.beginPath(),Math.abs(n.angle-Math.PI*2)>1e-9&&t.moveTo(0,0),t.arc(0,0,u,n.startAngle,n.startAngle+n.angle/2,!1),t.arc(0,0,u,n.startAngle+n.angle/2,n.startAngle+n.angle,!1),t.closePath(),t.fill())}var i=n.getOptions(),u=i.series.pie.radius>1?i.series.pie.radius:o*i.series.pie.radius,r;for(t.save(),t.translate(e,c),t.scale(1,i.series.pie.tilt),r=0;r<s.length;++r)f(s[r].series);v(t);t.restore()}var a=null,h=null,u=null,o=null,e=null,c=null,l=!1,f=null,s=[];r.hooks.processOptions.push(function(n,t){t.series.pie.show&&(t.grid.show=!1,t.series.pie.label.show=="auto"&&(t.series.pie.label.show=t.legend.show?!1:!0),t.series.pie.radius=="auto"&&(t.series.pie.radius=t.series.pie.label.show?3/4:1),t.series.pie.tilt>1?t.series.pie.tilt=1:t.series.pie.tilt<0&&(t.series.pie.tilt=0))});r.hooks.bindEvents.push(function(n,t){var i=n.getOptions();i.series.pie.show&&(i.grid.hoverable&&t.unbind("mousemove").mousemove(nt),i.grid.clickable&&t.unbind("click").click(tt))});r.hooks.processDatapoints.push(function(n,t,i,r){var u=n.getOptions();u.series.pie.show&&w(n,t,i,r)});r.hooks.drawOverlay.push(function(n,t){var i=n.getOptions();i.series.pie.show&&ut(n,t)});r.hooks.draw.push(function(n,t){var i=n.getOptions();i.series.pie.show&&k(n,t)})}var t=10,i=.95,u={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:3/2,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(n,t){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+t.color+";'>"+n+"<br/>"+Math.round(t.percent)+"%<\/div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};n.plot.plugins.push({init:r,options:u,name:"pie",version:"1.1"})}(jQuery),function(){var n;if(!$.fn.plot)throw new Error("jquery.flot.js required");n=function(t,i,r,u){var h,c,e,f,previousPoint,v,o,s,l,a;for(u==null&&(u={}),this.options=$.extend(!0,{},n.DEFAULTS,u||{}),this.plot_options=$.extend(!0,{},n.PLOT_DEFAULTS,r||{}),e=[],this.current_width=null,this.plot_obj=null,v=null,h=window.PixelAdmin.settings.consts.COLORS.slice(0),o=0,l=i.length;o<l;o++)c=i[o],e.push($.extend({},c));if(this.$graph=t.addClass("pa-flot-graph"),this.$graph_container=$('<div class="pa-flot-container"><\/div>'),this.$graph_info=$('<div class="pa-flot-info"><\/div>'),this.$graph_container.insertAfter(this.$graph).append(this.$graph_info).append(this.$graph),this.resizeContainer(),e.length){for(s=0,a=e.length;s<a;s++)f=e[s],f.color===void 0&&(f.color=h.shift()),f.filledPoints===!0&&($.extend(!0,f,{points:{radius:this.options.pointRadius,fillColor:f.color}}),delete f.filledPoints),this.$graph_info.append($('<span><i style="background: '+f.color+'"><\/i>'+f.label+"<\/span>"));this.plot_obj=$.plot(t,e,this.plot_options);this.plot_options.series.pie===void 0&&(previousPoint=null,t.bind("plothover",function(_this){return function(event,pos,item){var x,y;if(item){if(previousPoint!==item.dataIndex)return previousPoint=item.dataIndex,$(".pa-flot-tooltip").remove(),x=item.datapoint[0],y=item.datapoint[1],_this.showTooltip(item.pageX,item.pageY,eval(_this.options.tooltipText))}else return $(".pa-flot-tooltip").remove(),previousPoint=null}}(this)));return $(window).on("pa.resize",$.proxy(this.resizeContainer,this))}};n.prototype.resizeContainer=function(){var t,n;if(n=this.$graph_container.innerWidth(),n!==this.current_width)return t=this.options.height===null?Math.ceil(n*this.options.heightRatio):this.options.height,this.$graph.css({width:n,height:t}),this.current_width=n,this.plot_obj?(this.plot_obj.getPlaceholder().css({width:n,height:t}),this.plot_obj.resize(),this.plot_obj.setupGrid(),this.plot_obj.draw()):void 0};n.prototype.showTooltip=function(n,t,i){var r;return r=$('<div class="pa-flot-tooltip">'+i+"<\/div>").appendTo("body"),n+20+r.width()>this.$graph_container.offset().left+this.$graph_container.width()?n-=40+r.width():n+=20,r.css({top:t-16,left:n}).fadeIn()};n.DEFAULTS={pointRadius:4,height:null,heightRatio:.5,tooltipText:"x - y"};n.PLOT_DEFAULTS={series:{shadowSize:0},grid:{color:"#999",borderColor:"#fff",borderWidth:1,hoverable:!0},xaxis:{tickColor:"#fff"},legend:{show:!1}};$.fn.pixelPlot=function(t,i,r){return this.each(function(){var u;if(u=$.data(this,"PixelPlot"),u){if(i==="resizeContainer")return u.resizeContainer()}else return $.data(this,"PixelPlot",new n($(this),t,i,r))})};$.fn.pixelPlot.Constructor=n}.call(this),function(){var n,i,r,u,f,t;$.fn.modal&&$.fn.Vague&&$("html").hasClass("not-ie")&&(f=$.fn.modal.Constructor.prototype.show,u=$.fn.modal.Constructor.prototype.hide,n=null,t=!1,r=function(){if(!t)return n||(n=$("#main-wrapper").Vague({intensity:3,forceSVGUrl:!1})),n.blur(),t=!0},i=function(){if(t)return n&&n.unblur(),t=!1},$.fn.modal.Constructor.prototype.show=function(){if(f.call(this),this.$element.hasClass("modal-blur")){$("body").append(this.$element);getScreenSize($("#small-screen-width-point"),$("#tablet-screen-width-point"))==="desktop"&&r();return $(window).on("pa.resize.modal_blur",function(){return getScreenSize($("#small-screen-width-point"),$("#tablet-screen-width-point"))==="desktop"?r():i()})}return i()},$.fn.modal.Constructor.prototype.hide=function(){u.call(this);i();return $(window).off("pa.resize.modal_blur").on("hidden",".modal",function(){return alert("asd")})})}.call(this),function(){var n;if(!$.fn.datepicker)throw new Error("bootstrap-datepicker.js required");n=$.fn.datepicker;$.fn.datepicker=function(t){return t=$.extend({rtl:$("body").hasClass("right-to-left")},t||{}),n.call($(this),t)}}.call(this),function(){var n;if(!$.fn.timepicker)throw new Error("bootstrap-timepicker.js required");n=$.fn.timepicker.Constructor.prototype._init;$.fn.timepicker.Constructor.prototype._init=function(){if(this.$element.parent().hasClass("input-group")){this.$element.parent(".input-group").find(".input-group-addon").on("click.timepicker",$.proxy(this.showWidget,this));this.$element.on({"focus.timepicker":$.proxy(this.highlightUnit,this),"click.timepicker":$.proxy(this.highlightUnit,this),"keydown.timepicker":$.proxy(this.elementKeydown,this),"blur.timepicker":$.proxy(this.blurElement,this)})}return n.call(this)};$.fn.timepicker.Constructor.prototype.getTemplate=function(){var i,r,u,f,t,n;return this.showInputs?(i='<input type="text" name="hour" class="bootstrap-timepicker-hour form-control" maxlength="2"/>',u='<input type="text" name="minute" class="bootstrap-timepicker-minute form-control" maxlength="2"/>',f='<input type="text" name="second" class="bootstrap-timepicker-second form-control" maxlength="2"/>',r='<input type="text" name="meridian" class="bootstrap-timepicker-meridian form-control" maxlength="2"/>'):(i='<span class="bootstrap-timepicker-hour"><\/span>',u='<span class="bootstrap-timepicker-minute"><\/span>',f='<span class="bootstrap-timepicker-second"><\/span>',r='<span class="bootstrap-timepicker-meridian"><\/span>'),n="<table>",n+="<tr>",n+='<td><a href="#" data-action="incrementHour" class="timepicker-increment"><i class="fa fa-chevron-up"><\/i><\/a><\/td>',n+='<td class="separator">&nbsp;<\/td>',n+='<td><a href="#" data-action="incrementMinute" class="timepicker-increment"><i class="fa fa-chevron-up"><\/i><\/a><\/td>',this.showSeconds&&(n+='<td class="separator">&nbsp;<\/td><td><a href="#" data-action="incrementSecond" class="timepicker-increment"><i class="fa fa-chevron-up"><\/i><\/a><\/td>'),this.showMeridian&&(n+='<td class="separator">&nbsp;<\/td><td class="meridian-column"><a href="#" data-action="toggleMeridian" class="timepicker-increment"><i class="fa fa-chevron-up"><\/i><\/a><\/td>'),n+="<\/tr>",n+="<tr>",n+="<td>"+i+"<\/td> ",n+='<td class="separator">:<\/td>',n+="<td>"+u+"<\/td> ",this.showSeconds&&(n+='<td class="separator">:<\/td><td>'+f+"<\/td>"),this.showMeridian&&(n+='<td class="separator">&nbsp;<\/td><td>'+r+"<\/td>"),n+="<\/tr>",n+="<tr>",n+='<td><a href="#" data-action="decrementHour" class="timepicker-decrement"><i class="fa fa-chevron-down"><\/i><\/a><\/td>',n+='<td class="separator"><\/td>',n+='<td><a href="#" data-action="decrementMinute" class="timepicker-decrement"><i class="fa fa-chevron-down"><\/i><\/a><\/td>',this.showSeconds&&(n+='<td class="separator">&nbsp;<\/td><td><a href="#" data-action="decrementSecond" class="timepicker-decrement"><i class="fa fa-chevron-down"><\/i><\/a><\/td>'),this.showMeridian&&(n+='<td class="separator">&nbsp;<\/td><td><a href="#" data-action="toggleMeridian" class="timepicker-decrement"><i class="fa fa-chevron-down"><\/i><\/a><\/td>'),n+="<\/tr>",n+="<\/table>",this.template==="modal"?(t='<div class="bootstrap-timepicker-widget modal fade" tabindex="-1" role="dialog" style="display: none;">',t+='<div class="modal-dialog modal-sm">',t+='<div class="modal-content">',t+='<div class="modal-header">',t+='<button type="button" class="close" data-dismiss="modal">×<\/button>',t+="<h4>Pick a Time<\/h4>",t+="<\/div>",t+='<div class="modal-body">'+n+"<\/div>",t+='<div class="modal-footer">',t+='<buttom class="btn btn-primary" data-dismiss="modal">OK<\/buttom>',t+="<\/div>",t+="<\/div>",t+="<\/div>",t+="<\/div>"):this.template==="dropdown"&&(t='<div class="bootstrap-timepicker-widget dropdown-menu">'+n+"<\/div>"),t}}.call(this),function(){var n;if(!$.fn.datepaginator)throw new Error("bootstrap-datepaginator.js required");n=$.fn.datepaginator;$.fn.datepaginator=function(t,i){return n.call(this,$.extend({},{injectStyle:!1,itemWidth:45,selectedItemWidth:160},t||{}),i)}}.call(this),function(){var n;if(!$.fn.tabdrop)throw new Error("bootstrap-tabdrop.js required");n=$.fn.tabdrop;$.fn.tabdrop=function(t){return t=$.extend({},$.fn.tabdrop.defaults,t),this.each(function(){var r,i;if(r=$(this),n.call(r,t),i=r.data("tabdrop"),i){i.dropdown.on("click","li",function(){return $(this).parent().parent().find("a.dropdown-toggle").empty().html('<span class="display-tab"> '+$(this).text()+' <\/span><b class="caret"><\/b>'),i.layout()});return i.element.on("click","> li",function(){if(!$(this).hasClass("tabdrop"))return i.element.find("> .tabdrop > a.dropdown-toggle").empty().html(t.text+' <b class="caret"><\/b>'),i.layout()})}})};$.fn.tabdrop.defaults={text:'<i class="fa fa-bars"><\/i>'}}.call(this),function(){if(!$.validator)throw new Error("jquery.validate.js required");$.validator.setDefaults({highlight:function(n){return $(n).closest(".form-group").addClass("has-error")},unhighlight:function(n){return $(n).closest(".form-group").removeClass("has-error").find("help-block-hidden").removeClass("help-block-hidden").addClass("help-block").show()},errorElement:"div",errorClass:"jquery-validate-error",errorPlacement:function(n,t){var i,r,u;return u=t.is('input[type="checkbox"]')||t.is('input[type="radio"]'),r=t.closest(".form-group").find(".jquery-validate-error").length,!u||!r?(r||t.closest(".form-group").find(".help-block").removeClass("help-block").addClass("help-block-hidden").hide(),n.addClass("help-block"),u?t.closest('[class*="col-"]').append(n):(i=t.parent(),i.is(".input-group")?i.parent().append(n):i.append(n))):void 0}})}.call(this),function(){var n;if(!$.fn.knob)throw new Error("jquery.knob.js required");n=$.fn.knob;$.fn.knob=function(t){var i;return i=$("body"),n.call(this,t).each(function(){var n;if(i.hasClass("right-to-left"))return n=$(this).find("input"),n.css({"margin-left":0,"margin-right":n.css("margin-left")})})}}.call(this),function(){var n;if(!$.fn.sparkline)throw new Error("jquery.sparkline.js required");n=function(n,t,i){var r,u;return u=n.outerWidth(),r=parseInt(i)*(t-1),Math.floor((u-r)/t)};$.fn.pixelSparkline=function(){var i,t,u,r;t=arguments;u=!1;r=0;i="2px";t[0]instanceof Array&&t[1]instanceof Object&&t[1].type==="bar"&&t[1].width==="100%"&&(u=!0,r=t[0].length,t[1].barSpacing&&(i=t[1].barSpacing),t[1].barWidth=n($(this),r,i));$.fn.sparkline.apply(this,t);return $(window).on("pa.resize",function(f){return function(){return u&&(t[1].barWidth=n($(f),r,i)),$.fn.sparkline.apply(f,t)}}(this))}}.call(this);
//# sourceMappingURL=pixel-admin.min.js.map
