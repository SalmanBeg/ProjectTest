(function(){if(!String.prototype.endsWith){String.prototype.endsWith=function(b){return this.indexOf(b,this.length-b.length)!==-1}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(b,d){var c,e,f;if(this===void 0||this===null){throw new TypeError('"this" is null or not defined')}e=this.length>>>0;d=+d||0;if(Math.abs(d)===Infinity){d=0}if(d<0){d+=e;if(d<0){d=0}}for(c=f=d;d<=e?f<e:f>e;c=d<=e?++f:--f){if(this[c]===b){return c}}return -1}}if(!Function.prototype.bind){Function.prototype.bind=function(b){var f,e,c,d;if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}f=Array.prototype.slice.call(arguments,1);d=this;c=function(){};e=function(){return d.apply((this instanceof c&&b?this:b),f.concat(Array.prototype.slice.call(arguments)))};c.prototype=this.prototype;e.prototype=new c();return e}}if(!Object.keys){Object.keys=(function(){var b,d,c;c=Object.prototype.hasOwnProperty;d={toString:null}.propertyIsEnumerable("toString")?false:true;b=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];return function(k){var f,l,e,j,i,h,g;if(typeof k!=="object"&&(typeof k!=="function"||k===null)){throw new TypeError("Object.keys called on non-object")}e=[];for(j=0,h=k.length;j<h;j++){l=k[j];if(c.call(k,l)){e.push(l)}}if(d){for(i=0,g=b.length;i<g;i++){f=b[i];if(c.call(k,f)){e.push(f)}}}return e}}).call(this)}window.getScreenSize=function(c,b){if(c.is(":visible")){return"small"}else{if(b.is(":visible")){return"tablet"}else{return"desktop"}}}}).call(this);(function(){var c,b;b={is_mobile:false,resize_delay:400,stored_values_prefix:"pa_",main_menu:{accordion:true,animation_speed:250,store_state:true,store_state_key:"mmstate"},consts:{COLORS:["#71c73e","#77b7c5","#d54848","#6c42e5","#e8e64e","#dd56e6","#ecad3f","#618b9d","#b68b68","#36a766","#3156be","#00b3ff","#646464","#a946e8","#9d9d9d"]}};c=function(){this.init=[];this.plugins={};this.settings={};this.localStorageSupported=typeof window.Storage!=="undefined"?true:false;return this};c.prototype.start=function(e,d){if(e==null){e=[]}if(d==null){d={}}window.onload=(function(f){return function(){var j,i,g,h;$("html").addClass("pxajs");if(e.length>0){$.merge(f.init,e)}f.settings=$.extend(true,{},b,d||{});f.settings.is_mobile=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase());if(f.settings.is_mobile){if(FastClick){FastClick.attach(document.body)}}h=f.init;for(i=0,g=h.length;i<g;i++){j=h[i];$.proxy(j,f)()}$(window).trigger("pa.loaded");return $(window).resize()}})(this);return this};c.prototype.addInitializer=function(d){return this.init.push(d)};c.prototype.initPlugin=function(d,e){this.plugins[d]=e;if(e.init){return e.init()}};c.prototype.storeValue=function(f,g,d){var h;if(d==null){d=false}if(this.localStorageSupported&&!d){try{window.localStorage.setItem(this.settings.stored_values_prefix+f,g);return}catch(i){h=i;1}}return document.cookie=this.settings.stored_values_prefix+f+"="+escape(g)};c.prototype.storeValues=function(i,d){var j,g,h,f;if(d==null){d=false}if(this.localStorageSupported&&!d){try{for(g in i){h=i[g];window.localStorage.setItem(this.settings.stored_values_prefix+g,h)}return}catch(k){j=k;1}}f=[];for(g in i){h=i[g];f.push(document.cookie=this.settings.stored_values_prefix+g+"="+escape(h))}return f};c.prototype.getStoredValue=function(s,g,j){var f,u,l,h,m,d,q,i,n;if(g==null){g=false}if(j==null){j=null}if(this.localStorageSupported&&!g){try{d=window.localStorage.getItem(this.settings.stored_values_prefix+s);return(d?d:j)}catch(o){l=o;1}}u=document.cookie.split(";");for(i=0,n=u.length;i<n;i++){f=u[i];m=f.indexOf("=");h=f.substr(0,m).replace(/^\s+|\s+$/g,"");q=f.substr(m+1).replace(/^\s+|\s+$/g,"");if(h===(this.settings.stored_values_prefix+s)){return q}}return j};c.prototype.getStoredValues=function(q,h,n){var x,i,w,u,B,l,s,m,o,g,f,d,y,A,z;if(h==null){h=false}if(n==null){n=null}m={};for(g=0,y=q.length;g<y;g++){B=q[g];m[B]=n}if(this.localStorageSupported&&!h){try{for(f=0,A=q.length;f<A;f++){B=q[f];s=window.localStorage.getItem(this.settings.stored_values_prefix+B);if(s){m[B]=s}}return m}catch(j){w=j;1}}i=document.cookie.split(";");for(d=0,z=i.length;d<z;d++){x=i[d];l=x.indexOf("=");u=x.substr(0,l).replace(/^\s+|\s+$/g,"");o=x.substr(l+1).replace(/^\s+|\s+$/g,"");if(u===(this.settings.stored_values_prefix+B)){m[B]=o}}return m};c.Constructor=c;window.PixelAdmin=new c}).call(this);(function(){var b;b=function(d){var c;c=null;return function(){if(c){clearTimeout(c)}return c=setTimeout(function(){c=null;return d.call(this)},PixelAdmin.settings.resize_delay)}};PixelAdmin.addInitializer(function(){var d,c,e,f;f=null;e=$(window);d=$('<div id="small-screen-width-point" style="position:absolute;top:-10000px;width:10px;height:10px;background:#fff;"></div>');c=$('<div id="tablet-screen-width-point" style="position:absolute;top:-10000px;width:10px;height:10px;background:#fff;"></div>');$("body").append(d).append(c);return e.on("resize",b(function(){e.trigger("pa.resize");if(d.is(":visible")){if(f!=="small"){e.trigger("pa.screen.small")}return f="small"}else{if(c.is(":visible")){if(f!=="tablet"){e.trigger("pa.screen.tablet")}return f="tablet"}else{if(f!=="desktop"){e.trigger("pa.screen.desktop")}return f="desktop"}}}))})}).call(this);function FastClick(c){var d,b=this;this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=10;this.layer=c;if(!c||!c.nodeType){throw new TypeError("Layer must be a document node")}this.onClick=function(){return FastClick.prototype.onClick.apply(b,arguments)};this.onMouse=function(){return FastClick.prototype.onMouse.apply(b,arguments)};this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(b,arguments)};this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(b,arguments)};this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(b,arguments)};this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(b,arguments)};if(FastClick.notNeeded(c)){return}if(this.deviceIsAndroid){c.addEventListener("mouseover",this.onMouse,true);c.addEventListener("mousedown",this.onMouse,true);c.addEventListener("mouseup",this.onMouse,true)}c.addEventListener("click",this.onClick,true);c.addEventListener("touchstart",this.onTouchStart,false);c.addEventListener("touchmove",this.onTouchMove,false);c.addEventListener("touchend",this.onTouchEnd,false);c.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){c.removeEventListener=function(f,h,e){var g=Node.prototype.removeEventListener;if(f==="click"){g.call(c,f,h.hijacked||h,e)}else{g.call(c,f,h,e)}};c.addEventListener=function(g,h,f){var e=Node.prototype.addEventListener;if(g==="click"){e.call(c,g,h.hijacked||(h.hijacked=function(i){if(!i.propagationStopped){h(i)}}),f)}else{e.call(c,g,h,f)}}}if(typeof c.onclick==="function"){d=c.onclick;c.addEventListener("click",function(e){d(e)},false);c.onclick=null}}FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&(/OS ([6-9]|\d{2})_\d/).test(navigator.userAgent);FastClick.prototype.needsClick=function(b){switch(b.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(b.disabled){return true}break;case"input":if((this.deviceIsIOS&&b.type==="file")||b.disabled){return true}break;case"label":case"video":return true}return(/\bneedsclick\b/).test(b.className)};FastClick.prototype.needsFocus=function(b){switch(b.nodeName.toLowerCase()){case"textarea":return true;case"select":return !this.deviceIsAndroid;case"input":switch(b.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return !b.disabled&&!b.readOnly;default:return(/\bneedsfocus\b/).test(b.className)}};FastClick.prototype.sendClick=function(c,d){var b,e;if(document.activeElement&&document.activeElement!==c){document.activeElement.blur()}e=d.changedTouches[0];b=document.createEvent("MouseEvents");b.initMouseEvent(this.determineEventType(c),true,true,window,1,e.screenX,e.screenY,e.clientX,e.clientY,false,false,false,false,0,null);b.forwardedTouchEvent=true;c.dispatchEvent(b)};FastClick.prototype.determineEventType=function(b){if(this.deviceIsAndroid&&b.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};FastClick.prototype.focus=function(b){var c;if(this.deviceIsIOS&&b.setSelectionRange&&b.type.indexOf("date")!==0&&b.type!=="time"){c=b.value.length;b.setSelectionRange(c,c)}else{b.focus()}};FastClick.prototype.updateScrollParent=function(c){var d,b;d=c.fastClickScrollParent;if(!d||!d.contains(c)){b=c;do{if(b.scrollHeight>b.offsetHeight){d=b;c.fastClickScrollParent=b;break}b=b.parentElement}while(b)}if(d){d.fastClickLastScrollTop=d.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(b){if(b.nodeType===Node.TEXT_NODE){return b.parentNode}return b};FastClick.prototype.onTouchStart=function(d){var b,e,c;if(d.targetTouches.length>1){return true}b=this.getTargetElementFromEventTarget(d.target);e=d.targetTouches[0];if(this.deviceIsIOS){c=window.getSelection();if(c.rangeCount&&!c.isCollapsed){return true}if(!this.deviceIsIOS4){if(e.identifier===this.lastTouchIdentifier){d.preventDefault();return false}this.lastTouchIdentifier=e.identifier;this.updateScrollParent(b)}}this.trackingClick=true;this.trackingClickStart=d.timeStamp;this.targetElement=b;this.touchStartX=e.pageX;this.touchStartY=e.pageY;if((d.timeStamp-this.lastClickTime)<200){d.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(b){var d=b.changedTouches[0],c=this.touchBoundary;if(Math.abs(d.pageX-this.touchStartX)>c||Math.abs(d.pageY-this.touchStartY)>c){return true}return false};FastClick.prototype.onTouchMove=function(b){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(b.target)||this.touchHasMoved(b)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(b){if(b.control!==undefined){return b.control}if(b.htmlFor){return document.getElementById(b.htmlFor)}return b.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(d){var f,e,c,h,g,b=this.targetElement;if(!this.trackingClick){return true}if((d.timeStamp-this.lastClickTime)<200){this.cancelNextClick=true;return true}this.cancelNextClick=false;this.lastClickTime=d.timeStamp;e=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(this.deviceIsIOSWithBadTarget){g=d.changedTouches[0];b=document.elementFromPoint(g.pageX-window.pageXOffset,g.pageY-window.pageYOffset)||b;b.fastClickScrollParent=this.targetElement.fastClickScrollParent}c=b.tagName.toLowerCase();if(c==="label"){f=this.findControl(b);if(f){this.focus(b);if(this.deviceIsAndroid){return false}b=f}}else{if(this.needsFocus(b)){if((d.timeStamp-e)>100||(this.deviceIsIOS&&window.top!==window&&c==="input")){this.targetElement=null;return false}this.focus(b);if(!this.deviceIsIOS4||c!=="select"){this.targetElement=null;d.preventDefault()}return false}}if(this.deviceIsIOS&&!this.deviceIsIOS4){h=b.fastClickScrollParent;if(h&&h.fastClickLastScrollTop!==h.scrollTop){return true}}if(!this.needsClick(b)){d.preventDefault();this.sendClick(b,d)}return false};FastClick.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(b){if(!this.targetElement){return true}if(b.forwardedTouchEvent){return true}if(!b.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(b.stopImmediatePropagation){b.stopImmediatePropagation()}else{b.propagationStopped=true}b.stopPropagation();b.preventDefault();return false}return true};FastClick.prototype.onClick=function(b){var c;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(b.target.type==="submit"&&b.detail===0){return true}c=this.onMouse(b);if(!c){this.targetElement=null}return c};FastClick.prototype.destroy=function(){var b=this.layer;if(this.deviceIsAndroid){b.removeEventListener("mouseover",this.onMouse,true);b.removeEventListener("mousedown",this.onMouse,true);b.removeEventListener("mouseup",this.onMouse,true)}b.removeEventListener("click",this.onClick,true);b.removeEventListener("touchstart",this.onTouchStart,false);b.removeEventListener("touchmove",this.onTouchMove,false);b.removeEventListener("touchend",this.onTouchEnd,false);b.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(c){var b;var d;if(typeof window.ontouchstart==="undefined"){return true}d=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(d){if(FastClick.prototype.deviceIsAndroid){b=document.querySelector("meta[name=viewport]");if(b){if(b.content.indexOf("user-scalable=no")!==-1){return true}if(d>31&&window.innerWidth<=window.screen.width){return true}}}else{return true}}if(c.style.msTouchAction==="none"){return true}return false};FastClick.attach=function(b){return new FastClick(b)};if(typeof define!=="undefined"&&define.amd){define(function(){return FastClick})}else{if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}}
/*! iScroll v5.1.1 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */
(function(g,b,f){var i=g.requestAnimationFrame||g.webkitRequestAnimationFrame||g.mozRequestAnimationFrame||g.oRequestAnimationFrame||g.msRequestAnimationFrame||function(j){g.setTimeout(j,1000/60)};var d=(function(){var n={};var o=b.createElement("div").style;var l=(function(){var u=["t","webkitT","MozT","msT","OT"],r,s=0,q=u.length;for(;s<q;s++){r=u[s]+"ransform";if(r in o){return u[s].substr(0,u[s].length-1)}}return false})();function m(q){if(l===false){return false}if(l===""){return q}return l+q.charAt(0).toUpperCase()+q.substr(1)}n.getTime=Date.now||function j(){return new Date().getTime()};n.extend=function(s,r){for(var q in r){s[q]=r[q]}};n.addEvent=function(u,s,r,q){u.addEventListener(s,r,!!q)};n.removeEvent=function(u,s,r,q){u.removeEventListener(s,r,!!q)};n.momentum=function(x,s,u,q,y,z){var r=x-s,v=f.abs(r)/u,A,w;z=z===undefined?0.0006:z;A=x+(v*v)/(2*z)*(r<0?-1:1);w=v/z;if(A<q){A=y?q-(y/2.5*(v/8)):q;r=f.abs(A-x);w=r/v}else{if(A>0){A=y?y/2.5*(v/8):0;r=f.abs(x)+A;w=r/v}}return{destination:f.round(A),duration:w}};var k=m("transform");n.extend(n,{hasTransform:k!==false,hasPerspective:m("perspective") in o,hasTouch:"ontouchstart" in g,hasPointer:navigator.msPointerEnabled,hasTransition:m("transition") in o});n.isBadAndroid=/Android /.test(g.navigator.appVersion)&&!(/Chrome\/\d/.test(g.navigator.appVersion));n.extend(n.style={},{transform:k,transitionTimingFunction:m("transitionTimingFunction"),transitionDuration:m("transitionDuration"),transitionDelay:m("transitionDelay"),transformOrigin:m("transformOrigin")});n.hasClass=function(r,s){var q=new RegExp("(^|\\s)"+s+"(\\s|$)");return q.test(r.className)};n.addClass=function(r,s){if(n.hasClass(r,s)){return}var q=r.className.split(" ");q.push(s);r.className=q.join(" ")};n.removeClass=function(r,s){if(!n.hasClass(r,s)){return}var q=new RegExp("(^|\\s)"+s+"(\\s|$)","g");r.className=r.className.replace(q," ")};n.offset=function(q){var s=-q.offsetLeft,r=-q.offsetTop;while(q=q.offsetParent){s-=q.offsetLeft;r-=q.offsetTop}return{left:s,top:r}};n.preventDefaultException=function(s,r){for(var q in r){if(r[q].test(s[q])){return true}}return false};n.extend(n.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});n.extend(n.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(q){return q*(2-q)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(q){return f.sqrt(1-(--q*q))}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(r){var q=4;return(r=r-1)*r*((q+1)*r+q)+1}},bounce:{style:"",fn:function(q){if((q/=1)<(1/2.75)){return 7.5625*q*q}else{if(q<(2/2.75)){return 7.5625*(q-=(1.5/2.75))*q+0.75}else{if(q<(2.5/2.75)){return 7.5625*(q-=(2.25/2.75))*q+0.9375}else{return 7.5625*(q-=(2.625/2.75))*q+0.984375}}}}},elastic:{style:"",fn:function(q){var r=0.22,s=0.4;if(q===0){return 0}if(q==1){return 1}return(s*f.pow(2,-10*q)*f.sin((q-r/4)*(2*f.PI)/r)+1)}}});n.tap=function(s,q){var r=b.createEvent("Event");r.initEvent(q,true,true);r.pageX=s.pageX;r.pageY=s.pageY;s.target.dispatchEvent(r)};n.click=function(s){var r=s.target,q;if(!(/(SELECT|INPUT|TEXTAREA)/i).test(r.tagName)){q=b.createEvent("MouseEvents");q.initMouseEvent("click",true,true,s.view,1,r.screenX,r.screenY,r.clientX,r.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,0,null);q._constructed=true;r.dispatchEvent(q)}};return n})();function h(l,j){this.wrapper=typeof l=="string"?b.querySelector(l):l;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeScrollbars:true,mouseWheelSpeed:20,snapThreshold:0.334,startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:"",preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:true,useTransition:true,useTransform:true};for(var k in j){this.options[k]=j[k]}this.translateZ=this.options.HWCompositing&&d.hasPerspective?" translateZ(0)":"";this.options.useTransition=d.hasTransition&&this.options.useTransition;this.options.useTransform=d.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?d.ease[this.options.bounceEasing]||d.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap="tap"}if(this.options.shrinkScrollbars=="scale"){this.options.useTransition=false}this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}h.prototype={version:"5.1.1",_init:function(){this._initEvents();if(this.options.scrollbars||this.options.indicators){this._initIndicators()}if(this.options.mouseWheel){this._initWheel()}if(this.options.snap){this._initSnap()}if(this.options.keyBindings){this._initKeys()}},destroy:function(){this._initEvents(true);this._execEvent("destroy")},_transitionEnd:function(j){if(j.target!=this.scroller||!this.isInTransition){return}this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;this._execEvent("scrollEnd")}},_start:function(k){if(d.eventType[k.type]!=1){if(k.button!==0){return}}if(!this.enabled||(this.initiated&&d.eventType[k.type]!==this.initiated)){return}if(this.options.preventDefault&&!d.isBadAndroid&&!d.preventDefaultException(k.target,this.options.preventDefaultException)){k.preventDefault()}var j=k.touches?k.touches[0]:k,l;this.initiated=d.eventType[k.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=d.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=false;l=this.getComputedPosition();this._translate(f.round(l.x),f.round(l.y));this._execEvent("scrollEnd")}else{if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent("scrollEnd")}}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=j.pageX;this.pointY=j.pageY;this._execEvent("beforeScrollStart")},_move:function(o){if(!this.enabled||d.eventType[o.type]!==this.initiated){return}if(this.options.preventDefault){o.preventDefault()}var r=o.touches?o.touches[0]:o,l=r.pageX-this.pointX,k=r.pageY-this.pointY,q=d.getTime(),j,s,n,m;this.pointX=r.pageX;this.pointY=r.pageY;this.distX+=l;this.distY+=k;n=f.abs(this.distX);m=f.abs(this.distY);if(q-this.endTime>300&&(n<10&&m<10)){return}if(!this.directionLocked&&!this.options.freeScroll){if(n>m+this.options.directionLockThreshold){this.directionLocked="h"}else{if(m>=n+this.options.directionLockThreshold){this.directionLocked="v"}else{this.directionLocked="n"}}}if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical"){o.preventDefault()}else{if(this.options.eventPassthrough=="horizontal"){this.initiated=false;return}}k=0}else{if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal"){o.preventDefault()}else{if(this.options.eventPassthrough=="vertical"){this.initiated=false;return}}l=0}}l=this.hasHorizontalScroll?l:0;k=this.hasVerticalScroll?k:0;j=this.x+l;s=this.y+k;if(j>0||j<this.maxScrollX){j=this.options.bounce?this.x+l/3:j>0?0:this.maxScrollX}if(s>0||s<this.maxScrollY){s=this.options.bounce?this.y+k/3:s>0?0:this.maxScrollY}this.directionX=l>0?-1:l<0?1:0;this.directionY=k>0?-1:k<0?1:0;if(!this.moved){this._execEvent("scrollStart")}this.moved=true;this._translate(j,s);if(q-this.startTime>300){this.startTime=q;this.startX=this.x;this.startY=this.y}},_end:function(q){if(!this.enabled||d.eventType[q.type]!==this.initiated){return}if(this.options.preventDefault&&!d.preventDefaultException(q.target,this.options.preventDefaultException)){q.preventDefault()}var s=q.changedTouches?q.changedTouches[0]:q,l,k,o=d.getTime()-this.startTime,j=f.round(this.x),w=f.round(this.y),v=f.abs(j-this.startX),u=f.abs(w-this.startY),m=0,r="";this.isInTransition=0;this.initiated=0;this.endTime=d.getTime();if(this.resetPosition(this.options.bounceTime)){return}this.scrollTo(j,w);if(!this.moved){if(this.options.tap){d.tap(q,this.options.tap)}if(this.options.click){d.click(q)}this._execEvent("scrollCancel");return}if(this._events.flick&&o<200&&v<100&&u<100){this._execEvent("flick");return}if(this.options.momentum&&o<300){l=this.hasHorizontalScroll?d.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:j,duration:0};k=this.hasVerticalScroll?d.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:w,duration:0};j=l.destination;w=k.destination;m=f.max(l.duration,k.duration);this.isInTransition=1}if(this.options.snap){var n=this._nearestSnap(j,w);this.currentPage=n;m=this.options.snapSpeed||f.max(f.max(f.min(f.abs(j-n.x),1000),f.min(f.abs(w-n.y),1000)),300);j=n.x;w=n.y;this.directionX=0;this.directionY=0;r=this.options.bounceEasing}if(j!=this.x||w!=this.y){if(j>0||j<this.maxScrollX||w>0||w<this.maxScrollY){r=d.ease.quadratic}this.scrollTo(j,w,m,r);return}this._execEvent("scrollEnd")},_resize:function(){var j=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){j.refresh()},this.options.resizePolling)},resetPosition:function(k){var j=this.x,l=this.y;k=k||0;if(!this.hasHorizontalScroll||this.x>0){j=0}else{if(this.x<this.maxScrollX){j=this.maxScrollX}}if(!this.hasVerticalScroll||this.y>0){l=0}else{if(this.y<this.maxScrollY){l=this.maxScrollY}}if(j==this.x&&l==this.y){return false}this.scrollTo(j,l,k,this.options.bounceEasing);return true},disable:function(){this.enabled=false},enable:function(){this.enabled=true},refresh:function(){var j=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight}this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=d.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(k,j){if(!this._events[k]){this._events[k]=[]}this._events[k].push(j)},off:function(l,k){if(!this._events[l]){return}var j=this._events[l].indexOf(k);if(j>-1){this._events[l].splice(j,1)}},_execEvent:function(m){if(!this._events[m]){return}var k=0,j=this._events[m].length;if(!j){return}for(;k<j;k++){this._events[m][k].apply(this,[].slice.call(arguments,1))}},scrollBy:function(j,m,k,l){j=this.x+j;m=this.y+m;k=k||0;this.scrollTo(j,m,k,l)},scrollTo:function(j,m,k,l){l=l||d.ease.circular;this.isInTransition=this.options.useTransition&&k>0;if(!k||(this.options.useTransition&&l.style)){this._transitionTimingFunction(l.style);this._transitionTime(k);this._translate(j,m)}else{this._animate(j,m,k,l.fn)}},scrollToElement:function(k,l,j,o,n){k=k.nodeType?k:this.scroller.querySelector(k);if(!k){return}var m=d.offset(k);m.left-=this.wrapperOffset.left;m.top-=this.wrapperOffset.top;if(j===true){j=f.round(k.offsetWidth/2-this.wrapper.offsetWidth/2)}if(o===true){o=f.round(k.offsetHeight/2-this.wrapper.offsetHeight/2)}m.left-=j||0;m.top-=o||0;m.left=m.left>0?0:m.left<this.maxScrollX?this.maxScrollX:m.left;m.top=m.top>0?0:m.top<this.maxScrollY?this.maxScrollY:m.top;l=l===undefined||l===null||l==="auto"?f.max(f.abs(this.x-m.left),f.abs(this.y-m.top)):l;this.scrollTo(m.left,m.top,l,n)},_transitionTime:function(k){k=k||0;this.scrollerStyle[d.style.transitionDuration]=k+"ms";if(!k&&d.isBadAndroid){this.scrollerStyle[d.style.transitionDuration]="0.001s"}if(this.indicators){for(var j=this.indicators.length;j--;){this.indicators[j].transitionTime(k)}}},_transitionTimingFunction:function(k){this.scrollerStyle[d.style.transitionTimingFunction]=k;if(this.indicators){for(var j=this.indicators.length;j--;){this.indicators[j].transitionTimingFunction(k)}}},_translate:function(j,l){if(this.options.useTransform){this.scrollerStyle[d.style.transform]="translate("+j+"px,"+l+"px)"+this.translateZ}else{j=f.round(j);l=f.round(l);this.scrollerStyle.left=j+"px";this.scrollerStyle.top=l+"px"}this.x=j;this.y=l;if(this.indicators){for(var k=this.indicators.length;k--;){this.indicators[k].updatePosition()}}},_initEvents:function(j){var k=j?d.removeEvent:d.addEvent,l=this.options.bindToWrapper?this.wrapper:g;k(g,"orientationchange",this);k(g,"resize",this);if(this.options.click){k(this.wrapper,"click",this,true)}if(!this.options.disableMouse){k(this.wrapper,"mousedown",this);k(l,"mousemove",this);k(l,"mousecancel",this);k(l,"mouseup",this)}if(d.hasPointer&&!this.options.disablePointer){k(this.wrapper,"MSPointerDown",this);k(l,"MSPointerMove",this);k(l,"MSPointerCancel",this);k(l,"MSPointerUp",this)}if(d.hasTouch&&!this.options.disableTouch){k(this.wrapper,"touchstart",this);k(l,"touchmove",this);k(l,"touchcancel",this);k(l,"touchend",this)}k(this.scroller,"transitionend",this);k(this.scroller,"webkitTransitionEnd",this);k(this.scroller,"oTransitionEnd",this);k(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var k=g.getComputedStyle(this.scroller,null),j,l;if(this.options.useTransform){k=k[d.style.transform].split(")")[0].split(", ");j=+(k[12]||k[4]);l=+(k[13]||k[5])}else{j=+k.left.replace(/[^-\d.]/g,"");l=+k.top.replace(/[^-\d.]/g,"")}return{x:j,y:l}},_initIndicators:function(){var l=this.options.interactiveScrollbars,n=typeof this.options.scrollbars!="string",q=[],k;var o=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){k={el:e("v",l,this.options.scrollbars),interactive:l,defaultScrollbars:true,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:false};this.wrapper.appendChild(k.el);q.push(k)}if(this.options.scrollX){k={el:e("h",l,this.options.scrollbars),interactive:l,defaultScrollbars:true,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:false};this.wrapper.appendChild(k.el);q.push(k)}}if(this.options.indicators){q=q.concat(this.options.indicators)}for(var m=q.length;m--;){this.indicators.push(new c(this,q[m]))}function j(s){for(var r=o.indicators.length;r--;){s.call(o.indicators[r])}}if(this.options.fadeScrollbars){this.on("scrollEnd",function(){j(function(){this.fade()})});this.on("scrollCancel",function(){j(function(){this.fade()})});this.on("scrollStart",function(){j(function(){this.fade(1)})});this.on("beforeScrollStart",function(){j(function(){this.fade(1,true)})})}this.on("refresh",function(){j(function(){this.refresh()})});this.on("destroy",function(){j(function(){this.destroy()});delete this.indicators})},_initWheel:function(){d.addEvent(this.wrapper,"wheel",this);d.addEvent(this.wrapper,"mousewheel",this);d.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){d.removeEvent(this.wrapper,"wheel",this);d.removeEvent(this.wrapper,"mousewheel",this);d.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(n){if(!this.enabled){return}n.preventDefault();n.stopPropagation();var l,k,o,m,j=this;if(this.wheelTimeout===undefined){j._execEvent("scrollStart")}clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){j._execEvent("scrollEnd");j.wheelTimeout=undefined},400);if("deltaX" in n){l=-n.deltaX;k=-n.deltaY}else{if("wheelDeltaX" in n){l=n.wheelDeltaX/120*this.options.mouseWheelSpeed;k=n.wheelDeltaY/120*this.options.mouseWheelSpeed}else{if("wheelDelta" in n){l=k=n.wheelDelta/120*this.options.mouseWheelSpeed}else{if("detail" in n){l=k=-n.detail/3*this.options.mouseWheelSpeed}else{return}}}}l*=this.options.invertWheelDirection;k*=this.options.invertWheelDirection;if(!this.hasVerticalScroll){l=k;k=0}if(this.options.snap){o=this.currentPage.pageX;m=this.currentPage.pageY;if(l>0){o--}else{if(l<0){o++}}if(k>0){m--}else{if(k<0){m++}}this.goToPage(o,m);return}o=this.x+f.round(this.hasHorizontalScroll?l:0);m=this.y+f.round(this.hasVerticalScroll?k:0);if(o>0){o=0}else{if(o<this.maxScrollX){o=this.maxScrollX}}if(m>0){m=0}else{if(m<this.maxScrollY){m=this.maxScrollY}}this.scrollTo(o,m,0)},_initSnap:function(){this.currentPage={};if(typeof this.options.snap=="string"){this.options.snap=this.scroller.querySelectorAll(this.options.snap)}this.on("refresh",function(){var u=0,r,o=0,k,s,q,w=0,v,A=this.options.snapStepX||this.wrapperWidth,z=this.options.snapStepY||this.wrapperHeight,j;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight){return}if(this.options.snap===true){s=f.round(A/2);q=f.round(z/2);while(w>-this.scrollerWidth){this.pages[u]=[];r=0;v=0;while(v>-this.scrollerHeight){this.pages[u][r]={x:f.max(w,this.maxScrollX),y:f.max(v,this.maxScrollY),width:A,height:z,cx:w-s,cy:v-q};v-=z;r++}w-=A;u++}}else{j=this.options.snap;r=j.length;k=-1;for(;u<r;u++){if(u===0||j[u].offsetLeft<=j[u-1].offsetLeft){o=0;k++}if(!this.pages[o]){this.pages[o]=[]}w=f.max(-j[u].offsetLeft,this.maxScrollX);v=f.max(-j[u].offsetTop,this.maxScrollY);s=w-f.round(j[u].offsetWidth/2);q=v-f.round(j[u].offsetHeight/2);this.pages[o][k]={x:w,y:v,width:j[u].offsetWidth,height:j[u].offsetHeight,cx:s,cy:q};if(w>this.maxScrollX){o++}}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold}else{this.snapThresholdX=f.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=f.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold)}});this.on("flick",function(){var j=this.options.snapSpeed||f.max(f.max(f.min(f.abs(this.x-this.startX),1000),f.min(f.abs(this.y-this.startY),1000)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,j)})},_nearestSnap:function(k,q){if(!this.pages.length){return{x:0,y:0,pageX:0,pageY:0}}var o=0,n=this.pages.length,j=0;if(f.abs(k-this.absStartX)<this.snapThresholdX&&f.abs(q-this.absStartY)<this.snapThresholdY){return this.currentPage}if(k>0){k=0}else{if(k<this.maxScrollX){k=this.maxScrollX}}if(q>0){q=0}else{if(q<this.maxScrollY){q=this.maxScrollY}}for(;o<n;o++){if(k>=this.pages[o][0].cx){k=this.pages[o][0].x;break}}n=this.pages[o].length;for(;j<n;j++){if(q>=this.pages[0][j].cy){q=this.pages[0][j].y;break}}if(o==this.currentPage.pageX){o+=this.directionX;if(o<0){o=0}else{if(o>=this.pages.length){o=this.pages.length-1}}k=this.pages[o][0].x}if(j==this.currentPage.pageY){j+=this.directionY;if(j<0){j=0}else{if(j>=this.pages[0].length){j=this.pages[0].length-1}}q=this.pages[0][j].y}return{x:k,y:q,pageX:o,pageY:j}},goToPage:function(j,o,k,n){n=n||this.options.bounceEasing;if(j>=this.pages.length){j=this.pages.length-1}else{if(j<0){j=0}}if(o>=this.pages[j].length){o=this.pages[j].length-1}else{if(o<0){o=0}}var m=this.pages[j][o].x,l=this.pages[j][o].y;k=k===undefined?this.options.snapSpeed||f.max(f.max(f.min(f.abs(m-this.x),1000),f.min(f.abs(l-this.y),1000)),300):k;this.currentPage={x:m,y:l,pageX:j,pageY:o};this.scrollTo(m,l,k,n)},next:function(k,m){var j=this.currentPage.pageX,l=this.currentPage.pageY;j++;if(j>=this.pages.length&&this.hasVerticalScroll){j=0;l++}this.goToPage(j,l,k,m)},prev:function(k,m){var j=this.currentPage.pageX,l=this.currentPage.pageY;j--;if(j<0&&this.hasVerticalScroll){j=0;l--}this.goToPage(j,l,k,m)},_initKeys:function(l){var k={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var j;if(typeof this.options.keyBindings=="object"){for(j in this.options.keyBindings){if(typeof this.options.keyBindings[j]=="string"){this.options.keyBindings[j]=this.options.keyBindings[j].toUpperCase().charCodeAt(0)}}}else{this.options.keyBindings={}}for(j in k){this.options.keyBindings[j]=this.options.keyBindings[j]||k[j]}d.addEvent(g,"keydown",this);this.on("destroy",function(){d.removeEvent(g,"keydown",this)})},_key:function(o){if(!this.enabled){return}var j=this.options.snap,q=j?this.currentPage.pageX:this.x,n=j?this.currentPage.pageY:this.y,l=d.getTime(),k=this.keyTime||0,m=0.25,r;if(this.options.useTransition&&this.isInTransition){r=this.getComputedPosition();this._translate(f.round(r.x),f.round(r.y));this.isInTransition=false}this.keyAcceleration=l-k<200?f.min(this.keyAcceleration+m,50):0;switch(o.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){q+=j?1:this.wrapperWidth}else{n+=j?1:this.wrapperHeight}break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){q-=j?1:this.wrapperWidth}else{n-=j?1:this.wrapperHeight}break;case this.options.keyBindings.end:q=j?this.pages.length-1:this.maxScrollX;n=j?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:q=0;n=0;break;case this.options.keyBindings.left:q+=j?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:n+=j?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:q-=j?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:n-=j?1:5+this.keyAcceleration>>0;break;default:return}if(j){this.goToPage(q,n);return}if(q>0){q=0;this.keyAcceleration=0}else{if(q<this.maxScrollX){q=this.maxScrollX;this.keyAcceleration=0}}if(n>0){n=0;this.keyAcceleration=0}else{if(n<this.maxScrollY){n=this.maxScrollY;this.keyAcceleration=0}}this.scrollTo(q,n,0);this.keyTime=l},_animate:function(u,s,m,j){var q=this,o=this.x,n=this.y,k=d.getTime(),r=k+m;function l(){var v=d.getTime(),x,w,y;if(v>=r){q.isAnimating=false;q._translate(u,s);if(!q.resetPosition(q.options.bounceTime)){q._execEvent("scrollEnd")}return}v=(v-k)/m;y=j(v);x=(u-o)*y+o;w=(s-n)*y+n;q._translate(x,w);if(q.isAnimating){i(l)}}this.isAnimating=true;l()},handleEvent:function(j){switch(j.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(j);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(j);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(j);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(j);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(j);break;case"keydown":this._key(j);break;case"click":if(!j._constructed){j.preventDefault();j.stopPropagation()}break}}};function e(m,k,l){var n=b.createElement("div"),j=b.createElement("div");if(l===true){n.style.cssText="position:absolute;z-index:9999";j.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"}j.className="iScrollIndicator";if(m=="h"){if(l===true){n.style.cssText+=";height:7px;left:2px;right:2px;bottom:0";j.style.height="100%"}n.className="iScrollHorizontalScrollbar"}else{if(l===true){n.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px";j.style.width="100%"}n.className="iScrollVerticalScrollbar"}n.style.cssText+=";overflow:hidden";if(!k){n.style.pointerEvents="none"}n.appendChild(j);return n}function c(j,k){this.wrapper=typeof k.el=="string"?b.querySelector(k.el):k.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=j;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,shrink:false,fade:false,speedRatioX:0,speedRatioY:0};for(var l in k){this.options[l]=k[l]}this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){d.addEvent(this.indicator,"touchstart",this);d.addEvent(g,"touchend",this)}if(!this.options.disablePointer){d.addEvent(this.indicator,"MSPointerDown",this);d.addEvent(g,"MSPointerUp",this)}if(!this.options.disableMouse){d.addEvent(this.indicator,"mousedown",this);d.addEvent(g,"mouseup",this)}}if(this.options.fade){this.wrapperStyle[d.style.transform]=this.scroller.translateZ;this.wrapperStyle[d.style.transitionDuration]=d.isBadAndroid?"0.001s":"0ms";this.wrapperStyle.opacity="0"}}c.prototype={handleEvent:function(j){switch(j.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(j);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(j);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(j);break}},destroy:function(){if(this.options.interactive){d.removeEvent(this.indicator,"touchstart",this);d.removeEvent(this.indicator,"MSPointerDown",this);d.removeEvent(this.indicator,"mousedown",this);d.removeEvent(g,"touchmove",this);d.removeEvent(g,"MSPointerMove",this);d.removeEvent(g,"mousemove",this);d.removeEvent(g,"touchend",this);d.removeEvent(g,"MSPointerUp",this);d.removeEvent(g,"mouseup",this)}if(this.options.defaultScrollbars){this.wrapper.parentNode.removeChild(this.wrapper)}},_start:function(k){var j=k.touches?k.touches[0]:k;k.preventDefault();k.stopPropagation();this.transitionTime();this.initiated=true;this.moved=false;this.lastPointX=j.pageX;this.lastPointY=j.pageY;this.startTime=d.getTime();if(!this.options.disableTouch){d.addEvent(g,"touchmove",this)}if(!this.options.disablePointer){d.addEvent(g,"MSPointerMove",this)}if(!this.options.disableMouse){d.addEvent(g,"mousemove",this)}this.scroller._execEvent("beforeScrollStart")},_move:function(o){var k=o.touches?o.touches[0]:o,l,j,q,n,m=d.getTime();if(!this.moved){this.scroller._execEvent("scrollStart")}this.moved=true;l=k.pageX-this.lastPointX;this.lastPointX=k.pageX;j=k.pageY-this.lastPointY;this.lastPointY=k.pageY;q=this.x+l;n=this.y+j;this._pos(q,n);o.preventDefault();o.stopPropagation()},_end:function(l){if(!this.initiated){return}this.initiated=false;l.preventDefault();l.stopPropagation();d.removeEvent(g,"touchmove",this);d.removeEvent(g,"MSPointerMove",this);d.removeEvent(g,"mousemove",this);if(this.scroller.options.snap){var j=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var k=this.options.snapSpeed||f.max(f.max(f.min(f.abs(this.scroller.x-j.x),1000),f.min(f.abs(this.scroller.y-j.y),1000)),300);if(this.scroller.x!=j.x||this.scroller.y!=j.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=j;this.scroller.scrollTo(j.x,j.y,k,this.scroller.options.bounceEasing)}}if(this.moved){this.scroller._execEvent("scrollEnd")}},transitionTime:function(j){j=j||0;this.indicatorStyle[d.style.transitionDuration]=j+"ms";if(!j&&d.isBadAndroid){this.indicatorStyle[d.style.transitionDuration]="0.001s"}},transitionTimingFunction:function(j){this.indicatorStyle[d.style.transitionTimingFunction]=j},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none"}else{if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none"}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none"}}if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){d.addClass(this.wrapper,"iScrollBothScrollbars");d.removeClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="8px"}else{this.wrapper.style.bottom="8px"}}}else{d.removeClass(this.wrapper,"iScrollBothScrollbars");d.addClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="2px"}else{this.wrapper.style.bottom="2px"}}}var j=this.wrapper.offsetHeight;if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=f.max(f.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+"px"}else{this.indicatorWidth=this.indicator.clientWidth}this.maxPosX=this.wrapperWidth-this.indicatorWidth;if(this.options.shrink=="clip"){this.minBoundaryX=-this.indicatorWidth+8;this.maxBoundaryX=this.wrapperWidth-8}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX}this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX/this.scroller.maxScrollX))}if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=f.max(f.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+"px"}else{this.indicatorHeight=this.indicator.clientHeight}this.maxPosY=this.wrapperHeight-this.indicatorHeight;if(this.options.shrink=="clip"){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY}this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY/this.scroller.maxScrollY))}this.updatePosition()},updatePosition:function(){var j=this.options.listenX&&f.round(this.sizeRatioX*this.scroller.x)||0,k=this.options.listenY&&f.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(j<this.minBoundaryX){if(this.options.shrink=="scale"){this.width=f.max(this.indicatorWidth+j,8);this.indicatorStyle.width=this.width+"px"}j=this.minBoundaryX}else{if(j>this.maxBoundaryX){if(this.options.shrink=="scale"){this.width=f.max(this.indicatorWidth-(j-this.maxPosX),8);this.indicatorStyle.width=this.width+"px";j=this.maxPosX+this.indicatorWidth-this.width}else{j=this.maxBoundaryX}}else{if(this.options.shrink=="scale"&&this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+"px"}}}if(k<this.minBoundaryY){if(this.options.shrink=="scale"){this.height=f.max(this.indicatorHeight+k*3,8);this.indicatorStyle.height=this.height+"px"}k=this.minBoundaryY}else{if(k>this.maxBoundaryY){if(this.options.shrink=="scale"){this.height=f.max(this.indicatorHeight-(k-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+"px";k=this.maxPosY+this.indicatorHeight-this.height}else{k=this.maxBoundaryY}}else{if(this.options.shrink=="scale"&&this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+"px"}}}}this.x=j;this.y=k;if(this.scroller.options.useTransform){this.indicatorStyle[d.style.transform]="translate("+j+"px,"+k+"px)"+this.scroller.translateZ}else{this.indicatorStyle.left=j+"px";this.indicatorStyle.top=k+"px"}},_pos:function(j,k){if(j<0){j=0}else{if(j>this.maxPosX){j=this.maxPosX}}if(k<0){k=0}else{if(k>this.maxPosY){k=this.maxPosY}}j=this.options.listenX?f.round(j/this.sizeRatioX):this.scroller.x;k=this.options.listenY?f.round(k/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(j,k)},fade:function(m,l){if(l&&!this.visible){return}clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var k=m?250:500,j=m?0:300;m=m?"1":"0";this.wrapperStyle[d.style.transitionDuration]=k+"ms";this.fadeTimeout=setTimeout((function(n){this.wrapperStyle.opacity=n;this.visible=+n}).bind(this,m),j)}};h.utils=d;if(typeof module!="undefined"&&module.exports){module.exports=h}else{g.IScroll=h}})(window,document,Math);(function(e,c,f){var d={filterId:0};var b=function(m,q){var j={intensity:5,forceSVGUrl:false},r=f.extend(j,q);this.$elm=m instanceof f?m:f(m);var l=false;var k=" -webkit- -moz- -o- -ms- ".split(" "),n={},i=function(v){if(n[v]||n[v]===""){return n[v]+v}var w=c.createElement("div");var u=["","Moz","Webkit","O","ms","Khtml"];for(var s in u){if(typeof w.style[u[s]+v]!=="undefined"){n[v]=u[s];return u[s]+v}}return v.toLowerCase()},h=function(){var s=c.createElement("div");s.style.cssText=k.join("filter:blur(2px); ");return !!s.style.length&&((c.documentMode===undefined||c.documentMode>9))}(),g=function(){var s=false;try{s=typeof SVGFEColorMatrixElement!==undefined&&SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE==2}catch(u){}return s}(),o=function(){var s="<svg id='vague-svg-blur' style='position:absolute;' width='0' height='0' ><filter id='blur-effect-id-"+d.filterId+"'><feGaussianBlur stdDeviation='"+r.intensity+"' /></filter></svg>";f("body").append(s)};this.init=function(){if(g){o()}this.$elm.data("vague-filter-id",d.filterId);d.filterId++};this.blur=function(){var x,v=e.location,w=r.forceSVGUrl?v.protocol+"//"+v.host+v.pathname:"",s=this.$elm.data("vague-filter-id"),u={};if(h){x="blur("+r.intensity+"px)"}else{if(g){x="url("+w+"#blur-effect-id-"+s+")"}else{x="progid:DXImageTransform.Microsoft.Blur(pixelradius="+r.intensity+")"}}u[i("Filter")]=x;this.$elm.css(u);l=true};this.unblur=function(){var s={};s[i("Filter")]="none";this.$elm.css(s);l=false};this.toggleblur=function(){if(l){this.unblur()}else{this.blur()}};this.destroy=function(){if(g){f("filter#blur-effect-id-"+this.$elm.data("vague-filter-id")).parent().remove()}this.unblur()};return this.init()};f.fn.Vague=function(g){return new b(this,g)};e.Vague=b}(window,document,jQuery));(function(b){if(typeof b.fn.each2=="undefined"){b.extend(b.fn,{each2:function(g){var e=b([0]),f=-1,d=this.length;while(++f<d&&(e.context=e[0]=this[f])&&g.call(e[0],f,e)!==false){}return this}})}})(jQuery);(function(G,n){if(window.Select2!==n){return}var N,Q,A,d,b,r,q={x:0,y:0},y,z,N={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(R){R=R.which?R.which:R;switch(R){case N.LEFT:case N.RIGHT:case N.UP:case N.DOWN:return true}return false},isControl:function(S){var R=S.which;switch(R){case N.SHIFT:case N.CTRL:case N.ALT:return true}if(S.metaKey){return true}return false},isFunctionKey:function(R){R=R.which?R.which:R;return R>=112&&R<=123}},E="<div class='select2-measure-scrollbar'></div>",e={"\u24B6":"A","\uFF21":"A","\u00C0":"A","\u00C1":"A","\u00C2":"A","\u1EA6":"A","\u1EA4":"A","\u1EAA":"A","\u1EA8":"A","\u00C3":"A","\u0100":"A","\u0102":"A","\u1EB0":"A","\u1EAE":"A","\u1EB4":"A","\u1EB2":"A","\u0226":"A","\u01E0":"A","\u00C4":"A","\u01DE":"A","\u1EA2":"A","\u00C5":"A","\u01FA":"A","\u01CD":"A","\u0200":"A","\u0202":"A","\u1EA0":"A","\u1EAC":"A","\u1EB6":"A","\u1E00":"A","\u0104":"A","\u023A":"A","\u2C6F":"A","\uA732":"AA","\u00C6":"AE","\u01FC":"AE","\u01E2":"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B","\uFF22":"B","\u1E02":"B","\u1E04":"B","\u1E06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24B8":"C","\uFF23":"C","\u0106":"C","\u0108":"C","\u010A":"C","\u010C":"C","\u00C7":"C","\u1E08":"C","\u0187":"C","\u023B":"C","\uA73E":"C","\u24B9":"D","\uFF24":"D","\u1E0A":"D","\u010E":"D","\u1E0C":"D","\u1E10":"D","\u1E12":"D","\u1E0E":"D","\u0110":"D","\u018B":"D","\u018A":"D","\u0189":"D","\uA779":"D","\u01F1":"DZ","\u01C4":"DZ","\u01F2":"Dz","\u01C5":"Dz","\u24BA":"E","\uFF25":"E","\u00C8":"E","\u00C9":"E","\u00CA":"E","\u1EC0":"E","\u1EBE":"E","\u1EC4":"E","\u1EC2":"E","\u1EBC":"E","\u0112":"E","\u1E14":"E","\u1E16":"E","\u0114":"E","\u0116":"E","\u00CB":"E","\u1EBA":"E","\u011A":"E","\u0204":"E","\u0206":"E","\u1EB8":"E","\u1EC6":"E","\u0228":"E","\u1E1C":"E","\u0118":"E","\u1E18":"E","\u1E1A":"E","\u0190":"E","\u018E":"E","\u24BB":"F","\uFF26":"F","\u1E1E":"F","\u0191":"F","\uA77B":"F","\u24BC":"G","\uFF27":"G","\u01F4":"G","\u011C":"G","\u1E20":"G","\u011E":"G","\u0120":"G","\u01E6":"G","\u0122":"G","\u01E4":"G","\u0193":"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H","\uFF28":"H","\u0124":"H","\u1E22":"H","\u1E26":"H","\u021E":"H","\u1E24":"H","\u1E28":"H","\u1E2A":"H","\u0126":"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I","\uFF29":"I","\u00CC":"I","\u00CD":"I","\u00CE":"I","\u0128":"I","\u012A":"I","\u012C":"I","\u0130":"I","\u00CF":"I","\u1E2E":"I","\u1EC8":"I","\u01CF":"I","\u0208":"I","\u020A":"I","\u1ECA":"I","\u012E":"I","\u1E2C":"I","\u0197":"I","\u24BF":"J","\uFF2A":"J","\u0134":"J","\u0248":"J","\u24C0":"K","\uFF2B":"K","\u1E30":"K","\u01E8":"K","\u1E32":"K","\u0136":"K","\u1E34":"K","\u0198":"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L","\uFF2C":"L","\u013F":"L","\u0139":"L","\u013D":"L","\u1E36":"L","\u1E38":"L","\u013B":"L","\u1E3C":"L","\u1E3A":"L","\u0141":"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L","\u01C7":"LJ","\u01C8":"Lj","\u24C2":"M","\uFF2D":"M","\u1E3E":"M","\u1E40":"M","\u1E42":"M","\u2C6E":"M","\u019C":"M","\u24C3":"N","\uFF2E":"N","\u01F8":"N","\u0143":"N","\u00D1":"N","\u1E44":"N","\u0147":"N","\u1E46":"N","\u0145":"N","\u1E4A":"N","\u1E48":"N","\u0220":"N","\u019D":"N","\uA790":"N","\uA7A4":"N","\u01CA":"NJ","\u01CB":"Nj","\u24C4":"O","\uFF2F":"O","\u00D2":"O","\u00D3":"O","\u00D4":"O","\u1ED2":"O","\u1ED0":"O","\u1ED6":"O","\u1ED4":"O","\u00D5":"O","\u1E4C":"O","\u022C":"O","\u1E4E":"O","\u014C":"O","\u1E50":"O","\u1E52":"O","\u014E":"O","\u022E":"O","\u0230":"O","\u00D6":"O","\u022A":"O","\u1ECE":"O","\u0150":"O","\u01D1":"O","\u020C":"O","\u020E":"O","\u01A0":"O","\u1EDC":"O","\u1EDA":"O","\u1EE0":"O","\u1EDE":"O","\u1EE2":"O","\u1ECC":"O","\u1ED8":"O","\u01EA":"O","\u01EC":"O","\u00D8":"O","\u01FE":"O","\u0186":"O","\u019F":"O","\uA74A":"O","\uA74C":"O","\u01A2":"OI","\uA74E":"OO","\u0222":"OU","\u24C5":"P","\uFF30":"P","\u1E54":"P","\u1E56":"P","\u01A4":"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q","\uFF31":"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R","\uFF32":"R","\u0154":"R","\u1E58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1E5A":"R","\u1E5C":"R","\u0156":"R","\u1E5E":"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S","\uFF33":"S","\u1E9E":"S","\u015A":"S","\u1E64":"S","\u015C":"S","\u1E60":"S","\u0160":"S","\u1E66":"S","\u1E62":"S","\u1E68":"S","\u0218":"S","\u015E":"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T","\uFF34":"T","\u1E6A":"T","\u0164":"T","\u1E6C":"T","\u021A":"T","\u0162":"T","\u1E70":"T","\u1E6E":"T","\u0166":"T","\u01AC":"T","\u01AE":"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U","\uFF35":"U","\u00D9":"U","\u00DA":"U","\u00DB":"U","\u0168":"U","\u1E78":"U","\u016A":"U","\u1E7A":"U","\u016C":"U","\u00DC":"U","\u01DB":"U","\u01D7":"U","\u01D5":"U","\u01D9":"U","\u1EE6":"U","\u016E":"U","\u0170":"U","\u01D3":"U","\u0214":"U","\u0216":"U","\u01AF":"U","\u1EEA":"U","\u1EE8":"U","\u1EEE":"U","\u1EEC":"U","\u1EF0":"U","\u1EE4":"U","\u1E72":"U","\u0172":"U","\u1E76":"U","\u1E74":"U","\u0244":"U","\u24CB":"V","\uFF36":"V","\u1E7C":"V","\u1E7E":"V","\u01B2":"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W","\uFF37":"W","\u1E80":"W","\u1E82":"W","\u0174":"W","\u1E86":"W","\u1E84":"W","\u1E88":"W","\u2C72":"W","\u24CD":"X","\uFF38":"X","\u1E8A":"X","\u1E8C":"X","\u24CE":"Y","\uFF39":"Y","\u1EF2":"Y","\u00DD":"Y","\u0176":"Y","\u1EF8":"Y","\u0232":"Y","\u1E8E":"Y","\u0178":"Y","\u1EF6":"Y","\u1EF4":"Y","\u01B3":"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z","\uFF3A":"Z","\u0179":"Z","\u1E90":"Z","\u017B":"Z","\u017D":"Z","\u1E92":"Z","\u1E94":"Z","\u01B5":"Z","\u0224":"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a","\uFF41":"a","\u1E9A":"a","\u00E0":"a","\u00E1":"a","\u00E2":"a","\u1EA7":"a","\u1EA5":"a","\u1EAB":"a","\u1EA9":"a","\u00E3":"a","\u0101":"a","\u0103":"a","\u1EB1":"a","\u1EAF":"a","\u1EB5":"a","\u1EB3":"a","\u0227":"a","\u01E1":"a","\u00E4":"a","\u01DF":"a","\u1EA3":"a","\u00E5":"a","\u01FB":"a","\u01CE":"a","\u0201":"a","\u0203":"a","\u1EA1":"a","\u1EAD":"a","\u1EB7":"a","\u1E01":"a","\u0105":"a","\u2C65":"a","\u0250":"a","\uA733":"aa","\u00E6":"ae","\u01FD":"ae","\u01E3":"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b","\uFF42":"b","\u1E03":"b","\u1E05":"b","\u1E07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24D2":"c","\uFF43":"c","\u0107":"c","\u0109":"c","\u010B":"c","\u010D":"c","\u00E7":"c","\u1E09":"c","\u0188":"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d","\uFF44":"d","\u1E0B":"d","\u010F":"d","\u1E0D":"d","\u1E11":"d","\u1E13":"d","\u1E0F":"d","\u0111":"d","\u018C":"d","\u0256":"d","\u0257":"d","\uA77A":"d","\u01F3":"dz","\u01C6":"dz","\u24D4":"e","\uFF45":"e","\u00E8":"e","\u00E9":"e","\u00EA":"e","\u1EC1":"e","\u1EBF":"e","\u1EC5":"e","\u1EC3":"e","\u1EBD":"e","\u0113":"e","\u1E15":"e","\u1E17":"e","\u0115":"e","\u0117":"e","\u00EB":"e","\u1EBB":"e","\u011B":"e","\u0205":"e","\u0207":"e","\u1EB9":"e","\u1EC7":"e","\u0229":"e","\u1E1D":"e","\u0119":"e","\u1E19":"e","\u1E1B":"e","\u0247":"e","\u025B":"e","\u01DD":"e","\u24D5":"f","\uFF46":"f","\u1E1F":"f","\u0192":"f","\uA77C":"f","\u24D6":"g","\uFF47":"g","\u01F5":"g","\u011D":"g","\u1E21":"g","\u011F":"g","\u0121":"g","\u01E7":"g","\u0123":"g","\u01E5":"g","\u0260":"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h","\uFF48":"h","\u0125":"h","\u1E23":"h","\u1E27":"h","\u021F":"h","\u1E25":"h","\u1E29":"h","\u1E2B":"h","\u1E96":"h","\u0127":"h","\u2C68":"h","\u2C76":"h","\u0265":"h","\u0195":"hv","\u24D8":"i","\uFF49":"i","\u00EC":"i","\u00ED":"i","\u00EE":"i","\u0129":"i","\u012B":"i","\u012D":"i","\u00EF":"i","\u1E2F":"i","\u1EC9":"i","\u01D0":"i","\u0209":"i","\u020B":"i","\u1ECB":"i","\u012F":"i","\u1E2D":"i","\u0268":"i","\u0131":"i","\u24D9":"j","\uFF4A":"j","\u0135":"j","\u01F0":"j","\u0249":"j","\u24DA":"k","\uFF4B":"k","\u1E31":"k","\u01E9":"k","\u1E33":"k","\u0137":"k","\u1E35":"k","\u0199":"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l","\uFF4C":"l","\u0140":"l","\u013A":"l","\u013E":"l","\u1E37":"l","\u1E39":"l","\u013C":"l","\u1E3D":"l","\u1E3B":"l","\u017F":"l","\u0142":"l","\u019A":"l","\u026B":"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l","\u01C9":"lj","\u24DC":"m","\uFF4D":"m","\u1E3F":"m","\u1E41":"m","\u1E43":"m","\u0271":"m","\u026F":"m","\u24DD":"n","\uFF4E":"n","\u01F9":"n","\u0144":"n","\u00F1":"n","\u1E45":"n","\u0148":"n","\u1E47":"n","\u0146":"n","\u1E4B":"n","\u1E49":"n","\u019E":"n","\u0272":"n","\u0149":"n","\uA791":"n","\uA7A5":"n","\u01CC":"nj","\u24DE":"o","\uFF4F":"o","\u00F2":"o","\u00F3":"o","\u00F4":"o","\u1ED3":"o","\u1ED1":"o","\u1ED7":"o","\u1ED5":"o","\u00F5":"o","\u1E4D":"o","\u022D":"o","\u1E4F":"o","\u014D":"o","\u1E51":"o","\u1E53":"o","\u014F":"o","\u022F":"o","\u0231":"o","\u00F6":"o","\u022B":"o","\u1ECF":"o","\u0151":"o","\u01D2":"o","\u020D":"o","\u020F":"o","\u01A1":"o","\u1EDD":"o","\u1EDB":"o","\u1EE1":"o","\u1EDF":"o","\u1EE3":"o","\u1ECD":"o","\u1ED9":"o","\u01EB":"o","\u01ED":"o","\u00F8":"o","\u01FF":"o","\u0254":"o","\uA74B":"o","\uA74D":"o","\u0275":"o","\u01A3":"oi","\u0223":"ou","\uA74F":"oo","\u24DF":"p","\uFF50":"p","\u1E55":"p","\u1E57":"p","\u01A5":"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q","\uFF51":"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r","\uFF52":"r","\u0155":"r","\u1E59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1E5B":"r","\u1E5D":"r","\u0157":"r","\u1E5F":"r","\u024D":"r","\u027D":"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s","\uFF53":"s","\u00DF":"s","\u015B":"s","\u1E65":"s","\u015D":"s","\u1E61":"s","\u0161":"s","\u1E67":"s","\u1E63":"s","\u1E69":"s","\u0219":"s","\u015F":"s","\u023F":"s","\uA7A9":"s","\uA785":"s","\u1E9B":"s","\u24E3":"t","\uFF54":"t","\u1E6B":"t","\u1E97":"t","\u0165":"t","\u1E6D":"t","\u021B":"t","\u0163":"t","\u1E71":"t","\u1E6F":"t","\u0167":"t","\u01AD":"t","\u0288":"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u","\uFF55":"u","\u00F9":"u","\u00FA":"u","\u00FB":"u","\u0169":"u","\u1E79":"u","\u016B":"u","\u1E7B":"u","\u016D":"u","\u00FC":"u","\u01DC":"u","\u01D8":"u","\u01D6":"u","\u01DA":"u","\u1EE7":"u","\u016F":"u","\u0171":"u","\u01D4":"u","\u0215":"u","\u0217":"u","\u01B0":"u","\u1EEB":"u","\u1EE9":"u","\u1EEF":"u","\u1EED":"u","\u1EF1":"u","\u1EE5":"u","\u1E73":"u","\u0173":"u","\u1E77":"u","\u1E75":"u","\u0289":"u","\u24E5":"v","\uFF56":"v","\u1E7D":"v","\u1E7F":"v","\u028B":"v","\uA75F":"v","\u028C":"v","\uA761":"vy","\u24E6":"w","\uFF57":"w","\u1E81":"w","\u1E83":"w","\u0175":"w","\u1E87":"w","\u1E85":"w","\u1E98":"w","\u1E89":"w","\u2C73":"w","\u24E7":"x","\uFF58":"x","\u1E8B":"x","\u1E8D":"x","\u24E8":"y","\uFF59":"y","\u1EF3":"y","\u00FD":"y","\u0177":"y","\u1EF9":"y","\u0233":"y","\u1E8F":"y","\u00FF":"y","\u1EF7":"y","\u1E99":"y","\u1EF5":"y","\u01B4":"y","\u024F":"y","\u1EFF":"y","\u24E9":"z","\uFF5A":"z","\u017A":"z","\u1E91":"z","\u017C":"z","\u017E":"z","\u1E93":"z","\u1E95":"z","\u01B6":"z","\u0225":"z","\u0240":"z","\u2C6C":"z","\uA763":"z"};y=G(document);b=(function(){var R=1;return function(){return R++}}());function f(U){var S,T,R,V;if(!U||U.length<1){return U}S="";for(T=0,R=U.length;T<R;T++){V=U.charAt(T);S+=e[V]||V}return S}function s(T,U){var S=0,R=U.length;for(;S<R;S=S+1){if(w(T,U[S])){return S}}return -1}function P(){var R=G(E);R.appendTo("body");var S={width:R.width()-R[0].clientWidth,height:R.height()-R[0].clientHeight};R.remove();return S}function w(S,R){if(S===R){return true}if(S===n||R===n){return false}if(S===null||R===null){return false}if(S.constructor===String){return S+""===R+""}if(R.constructor===String){return R+""===S+""}return false}function j(S,U){var V,T,R;if(S===null||S.length<1){return[]}V=S.split(U);for(T=0,R=V.length;T<R;T=T+1){V[T]=G.trim(V[T])}return V}function i(R){return R.outerWidth(false)-R.width()}function I(S){var R="keyup-change-value";S.on("keydown",function(){if(G.data(S,R)===n){G.data(S,R,S.val())}});S.on("keyup",function(){var T=G.data(S,R);if(T!==n&&S.val()!==T){G.removeData(S,R);S.trigger("keyup-change")}})}y.on("mousemove",function(R){q.x=R.pageX;q.y=R.pageY});function M(R){R.on("mousemove",function(T){var S=q;if(S===n||S.x!==T.pageX||S.y!==T.pageY){G(T.target).trigger("mousemove-filtered",T)}})}function l(U,S,R){R=R||n;var T;return function(){var V=arguments;window.clearTimeout(T);T=window.setTimeout(function(){S.apply(R,V)},U)}}function v(T){var R=false,S;return function(){if(R===false){S=T();R=true}return S}}function m(R,T){var S=l(R,function(U){T.trigger("scroll-debounced",U)});T.on("scroll",function(U){if(s(U.target,T.get())>=0){S(U)}})}function L(R){if(R[0]===document.activeElement){return}window.setTimeout(function(){var T=R[0],U=R.val().length,S;R.focus();if(R.is(":visible")&&T===document.activeElement){if(T.setSelectionRange){T.setSelectionRange(U,U)}else{if(T.createTextRange){S=T.createTextRange();S.collapse(false);S.select()}}}},0)}function g(R){R=G(R)[0];var U=0;var S=0;if("selectionStart" in R){U=R.selectionStart;S=R.selectionEnd-U}else{if("selection" in document){R.focus();var T=document.selection.createRange();S=document.selection.createRange().text.length;T.moveStart("character",-R.value.length);U=T.text.length-S}}return{offset:U,length:S}}function D(R){R.preventDefault();R.stopPropagation()}function c(R){R.preventDefault();R.stopImmediatePropagation()}function o(S){if(!r){var R=S[0].currentStyle||window.getComputedStyle(S[0],null);r=G(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:R.fontSize,fontFamily:R.fontFamily,fontStyle:R.fontStyle,fontWeight:R.fontWeight,letterSpacing:R.letterSpacing,textTransform:R.textTransform,whiteSpace:"nowrap"});r.attr("class","select2-sizer");G("body").append(r)}r.text(S.val());return r.width()}function k(S,W,R){var U,V=[],T;U=S.attr("class");if(U){U=""+U;G(U.split(" ")).each2(function(){if(this.indexOf("select2-")===0){V.push(this)}})}U=W.attr("class");if(U){U=""+U;G(U.split(" ")).each2(function(){if(this.indexOf("select2-")!==0){T=R(this);if(T){V.push(T)}}})}S.attr("class",V.join(" "))}function x(W,V,T,R){var U=f(W.toUpperCase()).indexOf(f(V.toUpperCase())),S=V.length;if(U<0){T.push(R(W));return}T.push(R(W.substring(0,U)));T.push("<span class='select2-match'>");T.push(R(W.substring(U,U+S)));T.push("</span>");T.push(R(W.substring(U+S,W.length)))}function J(R){var S={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(R).replace(/[&<>"'\/\\]/g,function(T){return S[T]})}function H(S){var V,T=null,W=S.quietMillis||100,U=S.url,R=this;return function(X){window.clearTimeout(V);V=window.setTimeout(function(){var aa=S.data,Z=U,ac=S.transport||G.fn.select2.ajaxDefaults.transport,Y={type:S.type||"GET",cache:S.cache||false,jsonpCallback:S.jsonpCallback||n,dataType:S.dataType||"json"},ab=G.extend({},G.fn.select2.ajaxDefaults.params,Y);aa=aa?aa.call(R,X.term,X.page,X.context):null;Z=(typeof Z==="function")?Z.call(R,X.term,X.page,X.context):Z;if(T){T.abort()}if(S.params){if(G.isFunction(S.params)){G.extend(ab,S.params.call(R))}else{G.extend(ab,S.params)}}G.extend(ab,{url:Z,dataType:S.dataType,data:aa,success:function(ae){var ad=S.results(ae,X.page);X.callback(ad)}});T=ac.call(R,ab)},W)}}function K(S){var V=S,U,T,W=function(X){return""+X.text};if(G.isArray(V)){T=V;V={results:T}}if(G.isFunction(V)===false){T=V;V=function(){return T}}var R=V();if(R.text){W=R.text;if(!G.isFunction(W)){U=R.text;W=function(X){return X[U]}}}return function(Z){var Y=Z.term,X={results:[]},aa;if(Y===""){Z.callback(V());return}aa=function(ac,ae){var ad,ab;ac=ac[0];if(ac.children){ad={};for(ab in ac){if(ac.hasOwnProperty(ab)){ad[ab]=ac[ab]}}ad.children=[];G(ac.children).each2(function(af,ag){aa(ag,ad.children)});if(ad.children.length||Z.matcher(Y,W(ad),ac)){ae.push(ad)}}else{if(Z.matcher(Y,W(ac),ac)){ae.push(ac)}}};G(V().results).each2(function(ac,ab){aa(ab,X.results)});Z.callback(X)}}function C(S){var R=G.isFunction(S);return function(V){var U=V.term,T={results:[]};G(R?S():S).each(function(){var W=this.text!==n,X=W?this.text:this;if(U===""||V.matcher(U,X)){T.results.push(W?this:{id:this,text:this})}});V.callback(T)}}function B(R,S){if(G.isFunction(R)){return true}if(!R){return false}throw new Error(S+" must be a function or a falsy value")}function F(R){return G.isFunction(R)?R():R}function u(R){var S=0;G.each(R,function(T,U){if(U.children){S+=u(U.children)}else{S++}});return S}function h(Z,aa,X,R){var S=Z,ab=false,U,Y,V,T,W;if(!R.createSearchChoice||!R.tokenSeparators||R.tokenSeparators.length<1){return n}while(true){Y=-1;for(V=0,T=R.tokenSeparators.length;V<T;V++){W=R.tokenSeparators[V];Y=Z.indexOf(W);if(Y>=0){break}}if(Y<0){break}U=Z.substring(0,Y);Z=Z.substring(Y+W.length);if(U.length>0){U=R.createSearchChoice.call(this,U,aa);if(U!==n&&U!==null&&R.id(U)!==n&&R.id(U)!==null){ab=false;for(V=0,T=aa.length;V<T;V++){if(w(R.id(U),R.id(aa[V]))){ab=true;break}}if(!ab){X(U)}}}}if(S!==Z){return Z}}function O(R,S){var T=function(){};T.prototype=new R;T.prototype.constructor=T;T.prototype.parent=R.prototype;T.prototype=G.extend(T.prototype,S);return T}Q=O(Object,{bind:function(S){var R=this;return function(){S.apply(R,arguments)}},init:function(V){var T,S,W=".select2-results";this.opts=V=this.prepareOpts(V);this.id=V.id;if(V.element.data("select2")!==n&&V.element.data("select2")!==null){V.element.data("select2").destroy()}this.container=this.createContainer();this.containerId="s2id_"+(V.element.attr("id")||"autogen"+b());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.body=v(function(){return V.element.closest("body")});k(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",V.element.attr("style"));this.container.css(F(V.containerCss));this.container.addClass(F(V.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",D);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");k(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(F(V.dropdownCssClass));this.dropdown.data("select2",this);this.dropdown.on("click",D);this.results=T=this.container.find(W);this.search=S=this.container.find("input.select2-input");this.queryCount=0;this.resultsPage=0;this.context=null;this.initContainer();this.container.on("click",D);M(this.results);this.dropdown.on("mousemove-filtered touchstart touchmove touchend",W,this.bind(this.highlightUnderEvent));m(80,this.results);this.dropdown.on("scroll-debounced",W,this.bind(this.loadMoreIfNeeded));G(this.container).on("change",".select2-input",function(X){X.stopPropagation()});G(this.dropdown).on("change",".select2-input",function(X){X.stopPropagation()});if(G.fn.mousewheel){T.mousewheel(function(aa,ab,Y,X){var Z=T.scrollTop();if(X>0&&Z-X<=0){T.scrollTop(0);D(aa)}else{if(X<0&&T.get(0).scrollHeight-T.scrollTop()+X<=T.height()){T.scrollTop(T.get(0).scrollHeight-T.height());D(aa)}}})}I(S);S.on("keyup-change input paste",this.bind(this.updateResults));S.on("focus",function(){S.addClass("select2-focused")});S.on("blur",function(){S.removeClass("select2-focused")});this.dropdown.on("mouseup",W,this.bind(function(X){if(G(X.target).closest(".select2-result-selectable").length>0){this.highlightUnderEvent(X);this.selectHighlighted(X)}}));this.dropdown.on("click mouseup mousedown",function(X){X.stopPropagation()});if(G.isFunction(this.opts.initSelection)){this.initSelection();this.monitorSource()}if(V.maximumInputLength!==null){this.search.attr("maxlength",V.maximumInputLength)}var U=V.element.prop("disabled");if(U===n){U=false}this.enable(!U);var R=V.element.prop("readonly");if(R===n){R=false}this.readonly(R);z=z||P();this.autofocus=V.element.prop("autofocus");V.element.prop("autofocus",false);if(this.autofocus){this.focus()}this.nextSearchTerm=n},destroy:function(){var S=this.opts.element,R=S.data("select2");this.close();if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}if(R!==n){R.container.remove();R.dropdown.remove();S.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||false);if(this.elementTabIndex){S.attr({tabindex:this.elementTabIndex})}else{S.removeAttr("tabindex")}S.show()}},optionToData:function(R){if(R.is("option")){return{id:R.prop("value"),text:R.text(),element:R.get(),css:R.attr("class"),disabled:R.prop("disabled"),locked:w(R.attr("locked"),"locked")||w(R.data("locked"),true)}}else{if(R.is("optgroup")){return{text:R.attr("label"),children:[],element:R.get(),css:R.attr("class")}}}},prepareOpts:function(W){var U,S,R,V,T=this;U=W.element;if(U.get(0).tagName.toLowerCase()==="select"){this.select=S=W.element}if(S){G.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in W){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}})}W=G.extend({},{populateResults:function(X,Y,aa){var Z,ab=this.opts.id;Z=function(ai,ac,ah){var aj,ae,ao,al,af,an,ad,am,ak,ag;ai=W.sortResults(ai,ac,aa);for(aj=0,ae=ai.length;aj<ae;aj=aj+1){ao=ai[aj];af=(ao.disabled===true);al=(!af)&&(ab(ao)!==n);an=ao.children&&ao.children.length>0;ad=G("<li></li>");ad.addClass("select2-results-dept-"+ah);ad.addClass("select2-result");ad.addClass(al?"select2-result-selectable":"select2-result-unselectable");if(af){ad.addClass("select2-disabled")}if(an){ad.addClass("select2-result-with-children")}ad.addClass(T.opts.formatResultCssClass(ao));am=G(document.createElement("div"));am.addClass("select2-result-label");ag=W.formatResult(ao,am,aa,T.opts.escapeMarkup);if(ag!==n){am.html(ag)}ad.append(am);if(an){ak=G("<ul></ul>");ak.addClass("select2-result-sub");Z(ao.children,ak,ah+1);ad.append(ak)}ad.data("select2-data",ao);ac.append(ad)}};Z(Y,X,0)}},G.fn.select2.defaults,W);if(typeof(W.id)!=="function"){R=W.id;W.id=function(X){return X[R]}}if(G.isArray(W.element.data("select2Tags"))){if("tags" in W){throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+W.element.attr("id")}W.tags=W.element.data("select2Tags")}if(S){W.query=this.bind(function(ab){var aa={results:[],more:false},Z=ab.term,Y,X,ac;ac=function(ad,af){var ae;if(ad.is("option")){if(ab.matcher(Z,ad.text(),ad)){af.push(T.optionToData(ad))}}else{if(ad.is("optgroup")){ae=T.optionToData(ad);ad.children().each2(function(ag,ah){ac(ah,ae.children)});if(ae.children.length>0){af.push(ae)}}}};Y=U.children();if(this.getPlaceholder()!==n&&Y.length>0){X=this.getPlaceholderOption();if(X){Y=Y.not(X)}}Y.each2(function(ad,ae){ac(ae,aa.results)});ab.callback(aa)});W.id=function(X){return X.id};W.formatResultCssClass=function(X){return X.css}}else{if(!("query" in W)){if("ajax" in W){V=W.element.data("ajax-url");if(V&&V.length>0){W.ajax.url=V}W.query=H.call(W.element,W.ajax)}else{if("data" in W){W.query=K(W.data)}else{if("tags" in W){W.query=C(W.tags);if(W.createSearchChoice===n){W.createSearchChoice=function(X){return{id:G.trim(X),text:G.trim(X)}}}if(W.initSelection===n){W.initSelection=function(X,Z){var Y=[];G(j(X.val(),W.separator)).each(function(){var ab={id:this,text:this},aa=W.tags;if(G.isFunction(aa)){aa=aa()}G(aa).each(function(){if(w(this.id,ab.id)){ab=this;return false}});Y.push(ab)});Z(Y)}}}}}}}if(typeof(W.query)!=="function"){throw"query function not defined for Select2 "+W.element.attr("id")}return W},monitorSource:function(){var S=this.opts.element,T,R;S.on("change.select2",this.bind(function(U){if(this.opts.element.data("select2-change-triggered")!==true){this.initSelection()}}));T=this.bind(function(){var V=S.prop("disabled");if(V===n){V=false}this.enable(!V);var U=S.prop("readonly");if(U===n){U=false}this.readonly(U);k(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(F(this.opts.containerCssClass));k(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(F(this.opts.dropdownCssClass))});S.on("propertychange.select2",T);if(this.mutationCallback===n){this.mutationCallback=function(U){U.forEach(T)}}R=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(R!==n){if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}this.propertyObserver=new R(this.mutationCallback);this.propertyObserver.observe(S.get(0),{attributes:true,subtree:false})}},triggerSelect:function(S){var R=G.Event("select2-selecting",{val:this.id(S),object:S});this.opts.element.trigger(R);return !R.isDefaultPrevented()},triggerChange:function(R){R=R||{};R=G.extend({},R,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",true);this.opts.element.trigger(R);this.opts.element.data("select2-change-triggered",false);this.opts.element.click();if(this.opts.blurOnChange){this.opts.element.blur()}},isInterfaceEnabled:function(){return this.enabledInterface===true},enableInterface:function(){var R=this._enabled&&!this._readonly,S=!R;if(R===this.enabledInterface){return false}this.container.toggleClass("select2-container-disabled",S);this.close();this.enabledInterface=R;return true},enable:function(R){if(R===n){R=true}if(this._enabled===R){return}this._enabled=R;this.opts.element.prop("disabled",!R);this.enableInterface()},disable:function(){this.enable(false)},readonly:function(R){if(R===n){R=false}if(this._readonly===R){return false}this._readonly=R;this.opts.element.prop("readonly",R);this.enableInterface();return true},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var T=this.dropdown,W=this.container.offset(),af=this.container.outerHeight(false),ag=this.container.outerWidth(false),ab=T.outerHeight(false),ad=G(window),ak=ad.width(),Z=ad.height(),S=ad.scrollLeft()+ak,aj=ad.scrollTop()+Z,U=W.top+af,ah=W.left,R=U+ab<=aj,Y=(W.top-ab)>=this.body().scrollTop(),ac=T.outerWidth(false),am=ah+ac<=S,al=T.hasClass("select2-drop-above"),X,ai,V,aa,ae;if(al){ai=true;if(!Y&&R){V=true;ai=false}}else{ai=false;if(!R&&Y){V=true;ai=true}}if(V){T.hide();W=this.container.offset();af=this.container.outerHeight(false);ag=this.container.outerWidth(false);ab=T.outerHeight(false);S=ad.scrollLeft()+ak;aj=ad.scrollTop()+Z;U=W.top+af;ah=W.left;ac=T.outerWidth(false);am=ah+ac<=S;T.show()}if(this.opts.dropdownAutoWidth){ae=G(".select2-results",T)[0];T.addClass("select2-drop-auto-width");T.css("width","");ac=T.outerWidth(false)+(ae.scrollHeight===ae.clientHeight?0:z.width);ac>ag?ag=ac:ac=ag;am=ah+ac<=S}else{this.container.removeClass("select2-drop-auto-width")}if(this.body().css("position")!=="static"){X=this.body().offset();U-=X.top;ah-=X.left}if(!am){ah=W.left+ag-ac}aa={left:ah,width:ag};if(ai){aa.bottom=Z-W.top;aa.top="auto";this.container.addClass("select2-drop-above");T.addClass("select2-drop-above")}else{aa.top=U;aa.bottom="auto";this.container.removeClass("select2-drop-above");T.removeClass("select2-drop-above")}aa=G.extend(aa,F(this.opts.dropdownCss));T.css(aa)},shouldOpen:function(){var R;if(this.opened()){return false}if(this._enabled===false||this._readonly===true){return false}R=G.Event("select2-opening");this.opts.element.trigger(R);return !R.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen()){return false}this.opening();return true},opening:function(){var W=this.containerId,R="scroll."+W,U="resize."+W,T="orientationchange."+W,S;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();if(this.dropdown[0]!==this.body().children().last()[0]){this.dropdown.detach().appendTo(this.body())}S=G("#select2-drop-mask");if(S.length==0){S=G(document.createElement("div"));S.attr("id","select2-drop-mask").attr("class","select2-drop-mask");S.hide();S.appendTo(this.body());S.on("mousedown touchstart click",function(Y){var Z=G("#select2-drop"),X;if(Z.length>0){X=Z.data("select2");if(X.opts.selectOnBlur){X.selectHighlighted({noFocus:true})}X.close({focus:true});Y.preventDefault();Y.stopPropagation()}})}if(this.dropdown.prev()[0]!==S[0]){this.dropdown.before(S)}G("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");S.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var V=this;this.container.parents().add(window).each(function(){G(this).on(U+" "+R+" "+T,function(X){V.positionDropdown()})})},close:function(){if(!this.opened()){return}var U=this.containerId,R="scroll."+U,T="resize."+U,S="orientationchange."+U;this.container.parents().add(window).each(function(){G(this).off(R).off(T).off(S)});this.clearDropdownAlignmentPreference();G("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(G.Event("select2-close"))},externalSearch:function(R){this.open();this.search.val(R);this.updateResults(false)},clearSearch:function(){},getMaximumSelectionSize:function(){return F(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var U=this.results,T,R,Y,X,V,W,S;R=this.highlight();if(R<0){return}if(R==0){U.scrollTop(0);return}T=this.findHighlightableChoices().find(".select2-result-label");Y=G(T[R]);X=Y.offset().top+Y.outerHeight(true);if(R===T.length-1){S=U.find("li.select2-more-results");if(S.length>0){X=S.offset().top+S.outerHeight(true)}}V=U.offset().top+U.outerHeight(true);if(X>V){U.scrollTop(U.scrollTop()+(X-V))}W=Y.offset().top-U.offset().top;if(W<0&&Y.css("display")!="none"){U.scrollTop(U.scrollTop()+W)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(U){var T=this.findHighlightableChoices(),S=this.highlight();while(S>-1&&S<T.length){S+=U;var R=G(T[S]);if(R.hasClass("select2-result-selectable")&&!R.hasClass("select2-disabled")&&!R.hasClass("select2-selected")){this.highlight(S);break}}},highlight:function(S){var U=this.findHighlightableChoices(),R,T;if(arguments.length===0){return s(U.filter(".select2-highlighted")[0],U.get())}if(S>=U.length){S=U.length-1}if(S<0){S=0}this.removeHighlight();R=G(U[S]);R.addClass("select2-highlighted");this.ensureHighlightVisible();T=R.data("select2-data");if(T){this.opts.element.trigger({type:"select2-highlight",val:this.id(T),choice:T})}},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(S){var R=G(S.target).closest(".select2-result-selectable");if(R.length>0&&!R.is(".select2-highlighted")){var T=this.findHighlightableChoices();this.highlight(T.index(R))}else{if(R.length==0){this.removeHighlight()}}},loadMoreIfNeeded:function(){var V=this.results,U=V.find("li.select2-more-results"),X,W=this.resultsPage+1,R=this,T=this.search.val(),S=this.context;if(U.length===0){return}X=U.offset().top-V.offset().top-V.height();if(X<=this.opts.loadMorePadding){U.addClass("select2-active");this.opts.query({element:this.opts.element,term:T,page:W,context:S,matcher:this.opts.matcher,callback:this.bind(function(Y){if(!R.opened()){return}R.opts.populateResults.call(this,V,Y.results,{term:T,page:W,context:S});R.postprocessResults(Y,false,false);if(Y.more===true){U.detach().appendTo(V).text(R.opts.formatLoadMore(W+1));window.setTimeout(function(){R.loadMoreIfNeeded()},10)}else{U.remove()}R.positionDropdown();R.resultsPage=W;R.context=Y.context;this.opts.element.trigger({type:"select2-loaded",items:Y})})})}},tokenize:function(){},updateResults:function(Z){var ad=this.search,X=this.results,R=this.opts,W,ac=this,aa,V=ad.val(),T=G.data(this.container,"select2-last-term"),ab;if(Z!==true&&T&&w(V,T)){return}G.data(this.container,"select2-last-term",V);if(Z!==true&&(this.showSearchInput===false||!this.opened())){return}function Y(){ad.removeClass("select2-active");ac.positionDropdown()}function S(ae){X.html(ae);Y()}ab=++this.queryCount;var U=this.getMaximumSelectionSize();if(U>=1){W=this.data();if(G.isArray(W)&&W.length>=U&&B(R.formatSelectionTooBig,"formatSelectionTooBig")){S("<li class='select2-selection-limit'>"+R.formatSelectionTooBig(U)+"</li>");return}}if(ad.val().length<R.minimumInputLength){if(B(R.formatInputTooShort,"formatInputTooShort")){S("<li class='select2-no-results'>"+R.formatInputTooShort(ad.val(),R.minimumInputLength)+"</li>")}else{S("")}if(Z&&this.showSearch){this.showSearch(true)}return}if(R.maximumInputLength&&ad.val().length>R.maximumInputLength){if(B(R.formatInputTooLong,"formatInputTooLong")){S("<li class='select2-no-results'>"+R.formatInputTooLong(ad.val(),R.maximumInputLength)+"</li>")}else{S("")}return}if(R.formatSearching&&this.findHighlightableChoices().length===0){S("<li class='select2-searching'>"+R.formatSearching()+"</li>")}ad.addClass("select2-active");this.removeHighlight();aa=this.tokenize();if(aa!=n&&aa!=null){ad.val(aa)}this.resultsPage=1;R.query({element:R.element,term:ad.val(),page:this.resultsPage,context:null,matcher:R.matcher,callback:this.bind(function(af){var ae;if(ab!=this.queryCount){return}if(!this.opened()){this.search.removeClass("select2-active");return}this.context=(af.context===n)?null:af.context;if(this.opts.createSearchChoice&&ad.val()!==""){ae=this.opts.createSearchChoice.call(ac,ad.val(),af.results);if(ae!==n&&ae!==null&&ac.id(ae)!==n&&ac.id(ae)!==null){if(G(af.results).filter(function(){return w(ac.id(this),ac.id(ae))}).length===0){af.results.unshift(ae)}}}if(af.results.length===0&&B(R.formatNoMatches,"formatNoMatches")){S("<li class='select2-no-results'>"+R.formatNoMatches(ad.val())+"</li>");return}X.empty();ac.opts.populateResults.call(this,X,af.results,{term:ad.val(),page:this.resultsPage,context:null});if(af.more===true&&B(R.formatLoadMore,"formatLoadMore")){X.append("<li class='select2-more-results'>"+ac.opts.escapeMarkup(R.formatLoadMore(this.resultsPage))+"</li>");window.setTimeout(function(){ac.loadMoreIfNeeded()},10)}this.postprocessResults(af,Z);Y();this.opts.element.trigger({type:"select2-loaded",items:af})})})},cancel:function(){this.close()},blur:function(){if(this.opts.selectOnBlur){this.selectHighlighted({noFocus:true})}this.close();this.container.removeClass("select2-container-active");if(this.search[0]===document.activeElement){this.search.blur()}this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){L(this.search)},selectHighlighted:function(S){var R=this.highlight(),T=this.results.find(".select2-highlighted"),U=T.closest(".select2-result").data("select2-data");if(U){this.highlight(R);this.onSelect(U,S)}else{if(S&&S.noFocus){this.close()}}},getPlaceholder:function(){var R;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((R=this.getPlaceholderOption())!==n?R.text():n)},getPlaceholderOption:function(){if(this.select){var R=this.select.children("option").first();if(this.opts.placeholderOption!==n){return(this.opts.placeholderOption==="first"&&R)||(typeof this.opts.placeholderOption==="function"&&this.opts.placeholderOption(this.select))}else{if(R.text()===""&&R.val()===""){return R}}}},initContainerWidth:function(){function S(){var X,V,Y,W,U,T;if(this.opts.width==="off"){return null}else{if(this.opts.width==="element"){return this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px"}else{if(this.opts.width==="copy"||this.opts.width==="resolve"){X=this.opts.element.attr("style");if(X!==n){V=X.split(";");for(W=0,U=V.length;W<U;W=W+1){T=V[W].replace(/\s/g,"");Y=T.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);if(Y!==null&&Y.length>=1){return Y[1]}}}if(this.opts.width==="resolve"){X=this.opts.element.css("width");if(X.indexOf("%")>0){return X}return(this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px")}return null}else{if(G.isFunction(this.opts.width)){return this.opts.width()}else{return this.opts.width}}}}}var R=S.call(this);if(R!==null){this.container.css("width",R)}}});A=O(Q,{createContainer:function(){var R=G(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return R},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.focusser.prop("disabled",!this.isInterfaceEnabled())}},opening:function(){var T,S,R;if(this.opts.minimumResultsForSearch>=0){this.showSearch(true)}this.parent.opening.apply(this,arguments);if(this.showSearchInput!==false){this.search.val(this.focusser.val())}this.search.focus();T=this.search.get(0);if(T.createTextRange){S=T.createTextRange();S.collapse(false);S.select()}else{if(T.setSelectionRange){R=this.search.val().length;T.setSelectionRange(R,R)}}if(this.search.val()===""){if(this.nextSearchTerm!=n){this.search.val(this.nextSearchTerm);this.search.select()}}this.focusser.prop("disabled",true).val("");this.updateResults(true);this.opts.element.trigger(G.Event("select2-open"))},close:function(R){if(!this.opened()){return}this.parent.close.apply(this,arguments);R=R||{focus:true};this.focusser.removeAttr("disabled");if(R.focus){this.focusser.focus()}},focus:function(){if(this.opened()){this.close()}else{this.focusser.removeAttr("disabled");this.focusser.focus()}},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},destroy:function(){G("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var S,R=this.container,T=this.dropdown;if(this.opts.minimumResultsForSearch<0){this.showSearch(false)}else{this.showSearch(true)}this.selection=S=R.find(".select2-choice");this.focusser=R.find(".select2-focusser");this.focusser.attr("id","s2id_autogen"+b());G("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(U){if(!this.isInterfaceEnabled()){return}if(U.which===N.PAGE_UP||U.which===N.PAGE_DOWN){D(U);return}switch(U.which){case N.UP:case N.DOWN:this.moveHighlight((U.which===N.UP)?-1:1);D(U);return;case N.ENTER:this.selectHighlighted();D(U);return;case N.TAB:this.selectHighlighted({noFocus:true});return;case N.ESC:this.cancel(U);D(U);return}}));this.search.on("blur",this.bind(function(U){if(document.activeElement===this.body().get(0)){window.setTimeout(this.bind(function(){this.search.focus()}),0)}}));this.focusser.on("keydown",this.bind(function(U){if(!this.isInterfaceEnabled()){return}if(U.which===N.TAB||N.isControl(U)||N.isFunctionKey(U)||U.which===N.ESC){return}if(this.opts.openOnEnter===false&&U.which===N.ENTER){D(U);return}if(U.which==N.DOWN||U.which==N.UP||(U.which==N.ENTER&&this.opts.openOnEnter)){if(U.altKey||U.ctrlKey||U.shiftKey||U.metaKey){return}this.open();D(U);return}if(U.which==N.DELETE||U.which==N.BACKSPACE){if(this.opts.allowClear){this.clear()}D(U);return}}));I(this.focusser);this.focusser.on("keyup-change input",this.bind(function(U){if(this.opts.minimumResultsForSearch>=0){U.stopPropagation();if(this.opened()){return}this.open()}}));S.on("mousedown","abbr",this.bind(function(U){if(!this.isInterfaceEnabled()){return}this.clear();c(U);this.close();this.selection.focus()}));S.on("mousedown",this.bind(function(U){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(G.Event("select2-focus"))}if(this.opened()){this.close()}else{if(this.isInterfaceEnabled()){this.open()}}D(U)}));T.on("mousedown",this.bind(function(){this.search.focus()}));S.on("focus",this.bind(function(U){D(U)}));this.focusser.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(G.Event("select2-focus"))}this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active");this.opts.element.trigger(G.Event("select2-blur"))}}));this.search.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(G.Event("select2-focus"))}this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(T){var U=this.selection.data("select2-data");if(U){var S=G.Event("select2-clearing");this.opts.element.trigger(S);if(S.isDefaultPrevented()){return}var R=this.getPlaceholderOption();this.opts.element.val(R?R.val():"");this.selection.find(".select2-chosen").empty();this.selection.removeData("select2-data");this.setPlaceholder();if(T!==false){this.opts.element.trigger({type:"select2-removed",val:this.id(U),choice:U});this.triggerChange({removed:U})}}},initSelection:function(){var S;if(this.isPlaceholderOptionSelected()){this.updateSelection(null);this.close();this.setPlaceholder()}else{var R=this;this.opts.initSelection.call(null,this.opts.element,function(T){if(T!==n&&T!==null){R.updateSelection(T);R.close();R.setPlaceholder()}})}},isPlaceholderOptionSelected:function(){var R;if(!this.getPlaceholder()){return false}return((R=this.getPlaceholderOption())!==n&&R.prop("selected"))||(this.opts.element.val()==="")||(this.opts.element.val()===n)||(this.opts.element.val()===null)},prepareOpts:function(){var S=this.parent.prepareOpts.apply(this,arguments),R=this;if(S.element.get(0).tagName.toLowerCase()==="select"){S.initSelection=function(T,V){var U=T.find("option").filter(function(){return this.selected});V(R.optionToData(U))}}else{if("data" in S){S.initSelection=S.initSelection||function(U,W){var V=U.val();var T=null;S.query({matcher:function(X,aa,Y){var Z=w(V,S.id(Y));if(Z){T=Y}return Z},callback:!G.isFunction(W)?G.noop:function(){W(T)}})}}}return S},getPlaceholder:function(){if(this.select){if(this.getPlaceholderOption()===n){return n}}return this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var R=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&R!==n){if(this.select&&this.getPlaceholderOption()===n){return}this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(R));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear")}},postprocessResults:function(W,S,V){var U=0,R=this,X=true;this.findHighlightableChoices().each2(function(Y,Z){if(w(R.id(Z.data("select2-data")),R.opts.element.val())){U=Y;return false}});if(V!==false){if(S===true&&U>=0){this.highlight(U)}else{this.highlight(0)}}if(S===true){var T=this.opts.minimumResultsForSearch;if(T>=0){this.showSearch(u(W.results)>=T)}}},showSearch:function(R){if(this.showSearchInput===R){return}this.showSearchInput=R;this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!R);this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!R);G(this.dropdown,this.container).toggleClass("select2-with-searchbox",R)},onSelect:function(T,S){if(!this.triggerSelect(T)){return}var R=this.opts.element.val(),U=this.data();this.opts.element.val(this.id(T));this.updateSelection(T);this.opts.element.trigger({type:"select2-selected",val:this.id(T),choice:T});this.nextSearchTerm=this.opts.nextSearchTerm(T,this.search.val());this.close();if(!S||!S.noFocus){this.focusser.focus()}if(!w(R,this.id(T))){this.triggerChange({added:T,removed:U})}},updateSelection:function(U){var S=this.selection.find(".select2-chosen"),T,R;this.selection.data("select2-data",U);S.empty();if(U!==null){T=this.opts.formatSelection(U,S,this.opts.escapeMarkup)}if(T!==n){S.append(T)}R=this.opts.formatSelectionCssClass(U,S);if(R!==n){S.addClass(R)}this.selection.removeClass("select2-default");if(this.opts.allowClear&&this.getPlaceholder()!==n){this.container.addClass("select2-allowclear")}},val:function(){var V,S=false,T=null,R=this,U=this.data();if(arguments.length===0){return this.opts.element.val()}V=arguments[0];if(arguments.length>1){S=arguments[1]}if(this.select){this.select.val(V).find("option").filter(function(){return this.selected}).each2(function(W,X){T=R.optionToData(X);return false});this.updateSelection(T);this.setPlaceholder();if(S){this.triggerChange({added:T,removed:U})}}else{if(!V&&V!==0){this.clear(S);return}if(this.opts.initSelection===n){throw new Error("cannot call val() if initSelection() is not defined")}this.opts.element.val(V);this.opts.initSelection(this.opts.element,function(W){R.opts.element.val(!W?"":R.id(W));R.updateSelection(W);R.setPlaceholder();if(S){R.triggerChange({added:W,removed:U})}})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(T){var S,R=false;if(arguments.length===0){S=this.selection.data("select2-data");if(S==n){S=null}return S}else{if(arguments.length>1){R=arguments[1]}if(!T){this.clear(R)}else{S=this.data();this.opts.element.val(!T?"":this.id(T));this.updateSelection(T);if(R){this.triggerChange({added:T,removed:S})}}}}});d=O(Q,{createContainer:function(){var R=G(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return R},prepareOpts:function(){var S=this.parent.prepareOpts.apply(this,arguments),R=this;if(S.element.get(0).tagName.toLowerCase()==="select"){S.initSelection=function(T,V){var U=[];T.find("option").filter(function(){return this.selected}).each2(function(W,X){U.push(R.optionToData(X))});V(U)}}else{if("data" in S){S.initSelection=S.initSelection||function(T,W){var U=j(T.val(),S.separator);var V=[];S.query({matcher:function(X,aa,Y){var Z=G.grep(U,function(ab){return w(ab,S.id(Y))}).length;if(Z){V.push(Y)}return Z},callback:!G.isFunction(W)?G.noop:function(){var X=[];for(var aa=0;aa<U.length;aa++){var ab=U[aa];for(var Z=0;Z<V.length;Z++){var Y=V[Z];if(w(ab,S.id(Y))){X.push(Y);V.splice(Z,1);break}}}W(X)}})}}}return S},selectChoice:function(R){var S=this.container.find(".select2-search-choice-focus");if(S.length&&R&&R[0]==S[0]){}else{if(S.length){this.opts.element.trigger("choice-deselected",S)}S.removeClass("select2-search-choice-focus");if(R&&R.length){this.close();R.addClass("select2-search-choice-focus");this.opts.element.trigger("choice-selected",R)}}},destroy:function(){G("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var R=".select2-choices",S;this.searchContainer=this.container.find(".select2-search-field");this.selection=S=this.container.find(R);var T=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(U){T.search[0].focus();T.selectChoice(G(this))});this.search.attr("id","s2id_autogen"+b());G("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id"));this.search.on("input paste",this.bind(function(){if(!this.isInterfaceEnabled()){return}if(!this.opened()){this.open()}}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(Y){if(!this.isInterfaceEnabled()){return}++this.keydowns;var W=S.find(".select2-search-choice-focus");var X=W.prev(".select2-search-choice:not(.select2-locked)");var V=W.next(".select2-search-choice:not(.select2-locked)");var Z=g(this.search);if(W.length&&(Y.which==N.LEFT||Y.which==N.RIGHT||Y.which==N.BACKSPACE||Y.which==N.DELETE||Y.which==N.ENTER)){var U=W;if(Y.which==N.LEFT&&X.length){U=X}else{if(Y.which==N.RIGHT){U=V.length?V:null}else{if(Y.which===N.BACKSPACE){this.unselect(W.first());this.search.width(10);U=X.length?X:V}else{if(Y.which==N.DELETE){this.unselect(W.first());this.search.width(10);U=V.length?V:null}else{if(Y.which==N.ENTER){U=null}}}}}this.selectChoice(U);D(Y);if(!U||!U.length){this.open()}return}else{if(((Y.which===N.BACKSPACE&&this.keydowns==1)||Y.which==N.LEFT)&&(Z.offset==0&&!Z.length)){this.selectChoice(S.find(".select2-search-choice:not(.select2-locked)").last());D(Y);return}else{this.selectChoice(null)}}if(this.opened()){switch(Y.which){case N.UP:case N.DOWN:this.moveHighlight((Y.which===N.UP)?-1:1);D(Y);return;case N.ENTER:this.selectHighlighted();D(Y);return;case N.TAB:this.selectHighlighted({noFocus:true});this.close();return;case N.ESC:this.cancel(Y);D(Y);return}}if(Y.which===N.TAB||N.isControl(Y)||N.isFunctionKey(Y)||Y.which===N.BACKSPACE||Y.which===N.ESC){return}if(Y.which===N.ENTER){if(this.opts.openOnEnter===false){return}else{if(Y.altKey||Y.ctrlKey||Y.shiftKey||Y.metaKey){return}}}this.open();if(Y.which===N.PAGE_UP||Y.which===N.PAGE_DOWN){D(Y)}if(Y.which===N.ENTER){D(Y)}}));this.search.on("keyup",this.bind(function(U){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(U){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);if(!this.opened()){this.clearSearch()}U.stopImmediatePropagation();this.opts.element.trigger(G.Event("select2-blur"))}));this.container.on("click",R,this.bind(function(U){if(!this.isInterfaceEnabled()){return}if(G(U.target).closest(".select2-search-choice").length>0){return}this.selectChoice(null);this.clearPlaceholder();if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(G.Event("select2-focus"))}this.open();this.focusSearch();U.preventDefault()}));this.container.on("focus",R,this.bind(function(){if(!this.isInterfaceEnabled()){return}if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(G.Event("select2-focus"))}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");this.clearPlaceholder()}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.search.prop("disabled",!this.isInterfaceEnabled())}},initSelection:function(){var S;if(this.opts.element.val()===""&&this.opts.element.text()===""){this.updateSelection([]);this.close();this.clearSearch()}if(this.select||this.opts.element.val()!==""){var R=this;this.opts.initSelection.call(null,this.opts.element,function(T){if(T!==n&&T!==null){R.updateSelection(T);R.close();R.clearSearch()}})}},clearSearch:function(){var S=this.getPlaceholder(),R=this.getMaxSearchWidth();if(S!==n&&this.getVal().length===0&&this.search.hasClass("select2-focused")===false){this.search.val(S).addClass("select2-default");this.search.width(R>0?R:this.container.css("width"))}else{this.search.val("").width(10)}},clearPlaceholder:function(){if(this.search.hasClass("select2-default")){this.search.val("").removeClass("select2-default")}},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();this.updateResults(true);this.search.focus();this.opts.element.trigger(G.Event("select2-open"))},close:function(){if(!this.opened()){return}this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(U){var T=[],S=[],R=this;G(U).each(function(){if(s(R.id(this),T)<0){T.push(R.id(this));S.push(this)}});U=S;this.selection.find(".select2-search-choice").remove();G(U).each(function(){R.addSelectedChoice(this)});R.postprocessResults()},tokenize:function(){var R=this.search.val();R=this.opts.tokenizer.call(this,R,this.data(),this.bind(this.onSelect),this.opts);if(R!=null&&R!=n){this.search.val(R);if(R.length>0){this.open()}}},onSelect:function(S,R){if(!this.triggerSelect(S)){return}this.addSelectedChoice(S);this.opts.element.trigger({type:"selected",val:this.id(S),choice:S});if(this.select||!this.opts.closeOnSelect){this.postprocessResults(S,false,this.opts.closeOnSelect===true)}if(this.opts.closeOnSelect){this.close();this.search.width(10)}else{if(this.countSelectableResults()>0){this.search.width(10);this.resizeSearch();if(this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()){this.updateResults(true)}this.positionDropdown()}else{this.close();this.search.width(10)}}this.triggerChange({added:S});if(!R||!R.noFocus){this.focusSearch()}},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(V){var X=!V.locked,T=G("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),Y=G("<li class='select2-search-choice select2-locked'><div></div></li>");var U=X?T:Y,R=this.id(V),S=this.getVal(),W,Z;W=this.opts.formatSelection(V,U.find("div"),this.opts.escapeMarkup);if(W!=n){U.find("div").replaceWith("<div>"+W+"</div>")}Z=this.opts.formatSelectionCssClass(V,U.find("div"));if(Z!=n){U.addClass(Z)}if(X){U.find(".select2-search-choice-close").on("mousedown",D).on("click dblclick",this.bind(function(aa){if(!this.isInterfaceEnabled()){return}G(aa.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(G(aa.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue();D(aa)})).on("focus",this.bind(function(){if(!this.isInterfaceEnabled()){return}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active")}))}U.data("select2-data",V);U.insertBefore(this.searchContainer);S.push(R);this.setVal(S)},unselect:function(T){var V=this.getVal(),U,S;T=T.closest(".select2-search-choice");if(T.length===0){throw"Invalid argument: "+T+". Must be .select2-search-choice"}U=T.data("select2-data");if(!U){return}while((S=s(this.id(U),V))>=0){V.splice(S,1);this.setVal(V);if(this.select){this.postprocessResults()}}var R=G.Event("select2-removing");R.val=this.id(U);R.choice=U;this.opts.element.trigger(R);if(R.isDefaultPrevented()){return}T.remove();this.opts.element.trigger({type:"select2-removed",val:this.id(U),choice:U});this.triggerChange({removed:U})},postprocessResults:function(V,S,U){var W=this.getVal(),X=this.results.find(".select2-result"),T=this.results.find(".select2-result-with-children"),R=this;X.each2(function(Z,Y){var aa=R.id(Y.data("select2-data"));if(s(aa,W)>=0){Y.addClass("select2-selected");Y.find(".select2-result-selectable").addClass("select2-selected")}});T.each2(function(Z,Y){if(!Y.is(".select2-result-selectable")&&Y.find(".select2-result-selectable:not(.select2-selected)").length===0){Y.addClass("select2-selected")}});if(this.highlight()==-1&&U!==false){R.highlight(0)}if(!this.opts.createSearchChoice&&!X.filter(".select2-result:not(.select2-selected)").length>0){if(!V||V&&!V.more&&this.results.find(".select2-no-results").length===0){if(B(R.opts.formatNoMatches,"formatNoMatches")){this.results.append("<li class='select2-no-results'>"+R.opts.formatNoMatches(R.search.val())+"</li>")}}}},getMaxSearchWidth:function(){return this.selection.width()-i(this.search)},resizeSearch:function(){var W,U,T,R,S,V=i(this.search);W=o(this.search)+10;U=this.search.offset().left;T=this.selection.width();R=this.selection.offset().left;S=T-(U-R)-V;if(S<W){S=T-V}if(S<40){S=T-V}if(S<=0){S=W}this.search.width(Math.floor(S))},getVal:function(){var R;if(this.select){R=this.select.val();return R===null?[]:R}else{R=this.opts.element.val();return j(R,this.opts.separator)}},setVal:function(S){var R;if(this.select){this.select.val(S)}else{R=[];G(S).each(function(){if(s(this,R)<0){R.push(this)}});this.opts.element.val(R.length===0?"":R.join(this.opts.separator))}},buildChangeDetails:function(R,U){var U=U.slice(0),R=R.slice(0);for(var T=0;T<U.length;T++){for(var S=0;S<R.length;S++){if(w(this.opts.id(U[T]),this.opts.id(R[S]))){U.splice(T,1);if(T>0){T--}R.splice(S,1);S--}}}return{added:U,removed:R}},val:function(U,S){var T,R=this;if(arguments.length===0){return this.getVal()}T=this.data();if(!T.length){T=[]}if(!U&&U!==0){this.opts.element.val("");this.updateSelection([]);this.clearSearch();if(S){this.triggerChange({added:this.data(),removed:T})}return}this.setVal(U);if(this.select){this.opts.initSelection(this.select,this.bind(this.updateSelection));if(S){this.triggerChange(this.buildChangeDetails(T,this.data()))}}else{if(this.opts.initSelection===n){throw new Error("val() cannot be called if initSelection() is not defined")}this.opts.initSelection(this.opts.element,function(W){var V=G.map(W,R.id);R.setVal(V);R.updateSelection(W);R.clearSearch();if(S){R.triggerChange(R.buildChangeDetails(T,R.data()))}})}this.clearSearch()},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")}this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var S=[],R=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){S.push(R.opts.id(G(this).data("select2-data")))});this.setVal(S);this.triggerChange()},data:function(T,U){var S=this,V,R;if(arguments.length===0){return this.selection.find(".select2-search-choice").map(function(){return G(this).data("select2-data")}).get()}else{R=this.data();if(!T){T=[]}V=G.map(T,function(W){return S.opts.id(W)});this.setVal(V);this.updateSelection(T);this.clearSearch();if(U){this.triggerChange(this.buildChangeDetails(R,this.data()))}}}});G.fn.select2=function(){var W=Array.prototype.slice.call(arguments,0),S,V,R,Y,aa,Z=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],X=["opened","isFocused","container","dropdown"],T=["val","data"],U={search:"externalSearch"};this.each(function(){if(W.length===0||typeof(W[0])==="object"){S=W.length===0?{}:G.extend({},W[0]);S.element=G(this);if(S.element.get(0).tagName.toLowerCase()==="select"){aa=S.element.prop("multiple")}else{aa=S.multiple||false;if("tags" in S){S.multiple=aa=true}}V=aa?new d():new A();V.init(S)}else{if(typeof(W[0])==="string"){if(s(W[0],Z)<0){throw"Unknown method: "+W[0]}Y=n;V=G(this).data("select2");if(V===n){return}R=W[0];if(R==="container"){Y=V.container}else{if(R==="dropdown"){Y=V.dropdown}else{if(U[R]){R=U[R]}Y=V[R].apply(V,W.slice(1))}}if(s(W[0],X)>=0||(s(W[0],T)&&W.length==1)){return false}}else{throw"Invalid arguments to select2 plugin: "+W}}});return(Y===n)?this:Y};G.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:true,openOnEnter:true,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(S,T,V,R){var U=[];x(S.text,V.term,U,R);return U.join("")},formatSelection:function(T,S,R){return T?R(T.text):n},sortResults:function(S,R,T){return S},formatResultCssClass:function(R){return n},formatSelectionCssClass:function(S,R){return n},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(R,S){var T=S-R.length;return"Please enter "+T+" more character"+(T==1?"":"s")},formatInputTooLong:function(S,R){var T=S.length-R;return"Please delete "+T+" character"+(T==1?"":"s")},formatSelectionTooBig:function(R){return"You can only select "+R+" item"+(R==1?"":"s")},formatLoadMore:function(R){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(R){return R.id},matcher:function(R,S){return f(""+S).toUpperCase().indexOf(f(""+R).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:h,escapeMarkup:J,blurOnChange:false,selectOnBlur:false,adaptContainerCssClass:function(R){return R},adaptDropdownCssClass:function(R){return null},nextSearchTerm:function(R,S){return n}};G.fn.select2.ajaxDefaults={transport:G.ajax,params:{type:"GET",cache:false,dataType:"json"}};window.Select2={query:{ajax:H,local:K,tags:C},util:{debounce:l,markMatch:x,escapeMarkup:J,stripDiacritics:f},"class":{"abstract":Q,single:A,multi:d}}}(jQuery));
/*!
 * jQuery UI Core 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
(function(c,g){var b=0,f=/^ui-id-\d+$/;c.ui=c.ui||{};c.extend(c.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});c.fn.extend({focus:(function(h){return function(i,j){return typeof i==="number"?this.each(function(){var k=this;setTimeout(function(){c(k).focus();if(j){j.call(k)}},i)}):h.apply(this,arguments)}})(c.fn.focus),scrollParent:function(){var h;if((c.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){h=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(c.css(this,"position"))&&(/(auto|scroll)/).test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0)}else{h=this.parents().filter(function(){return(/(auto|scroll)/).test(c.css(this,"overflow")+c.css(this,"overflow-y")+c.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!h.length?c(document):h},zIndex:function(k){if(k!==g){return this.css("zIndex",k)}if(this.length){var i=c(this[0]),h,j;while(i.length&&i[0]!==document){h=i.css("position");if(h==="absolute"||h==="relative"||h==="fixed"){j=parseInt(i.css("zIndex"),10);if(!isNaN(j)&&j!==0){return j}}i=i.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++b)}})},removeUniqueId:function(){return this.each(function(){if(f.test(this.id)){c(this).removeAttr("id")}})}});function e(j,h){var l,k,i,m=j.nodeName.toLowerCase();if("area"===m){l=j.parentNode;k=l.name;if(!j.href||!k||l.nodeName.toLowerCase()!=="map"){return false}i=c("img[usemap=#"+k+"]")[0];return !!i&&d(i)}return(/input|select|textarea|button|object/.test(m)?!j.disabled:"a"===m?j.href||h:h)&&d(j)}function d(h){return c.expr.filters.visible(h)&&!c(h).parents().addBack().filter(function(){return c.css(this,"visibility")==="hidden"}).length}c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(h){return function(i){return !!c.data(i,h)}}):function(k,j,h){return !!c.data(k,h[3])},focusable:function(h){return e(h,!isNaN(c.attr(h,"tabindex")))},tabbable:function(j){var h=c.attr(j,"tabindex"),i=isNaN(h);return(i||h>=0)&&e(j,!i)}});if(!c("<a>").outerWidth(1).jquery){c.each(["Width","Height"],function(k,h){var j=h==="Width"?["Left","Right"]:["Top","Bottom"],l=h.toLowerCase(),n={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};function m(q,o,i,r){c.each(j,function(){o-=parseFloat(c.css(q,"padding"+this))||0;if(i){o-=parseFloat(c.css(q,"border"+this+"Width"))||0}if(r){o-=parseFloat(c.css(q,"margin"+this))||0}});return o}c.fn["inner"+h]=function(i){if(i===g){return n["inner"+h].call(this)}return this.each(function(){c(this).css(l,m(this,i)+"px")})};c.fn["outer"+h]=function(i,o){if(typeof i!=="number"){return n["outer"+h].call(this,i)}return this.each(function(){c(this).css(l,m(this,i,true,o)+"px")})}})}if(!c.fn.addBack){c.fn.addBack=function(h){return this.add(h==null?this.prevObject:this.prevObject.filter(h))}}if(c("<a>").data("a-b","a").removeData("a-b").data("a-b")){c.fn.removeData=(function(h){return function(i){if(arguments.length){return h.call(this,c.camelCase(i))}else{return h.call(this)}}})(c.fn.removeData)}c.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());c.support.selectstart="onselectstart" in document.createElement("div");c.fn.extend({disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(h){h.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.extend(c.ui,{plugin:{add:function(j,k,m){var h,l=c.ui[j].prototype;for(h in m){l.plugins[h]=l.plugins[h]||[];l.plugins[h].push([k,m[h]])}},call:function(h,k,j){var l,m=h.plugins[k];if(!m||!h.element[0].parentNode||h.element[0].parentNode.nodeType===11){return}for(l=0;l<m.length;l++){if(h.options[m[l][0]]){m[l][1].apply(h.element,j)}}}},hasScroll:function(k,i){if(c(k).css("overflow")==="hidden"){return false}var h=(i&&i==="left")?"scrollLeft":"scrollTop",j=false;if(k[h]>0){return true}k[h]=1;j=(k[h]>0);k[h]=0;return j}})})(jQuery);
/*!
 * jQuery UI Widget 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
(function(c,f){var b=0,e=Array.prototype.slice,d=c.cleanData;c.cleanData=function(g){for(var h=0,j;(j=g[h])!=null;h++){try{c(j).triggerHandler("remove")}catch(k){}}d(g)};c.widget=function(g,h,o){var l,m,j,n,i={},k=g.split(".")[0];g=g.split(".")[1];l=k+"-"+g;if(!o){o=h;h=c.Widget}c.expr[":"][l.toLowerCase()]=function(q){return !!c.data(q,l)};c[k]=c[k]||{};m=c[k][g];j=c[k][g]=function(q,r){if(!this._createWidget){return new j(q,r)}if(arguments.length){this._createWidget(q,r)}};c.extend(j,m,{version:o.version,_proto:c.extend({},o),_childConstructors:[]});n=new h();n.options=c.widget.extend({},n.options);c.each(o,function(r,q){if(!c.isFunction(q)){i[r]=q;return}i[r]=(function(){var s=function(){return h.prototype[r].apply(this,arguments)},u=function(v){return h.prototype[r].apply(this,v)};return function(){var x=this._super,v=this._superApply,w;this._super=s;this._superApply=u;w=q.apply(this,arguments);this._super=x;this._superApply=v;return w}})()});j.prototype=c.widget.extend(n,{widgetEventPrefix:m?(n.widgetEventPrefix||g):g},i,{constructor:j,namespace:k,widgetName:g,widgetFullName:l});if(m){c.each(m._childConstructors,function(r,s){var q=s.prototype;c.widget(q.namespace+"."+q.widgetName,j,s._proto)});delete m._childConstructors}else{h._childConstructors.push(j)}c.widget.bridge(g,j)};c.widget.extend=function(l){var h=e.call(arguments,1),k=0,g=h.length,i,j;for(;k<g;k++){for(i in h[k]){j=h[k][i];if(h[k].hasOwnProperty(i)&&j!==f){if(c.isPlainObject(j)){l[i]=c.isPlainObject(l[i])?c.widget.extend({},l[i],j):c.widget.extend({},j)}else{l[i]=j}}}}return l};c.widget.bridge=function(h,g){var i=g.prototype.widgetFullName||h;c.fn[h]=function(l){var j=typeof l==="string",k=e.call(arguments,1),m=this;l=!j&&k.length?c.widget.extend.apply(null,[l].concat(k)):l;if(j){this.each(function(){var o,n=c.data(this,i);if(!n){return c.error("cannot call methods on "+h+" prior to initialization; attempted to call method '"+l+"'")}if(!c.isFunction(n[l])||l.charAt(0)==="_"){return c.error("no such method '"+l+"' for "+h+" widget instance")}o=n[l].apply(n,k);if(o!==n&&o!==f){m=o&&o.jquery?m.pushStack(o.get()):o;return false}})}else{this.each(function(){var n=c.data(this,i);if(n){n.option(l||{})._init()}else{c.data(this,i,new g(l,this))}})}return m}};c.Widget=function(){};c.Widget._childConstructors=[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(g,h){h=c(h||this.defaultElement||this)[0];this.element=c(h);this.uuid=b++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=c.widget.extend({},this.options,this._getCreateOptions(),g);this.bindings=c();this.hoverable=c();this.focusable=c();if(h!==this){c.data(h,this.widgetFullName,this);this._on(true,this.element,{remove:function(i){if(i.target===h){this.destroy()}}});this.document=c(h.style?h.ownerDocument:h.document||h);this.window=c(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(k,l){var g=k,m,j,h;if(arguments.length===0){return c.widget.extend({},this.options)}if(typeof k==="string"){g={};m=k.split(".");k=m.shift();if(m.length){j=g[k]=c.widget.extend({},this.options[k]);for(h=0;h<m.length-1;h++){j[m[h]]=j[m[h]]||{};j=j[m[h]]}k=m.pop();if(arguments.length===1){return j[k]===f?null:j[k]}j[k]=l}else{if(arguments.length===1){return this.options[k]===f?null:this.options[k]}g[k]=l}}this._setOptions(g);return this},_setOptions:function(g){var h;for(h in g){this._setOption(h,g[h])}return this},_setOption:function(g,h){this.options[g]=h;if(g==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!h).attr("aria-disabled",h);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(j,i,h){var k,g=this;if(typeof j!=="boolean"){h=i;i=j;j=false}if(!h){h=i;i=this.element;k=this.widget()}else{i=k=c(i);this.bindings=this.bindings.add(i)}c.each(h,function(r,q){function n(){if(!j&&(g.options.disabled===true||c(this).hasClass("ui-state-disabled"))){return}return(typeof q==="string"?g[q]:q).apply(g,arguments)}if(typeof q!=="string"){n.guid=q.guid=q.guid||n.guid||c.guid++}var o=r.match(/^(\w+)\s*(.*)$/),m=o[1]+g.eventNamespace,l=o[2];if(l){k.delegate(l,m,n)}else{i.bind(m,n)}})},_off:function(h,g){g=(g||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;h.unbind(g).undelegate(g)},_delay:function(j,i){function h(){return(typeof j==="string"?g[j]:j).apply(g,arguments)}var g=this;return setTimeout(h,i||0)},_hoverable:function(g){this.hoverable=this.hoverable.add(g);this._on(g,{mouseenter:function(h){c(h.currentTarget).addClass("ui-state-hover")},mouseleave:function(h){c(h.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(g){this.focusable=this.focusable.add(g);this._on(g,{focusin:function(h){c(h.currentTarget).addClass("ui-state-focus")},focusout:function(h){c(h.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(g,h,i){var l,k,j=this.options[g];i=i||{};h=c.Event(h);h.type=(g===this.widgetEventPrefix?g:this.widgetEventPrefix+g).toLowerCase();h.target=this.element[0];k=h.originalEvent;if(k){for(l in k){if(!(l in h)){h[l]=k[l]}}}this.element.trigger(h,i);return !(c.isFunction(j)&&j.apply(this.element[0],[h].concat(i))===false||h.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(h,g){c.Widget.prototype["_"+h]=function(k,j,m){if(typeof j==="string"){j={effect:j}}var l,i=!j?h:j===true||typeof j==="number"?g:j.effect||g;j=j||{};if(typeof j==="number"){j={duration:j}}l=!c.isEmptyObject(j);j.complete=m;if(j.delay){k.delay(j.delay)}if(l&&c.effects&&c.effects.effect[i]){k[h](j)}else{if(i!==h&&k[i]){k[i](j.duration,j.easing,m)}else{k.queue(function(n){c(this)[h]();if(m){m.call(k[0])}n()})}}}})})(jQuery);
/*!
 * jQuery UI Mouse 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(c,d){var b=false;c(document).mouseup(function(){b=false});c.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(f){return e._mouseDown(f)}).bind("click."+this.widgetName,function(f){if(true===c.data(f.target,e.widgetName+".preventClickEvent")){c.removeData(f.target,e.widgetName+".preventClickEvent");f.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(g){if(b){return}(this._mouseStarted&&this._mouseUp(g));this._mouseDownEvent=g;var f=this,h=(g.which===1),e=(typeof this.options.cancel==="string"&&g.target.nodeName?c(g.target).closest(this.options.cancel).length:false);if(!h||e||!this._mouseCapture(g)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)){this._mouseStarted=(this._mouseStart(g)!==false);if(!this._mouseStarted){g.preventDefault();return true}}if(true===c.data(g.target,this.widgetName+".preventClickEvent")){c.removeData(g.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(i){return f._mouseMove(i)};this._mouseUpDelegate=function(i){return f._mouseUp(i)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);g.preventDefault();b=true;return true},_mouseMove:function(e){if(c.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button){return this._mouseUp(e)}if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,e)!==false);(this._mouseStarted?this._mouseDrag(e):this._mouseUp(e))}return !this._mouseStarted},_mouseUp:function(e){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(e.target===this._mouseDownEvent.target){c.data(e.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(e)}return false},_mouseDistanceMet:function(e){return(Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
/*!
 * jQuery UI Position 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(f,d){f.ui=f.ui||{};var k,l=Math.max,q=Math.abs,n=Math.round,e=/left|center|right/,i=/top|center|bottom/,b=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,c=/%$/,h=f.fn.position;function o(u,s,r){return[parseFloat(u[0])*(c.test(u[0])?s/100:1),parseFloat(u[1])*(c.test(u[1])?r/100:1)]}function j(r,s){return parseInt(f.css(r,s),10)||0}function g(s){var r=s[0];if(r.nodeType===9){return{width:s.width(),height:s.height(),offset:{top:0,left:0}}}if(f.isWindow(r)){return{width:s.width(),height:s.height(),offset:{top:s.scrollTop(),left:s.scrollLeft()}}}if(r.preventDefault){return{width:0,height:0,offset:{top:r.pageY,left:r.pageX}}}return{width:s.outerWidth(),height:s.outerHeight(),offset:s.offset()}}f.position={scrollbarWidth:function(){if(k!==d){return k}var s,r,v=f("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),u=v.children()[0];f("body").append(v);s=u.offsetWidth;v.css("overflow","scroll");r=u.offsetWidth;if(s===r){r=v[0].clientWidth}v.remove();return(k=s-r)},getScrollInfo:function(w){var v=w.isWindow||w.isDocument?"":w.element.css("overflow-x"),u=w.isWindow||w.isDocument?"":w.element.css("overflow-y"),s=v==="scroll"||(v==="auto"&&w.width<w.element[0].scrollWidth),r=u==="scroll"||(u==="auto"&&w.height<w.element[0].scrollHeight);return{width:r?f.position.scrollbarWidth():0,height:s?f.position.scrollbarWidth():0}},getWithinInfo:function(s){var u=f(s||window),r=f.isWindow(u[0]),v=!!u[0]&&u[0].nodeType===9;return{element:u,isWindow:r,isDocument:v,offset:u.offset()||{left:0,top:0},scrollLeft:u.scrollLeft(),scrollTop:u.scrollTop(),width:r?u.width():u.outerWidth(),height:r?u.height():u.outerHeight()}}};f.fn.position=function(C){if(!C||!C.of){return h.apply(this,arguments)}C=f.extend({},C);var D,z,x,B,w,r,y=f(C.of),v=f.position.getWithinInfo(C.within),s=f.position.getScrollInfo(v),A=(C.collision||"flip").split(" "),u={};r=g(y);if(y[0].preventDefault){C.at="left top"}z=r.width;x=r.height;B=r.offset;w=f.extend({},B);f.each(["my","at"],function(){var G=(C[this]||"").split(" "),F,E;if(G.length===1){G=e.test(G[0])?G.concat(["center"]):i.test(G[0])?["center"].concat(G):["center","center"]}G[0]=e.test(G[0])?G[0]:"center";G[1]=i.test(G[1])?G[1]:"center";F=b.exec(G[0]);E=b.exec(G[1]);u[this]=[F?F[0]:0,E?E[0]:0];C[this]=[m.exec(G[0])[0],m.exec(G[1])[0]]});if(A.length===1){A[1]=A[0]}if(C.at[0]==="right"){w.left+=z}else{if(C.at[0]==="center"){w.left+=z/2}}if(C.at[1]==="bottom"){w.top+=x}else{if(C.at[1]==="center"){w.top+=x/2}}D=o(u.at,z,x);w.left+=D[0];w.top+=D[1];return this.each(function(){var F,O,H=f(this),J=H.outerWidth(),G=H.outerHeight(),I=j(this,"marginLeft"),E=j(this,"marginTop"),N=J+I+j(this,"marginRight")+s.width,M=G+E+j(this,"marginBottom")+s.height,K=f.extend({},w),L=o(u.my,H.outerWidth(),H.outerHeight());if(C.my[0]==="right"){K.left-=J}else{if(C.my[0]==="center"){K.left-=J/2}}if(C.my[1]==="bottom"){K.top-=G}else{if(C.my[1]==="center"){K.top-=G/2}}K.left+=L[0];K.top+=L[1];if(!f.support.offsetFractions){K.left=n(K.left);K.top=n(K.top)}F={marginLeft:I,marginTop:E};f.each(["left","top"],function(Q,P){if(f.ui.position[A[Q]]){f.ui.position[A[Q]][P](K,{targetWidth:z,targetHeight:x,elemWidth:J,elemHeight:G,collisionPosition:F,collisionWidth:N,collisionHeight:M,offset:[D[0]+L[0],D[1]+L[1]],my:C.my,at:C.at,within:v,elem:H})}});if(C.using){O=function(S){var U=B.left-K.left,R=U+z-J,T=B.top-K.top,Q=T+x-G,P={target:{element:y,left:B.left,top:B.top,width:z,height:x},element:{element:H,left:K.left,top:K.top,width:J,height:G},horizontal:R<0?"left":U>0?"right":"center",vertical:Q<0?"top":T>0?"bottom":"middle"};if(z<J&&q(U+R)<z){P.horizontal="center"}if(x<G&&q(T+Q)<x){P.vertical="middle"}if(l(q(U),q(R))>l(q(T),q(Q))){P.important="horizontal"}else{P.important="vertical"}C.using.call(this,S,P)}}H.offset(f.extend(K,{using:O}))})};f.ui.position={fit:{left:function(w,v){var u=v.within,y=u.isWindow?u.scrollLeft:u.offset.left,A=u.width,x=w.left-v.collisionPosition.marginLeft,z=y-x,s=x+v.collisionWidth-A-y,r;if(v.collisionWidth>A){if(z>0&&s<=0){r=w.left+z+v.collisionWidth-A-y;w.left+=z-r}else{if(s>0&&z<=0){w.left=y}else{if(z>s){w.left=y+A-v.collisionWidth}else{w.left=y}}}}else{if(z>0){w.left+=z}else{if(s>0){w.left-=s}else{w.left=l(w.left-x,w.left)}}}},top:function(v,u){var s=u.within,z=s.isWindow?s.scrollTop:s.offset.top,A=u.within.height,x=v.top-u.collisionPosition.marginTop,y=z-x,w=x+u.collisionHeight-A-z,r;if(u.collisionHeight>A){if(y>0&&w<=0){r=v.top+y+u.collisionHeight-A-z;v.top+=y-r}else{if(w>0&&y<=0){v.top=z}else{if(y>w){v.top=z+A-u.collisionHeight}else{v.top=z}}}}else{if(y>0){v.top+=y}else{if(w>0){v.top-=w}else{v.top=l(v.top-x,v.top)}}}}},flip:{left:function(y,x){var w=x.within,C=w.offset.left+w.scrollLeft,F=w.width,u=w.isWindow?w.scrollLeft:w.offset.left,z=y.left-x.collisionPosition.marginLeft,D=z-u,s=z+x.collisionWidth-F-u,B=x.my[0]==="left"?-x.elemWidth:x.my[0]==="right"?x.elemWidth:0,E=x.at[0]==="left"?x.targetWidth:x.at[0]==="right"?-x.targetWidth:0,v=-2*x.offset[0],r,A;if(D<0){r=y.left+B+E+v+x.collisionWidth-F-C;if(r<0||r<q(D)){y.left+=B+E+v}}else{if(s>0){A=y.left-x.collisionPosition.marginLeft+B+E+v-u;if(A>0||q(A)<s){y.left+=B+E+v}}}},top:function(x,w){var v=w.within,E=v.offset.top+v.scrollTop,F=v.height,r=v.isWindow?v.scrollTop:v.offset.top,z=x.top-w.collisionPosition.marginTop,B=z-r,y=z+w.collisionHeight-F-r,C=w.my[1]==="top",A=C?-w.elemHeight:w.my[1]==="bottom"?w.elemHeight:0,G=w.at[1]==="top"?w.targetHeight:w.at[1]==="bottom"?-w.targetHeight:0,u=-2*w.offset[1],D,s;if(B<0){s=x.top+A+G+u+w.collisionHeight-F-E;if((x.top+A+G+u)>B&&(s<0||s<q(B))){x.top+=A+G+u}}else{if(y>0){D=x.top-w.collisionPosition.marginTop+A+G+u-r;if((x.top+A+G+u)>y&&(D>0||q(D)<y)){x.top+=A+G+u}}}}},flipfit:{left:function(){f.ui.position.flip.left.apply(this,arguments);f.ui.position.fit.left.apply(this,arguments)},top:function(){f.ui.position.flip.top.apply(this,arguments);f.ui.position.fit.top.apply(this,arguments)}}};(function(){var w,y,s,v,u,r=document.getElementsByTagName("body")[0],x=document.createElement("div");w=document.createElement(r?"div":"body");s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(r){f.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"})}for(u in s){w.style[u]=s[u]}w.appendChild(x);y=r||document.documentElement;y.insertBefore(w,y.firstChild);x.style.cssText="position: absolute; left: 10.7432222px;";v=f(x).offset().left;f.support.offsetFractions=v>10&&v<11;w.innerHTML="";y.removeChild(w)})()}(jQuery));
/*!
 * jQuery UI Sortable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(c,e){function b(g,f,h){return(g>f)&&(g<(f+h))}function d(f){return(/left|right/).test(f.css("float"))||(/inline|table-cell/).test(f.css("display"))}c.widget("ui.sortable",c.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var f=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?f.axis==="x"||d(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var f=this.items.length-1;f>=0;f--){this.items[f].item.removeData(this.widgetName+"-item")}return this},_setOption:function(f,g){if(f==="disabled"){this.options[f]=g;this.widget().toggleClass("ui-sortable-disabled",!!g)}else{c.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(h,i){var f=null,j=false,g=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(h);c(h.target).parents().each(function(){if(c.data(this,g.widgetName+"-item")===g){f=c(this);return false}});if(c.data(h.target,g.widgetName+"-item")===g){f=c(h.target)}if(!f){return false}if(this.options.handle&&!i){c(this.options.handle,f).find("*").addBack().each(function(){if(this===h.target){j=true}});if(!j){return false}}this.currentItem=f;this._removeCurrentsFromItems();return true},_mouseStart:function(j,k,g){var h,f,l=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(j);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};c.extend(this.offset,{click:{left:j.pageX-this.offset.left,top:j.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(j);this.originalPageX=j.pageX;this.originalPageY=j.pageY;(l.cursorAt&&this._adjustOffsetFromHelper(l.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(l.containment){this._setContainment()}if(l.cursor&&l.cursor!=="auto"){f=this.document.find("body");this.storedCursor=f.css("cursor");f.css("cursor",l.cursor);this.storedStylesheet=c("<style>*{ cursor: "+l.cursor+" !important; }</style>").appendTo(f)}if(l.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",l.opacity)}if(l.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",l.zIndex)}if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",j,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!g){for(h=this.containers.length-1;h>=0;h--){this.containers[h]._trigger("activate",j,this._uiHash(this))}}if(c.ui.ddmanager){c.ui.ddmanager.current=this}if(c.ui.ddmanager&&!l.dropBehaviour){c.ui.ddmanager.prepareOffsets(this,j)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(j);return true},_mouseDrag:function(k){var h,j,g,m,l=this.options,f=false;this.position=this._generatePosition(k);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-k.pageY<l.scrollSensitivity){this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop+l.scrollSpeed}else{if(k.pageY-this.overflowOffset.top<l.scrollSensitivity){this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-l.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-k.pageX<l.scrollSensitivity){this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+l.scrollSpeed}else{if(k.pageX-this.overflowOffset.left<l.scrollSensitivity){this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft-l.scrollSpeed}}}else{if(k.pageY-c(document).scrollTop()<l.scrollSensitivity){f=c(document).scrollTop(c(document).scrollTop()-l.scrollSpeed)}else{if(c(window).height()-(k.pageY-c(document).scrollTop())<l.scrollSensitivity){f=c(document).scrollTop(c(document).scrollTop()+l.scrollSpeed)}}if(k.pageX-c(document).scrollLeft()<l.scrollSensitivity){f=c(document).scrollLeft(c(document).scrollLeft()-l.scrollSpeed)}else{if(c(window).width()-(k.pageX-c(document).scrollLeft())<l.scrollSensitivity){f=c(document).scrollLeft(c(document).scrollLeft()+l.scrollSpeed)}}}if(f!==false&&c.ui.ddmanager&&!l.dropBehaviour){c.ui.ddmanager.prepareOffsets(this,k)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(h=this.items.length-1;h>=0;h--){j=this.items[h];g=j.item[0];m=this._intersectsWithPointer(j);if(!m){continue}if(j.instance!==this.currentContainer){continue}if(g!==this.currentItem[0]&&this.placeholder[m===1?"next":"prev"]()[0]!==g&&!c.contains(this.placeholder[0],g)&&(this.options.type==="semi-dynamic"?!c.contains(this.element[0],g):true)){this.direction=m===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(j)){this._rearrange(k,j)}else{break}this._trigger("change",k,this._uiHash());break}}this._contactContainers(k);if(c.ui.ddmanager){c.ui.ddmanager.drag(this,k)}this._trigger("sort",k,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(h,j){if(!h){return}if(c.ui.ddmanager&&!this.options.dropBehaviour){c.ui.ddmanager.drop(this,h)}if(this.options.revert){var g=this,k=this.placeholder.offset(),f=this.options.axis,i={};if(!f||f==="x"){i.left=k.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)}if(!f||f==="y"){i.top=k.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)}this.reverting=true;c(this.helper).animate(i,parseInt(this.options.revert,10)||500,function(){g._clear(h)})}else{this._clear(h,j)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var f=this.containers.length-1;f>=0;f--){this.containers[f]._trigger("deactivate",null,this._uiHash(this));if(this.containers[f].containerCache.over){this.containers[f]._trigger("out",null,this._uiHash(this));this.containers[f].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}c.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){c(this.domPosition.prev).after(this.currentItem)}else{c(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(h){var f=this._getItemsAsjQuery(h&&h.connected),g=[];h=h||{};c(f).each(function(){var i=(c(h.item||this).attr(h.attribute||"id")||"").match(h.expression||(/(.+)[\-=_](.+)/));if(i){g.push((h.key||i[1]+"[]")+"="+(h.key&&h.expression?i[1]:i[2]))}});if(!g.length&&h.key){g.push(h.key+"=")}return g.join("&")},toArray:function(h){var f=this._getItemsAsjQuery(h&&h.connected),g=[];h=h||{};f.each(function(){g.push(c(h.item||this).attr(h.attribute||"id")||"")});return g},_intersectsWith:function(u){var h=this.positionAbs.left,g=h+this.helperProportions.width,q=this.positionAbs.top,o=q+this.helperProportions.height,i=u.left,f=i+u.width,v=u.top,n=v+u.height,w=this.offset.click.top,m=this.offset.click.left,k=(this.options.axis==="x")||((q+w)>v&&(q+w)<n),s=(this.options.axis==="y")||((h+m)>i&&(h+m)<f),j=k&&s;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>u[this.floating?"width":"height"])){return j}else{return(i<h+(this.helperProportions.width/2)&&g-(this.helperProportions.width/2)<f&&v<q+(this.helperProportions.height/2)&&o-(this.helperProportions.height/2)<n)}},_intersectsWithPointer:function(h){var i=(this.options.axis==="x")||b(this.positionAbs.top+this.offset.click.top,h.top,h.height),g=(this.options.axis==="y")||b(this.positionAbs.left+this.offset.click.left,h.left,h.width),k=i&&g,f=this._getDragVerticalDirection(),j=this._getDragHorizontalDirection();if(!k){return false}return this.floating?(((j&&j==="right")||f==="down")?2:1):(f&&(f==="down"?2:1))},_intersectsWithSides:function(i){var g=b(this.positionAbs.top+this.offset.click.top,i.top+(i.height/2),i.height),h=b(this.positionAbs.left+this.offset.click.left,i.left+(i.width/2),i.width),f=this._getDragVerticalDirection(),j=this._getDragHorizontalDirection();if(this.floating&&j){return((j==="right"&&h)||(j==="left"&&!h))}else{return f&&((f==="down"&&g)||(f==="up"&&!g))}},_getDragVerticalDirection:function(){var f=this.positionAbs.top-this.lastPositionAbs.top;return f!==0&&(f>0?"down":"up")},_getDragHorizontalDirection:function(){var f=this.positionAbs.left-this.lastPositionAbs.left;return f!==0&&(f>0?"right":"left")},refresh:function(f){this._refreshItems(f);this.refreshPositions();return this},_connectWith:function(){var f=this.options;return f.connectWith.constructor===String?[f.connectWith]:f.connectWith},_getItemsAsjQuery:function(f){var h,g,o,l,m=[],k=[],n=this._connectWith();if(n&&f){for(h=n.length-1;h>=0;h--){o=c(n[h]);for(g=o.length-1;g>=0;g--){l=c.data(o[g],this.widgetFullName);if(l&&l!==this&&!l.options.disabled){k.push([c.isFunction(l.options.items)?l.options.items.call(l.element):c(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}}}}k.push([c.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):c(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function q(){m.push(this)}for(h=k.length-1;h>=0;h--){k[h][0].each(q)}return c(m)},_removeCurrentsFromItems:function(){var f=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=c.grep(this.items,function(h){for(var g=0;g<f.length;g++){if(f[g]===h.item[0]){return false}}return true})},_refreshItems:function(f){this.items=[];this.containers=[this];var l,h,r,m,q,g,u,s,n=this.items,k=[[c.isFunction(this.options.items)?this.options.items.call(this.element[0],f,{item:this.currentItem}):c(this.options.items,this.element),this]],o=this._connectWith();if(o&&this.ready){for(l=o.length-1;l>=0;l--){r=c(o[l]);for(h=r.length-1;h>=0;h--){m=c.data(r[h],this.widgetFullName);if(m&&m!==this&&!m.options.disabled){k.push([c.isFunction(m.options.items)?m.options.items.call(m.element[0],f,{item:this.currentItem}):c(m.options.items,m.element),m]);this.containers.push(m)}}}}for(l=k.length-1;l>=0;l--){q=k[l][1];g=k[l][0];for(h=0,s=g.length;h<s;h++){u=c(g[h]);u.data(this.widgetName+"-item",q);n.push({item:u,instance:q,width:0,height:0,left:0,top:0})}}},refreshPositions:function(f){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var h,j,g,k;for(h=this.items.length-1;h>=0;h--){j=this.items[h];if(j.instance!==this.currentContainer&&this.currentContainer&&j.item[0]!==this.currentItem[0]){continue}g=this.options.toleranceElement?c(this.options.toleranceElement,j.item):j.item;if(!f){j.width=g.outerWidth();j.height=g.outerHeight()}k=g.offset();j.left=k.left;j.top=k.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(h=this.containers.length-1;h>=0;h--){k=this.containers[h].element.offset();this.containers[h].containerCache.left=k.left;this.containers[h].containerCache.top=k.top;this.containers[h].containerCache.width=this.containers[h].element.outerWidth();this.containers[h].containerCache.height=this.containers[h].element.outerHeight()}}return this},_createPlaceholder:function(g){g=g||this;var f,h=g.options;if(!h.placeholder||h.placeholder.constructor===String){f=h.placeholder;h.placeholder={element:function(){var j=g.currentItem[0].nodeName.toLowerCase(),i=c("<"+j+">",g.document[0]).addClass(f||g.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(j==="tr"){g.currentItem.children().each(function(){c("<td>&#160;</td>",g.document[0]).attr("colspan",c(this).attr("colspan")||1).appendTo(i)})}else{if(j==="img"){i.attr("src",g.currentItem.attr("src"))}}if(!f){i.css("visibility","hidden")}return i},update:function(i,j){if(f&&!h.forcePlaceholderSize){return}if(!j.height()){j.height(g.currentItem.innerHeight()-parseInt(g.currentItem.css("paddingTop")||0,10)-parseInt(g.currentItem.css("paddingBottom")||0,10))}if(!j.width()){j.width(g.currentItem.innerWidth()-parseInt(g.currentItem.css("paddingLeft")||0,10)-parseInt(g.currentItem.css("paddingRight")||0,10))}}}}g.placeholder=c(h.placeholder.element.call(g.element,g.currentItem));g.currentItem.after(g.placeholder);h.placeholder.update(g,g.placeholder)},_contactContainers:function(f){var m,k,r,n,o,u,g,v,l,q,h=null,s=null;for(m=this.containers.length-1;m>=0;m--){if(c.contains(this.currentItem[0],this.containers[m].element[0])){continue}if(this._intersectsWith(this.containers[m].containerCache)){if(h&&c.contains(this.containers[m].element[0],h.element[0])){continue}h=this.containers[m];s=m}else{if(this.containers[m].containerCache.over){this.containers[m]._trigger("out",f,this._uiHash(this));this.containers[m].containerCache.over=0}}}if(!h){return}if(this.containers.length===1){if(!this.containers[s].containerCache.over){this.containers[s]._trigger("over",f,this._uiHash(this));this.containers[s].containerCache.over=1}}else{r=10000;n=null;q=h.floating||d(this.currentItem);o=q?"left":"top";u=q?"width":"height";g=this.positionAbs[o]+this.offset.click[o];for(k=this.items.length-1;k>=0;k--){if(!c.contains(this.containers[s].element[0],this.items[k].item[0])){continue}if(this.items[k].item[0]===this.currentItem[0]){continue}if(q&&!b(this.positionAbs.top+this.offset.click.top,this.items[k].top,this.items[k].height)){continue}v=this.items[k].item.offset()[o];l=false;if(Math.abs(v-g)>Math.abs(v+this.items[k][u]-g)){l=true;v+=this.items[k][u]}if(Math.abs(v-g)<r){r=Math.abs(v-g);n=this.items[k];this.direction=l?"up":"down"}}if(!n&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[s]){return}n?this._rearrange(f,n,null,true):this._rearrange(f,null,this.containers[s].element,true);this._trigger("change",f,this._uiHash());this.containers[s]._trigger("change",f,this._uiHash(this));this.currentContainer=this.containers[s];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[s]._trigger("over",f,this._uiHash(this));this.containers[s].containerCache.over=1}},_createHelper:function(g){var h=this.options,f=c.isFunction(h.helper)?c(h.helper.apply(this.element[0],[g,this.currentItem])):(h.helper==="clone"?this.currentItem.clone():this.currentItem);if(!f.parents("body").length){c(h.appendTo!=="parent"?h.appendTo:this.currentItem[0].parentNode)[0].appendChild(f[0])}if(f[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!f[0].style.width||h.forceHelperSize){f.width(this.currentItem.width())}if(!f[0].style.height||h.forceHelperSize){f.height(this.currentItem.height())}return f},_adjustOffsetFromHelper:function(f){if(typeof f==="string"){f=f.split(" ")}if(c.isArray(f)){f={left:+f[0],top:+f[1]||0}}if("left" in f){this.offset.click.left=f.left+this.margins.left}if("right" in f){this.offset.click.left=this.helperProportions.width-f.right+this.margins.left}if("top" in f){this.offset.click.top=f.top+this.margins.top}if("bottom" in f){this.offset.click.top=this.helperProportions.height-f.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var f=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0])){f.left+=this.scrollParent.scrollLeft();f.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&c.ui.ie)){f={top:0,left:0}}return{top:f.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:f.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var f=this.currentItem.position();return{top:f.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:f.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var g,i,f,h=this.options;if(h.containment==="parent"){h.containment=this.helper[0].parentNode}if(h.containment==="document"||h.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,c(h.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(c(h.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(h.containment)){g=c(h.containment)[0];i=c(h.containment).offset();f=(c(g).css("overflow")!=="hidden");this.containment=[i.left+(parseInt(c(g).css("borderLeftWidth"),10)||0)+(parseInt(c(g).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(c(g).css("borderTopWidth"),10)||0)+(parseInt(c(g).css("paddingTop"),10)||0)-this.margins.top,i.left+(f?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(c(g).css("borderLeftWidth"),10)||0)-(parseInt(c(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(f?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(c(g).css("borderTopWidth"),10)||0)-(parseInt(c(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(h,j){if(!j){j=this.position}var g=h==="absolute"?1:-1,f=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,i=(/(html|body)/i).test(f[0].tagName);return{top:(j.top+this.offset.relative.top*g+this.offset.parent.top*g-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(i?0:f.scrollTop()))*g)),left:(j.left+this.offset.relative.left*g+this.offset.parent.left*g-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():i?0:f.scrollLeft())*g))}},_generatePosition:function(i){var k,j,l=this.options,h=i.pageX,g=i.pageY,f=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,m=(/(html|body)/i).test(f[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(i.pageX-this.offset.click.left<this.containment[0]){h=this.containment[0]+this.offset.click.left}if(i.pageY-this.offset.click.top<this.containment[1]){g=this.containment[1]+this.offset.click.top}if(i.pageX-this.offset.click.left>this.containment[2]){h=this.containment[2]+this.offset.click.left}if(i.pageY-this.offset.click.top>this.containment[3]){g=this.containment[3]+this.offset.click.top}}if(l.grid){k=this.originalPageY+Math.round((g-this.originalPageY)/l.grid[1])*l.grid[1];g=this.containment?((k-this.offset.click.top>=this.containment[1]&&k-this.offset.click.top<=this.containment[3])?k:((k-this.offset.click.top>=this.containment[1])?k-l.grid[1]:k+l.grid[1])):k;j=this.originalPageX+Math.round((h-this.originalPageX)/l.grid[0])*l.grid[0];h=this.containment?((j-this.offset.click.left>=this.containment[0]&&j-this.offset.click.left<=this.containment[2])?j:((j-this.offset.click.left>=this.containment[0])?j-l.grid[0]:j+l.grid[0])):j}}return{top:(g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(m?0:f.scrollTop())))),left:(h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():m?0:f.scrollLeft())))}},_rearrange:function(k,j,g,h){g?g[0].appendChild(this.placeholder[0]):j.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?j.item[0]:j.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var f=this.counter;this._delay(function(){if(f===this.counter){this.refreshPositions(!h)}})},_clear:function(g,j){this.reverting=false;var f,k=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(f in this._storedCSS){if(this._storedCSS[f]==="auto"||this._storedCSS[f]==="static"){this._storedCSS[f]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!j){k.push(function(i){this._trigger("receive",i,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!j){k.push(function(i){this._trigger("update",i,this._uiHash())})}if(this!==this.currentContainer){if(!j){k.push(function(i){this._trigger("remove",i,this._uiHash())});k.push((function(i){return function(l){i._trigger("receive",l,this._uiHash(this))}}).call(this,this.currentContainer));k.push((function(i){return function(l){i._trigger("update",l,this._uiHash(this))}}).call(this,this.currentContainer))}}function h(m,i,l){return function(n){l._trigger(m,n,i._uiHash(i))}}for(f=this.containers.length-1;f>=0;f--){if(!j){k.push(h("deactivate",this,this.containers[f]))}if(this.containers[f].containerCache.over){k.push(h("out",this,this.containers[f]));this.containers[f].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!j){this._trigger("beforeStop",g,this._uiHash());for(f=0;f<k.length;f++){k[f].call(this,g)}this._trigger("stop",g,this._uiHash())}this.fromOutside=false;return false}if(!j){this._trigger("beforeStop",g,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null;if(!j){for(f=0;f<k.length;f++){k[f].call(this,g)}this._trigger("stop",g,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(c.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(f){var g=f||this;return{helper:g.helper,placeholder:g.placeholder||c([]),position:g.position,originalPosition:g.originalPosition,offset:g.positionAbs,item:g.currentItem,sender:f?f.element:null}}})})(jQuery);
/*!
 * jQuery UI Slider 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(c,d){var b=5;c.widget("ui.slider",c.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var h,e,f=this.options,k=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),j="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=[];e=(f.values&&f.values.length)||1;if(k.length>e){k.slice(e).remove();k=k.slice(0,e)}for(h=k.length;h<e;h++){g.push(j)}this.handles=k.add(c(g.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(l){c(this).data("ui-slider-handle-index",l)})},_createRange:function(){var e=this.options,f="";if(e.range){if(e.range===true){if(!e.values){e.values=[this._valueMin(),this._valueMin()]}else{if(e.values.length&&e.values.length!==2){e.values=[e.values[0],e.values[0]]}else{if(c.isArray(e.values)){e.values=e.values.slice(0)}}}}if(!this.range||!this.range.length){this.range=c("<div></div>").appendTo(this.element);f="ui-slider-range ui-widget-header ui-corner-all"}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""})}this.range.addClass(f+((e.range==="min"||e.range==="max")?" ui-slider-range-"+e.range:""))}else{if(this.range){this.range.remove()}this.range=null}},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e);this._on(e,this._handleEvents);this._hoverable(e);this._focusable(e)},_destroy:function(){this.handles.remove();if(this.range){this.range.remove()}this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(g){var k,n,f,i,m,q,j,e,l=this,h=this.options;if(h.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();k={x:g.pageX,y:g.pageY};n=this._normValueFromMouse(k);f=this._valueMax()-this._valueMin()+1;this.handles.each(function(o){var r=Math.abs(n-l.values(o));if((f>r)||(f===r&&(o===l._lastChangedValue||l.values(o)===h.min))){f=r;i=c(this);m=o}});q=this._start(g,m);if(q===false){return false}this._mouseSliding=true;this._handleIndex=m;i.addClass("ui-state-active").focus();j=i.offset();e=!c(g.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=e?{left:0,top:0}:{left:g.pageX-j.left-(i.width()/2),top:g.pageY-j.top-(i.height()/2)-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(g,m,n)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(g){var e={x:g.pageX,y:g.pageY},f=this._normValueFromMouse(e);this._slide(g,this._handleIndex,f);return false},_mouseStop:function(e){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(e,this._handleIndex);this._change(e,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(f){var e,i,h,g,j;if(this.orientation==="horizontal"){e=this.elementSize.width;i=f.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{e=this.elementSize.height;i=f.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}h=(i/e);if(h>1){h=1}if(h<0){h=0}if(this.orientation==="vertical"){h=1-h}g=this._valueMax()-this._valueMin();j=this._valueMin()+h*g;return this._trimAlignValue(j)},_start:function(g,f){var e={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){e.value=this.values(f);e.values=this.values()}return this._trigger("start",g,e)},_slide:function(i,h,g){var e,f,j;if(this.options.values&&this.options.values.length){e=this.values(h?0:1);if((this.options.values.length===2&&this.options.range===true)&&((h===0&&g>e)||(h===1&&g<e))){g=e}if(g!==this.values(h)){f=this.values();f[h]=g;j=this._trigger("slide",i,{handle:this.handles[h],value:g,values:f});e=this.values(h?0:1);if(j!==false){this.values(h,g)}}}else{if(g!==this.value()){j=this._trigger("slide",i,{handle:this.handles[h],value:g});if(j!==false){this.value(g)}}}},_stop:function(g,f){var e={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){e.value=this.values(f);e.values=this.values()}this._trigger("stop",g,e)},_change:function(g,f){if(!this._keySliding&&!this._mouseSliding){var e={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){e.value=this.values(f);e.values=this.values()}this._lastChangedValue=f;this._trigger("change",g,e)}},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e);this._refreshValue();this._change(null,0);return}return this._value()},values:function(f,j){var h,e,g;if(arguments.length>1){this.options.values[f]=this._trimAlignValue(j);this._refreshValue();this._change(null,f);return}if(arguments.length){if(c.isArray(arguments[0])){h=this.options.values;e=arguments[0];for(g=0;g<h.length;g+=1){h[g]=this._trimAlignValue(e[g]);this._change(null,g)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(f)}else{return this.value()}}}else{return this._values()}},_setOption:function(f,g){var e,h=0;if(f==="range"&&this.options.range===true){if(g==="min"){this.options.value=this._values(0);this.options.values=null}else{if(g==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}}if(c.isArray(this.options.values)){h=this.options.values.length}c.Widget.prototype._setOption.apply(this,arguments);switch(f){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(e=0;e<h;e+=1){this._change(null,e)}this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_value:function(){var e=this.options.value;e=this._trimAlignValue(e);return e},_values:function(e){var h,g,f;if(arguments.length){h=this.options.values[e];h=this._trimAlignValue(h);return h}else{if(this.options.values&&this.options.values.length){g=this.options.values.slice();for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(g[f])}return g}else{return[]}}},_trimAlignValue:function(h){if(h<=this._valueMin()){return this._valueMin()}if(h>=this._valueMax()){return this._valueMax()}var e=(this.options.step>0)?this.options.step:1,g=(h-this._valueMin())%e,f=h-g;if(Math.abs(g)*2>=e){f+=(g>0)?e:(-e)}return parseFloat(f.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var j,i,m,k,n,h=this.options.range,g=this.options,l=this,f=(!this._animateOff)?g.animate:false,e={};if(this.options.values&&this.options.values.length){this.handles.each(function(o){i=(l.values(o)-l._valueMin())/(l._valueMax()-l._valueMin())*100;e[l.orientation==="horizontal"?"left":"bottom"]=i+"%";c(this).stop(1,1)[f?"animate":"css"](e,g.animate);if(l.options.range===true){if(l.orientation==="horizontal"){if(o===0){l.range.stop(1,1)[f?"animate":"css"]({left:i+"%"},g.animate)}if(o===1){l.range[f?"animate":"css"]({width:(i-j)+"%"},{queue:false,duration:g.animate})}}else{if(o===0){l.range.stop(1,1)[f?"animate":"css"]({bottom:(i)+"%"},g.animate)}if(o===1){l.range[f?"animate":"css"]({height:(i-j)+"%"},{queue:false,duration:g.animate})}}}j=i})}else{m=this.value();k=this._valueMin();n=this._valueMax();i=(n!==k)?(m-k)/(n-k)*100:0;e[this.orientation==="horizontal"?"left":"bottom"]=i+"%";this.handle.stop(1,1)[f?"animate":"css"](e,g.animate);if(h==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[f?"animate":"css"]({width:i+"%"},g.animate)}if(h==="max"&&this.orientation==="horizontal"){this.range[f?"animate":"css"]({width:(100-i)+"%"},{queue:false,duration:g.animate})}if(h==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[f?"animate":"css"]({height:i+"%"},g.animate)}if(h==="max"&&this.orientation==="vertical"){this.range[f?"animate":"css"]({height:(100-i)+"%"},{queue:false,duration:g.animate})}}},_handleEvents:{keydown:function(i){var j,g,f,h,e=c(i.target).data("ui-slider-handle-index");switch(i.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:i.preventDefault();if(!this._keySliding){this._keySliding=true;c(i.target).addClass("ui-state-active");j=this._start(i,e);if(j===false){return}}break}h=this.options.step;if(this.options.values&&this.options.values.length){g=f=this.values(e)}else{g=f=this.value()}switch(i.keyCode){case c.ui.keyCode.HOME:f=this._valueMin();break;case c.ui.keyCode.END:f=this._valueMax();break;case c.ui.keyCode.PAGE_UP:f=this._trimAlignValue(g+((this._valueMax()-this._valueMin())/b));break;case c.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(g-((this._valueMax()-this._valueMin())/b));break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(g===this._valueMax()){return}f=this._trimAlignValue(g+h);break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(g===this._valueMin()){return}f=this._trimAlignValue(g-h);break}this._slide(i,e,f)},click:function(e){e.preventDefault()},keyup:function(f){var e=c(f.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(f,e);this._change(f,e);c(f.target).removeClass("ui-state-active")}}}})}(jQuery));
/*!
 * jQuery UI Accordion 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/accordion/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function(e,f){var c=0,d={},b={};d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="hide";b.height=b.paddingTop=b.paddingBottom=b.borderTopWidth=b.borderBottomWidth="show";e.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var g=this.options;this.prevShow=this.prevHide=e();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!g.collapsible&&(g.active===false||g.active==null)){g.active=0}this._processPanels();if(g.active<0){g.active+=this.headers.length}this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?e():this.active.next(),content:!this.active.length?e():this.active.next()}},_createIcons:function(){var g=this.options.icons;if(g){e("<span>").addClass("ui-accordion-header-icon ui-icon "+g.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(g.header).addClass(g.activeHeader);this.headers.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var g;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});this._destroyIcons();g=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});if(this.options.heightStyle!=="content"){g.css("height","")}},_setOption:function(g,h){if(g==="active"){this._activate(h);return}if(g==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(h)}this._super(g,h);if(g==="collapsible"&&!h&&this.options.active===false){this._activate(0)}if(g==="icons"){this._destroyIcons();if(h){this._createIcons()}}if(g==="disabled"){this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!h)}},_keydown:function(j){if(j.altKey||j.ctrlKey){return}var k=e.ui.keyCode,i=this.headers.length,g=this.headers.index(j.target),h=false;switch(j.keyCode){case k.RIGHT:case k.DOWN:h=this.headers[(g+1)%i];break;case k.LEFT:case k.UP:h=this.headers[(g-1+i)%i];break;case k.SPACE:case k.ENTER:this._eventHandler(j);break;case k.HOME:h=this.headers[0];break;case k.END:h=this.headers[i-1];break}if(h){e(j.target).attr("tabIndex",-1);e(h).attr("tabIndex",0);h.focus();j.preventDefault()}},_panelKeyDown:function(g){if(g.keyCode===e.ui.keyCode.UP&&g.ctrlKey){e(g.currentTarget).prev().focus()}},refresh:function(){var g=this.options;this._processPanels();if((g.active===false&&g.collapsible===true)||!this.headers.length){g.active=false;this.active=e()}else{if(g.active===false){this._activate(0)}else{if(this.active.length&&!e.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){g.active=false;this.active=e()}else{this._activate(Math.max(0,g.active-1))}}else{g.active=this.headers.index(this.active)}}}this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var k,i=this.options,h=i.heightStyle,j=this.element.parent(),g=this.accordionId="ui-accordion-"+(this.element.attr("id")||++c);this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(o){var q=e(this),n=q.attr("id"),l=q.next(),m=l.attr("id");if(!n){n=g+"-header-"+o;q.attr("id",n)}if(!m){m=g+"-panel-"+o;l.attr("id",m)}q.attr("aria-controls",m);l.attr("aria-labelledby",n)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"})}this._createIcons();this._setupEvents(i.event);if(h==="fill"){k=j.height();this.element.siblings(":visible").each(function(){var m=e(this),l=m.css("position");if(l==="absolute"||l==="fixed"){return}k-=m.outerHeight(true)});this.headers.each(function(){k-=e(this).outerHeight(true)});this.headers.next().each(function(){e(this).height(Math.max(0,k-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else{if(h==="auto"){k=0;this.headers.next().each(function(){k=Math.max(k,e(this).css("height","").height())}).height(k)}}},_activate:function(g){var h=this._findActive(g)[0];if(h===this.active[0]){return}h=h||this.active[0];this._eventHandler({target:h,currentTarget:h,preventDefault:e.noop})},_findActive:function(g){return typeof g==="number"?this.headers.eq(g):e()},_setupEvents:function(h){var g={keydown:"_keydown"};if(h){e.each(h.split(" "),function(j,i){g[i]="_eventHandler"})}this._off(this.headers.add(this.headers.next()));this._on(this.headers,g);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(g){var o=this.options,j=this.active,k=e(g.currentTarget),m=k[0]===j[0],h=m&&o.collapsible,i=h?e():k.next(),l=j.next(),n={oldHeader:j,oldPanel:l,newHeader:h?e():k,newPanel:i};g.preventDefault();if((m&&!o.collapsible)||(this._trigger("beforeActivate",g,n)===false)){return}o.active=h?false:this.headers.index(k);this.active=m?e():k;this._toggle(n);j.removeClass("ui-accordion-header-active ui-state-active");if(o.icons){j.children(".ui-accordion-header-icon").removeClass(o.icons.activeHeader).addClass(o.icons.header)}if(!m){k.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(o.icons){k.children(".ui-accordion-header-icon").removeClass(o.icons.header).addClass(o.icons.activeHeader)}k.next().addClass("ui-accordion-content-active")}},_toggle:function(i){var g=i.newPanel,h=this.prevShow.length?this.prevShow:i.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=g;this.prevHide=h;if(this.options.animate){this._animate(g,h,i)}else{h.hide();g.show();this._toggleComplete(i)}h.attr({"aria-hidden":"true"});h.prev().attr("aria-selected","false");if(g.length&&h.length){h.prev().attr({tabIndex:-1,"aria-expanded":"false"})}else{if(g.length){this.headers.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}g.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(g,o,k){var n,m,j,l=this,q=0,r=g.length&&(!o.length||(g.index()<o.index())),i=this.options.animate||{},s=r&&i.down||i,h=function(){l._toggleComplete(k)};if(typeof s==="number"){j=s}if(typeof s==="string"){m=s}m=m||s.easing||i.easing;j=j||s.duration||i.duration;if(!o.length){return g.animate(b,j,m,h)}if(!g.length){return o.animate(d,j,m,h)}n=g.show().outerHeight();o.animate(d,{duration:j,easing:m,step:function(u,v){v.now=Math.round(u)}});g.hide().animate(b,{duration:j,easing:m,complete:h,step:function(u,v){v.now=Math.round(u);if(v.prop!=="height"){q+=v.now}else{if(l.options.heightStyle!=="content"){v.now=Math.round(n-o.outerHeight()-q);q=0}}}})},_toggleComplete:function(h){var g=h.oldPanel;g.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(g.length){g.parent()[0].className=g.parent()[0].className}this._trigger("activate",null,h)}})})(jQuery);
/*!
 * jQuery UI Menu 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
(function(b,c){b.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,b.proxy(function(d){if(this.options.disabled){d.preventDefault()}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .ui-menu-item > a":function(d){d.preventDefault()},"click .ui-state-disabled > a":function(d){d.preventDefault()},"click .ui-menu-item:has(a)":function(d){var e=b(d.target).closest(".ui-menu-item");if(!this.mouseHandled&&e.not(".ui-state-disabled").length){this.select(d);if(!d.isPropagationStopped()){this.mouseHandled=true}if(e.has(".ui-menu").length){this.expand(d)}else{if(!this.element.is(":focus")&&b(this.document[0].activeElement).closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}}},"mouseenter .ui-menu-item":function(d){var e=b(d.currentTarget);e.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(d,e)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(f,d){var e=this.active||this.element.children(".ui-menu-item").eq(0);if(!d){this.focus(f,e)}},blur:function(d){this._delay(function(){if(!b.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(d)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(d){if(!b(d.target).closest(".ui-menu").length){this.collapseAll(d)}this.mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var d=b(this);if(d.data("ui-menu-submenu-carat")){d.remove()}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(j){var e,i,k,h,g,d=true;function f(l){return l.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(j.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(j);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(j);break;case b.ui.keyCode.HOME:this._move("first","first",j);break;case b.ui.keyCode.END:this._move("last","last",j);break;case b.ui.keyCode.UP:this.previous(j);break;case b.ui.keyCode.DOWN:this.next(j);break;case b.ui.keyCode.LEFT:this.collapse(j);break;case b.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(j)}break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(j);break;case b.ui.keyCode.ESCAPE:this.collapse(j);break;default:d=false;i=this.previousFilter||"";k=String.fromCharCode(j.keyCode);h=false;clearTimeout(this.filterTimer);if(k===i){h=true}else{k=i+k}g=new RegExp("^"+f(k),"i");e=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(b(this).children("a").text())});e=h&&e.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):e;if(!e.length){k=String.fromCharCode(j.keyCode);g=new RegExp("^"+f(k),"i");e=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(b(this).children("a").text())})}if(e.length){this.focus(j,e);if(e.length>1){this.previousFilter=k;this.filterTimer=this._delay(function(){delete this.previousFilter},1000)}else{delete this.previousFilter}}else{delete this.previousFilter}}if(d){j.preventDefault()}},_activate:function(d){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(d)}else{this.select(d)}}},refresh:function(){var f,e=this.options.icons.submenu,d=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var i=b(this),h=i.prev("a"),g=b("<span>").addClass("ui-menu-icon ui-icon "+e).data("ui-menu-submenu-carat",true);h.attr("aria-haspopup","true").prepend(g);i.attr("aria-labelledby",h.attr("id"))});f=d.add(this.element);f.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});f.children(":not(.ui-menu-item)").each(function(){var g=b(this);if(!/[^\-\u2014\u2013\s]/.test(g.text())){g.addClass("ui-widget-content ui-menu-divider")}});f.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!b.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(d,e){if(d==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu)}this._super(d,e)},focus:function(e,d){var g,f;this.blur(e,e&&e.type==="focus");this._scrollIntoView(d);this.active=d.first();f=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",f.attr("id"))}this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(e&&e.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}g=d.children(".ui-menu");if(g.length&&e&&(/^mouse/.test(e.type))){this._startOpening(g)}this.activeMenu=d.parent();this._trigger("focus",e,{item:d})},_scrollIntoView:function(g){var j,f,h,d,e,i;if(this._hasScroll()){j=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0;f=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||0;h=g.offset().top-this.activeMenu.offset().top-j-f;d=this.activeMenu.scrollTop();e=this.activeMenu.height();i=g.height();if(h<0){this.activeMenu.scrollTop(d+h)}else{if(h+i>e){this.activeMenu.scrollTop(d+h-e+i)}}}},blur:function(e,d){if(!d){clearTimeout(this.timer)}if(!this.active){return}this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",e,{item:this.active})},_startOpening:function(d){clearTimeout(this.timer);if(d.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(d)},this.delay)},_open:function(e){var d=b.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true");e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(e,d){clearTimeout(this.timer);this.timer=this._delay(function(){var f=d?this.element:b(e&&e.target).closest(this.element.find(".ui-menu"));if(!f.length){f=this.element}this._close(f);this.blur(e);this.activeMenu=f},this.delay)},_close:function(d){if(!d){d=this.active?this.active.parent():this.element}d.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var d=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(d&&d.length){this._close();this.focus(e,d)}},expand:function(e){var d=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(d&&d.length){this._open(d.parent());this._delay(function(){this.focus(e,d)})}},next:function(d){this._move("next","first",d)},previous:function(d){this._move("prev","last",d)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(g,e,f){var d;if(this.active){if(g==="first"||g==="last"){d=this.active[g==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{d=this.active[g+"All"](".ui-menu-item").eq(0)}}if(!d||!d.length||!this.active){d=this.activeMenu.children(".ui-menu-item")[e]()}this.focus(f,d)},nextPage:function(f){var e,g,d;if(!this.active){this.next(f);return}if(this.isLastItem()){return}if(this._hasScroll()){g=this.active.offset().top;d=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){e=b(this);return e.offset().top-g-d<0});this.focus(f,e)}else{this.focus(f,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())}},previousPage:function(f){var e,g,d;if(!this.active){this.next(f);return}if(this.isFirstItem()){return}if(this._hasScroll()){g=this.active.offset().top;d=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){e=b(this);return e.offset().top-g+d>0});this.focus(f,e)}else{this.focus(f,this.activeMenu.children(".ui-menu-item").first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(d){this.active=this.active||b(d.target).closest(".ui-menu-item");var e={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(d,true)}this._trigger("select",d,e)}})}(jQuery));
/*!
 * jQuery UI Autocomplete 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 *	jquery.ui.menu.js
 */
(function(b,c){b.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var f,d,g,i=this.element[0].nodeName.toLowerCase(),h=i==="textarea",e=i==="input";this.isMultiLine=h?true:e?false:this.element.prop("isContentEditable");this.valueMethod=this.element[h||e?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(j){if(this.element.prop("readOnly")){f=true;g=true;d=true;return}f=false;g=false;d=false;var k=b.ui.keyCode;switch(j.keyCode){case k.PAGE_UP:f=true;this._move("previousPage",j);break;case k.PAGE_DOWN:f=true;this._move("nextPage",j);break;case k.UP:f=true;this._keyEvent("previous",j);break;case k.DOWN:f=true;this._keyEvent("next",j);break;case k.ENTER:case k.NUMPAD_ENTER:if(this.menu.active){f=true;j.preventDefault();this.menu.select(j)}break;case k.TAB:if(this.menu.active){this.menu.select(j)}break;case k.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(j);j.preventDefault()}break;default:d=true;this._searchTimeout(j);break}},keypress:function(j){if(f){f=false;if(!this.isMultiLine||this.menu.element.is(":visible")){j.preventDefault()}return}if(d){return}var k=b.ui.keyCode;switch(j.keyCode){case k.PAGE_UP:this._move("previousPage",j);break;case k.PAGE_DOWN:this._move("nextPage",j);break;case k.UP:this._keyEvent("previous",j);break;case k.DOWN:this._keyEvent("next",j);break}},input:function(j){if(g){g=false;j.preventDefault();return}this._searchTimeout(j)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(j){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(j);this._change(j)}});this._initSource();this.menu=b("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(j){j.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur});var k=this.menu.element[0];if(!b(j.target).closest(".ui-menu-item").length){this._delay(function(){var l=this;this.document.one("mousedown",function(m){if(m.target!==l.element[0]&&m.target!==k&&!b.contains(k,m.target)){l.close()}})})}},menufocus:function(k,l){if(this.isNewMenu){this.isNewMenu=false;if(k.originalEvent&&/^mouse/.test(k.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){b(k.target).trigger(k.originalEvent)});return}}var j=l.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",k,{item:j})){if(k.originalEvent&&/^key/.test(k.originalEvent.type)){this._value(j.value)}}else{this.liveRegion.text(j.value)}},menuselect:function(l,m){var k=m.item.data("ui-autocomplete-item"),j=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=j;this._delay(function(){this.previous=j;this.selectedItem=k})}if(false!==this._trigger("select",l,{item:k})){this._value(k.value)}this.term=this._value();this.close(l);this.selectedItem=k}});this.liveRegion=b("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(d,e){this._super(d,e);if(d==="source"){this._initSource()}if(d==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(d==="disabled"&&e&&this.xhr){this.xhr.abort()}},_appendTo:function(){var d=this.options.appendTo;if(d){d=d.jquery||d.nodeType?b(d):this.document.find(d).eq(0)}if(!d){d=this.element.closest(".ui-front")}if(!d.length){d=this.document[0].body}return d},_initSource:function(){var f,d,e=this;if(b.isArray(this.options.source)){f=this.options.source;this.source=function(h,g){g(b.ui.autocomplete.filter(f,h.term))}}else{if(typeof this.options.source==="string"){d=this.options.source;this.source=function(h,g){if(e.xhr){e.xhr.abort()}e.xhr=b.ajax({url:d,data:h,dataType:"json",success:function(i){g(i)},error:function(){g([])}})}}else{this.source=this.options.source}}},_searchTimeout:function(d){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,d)}},this.options.delay)},search:function(e,d){e=e!=null?e:this._value();this.term=this._value();if(e.length<this.options.minLength){return this.close(d)}if(this._trigger("search",d)===false){return}return this._search(e)},_search:function(d){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:d},this._response())},_response:function(){var d=++this.requestIndex;return b.proxy(function(e){if(d===this.requestIndex){this.__response(e)}this.pending--;if(!this.pending){this.element.removeClass("ui-autocomplete-loading")}},this)},__response:function(d){if(d){d=this._normalize(d)}this._trigger("response",null,{content:d});if(!this.options.disabled&&d&&d.length&&!this.cancelSearch){this._suggest(d);this._trigger("open")}else{this._close()}},close:function(d){this.cancelSearch=true;this._close(d)},_close:function(d){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",d)}},_change:function(d){if(this.previous!==this._value()){this._trigger("change",d,{item:this.selectedItem})}},_normalize:function(d){if(d.length&&d[0].label&&d[0].value){return d}return b.map(d,function(e){if(typeof e==="string"){return{label:e,value:e}}return b.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(d){var e=this.menu.element.empty();this._renderMenu(e,d);this.isNewMenu=true;this.menu.refresh();e.show();this._resizeMenu();e.position(b.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}},_resizeMenu:function(){var d=this.menu.element;d.outerWidth(Math.max(d.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,d){var f=this;b.each(d,function(g,h){f._renderItemData(e,h)})},_renderItemData:function(d,e){return this._renderItem(d,e).data("ui-autocomplete-item",e)},_renderItem:function(d,e){return b("<li>").append(b("<a>").text(e.label)).appendTo(d)},_move:function(e,d){if(!this.menu.element.is(":visible")){this.search(null,d);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this._value(this.term);this.menu.blur();return}this.menu[e](d)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,d){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(e,d);d.preventDefault()}}});b.extend(b.ui.autocomplete,{escapeRegex:function(d){return d.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(f,d){var e=new RegExp(b.ui.autocomplete.escapeRegex(d),"i");return b.grep(f,function(g){return e.test(g.label||g.value||g)})}});b.widget("ui.autocomplete",b.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(d){return d+(d>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var d;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(e&&e.length){d=this.options.messages.results(e.length)}else{d=this.options.messages.noResults}this.liveRegion.text(d)}})}(jQuery));
/*!
 * jQuery UI Spinner 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 *
 * Depends:
 *  jquery.ui.core.js
 *  jquery.ui.widget.js
 *  jquery.ui.button.js
 */
(function(c){function b(d){return function(){var e=this.element.val();d.apply(this,arguments);this._refresh();if(e!==this.element.val()){this._trigger("change")}}}c.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);if(this.value()!==""){this._value(this.element.val(),true)}this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var d={},e=this.element;c.each(["min","max","step"],function(f,g){var h=e.attr(g);if(h!==undefined&&h.length){d[g]=h}});return d},_events:{keydown:function(d){if(this._start(d)&&this._keydown(d)){d.preventDefault()}},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(d){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",d)}},mousewheel:function(d,e){if(!e){return}if(!this.spinning&&!this._start(d)){return false}this._spin((e>0?1:-1)*this.options.step,d);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(d)}},100);d.preventDefault()},"mousedown .ui-spinner-button":function(e){var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();function f(){var g=this.element[0]===this.document[0].activeElement;if(!g){this.element.focus();this.previous=d;this._delay(function(){this.previous=d})}}e.preventDefault();f.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;f.call(this)});if(this._start(e)===false){return}this._repeat(null,c(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(d){if(!c(d.currentTarget).hasClass("ui-state-active")){return}if(this._start(d)===false){return false}this._repeat(null,c(d.currentTarget).hasClass("ui-spinner-up")?1:-1,d)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var d=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=d.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(d.height()*0.5)&&d.height()>0){d.height(d.height())}if(this.options.disabled){this.disable()}},_keydown:function(e){var d=this.options,f=c.ui.keyCode;switch(e.keyCode){case f.UP:this._repeat(null,1,e);return true;case f.DOWN:this._repeat(null,-1,e);return true;case f.PAGE_UP:this._repeat(null,d.page,e);return true;case f.PAGE_DOWN:this._repeat(null,-d.page,e);return true}return false},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(d){if(!this.spinning&&this._trigger("start",d)===false){return false}if(!this.counter){this.counter=1}this.spinning=true;return true},_repeat:function(e,d,f){e=e||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,d,f)},e);this._spin(d*this.options.step,f)},_spin:function(e,d){var f=this.value()||0;if(!this.counter){this.counter=1}f=this._adjustValue(f+e*this._increment(this.counter));if(!this.spinning||this._trigger("spin",d,{value:f})!==false){this._value(f);this.counter++}},_increment:function(d){var e=this.options.incremental;if(e){return c.isFunction(e)?e(d):Math.floor(d*d*d/50000-d*d/500+17*d/200+1)}return 1},_precision:function(){var d=this._precisionOf(this.options.step);if(this.options.min!==null){d=Math.max(d,this._precisionOf(this.options.min))}return d},_precisionOf:function(e){var f=e.toString(),d=f.indexOf(".");return d===-1?0:f.length-d-1},_adjustValue:function(f){var e,g,d=this.options;e=d.min!==null?d.min:0;g=f-e;g=Math.round(g/d.step)*d.step;f=e+g;f=parseFloat(f.toFixed(this._precision()));if(d.max!==null&&f>d.max){return d.max}if(d.min!==null&&f<d.min){return d.min}return f},_stop:function(d){if(!this.spinning){return}clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",d)},_setOption:function(d,e){if(d==="culture"||d==="numberFormat"){var f=this._parse(this.element.val());this.options[d]=e;this.element.val(this._format(f));return}if(d==="max"||d==="min"||d==="step"){if(typeof e==="string"){e=this._parse(e)}}if(d==="icons"){this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up);this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)}this._super(d,e);if(d==="disabled"){if(e){this.element.prop("disabled",true);this.buttons.button("disable")}else{this.element.prop("disabled",false);this.buttons.button("enable")}}},_setOptions:b(function(d){this._super(d);this._value(this.element.val())}),_parse:function(d){if(typeof d==="string"&&d!==""){d=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(d,10,this.options.culture):+d}return d===""||isNaN(d)?null:d},_format:function(d){if(d===""){return""}return window.Globalize&&this.options.numberFormat?Globalize.format(d,this.options.numberFormat,this.options.culture):d},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(f,d){var e;if(f!==""){e=this._parse(f);if(e!==null){if(!d){e=this._adjustValue(e)}f=this._format(e)}}this.element.val(f);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:b(function(d){this._stepUp(d)}),_stepUp:function(d){if(this._start()){this._spin((d||1)*this.options.step);this._stop()}},stepDown:b(function(d){this._stepDown(d)}),_stepDown:function(d){if(this._start()){this._spin((d||1)*-this.options.step);this._stop()}},pageUp:b(function(d){this._stepUp((d||1)*this.options.page)}),pageDown:b(function(d){this._stepDown((d||1)*this.options.page)}),value:function(d){if(!arguments.length){return this._parse(this.element.val())}b(this._value).call(this,d)},widget:function(){return this.uiSpinner}})}(jQuery));
/*!
 * jQuery UI Progressbar 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/progressbar/
 *
 * Depends:
 *   jquery.ui.core.js
 *   jquery.ui.widget.js
 */
(function(b,c){b.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=b("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(d){if(d===c){return this.options.value}this.options.value=this._constrainedValue(d);this._refreshValue()},_constrainedValue:function(d){if(d===c){d=this.options.value}this.indeterminate=d===false;if(typeof d!=="number"){d=0}return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,d))},_setOptions:function(d){var e=d.value;delete d.value;this._super(d);this.options.value=this._constrainedValue(e);this._refreshValue()},_setOption:function(d,e){if(d==="max"){e=Math.max(this.min,e)}this._super(d,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,d=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(d.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=b("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv)}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==e){this.oldValue=e;this._trigger("change")}if(e===this.options.max){this._trigger("complete")}}})})(jQuery);
/*!
 * jQuery UI Tabs 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function(d,f){var b=0,g=/#.*$/;function e(){return ++b}function c(h){h=h.cloneNode(false);return h.hash.length>1&&decodeURIComponent(h.href.replace(g,""))===decodeURIComponent(location.href.replace(g,""))}d.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var i=this,h=this.options;this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",h.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(j){if(d(this).is(".ui-state-disabled")){j.preventDefault()}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if(d(this).closest("li").is(".ui-state-disabled")){this.blur()}});this._processTabs();h.active=this._initialActive();if(d.isArray(h.disabled)){h.disabled=d.unique(h.disabled.concat(d.map(this.tabs.filter(".ui-state-disabled"),function(j){return i.tabs.index(j)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(h.active)}else{this.active=d()}this._refresh();if(this.active.length){this.load(h.active)}},_initialActive:function(){var i=this.options.active,h=this.options.collapsible,j=location.hash.substring(1);if(i===null){if(j){this.tabs.each(function(k,l){if(d(l).attr("aria-controls")===j){i=k;return false}})}if(i===null){i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(i===null||i===-1){i=this.tabs.length?0:false}}if(i!==false){i=this.tabs.index(this.tabs.eq(i));if(i===-1){i=h?false:0}}if(!h&&i===false&&this.anchors.length){i=0}return i},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?d():this._getPanelForTab(this.active)}},_tabKeydown:function(j){var i=d(this.document[0].activeElement).closest("li"),h=this.tabs.index(i),k=true;if(this._handlePageNav(j)){return}switch(j.keyCode){case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:h++;break;case d.ui.keyCode.UP:case d.ui.keyCode.LEFT:k=false;h--;break;case d.ui.keyCode.END:h=this.anchors.length-1;break;case d.ui.keyCode.HOME:h=0;break;case d.ui.keyCode.SPACE:j.preventDefault();clearTimeout(this.activating);this._activate(h);return;case d.ui.keyCode.ENTER:j.preventDefault();clearTimeout(this.activating);this._activate(h===this.options.active?false:h);return;default:return}j.preventDefault();clearTimeout(this.activating);h=this._focusNextTab(h,k);if(!j.ctrlKey){i.attr("aria-selected","false");this.tabs.eq(h).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",h)},this.delay)}},_panelKeydown:function(h){if(this._handlePageNav(h)){return}if(h.ctrlKey&&h.keyCode===d.ui.keyCode.UP){h.preventDefault();this.active.focus()}},_handlePageNav:function(h){if(h.altKey&&h.keyCode===d.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(h.altKey&&h.keyCode===d.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(i,j){var h=this.tabs.length-1;function k(){if(i>h){i=0}if(i<0){i=h}return i}while(d.inArray(k(),this.options.disabled)!==-1){i=j?i+1:i-1}return i},_focusNextTab:function(h,i){h=this._findNextTab(h,i);this.tabs.eq(h).focus();return h},_setOption:function(h,i){if(h==="active"){this._activate(i);return}if(h==="disabled"){this._setupDisabled(i);return}this._super(h,i);if(h==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",i);if(!i&&this.options.active===false){this._activate(0)}}if(h==="event"){this._setupEvents(i)}if(h==="heightStyle"){this._setupHeightStyle(i)}},_tabId:function(h){return h.attr("aria-controls")||"ui-tabs-"+e()},_sanitizeSelector:function(h){return h?h.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var i=this.options,h=this.tablist.children(":has(a[href])");i.disabled=d.map(h.filter(".ui-state-disabled"),function(j){return h.index(j)});this._processTabs();if(i.active===false||!this.anchors.length){i.active=false;this.active=d()}else{if(this.active.length&&!d.contains(this.tablist[0],this.active[0])){if(this.tabs.length===i.disabled.length){i.active=false;this.active=d()}else{this._activate(this._findNextTab(Math.max(0,i.active-1),false))}}else{i.active=this.tabs.index(this.active)}}this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})}},_processTabs:function(){var h=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return d("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=d();this.anchors.each(function(o,m){var j,k,n,l=d(m).uniqueId().attr("id"),q=d(m).closest("li"),r=q.attr("aria-controls");if(c(m)){j=m.hash;k=h.element.find(h._sanitizeSelector(j))}else{n=h._tabId(q);j="#"+n;k=h.element.find(j);if(!k.length){k=h._createPanel(n);k.insertAfter(h.panels[o-1]||h.tablist)}k.attr("aria-live","polite")}if(k.length){h.panels=h.panels.add(k)}if(r){q.data("ui-tabs-aria-controls",r)}q.attr({"aria-controls":j.substring(1),"aria-labelledby":l});k.attr("aria-labelledby",l)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(h){return d("<div>").attr("id",h).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)},_setupDisabled:function(k){if(d.isArray(k)){if(!k.length){k=false}else{if(k.length===this.anchors.length){k=true}}}for(var j=0,h;(h=this.tabs[j]);j++){if(k===true||d.inArray(j,k)!==-1){d(h).addClass("ui-state-disabled").attr("aria-disabled","true")}else{d(h).removeClass("ui-state-disabled").removeAttr("aria-disabled")}}this.options.disabled=k},_setupEvents:function(i){var h={click:function(j){j.preventDefault()}};if(i){d.each(i.split(" "),function(k,j){h[j]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,h);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(h){var j,i=this.element.parent();if(h==="fill"){j=i.height();j-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var l=d(this),k=l.css("position");if(k==="absolute"||k==="fixed"){return}j-=l.outerHeight(true)});this.element.children().not(this.panels).each(function(){j-=d(this).outerHeight(true)});this.panels.each(function(){d(this).height(Math.max(0,j-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")}else{if(h==="auto"){j=0;this.panels.each(function(){j=Math.max(j,d(this).height("").height())}).height(j)}}},_eventHandler:function(h){var r=this.options,l=this.active,m=d(h.currentTarget),k=m.closest("li"),o=k[0]===l[0],i=o&&r.collapsible,j=i?d():this._getPanelForTab(k),n=!l.length?d():this._getPanelForTab(l),q={oldTab:l,oldPanel:n,newTab:i?d():k,newPanel:j};h.preventDefault();if(k.hasClass("ui-state-disabled")||k.hasClass("ui-tabs-loading")||this.running||(o&&!r.collapsible)||(this._trigger("beforeActivate",h,q)===false)){return}r.active=i?false:this.tabs.index(k);this.active=o?d():k;if(this.xhr){this.xhr.abort()}if(!n.length&&!j.length){d.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(j.length){this.load(this.tabs.index(k),h)}this._toggle(h,q)},_toggle:function(n,m){var l=this,h=m.newPanel,k=m.oldPanel;this.running=true;function j(){l.running=false;l._trigger("activate",n,m)}function i(){m.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(h.length&&l.options.show){l._show(h,l.options.show,j)}else{h.show();j()}}if(k.length&&this.options.hide){this._hide(k,this.options.hide,function(){m.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");i()})}else{m.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");k.hide();i()}k.attr({"aria-expanded":"false","aria-hidden":"true"});m.oldTab.attr("aria-selected","false");if(h.length&&k.length){m.oldTab.attr("tabIndex",-1)}else{if(h.length){this.tabs.filter(function(){return d(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}h.attr({"aria-expanded":"true","aria-hidden":"false"});m.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(i){var h,j=this._findActive(i);if(j[0]===this.active[0]){return}if(!j.length){j=this.active}h=j.find(".ui-tabs-anchor")[0];this._eventHandler({target:h,currentTarget:h,preventDefault:d.noop})},_findActive:function(h){return h===false?d():this.tabs.eq(h)},_getIndex:function(h){if(typeof h==="string"){h=this.anchors.index(this.anchors.filter("[href$='"+h+"']"))}return h},_destroy:function(){if(this.xhr){this.xhr.abort()}this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if(d.data(this,"ui-tabs-destroy")){d(this).remove()}else{d(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}});this.tabs.each(function(){var h=d(this),i=h.data("ui-tabs-aria-controls");if(i){h.attr("aria-controls",i).removeData("ui-tabs-aria-controls")}else{h.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(h){var i=this.options.disabled;if(i===false){return}if(h===f){i=false}else{h=this._getIndex(h);if(d.isArray(i)){i=d.map(i,function(j){return j!==h?j:null})}else{i=d.map(this.tabs,function(j,k){return k!==h?k:null})}}this._setupDisabled(i)},disable:function(h){var i=this.options.disabled;if(i===true){return}if(h===f){i=true}else{h=this._getIndex(h);if(d.inArray(h,i)!==-1){return}if(d.isArray(i)){i=d.merge([h],i).sort()}else{i=[h]}}this._setupDisabled(i)},load:function(j,n){j=this._getIndex(j);var m=this,k=this.tabs.eq(j),i=k.find(".ui-tabs-anchor"),h=this._getPanelForTab(k),l={tab:k,panel:h};if(c(i[0])){return}this.xhr=d.ajax(this._ajaxSettings(i,n,l));if(this.xhr&&this.xhr.statusText!=="canceled"){k.addClass("ui-tabs-loading");h.attr("aria-busy","true");this.xhr.success(function(o){setTimeout(function(){h.html(o);m._trigger("load",n,l)},1)}).complete(function(q,o){setTimeout(function(){if(o==="abort"){m.panels.stop(false,true)}k.removeClass("ui-tabs-loading");h.removeAttr("aria-busy");if(q===m.xhr){delete m.xhr}},1)})}},_ajaxSettings:function(h,k,j){var i=this;return{url:h.attr("href"),beforeSend:function(m,l){return i._trigger("beforeLoad",k,d.extend({jqXHR:m,ajaxSettings:l},j))}}},_getPanelForTab:function(h){var i=d(h).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})})(jQuery);(function(){PixelAdmin.MainNavbar=function(){this._scroller=null;this._wheight=null;return this};PixelAdmin.MainNavbar.prototype.init=function(){var b;this.$navbar=$("#main-navbar");this.$header=this.$navbar.find(".navbar-header");this.$toggle=this.$navbar.find(".navbar-toggle:first");this.$collapse=$("#main-navbar-collapse");this.$collapse_div=this.$collapse.find("> div");b=false;$(window).on("pa.screen.small pa.screen.tablet",(function(c){return function(){if(c._scroller===null&&c.$navbar.css("position")==="fixed"){c._setupScroller()}return b=true}})(this)).on("pa.screen.desktop",(function(c){return function(){if(c._scroller!==null){c._removeScroller()}return b=false}})(this));return this.$navbar.on("click",".nav-icon-btn.dropdown > .dropdown-toggle",function(c){if(b){c.preventDefault();c.stopPropagation();document.location.href=$(this).attr("href");return false}})};PixelAdmin.MainNavbar.prototype._setupScroller=function(){if(this._scroller!==null){return}if($("html").hasClass("gt-ie8")){this._scroller=new IScroll("#"+this.$collapse.attr("id"),{scrollbars:true,mouseWheel:true,preventDefault:false});this.$navbar.on("mousedown.mn_collapse",$.proxy(this._mousedownCallback,this)).on("mousemove.mn_collapse",$.proxy(this._mousemoveCallback,this)).on("mouseup.mn_collapse",$.proxy(this._mouseupCallback,this)).on("touchstart.mn_collapse touchmove.mn_collapse",function(b){return b.preventDefault()})}else{this._scroller=true}this.$navbar.on("shown.bs.collapse.mn_collapse",$.proxy(((function(b){return function(){b._updateCollapseHeight();return b._watchWindowHeight()}})(this)),this)).on("hidden.bs.collapse.mn_collapse",$.proxy(((function(b){return function(){return b._wheight=null}})(this)),this)).on("shown.bs.dropdown.mn_collapse",$.proxy(this._updateCollapseHeight,this)).on("hidden.bs.dropdown.mn_collapse",$.proxy(this._updateCollapseHeight,this));return this._updateCollapseHeight()};PixelAdmin.MainNavbar.prototype._removeScroller=function(){if(this._scroller===null){return}this._wheight=null;if(this._scroller!==true){this._scroller.destroy();this.$navbar.off("mousedown.mn_collapse").off("mousemove.mn_collapse").off("mouseup.mn_collapse").off("touchstart.mn_collapse touchmove.mn_collapse")}this._scroller=null;this.$navbar.off("shown.bs.collapse.mn_collapse").off("hidden.bs.collapse.mn_collapse").off("shown.bs.dropdown.mn_collapse").off("hidden.bs.dropdown.mn_collapse");return this.$collapse.attr("style","")};PixelAdmin.MainNavbar.prototype._mousedownCallback=function(b){if($(b.target).is("input")){return}this._isMousePressed=true;return b.preventDefault()};PixelAdmin.MainNavbar.prototype._mousemoveCallback=function(b){if(this._isMousePressed){return b.preventDefault()}};PixelAdmin.MainNavbar.prototype._mouseupCallback=function(b){if(this._isMousePressed){this._isMousePressed=false;return b.preventDefault()}};PixelAdmin.MainNavbar.prototype._updateCollapseHeight=function(){var c,b;if(this._scroller===null){return}b=$(window).innerHeight();c=this.$header.outerHeight();if((c+this.$collapse_div.outerHeight())>b){this.$collapse.css("height",b-c);if(this._scroller!==true){return this._scroller.refresh()}else{return this.$collapse.css("overflow","scroll")}}else{this.$collapse.attr("style","");if(this._scroller!==true){return this._scroller.refresh()}}};PixelAdmin.MainNavbar.prototype._watchWindowHeight=function(){var b;this._wheight=$(window).innerHeight();b=(function(c){return function(){if(c._wheight===null){return}if(c._wheight!==$(window).innerHeight()){c._updateCollapseHeight()}c._wheight=$(window).innerHeight();return setTimeout(b,100)}})(this);return window.setTimeout(b,100)};PixelAdmin.MainNavbar.Constructor=PixelAdmin.MainNavbar;PixelAdmin.addInitializer(function(){return PixelAdmin.initPlugin("main_navbar",new PixelAdmin.MainNavbar)})}).call(this);(function(){PixelAdmin.MainMenu=function(){this._scroller=null;this._screen=null;this._last_screen=null;this._$dropdown=null;return this};PixelAdmin.MainMenu.prototype.init=function(){var e,c,b,d;this.$window=$(window);this.$body=$("body");this.$menu=$("#main-menu");this.$animation_timer=null;if(!this.$menu.length){return}if(PixelAdmin.settings.main_menu.store_state){d=this._getMenuState();if(d!==null){if(d==="collapsed"){this.$body.addClass("mm-no-transition").addClass("mmc");setTimeout((function(f){return function(){return f.$body.removeClass("mm-no-transition")}})(this),20)}else{this.$body.addClass("mm-no-transition").removeClass("mmc");setTimeout((function(f){return function(){return f.$body.removeClass("mm-no-transition")}})(this),20)}}}e=$("#small-screen-width-point");c=$("#tablet-screen-width-point");b=this;this._screen=getScreenSize(e,c);this._last_screen=this._screen;this.turnOnAnimation(true);this.$window.on("pa.loaded",(function(f){return function(){$("#main-menu .navigation > li > a > .mm-text").removeClass("no-animation");$("#main-menu .navigation > .mm-dropdown > ul").removeClass("no-animation");return $("#main-menu .menu-content").removeClass("no-animation")}})(this));this.$window.on("resize.pa.mm",(function(f){return function(){f._last_screen=f._screen;f._screen=getScreenSize(e,c);f.closeCurrentDropdown(true);if((f._screen==="small"&&f._last_screen!==f._screen)||(f._screen==="tablet"&&f._last_screen==="small")){f.$body.addClass("mm-no-transition");return setTimeout(function(){return f.$body.removeClass("mm-no-transition")},20)}}})(this));this.animation_end=(function(f){return function(){if(f.$animation_timer){window.clearTimeout(f.$animation_timer);f.$animation_timer=null}return f.$animation_timer=window.setTimeout(function(){f.$menu.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");return $(window).trigger("resize")},200)}})(this);this.$window.on("click.pa.mm",(function(f){return function(){return f.closeCurrentDropdown(true)}})(this));$(window).on("pa.screen.small",(function(f){return function(){if(f._scroller===null){return f._setupScroller()}}})(this)).on("pa.screen.tablet pa.screen.desktop",(function(f){return function(){if(f.$menu.css("position")==="fixed"){if(f._scroller===null){return f._setupScroller()}}else{if(f._scroller!==null){return f._removeScroller()}}}})(this));this.$menu.find(".navigation > .mm-dropdown").addClass("mm-dropdown-root");this.$menu.on("click.pa.mm-dropdown",".mm-dropdown > a",function(){var f;f=$(this).parent(".mm-dropdown");if(f.hasClass("mm-dropdown-root")&&b._collapsed()){if(f.hasClass("mmc-dropdown-open")){if(f.hasClass("freeze")){b.closeCurrentDropdown(true)}else{b.freezeDropdown(f)}}else{b.openDropdown(f,true)}}else{if(f.hasClass("open")){b.collapseSubmenu(f,true)}else{if(PixelAdmin.settings.main_menu.accordion){b.collapseAllSubmenus(f)}b.expandSubmenu(f,true)}}return false});this.$menu.find(".navigation").on("mouseenter.pa.mm-dropdown",".mm-dropdown-root",function(){if(b._collapsed()&&(!b._$dropdown||!b._$dropdown.hasClass("freeze"))){return b.openDropdown($(this))}}).on("mouseleave.pa.mm-dropdown",".mm-dropdown-root",function(){return b.closeCurrentDropdown()});return $("#main-menu-toggle").on("click.pa.mm_toggle",(function(f){return function(){f._screen=getScreenSize(e,c);if(f._screen==="small"||f._screen==="tablet"){$("#main-navbar-collapse").removeClass("in").removeClass("collapsing").stop().addClass("collapse").css("height","0px");$("#main-navbar .navbar-toggle").addClass("collapsed");f.$body.removeClass("mm-no-transition").toggleClass("mme")}else{f.$body.toggleClass("mmc");if(PixelAdmin.settings.main_menu.store_state){f._storeMenuState(f.$body.hasClass("mmc"))}if($.support.transition){f.$menu.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",$.proxy(f.animation_end,f))}else{$(window).trigger("resize")}}if(f._scroller){return setTimeout($.proxy(f._updateScroller,f),100)}}})(this))};PixelAdmin.MainMenu.prototype._collapsed=function(){return(this._screen==="tablet"&&!this.$body.hasClass("mme"))||(this._screen==="desktop"&&this.$body.hasClass("mmc"))};PixelAdmin.MainMenu.prototype._setupScroller=function(){if(this._scroller!==null){return}if($("html").hasClass("gt-ie8")){this._scroller=new IScroll("#"+this.$menu.attr("id"),{mouseWheel:true});this._scroller.on("scrollStart",(function(b){return function(){return b.closeCurrentDropdown(true)}})(this))}else{this._scroller=true}$(window).on("pa.resize.mm",$.proxy(this._updateScroller,this));return this._updateScroller()};PixelAdmin.MainMenu.prototype._removeScroller=function(){if(this._scroller===null){return}if(this._scroller!==true){this._scroller.destroy()}this._scroller=null;$(window).off("pa.resize.mm");return this.$menu.attr("style","")};PixelAdmin.MainMenu.prototype._updateScroller=function(){if(this._scroller===null){return}if(this._scroller!==true){return this._scroller.refresh()}else{if(this.$menu.find("> div").outerHeight()>this.$menu.outerHeight()){return this.$menu.css({"overflow-y":"scroll","overflow-y":"scroll","-ms-overflow-x":"hidden","overflow-x":"hidden"})}else{return this.$menu.attr("style","")}}};PixelAdmin.MainMenu.prototype._updateDropdownScroller=function(c){var d,b;d=c.parents(".mmc-dropdown-open");if(d.length){b=d.data("scroller");if(b&&b!==true){return b.refresh()}}};PixelAdmin.MainMenu.prototype._getSubmenuHeight=function(c){var b;if(c.parent(".mm-dropdown").hasClass("open")){b=c.height()}else{b=c.addClass("get-height").height();c.removeClass("get-height")}return b};PixelAdmin.MainMenu.prototype.collapseSubmenu=function(b,c){var d;d=$("> ul",b);return d.animate({height:0},PixelAdmin.settings.main_menu.animation_speed,(function(e){return function(){b.removeClass("open");d.css({display:"none",height:"auto"});$(".mm-dropdown.open",b).removeClass("open").find("> ul").css({display:"none",height:"auto"});if(c){e._updateScroller()}return e._updateDropdownScroller(b)}})(this))};PixelAdmin.MainMenu.prototype.collapseAllSubmenus=function(c,d){var b;if(d==null){d=false}b=this;return c.parent().find("> .mm-dropdown.open").each(function(){if(!d||!$(this).is(c)){return b.collapseSubmenu($(this))}})};PixelAdmin.MainMenu.prototype.expandSubmenu=function(c,d){var b,e;e=$("> ul",c);b=this._getSubmenuHeight(e);e.css({display:"block",height:0});c.addClass("open");return e.animate({height:b},PixelAdmin.settings.main_menu.animation_speed,(function(f){return function(){e.attr("style","");if(d){f._updateScroller()}return f._updateDropdownScroller(c)}})(this))};PixelAdmin.MainMenu.prototype.openDropdown=function(c,d){var i,f,e,g,j,k,h,b;if(d==null){d=false}if(this._$dropdown){this.closeCurrentDropdown(d)}this._$dropdown=c;f=$("> ul",c);i=f.find("> .mmc-title");if(i.length===0){i=$('<div class="mmc-title"></div>').text($("> a > .mm-text",c).text());f.prepend(i)}c.addClass("mmc-dropdown-open");k=(function(l){return function(n){var m;if($("html").hasClass("gt-ie8")){m=new IScroll("#mmc-wrapper",{mouseWheel:true});if(l._scroller&&l._scroller!==null){m.on("beforeScrollStart",function(){return l._scroller.disable()});m.on("scrollEnd",function(){return l._scroller.enable()})}}else{m=true;n.css({"overflow-y":"scroll","overflow-y":"scroll","-ms-overflow-x":"hidden","overflow-x":"hidden"})}return c.data("scroller",m)}})(this);if(this.$body.hasClass("main-menu-fixed")){b=this.$window.innerHeight();h=c.position().top;j=f.find("> .mmc-title").outerHeight()+f.find("> li").first().outerHeight()*3;if((h+j)>b){g=h-$("#main-navbar").outerHeight();c.addClass("top")}else{g=b-h-c.outerHeight()}e=$('<div id="mmc-wrapper" style="overflow:hidden;position:relative;max-height:'+g+'px;"></div>');e.append($("<div></div>").append(f.find("> li"))).appendTo(f);k(e);if(c.hasClass("top")){f.append(i)}}if(d){return this.freezeDropdown(c)}};PixelAdmin.MainMenu.prototype.closeCurrentDropdown=function(d){var c,b;if(d==null){d=false}if(!this._$dropdown||(this._$dropdown.hasClass("freeze")&&!d)){return}c=this._$dropdown.find("> ul");b=this._$dropdown.data("scroller");if(b){if(b!==true){b.destroy()}this._$dropdown.data("scroller",null);c.append($("#mmc-wrapper > div > li"));$("#mmc-wrapper").remove()}if(this._scroller&&this._scroller!==true){this._scroller.enable()}this._$dropdown.removeClass("mmc-dropdown-open freeze top");return this._$dropdown=null};PixelAdmin.MainMenu.prototype.freezeDropdown=function(b){return b.addClass("freeze")};PixelAdmin.MainMenu.prototype.turnOnAnimation=function(b){if(b==null){b=false}this.$body.addClass("main-menu-animated");if(b){$("#main-menu .navigation > li > a > .mm-text").addClass("no-animation");$("#main-menu .navigation > .mm-dropdown > ul").addClass("no-animation");$("#main-menu .menu-content").addClass("no-animation")}$("#main-menu .navigation > li > a > .mm-text").addClass("mmc-dropdown-delay animated fadeIn");$("#main-menu .navigation > .mm-dropdown > ul").addClass("mmc-dropdown-delay animated fadeInLeft");$("#main-menu .menu-content").addClass("animated fadeIn");if(this.$body.hasClass("main-menu-right")||(this.$body.hasClass("right-to-left")&&!this.$body.hasClass("main-menu-right"))){return $("#main-menu .navigation > .mm-dropdown > ul").addClass("fadeInRight")}else{return $("#main-menu .navigation > .mm-dropdown > ul").addClass("fadeInLeft")}};PixelAdmin.MainMenu.prototype.turnOffAnimation=function(){this.$body.removeClass("main-menu-animated");$("#main-menu .navigation > li > a > .mm-text").removeClass("mmc-dropdown-delay animated fadeIn");$("#main-menu .menu-content").removeClass("animated fadeIn");return $("#main-menu .navigation > .mm-dropdown > ul").removeClass("mmc-dropdown-delay animated fadeInLeft fadeInRight")};PixelAdmin.MainMenu.prototype._getMenuState=function(){return PixelAdmin.getStoredValue(PixelAdmin.settings.main_menu.store_state_key,null)};PixelAdmin.MainMenu.prototype._storeMenuState=function(b){if(!PixelAdmin.settings.main_menu.store_state){return}return PixelAdmin.storeValue(PixelAdmin.settings.main_menu.store_state_key,b?"collapsed":"expanded")};PixelAdmin.MainMenu.Constructor=PixelAdmin.MainMenu;PixelAdmin.addInitializer(function(){return PixelAdmin.initPlugin("main_menu",new PixelAdmin.MainMenu)})}).call(this);(function(){var c,b;c="pa-page-alerts-box";b=function(){return this};b.DEFAULTS={type:"warning",close_btn:true,classes:false,namespace:"pa_page_alerts",animate:true,auto_close:false};b.TYPES_HASH={warning:"",danger:"alert-danger",success:"alert-success",info:"alert-info"};b.prototype.init=function(){var d;d=this;return $("#main-wrapper").on("click.pa.alerts","#"+c+" .close",function(){d.close($(this).parents(".alert"));return false})};b.prototype.add=function(h,g){var i,e,k,d,f,j;g=$.extend({},b.DEFAULTS,g||{});i=$('<div class="alert alert-page '+g.namespace+" "+b.TYPES_HASH[g.type]+'" />').html(h);if(g.classes){i.addClass(g.classes)}if(g.close_btn){i.prepend($('<button type="button" class="close" />').html("&times;"))}if(g.animate){i.attr("data-animate","true")}k=$("#"+c);if(!k.length){k=$('<div id="'+c+'" />').prependTo($("#content-wrapper"))}e=$("#"+c+" ."+g.namespace);d=i.css({visibility:"hidden",position:"absolute",width:"100%"}).appendTo("body").outerHeight();j=i.css("padding-top");f=i.css("padding-bottom");if(g.animate){i.attr("style","").css({overflow:"hidden",height:0,"padding-top":0,"padding-bottom":0})}if(e.length){e.last().after(i)}else{k.append(i)}if(g.animate){return i.animate({height:d,"padding-top":j,"padding-bottom":f},500,(function(l){return function(){i.attr("style","");if(g.auto_close){return $.data(i,"timer",setTimeout(function(){return l.close(i)},g.auto_close*1000))}}})(this))}else{return i.attr("style","")}};b.prototype.close=function(d){if(d.attr("data-animate")==="true"){return d.animate({height:0,"padding-top":0,"padding-bottom":0},500,function(){if($.data(d,"timer")){clearTimeout($.data(d,"timer"))}return d.remove()})}else{if($.data(d,"timer")){clearTimeout($.data(d,"timer"))}return d.remove()}};b.prototype.clear=function(f,g){var d,e;if(f==null){f=true}if(g==null){g="pa_page_alerts"}d=$("#"+c+" ."+g);if(d.length){e=this;if(f){return d.each(function(){return e.close($(this))})}else{return d.remove()}}};b.prototype.clearAll=function(e){var d;if(e==null){e=true}if(e){d=this;return $("#"+c+" .alert").each(function(){return d.close($(this))})}else{return $("#"+c).remove()}};b.prototype.getContainerId=function(){return c};b.Constructor=b;PixelAdmin.addInitializer(function(){return PixelAdmin.initPlugin("alerts",new b)})}).call(this);(function(){var b;b=function(e,d){var c;if(d==null){d={}}this.options=$.extend({},b.DEFAULTS,d);this.$checkbox=null;this.$box=null;if(e.is('input[type="checkbox"]')){c=e.attr("data-class");this.$checkbox=e;this.$box=$('<div class="switcher"><div class="switcher-toggler"></div><div class="switcher-inner"><div class="switcher-state-on">'+this.options.on_state_content+'</div><div class="switcher-state-off">'+this.options.off_state_content+"</div></div></div>");if(this.options.theme){this.$box.addClass("switcher-theme-"+this.options.theme)}if(c){this.$box.addClass(c)}this.$box.insertAfter(this.$checkbox).prepend(this.$checkbox)}else{this.$box=e;this.$checkbox=$('input[type="checkbox"]',this.$box)}if(this.$checkbox.prop("disabled")){this.$box.addClass("disabled")}if(this.$checkbox.is(":checked")){this.$box.addClass("checked")}this.$checkbox.on("click",function(f){return f.stopPropagation()});this.$box.on("click",$.proxy(this.toggle,this));return this};b.prototype.enable=function(){this.$checkbox.prop("disabled",false);return this.$box.removeClass("disabled")};b.prototype.disable=function(){this.$checkbox.prop("disabled",true);return this.$box.addClass("disabled")};b.prototype.on=function(){if(!this.$checkbox.is(":checked")){this.$checkbox.click();return this.$box.addClass("checked")}};b.prototype.off=function(){if(this.$checkbox.is(":checked")){this.$checkbox.click();return this.$box.removeClass("checked")}};b.prototype.toggle=function(){if(this.$checkbox.click().is(":checked")){return this.$box.addClass("checked")}else{return this.$box.removeClass("checked")}};b.DEFAULTS={theme:null,on_state_content:"ON",off_state_content:"OFF"};$.fn.switcher=function(d,c){return $(this).each(function(){var f,e;f=$(this);e=$.data(this,"Switcher");if(!e){return $.data(this,"Switcher",new b(f,d))}else{if(d==="enable"){return e.enable()}else{if(d==="disable"){return e.disable()}else{if(d==="on"){return e.on()}else{if(d==="off"){return e.off()}else{if(d==="toggle"){return e.toggle()}}}}}}})};$.fn.switcher.Constructor=b}).call(this);(function(){var b;b=function(e,c,d){if(d==null){d={}}this.limit=c;this.$el=e;this.options=$.extend({},b.DEFAULTS,d||{});this.$label=this.options.label&&$(this.options.label).length?$(".limiter-count",this.options.label):null;this.textarea=this.$el.is("textarea");if(!this.textarea){this.$el.attr("maxlength",this.limit)}this.$el.on("keyup focus",$.proxy(this.updateCounter,this));return this.updateCounter()};b.prototype.updateCounter=function(){var d,c;c=this.textarea?this.$el[0].value.replace(/\r?\n/g,"\n"):this.$el.val();d=c.length;if(d>this.limit){this.$el.val(c.substr(0,this.limit));d=this.limit}if(this.$label){return this.$label.html(this.limit-d)}};b.DEFAULTS={label:null};$.fn.limiter=function(c,d){return this.each(function(){var e;e=$(this);if(!e.attr("data-limiter")){return $.data(e,"limiter",new b(e,c,d))}})};$.fn.limiter.Constructor=b}).call(this);(function(){var b;b=function(d,c){if(c==null){c={}}this.options=$.extend({},b.DEFAULTS,c||{});this.$container=d;this.$target=this.options.target&&this.$container.find(this.options.target).length?this.$container.find(this.options.target):null;this.$content=this.options.hidden_content&&this.$container.find(this.options.hidden_content).length?this.$container.find(this.options.hidden_content):null;this.$container.addClass("expanding-input");if(this.$target){this.$target.addClass("expanding-input-target");if(this.$target.hasClass("input-sm")){this.$container.addClass("expanding-input-sm")}if(this.$target.hasClass("input-lg")){this.$container.addClass("expanding-input-lg")}}if(this.$content){this.$content.addClass("expanding-input-content")}this.$overlay=$('<div class="expanding-input-overlay"></div>').appendTo(this.$container);if(this.$target&&this.$target.attr("placeholder")){if(!this.options.placeholder){this.options.placeholder=this.$target.attr("placeholder")}this.$target.attr("placeholder","")}if(this.options.placeholder){this.$overlay.append($('<div class="expanding-input-placeholder"></div>').text(this.options.placeholder))}if(this.$target){this.$target.on("focus",$.proxy(this.expand,this))}return this.$overlay.on("click.expanding_input",$.proxy(this.expand,this))};b.prototype.expand=function(){if(this.$container.hasClass("expanded")){return}if(this.options.onBeforeExpand){this.options.onBeforeExpand.call(this)}this.$overlay.remove();this.$container.addClass("expanded");if(this.$target){setTimeout((function(c){return function(){return c.$target.focus()}})(this),1)}if(this.$target&&this.options.placeholder){this.$target.attr("placeholder",this.options.placeholder)}if(this.options.onAfterExpand){return this.options.onAfterExpand.call(this)}};b.DEFAULTS={target:null,hidden_content:null,placeholder:null,onBeforeExpand:null,onAfterExpand:null};$.fn.expandingInput=function(c){return this.each(function(){var d;d=$(this);if(!d.attr("data-expandingInput")){return $.data(d,"expandingInput",new b(d,c))}})};$.fn.expandingInput.Constructor=b}).call(this);(function(){var b,c;c=function(d,e){return d.css({width:e,"max-width":e,"min-width":e})};b=function(d,f){var g,e;if(f==null){f={}}this.options=$.extend({},b.DEFAULTS,f||{});this.$element=d;this.$wrapper=$(".wizard-wrapper",this.$element);this.$steps=$(".wizard-steps",this.$wrapper);this.$step_items=$("> li",this.$steps);this.steps_count=this.$step_items.length;this.$content=$(".wizard-content",this.$element);this.current_step=null;this.$current_item=null;this.isFreeze=false;this.isRtl=$("body").hasClass("right-to-left");this.resizeStepItems();g=$("> li.active",this.$steps);if(g.length===0){g=$("> li:first-child",this.$steps)}this.$current_item=g.addClass("active");this.current_step=g.index()+1;$(g.attr("data-target"),this.$content).css({display:"block"});this.placeStepItems();this._setPrevItemStates(this.current_step-1);$(window).on("pa.resize.wizard",(function(h){return function(){$.proxy(h.resizeStepItems,h)();return $.proxy(h.placeStepItems,h)()}})(this));e=this;this.$steps.on("click","> li",function(){var h;h=$(this);if(h.hasClass("completed")){return e.setCurrentStep(h.index()+1)}});return this};b.DEFAULTS={step_item_min_width:200,onChange:null,onFinish:null};b.prototype.resizeStepItems=function(){var d;if(this.$element.width()>(b.DEFAULTS.step_item_min_width*this.$step_items.length)){d=Math.floor(this.$element.width()/this.$step_items.length)}else{d=b.DEFAULTS.step_item_min_width}return this.$step_items.each(function(){return c($(this),d)})};b.prototype.placeStepItems=function(){var k,j,g,f,e,i,h;i=0;f=this.$current_item.position();g=this.$element.outerWidth();h=this.$steps.outerWidth();k=this.$current_item.outerWidth();j=(g-k)/2;if(!this.isRtl){if(g<h&&f.left>j){i=-1*f.left+j;if((h+i)<g){i=-1*h+g}}return this.$steps.css({left:i})}else{e=h-f.left-k;if(g<h&&e>j){i=-1*e+j;if((h+i)<g){i=-1*h+g}}return this.$steps.css({right:i})}};b.prototype.setCurrentStep=function(d){if(this.isFreeze){return}return $(this.$current_item.attr("data-target"),this.$content).css({opacity:1}).animate({opacity:0},200,(function(e){return function(){$(e.$current_item.attr("data-target"),e.$content).attr("style","");e._clearItemStates(d-1);e.$current_item=e.$step_items.eq(d-1).addClass("active");e.current_step=d;e._setPrevItemStates(d-1);return $(e.$current_item.attr("data-target"),e.$content).css({display:"block",opacity:0}).animate({opacity:1},200,function(){if(e.options.onChange){$.proxy(e.options.onChange,e)()}return e.placeStepItems()})}})(this))};b.prototype.nextStep=function(){if(this.isFreeze){return}if(this.current_step>=this.steps_count){if(this.options.onFinish){$.proxy(this.options.onFinish,this)()}return}this.$current_item.removeClass("active").addClass("completed");return this.setCurrentStep(this.current_step+1)};b.prototype.prevStep=function(){if(this.isFreeze){return}if(this.current_step<=1){return}return this.setCurrentStep(this.current_step-1)};b.prototype.currentStep=function(){return this.current_step};b.prototype._clearItemStates=function(e){var f,h,g,d;d=[];for(f=h=e,g=this.steps_count;e<=g?h<g:h>g;f=e<=g?++h:--h){d.push(this.$step_items.eq(f).removeClass("active").removeClass("completed"))}return d};b.prototype._setPrevItemStates=function(f){var e,g,d;d=[];for(e=g=0;0<=f?g<f:g>f;e=0<=f?++g:--g){d.push(this.$step_items.eq(e).addClass("completed"))}return d};b.prototype.freeze=function(){this.isFreeze=true;return this.$element.addClass("freeze")};b.prototype.unfreeze=function(){this.isFreeze=false;return this.$element.removeClass("freeze")};$.fn.pixelWizard=function(f,e){var d,g;g=void 0;d=this.each(function(){var i,h;i=$(this);if(!$.data(this,"pixelWizard")){return $.data(this,"pixelWizard",new b(i,f))}else{if(f&&typeof f==="string"){h=$.data(this,"pixelWizard");if(f==="setCurrentStep"){return h.setCurrentStep(e)}else{if(f==="currentStep"){return g=h.currentStep()}else{if(f==="nextStep"){return h.nextStep()}else{if(f==="prevStep"){return h.prevStep()}else{if(f==="freeze"){return h.freeze()}else{if(f==="unfreeze"){return h.unfreeze()}}}}}}}}});return(g===void 0?d:g)};$.fn.pixelWizard.Constructor=b}).call(this);(function(){var b;b=function(d,c){if(c==null){c={}}this.options=$.extend({},b.DEFAULTS,c||{});this.$input=d;this.$el=$('<div class="pixel-file-input"><span class="pfi-filename"></span><div class="pfi-actions"></div></div>').insertAfter(d).append(d);this.$filename=$(".pfi-filename",this.$el);this.$clear_btn=$(b.DEFAULTS.clear_btn_tmpl).addClass("pfi-clear").appendTo($(".pfi-actions",this.$el));this.$choose_btn=$(b.DEFAULTS.choose_btn_tmpl).addClass("pfi-choose").appendTo($(".pfi-actions",this.$el));this.onChange();d.on("change",(function(e){return function(){return $.proxy(e.onChange,e)()}})(this)).on("click",function(f){return f.stopPropagation()});this.$el.on("click",function(){return d.click()});this.$choose_btn.on("click",function(f){return f.preventDefault()});return this.$clear_btn.on("click",(function(e){return function(f){d.wrap("<form>").parent("form").trigger("reset");d.unwrap();$.proxy(e.onChange,e)();f.stopPropagation();return f.preventDefault()}})(this))};b.DEFAULTS={choose_btn_tmpl:'<a href="#" class="btn btn-xs btn-primary">Choose</a>',clear_btn_tmpl:'<a href="#" class="btn btn-xs"><i class="fa fa-times"></i> Clear</a>',placeholder:null};b.prototype.onChange=function(){var c;c=this.$input.val().replace(/\\/g,"/");if(c!==""){this.$clear_btn.css("display","inline-block");this.$filename.removeClass("pfi-placeholder");return this.$filename.text(c.split("/").pop())}else{this.$clear_btn.css("display","none");if(this.options.placeholder){this.$filename.addClass("pfi-placeholder");return this.$filename.text(this.options.placeholder)}else{return this.$filename.text("")}}};$.fn.pixelFileInput=function(c){return this.each(function(){if(!$.data(this,"pixelFileInput")){return $.data(this,"pixelFileInput",new b($(this),c))}})};$.fn.pixelFileInput.Constructor=b}).call(this);(function(){var b;b=function(e,d){var c;if(d==null){d={}}this.$el=e;this.options=$.extend({},b.DEFAULTS,d);c=this;e.on("click",".task input[type=checkbox]",function(){return c.completeTask($(this))}).on("click",".task a",function(){$(this).parents(".task").find("input[type=checkbox]").click();return false});return this};b.prototype.completeTask=function(c){var d;d=c.parents(".task");if(d.toggleClass("completed").hasClass("completed")){return this.options.onComplete.call(this)}else{return this.options.onCancel.call(this)}};b.prototype.clearCompletedTasks=function(){$(".completed",this.$el).hide(200,function(){return $(this).remove()});return this.options.onClear.call(this)};b.DEFAULTS={onComplete:function(){},onCancel:function(){},onClear:function(){}};$.fn.pixelTasks=function(c){return $(this).each(function(){var e,d;e=$(this);d=$.data(this,"pixelTasks");if(!d){return $.data(this,"pixelTasks",new b(e,c))}else{if(c==="clearCompletedTasks"){return d.clearCompletedTasks()}}})};$.fn.pixelTasks.Constructor=b}).call(this);(function(){var b;b=function(f,d){var e,c,h,g;if(d==null){d={}}this.options=$.extend({},b.DEFAULTS,d);this.$container=$('<ul class="widget-rating"></ul>');for(e=h=0,g=this.options.stars_count;0<=g?h<g:h>g;e=0<=g?++h:--h){this.$container.append($('<li><a href="#" title="" class="widget-rating-item"></a></li>'))}f.append(this.$container);c=this;this.$container.find("a").on("mouseenter",function(){c.$container.find("li").removeClass(c.options.class_active);return $(this).parents("li").addClass(c.options.class_active).prevAll("li").addClass(c.options.class_active)}).on("mouseleave",function(){return c.setRating(c.options.rating)}).on("click",function(){c.options.onRatingChange.call(c,$(this).parents("li").prevAll("li").length+1);return false});this.setRating(this.options.rating);return this};b.prototype.setRating=function(c){this.options.rating=c;if((c-Math.floor(c))>this.options.lower_limit){c=Math.ceil(c)}else{c=Math.floor(c)}return this.$container.find("li").removeClass(this.options.class_active).slice(0,c).addClass(this.options.class_active)};b.DEFAULTS={stars_count:5,rating:0,class_active:"active",lower_limit:0.35,onRatingChange:function(c){}};$.fn.pixelRating=function(d,c){return $(this).each(function(){var e,f;e=$(this);f=$.data(this,"pixelRating");if(!f){return $.data(this,"pixelRating",new b(e,d))}else{if(d==="setRating"){return f.setRating(c)}}})};$.fn.pixelRating.Constructor=b}).call(this);(function(k,g){var d=k(window);function o(){return new Date(Date.UTC.apply(Date,arguments))}function h(){var s=new Date();return o(s.getFullYear(),s.getMonth(),s.getDate())}function m(s){return function(){return this[s].apply(this,arguments)}}var f=(function(){var s={get:function(u){return this.slice(u)[0]},contains:function(x){var w=x&&x.valueOf();for(var v=0,u=this.length;v<u;v++){if(this[v].valueOf()===w){return v}}return -1},remove:function(u){this.splice(u,1)},replace:function(u){if(!u){return}if(!k.isArray(u)){u=[u]}this.clear();this.push.apply(this,u)},clear:function(){this.splice(0)},copy:function(){var u=new f();u.replace(this);return u}};return function(){var u=[];u.push.apply(u,arguments);k.extend(u,s);return u}})();var l=function(u,s){this.dates=new f();this.viewDate=h();this.focusDate=null;this._process_options(s);this.element=k(u);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.picker=k(n.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl")}this.viewMode=this.o.startView;if(this.o.calendarWeeks){this.picker.find("tfoot th.today").attr("colspan",function(v,w){return parseInt(w)+1})}this._allow_update=false;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};l.prototype={constructor:l,_process_options:function(s){this._o=k.extend({},this._o,s);var x=this.o=k.extend({},this._o);var w=x.language;if(!c[w]){w=w.split("-")[0];if(!c[w]){w=i.language}}x.language=w;switch(x.startView){case 2:case"decade":x.startView=2;break;case 1:case"year":x.startView=1;break;default:x.startView=0}switch(x.minViewMode){case 1:case"months":x.minViewMode=1;break;case 2:case"years":x.minViewMode=2;break;default:x.minViewMode=0}x.startView=Math.max(x.startView,x.minViewMode);if(x.multidate!==true){x.multidate=Number(x.multidate)||false;if(x.multidate!==false){x.multidate=Math.max(0,x.multidate)}else{x.multidate=1}}x.multidateSeparator=String(x.multidateSeparator);x.weekStart%=7;x.weekEnd=((x.weekStart+6)%7);var u=n.parseFormat(x.format);if(x.startDate!==-Infinity){if(!!x.startDate){if(x.startDate instanceof Date){x.startDate=this._local_to_utc(this._zero_time(x.startDate))}else{x.startDate=n.parseDate(x.startDate,u,x.language)}}else{x.startDate=-Infinity}}if(x.endDate!==Infinity){if(!!x.endDate){if(x.endDate instanceof Date){x.endDate=this._local_to_utc(this._zero_time(x.endDate))}else{x.endDate=n.parseDate(x.endDate,u,x.language)}}else{x.endDate=Infinity}}x.daysOfWeekDisabled=x.daysOfWeekDisabled||[];if(!k.isArray(x.daysOfWeekDisabled)){x.daysOfWeekDisabled=x.daysOfWeekDisabled.split(/[,\s]*/)}x.daysOfWeekDisabled=k.map(x.daysOfWeekDisabled,function(z){return parseInt(z,10)});var v=String(x.orientation).toLowerCase().split(/\s+/g),y=x.orientation.toLowerCase();v=k.grep(v,function(z){return(/^auto|left|right|top|bottom$/).test(z)});x.orientation={x:"auto",y:"auto"};if(!y||y==="auto"){}else{if(v.length===1){switch(v[0]){case"top":case"bottom":x.orientation.y=v[0];break;case"left":case"right":x.orientation.x=v[0];break}}else{y=k.grep(v,function(z){return(/^left|right$/).test(z)});x.orientation.x=y[0]||"auto";y=k.grep(v,function(z){return(/^top|bottom$/).test(z)});x.orientation.y=y[0]||"auto"}}},_events:[],_secondaryEvents:[],_applyEvents:function(s){for(var u=0,w,v,x;u<s.length;u++){w=s[u][0];if(s[u].length===2){v=g;x=s[u][1]}else{if(s[u].length===3){v=s[u][1];x=s[u][2]}}w.on(x,v)}},_unapplyEvents:function(s){for(var u=0,w,x,v;u<s.length;u++){w=s[u][0];if(s[u].length===2){v=g;x=s[u][1]}else{if(s[u].length===3){v=s[u][1];x=s[u][2]}}w.off(x,v)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:k.proxy(this.show,this),keyup:k.proxy(function(s){if(k.inArray(s.keyCode,[27,37,39,38,40,32,13,9])===-1){this.update()}},this),keydown:k.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:k.proxy(this.show,this),keyup:k.proxy(function(s){if(k.inArray(s.keyCode,[27,37,39,38,40,32,13,9])===-1){this.update()}},this),keydown:k.proxy(this.keydown,this)}],[this.component,{click:k.proxy(this.show,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:k.proxy(this.show,this)}]]}}}this._events.push([this.element,"*",{blur:k.proxy(function(s){this._focused_from=s.target},this)}],[this.element,{blur:k.proxy(function(s){this._focused_from=s.target},this)}]);this._secondaryEvents=[[this.picker,{click:k.proxy(this.click,this)}],[k(window),{resize:k.proxy(this.place,this)}],[k(document),{"mousedown touchstart":k.proxy(function(s){if(!(this.element.is(s.target)||this.element.find(s.target).length||this.picker.is(s.target)||this.picker.find(s.target).length)){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(v,w){var u=w||this.dates.get(-1),s=this._utc_to_local(u);this.element.trigger({type:v,date:s,dates:k.map(this.dates,this._utc_to_local),format:k.proxy(function(x,z){if(arguments.length===0){x=this.dates.length-1;z=this.o.format}else{if(typeof x==="string"){z=x;x=this.dates.length-1}}z=z||this.o.format;var y=this.dates.get(x);return n.formatDate(y,z,this.o.language)},this)})},show:function(){if(!this.isInline){this.picker.appendTo("body")}this.picker.show();this.place();this._attachSecondaryEvents();this._trigger("show")},hide:function(){if(this.isInline){return}if(!this.picker.is(":visible")){return}this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this._trigger("hide")},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}},_utc_to_local:function(s){return s&&new Date(s.getTime()+(s.getTimezoneOffset()*60000))},_local_to_utc:function(s){return s&&new Date(s.getTime()-(s.getTimezoneOffset()*60000))},_zero_time:function(s){return s&&new Date(s.getFullYear(),s.getMonth(),s.getDate())},_zero_utc_time:function(s){return s&&new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()))},getDates:function(){return k.map(this.dates,this._utc_to_local)},getUTCDates:function(){return k.map(this.dates,function(s){return new Date(s)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var s=k.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,s);this._trigger("changeDate");this.setValue()},setUTCDates:function(){var s=k.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,k.map(s,this._utc_to_local));this._trigger("changeDate");this.setValue()},setDate:m("setDates"),setUTCDate:m("setUTCDates"),setValue:function(){var s=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(s).change()}}else{this.element.val(s).change()}},getFormattedDate:function(s){if(s===g){s=this.o.format}var u=this.o.language;return k.map(this.dates,function(v){return n.formatDate(v,s,u)}).join(this.o.multidateSeparator)},setStartDate:function(s){this._process_options({startDate:s});this.update();this.updateNavArrows()},setEndDate:function(s){this._process_options({endDate:s});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(s){this._process_options({daysOfWeekDisabled:s});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var H=this.picker.outerWidth(),D=this.picker.outerHeight(),x=10,z=d.width(),u=d.height(),y=d.scrollTop();var F=parseInt(this.element.parents().filter(function(){return k(this).css("z-index")!=="auto"}).first().css("z-index"))+10;var C=this.component?this.component.parent().offset():this.element.offset();var G=this.component?this.component.outerHeight(true):this.element.outerHeight(false);var w=this.component?this.component.outerWidth(true):this.element.outerWidth(false);var B=C.left,E=C.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");if(this.o.orientation.x!=="auto"){this.picker.addClass("datepicker-orient-"+this.o.orientation.x);if(this.o.orientation.x==="right"){B-=H-w}}else{this.picker.addClass("datepicker-orient-left");if(C.left<0){B-=C.left-x}else{if(C.left+H>z){B=z-H-x}}}var s=this.o.orientation.y,v,A;if(s==="auto"){v=-y+C.top-D;A=y+u-(C.top+G+D);if(Math.max(v,A)===A){s="top"}else{s="bottom"}}this.picker.addClass("datepicker-orient-"+s);if(s==="top"){E+=G}else{E-=D+parseInt(this.picker.css("padding-top"))}this.picker.css({top:E,left:B,zIndex:F})},_allow_update:true,update:function(){if(!this._allow_update){return}var u=this.dates.copy(),v=[],s=false;if(arguments.length){k.each(arguments,k.proxy(function(x,w){if(w instanceof Date){w=this._local_to_utc(w)}v.push(w)},this));s=true}else{v=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();if(v&&this.o.multidate){v=v.split(this.o.multidateSeparator)}else{v=[v]}delete this.element.data().date}v=k.map(v,k.proxy(function(w){return n.parseDate(w,this.o.format,this.o.language)},this));v=k.grep(v,k.proxy(function(w){return(w<this.o.startDate||w>this.o.endDate||!w)},this),true);this.dates.replace(v);if(this.dates.length){this.viewDate=new Date(this.dates.get(-1))}else{if(this.viewDate<this.o.startDate){this.viewDate=new Date(this.o.startDate)}else{if(this.viewDate>this.o.endDate){this.viewDate=new Date(this.o.endDate)}}}if(s){this.setValue()}else{if(v.length){if(String(u)!==String(this.dates)){this._trigger("changeDate")}}}if(!this.dates.length&&u.length){this._trigger("clearDate")}this.fill()},fillDow:function(){var u=this.o.weekStart,v="<tr>";if(this.o.calendarWeeks){var s='<th class="cw">&nbsp;</th>';v+=s;this.picker.find(".datepicker-days thead tr:first-child").prepend(s)}while(u<this.o.weekStart+7){v+='<th class="dow">'+c[this.o.language].daysMin[(u++)%7]+"</th>"}v+="</tr>";this.picker.find(".datepicker-days thead").append(v)},fillMonths:function(){var u="",s=0;while(s<12){u+='<span class="month">'+c[this.o.language].monthsShort[s++]+"</span>"}this.picker.find(".datepicker-months td").html(u)},setRange:function(s){if(!s||!s.length){delete this.range}else{this.range=k.map(s,function(u){return u.valueOf()})}this.fill()},getClassNames:function(v){var s=[],w=this.viewDate.getUTCFullYear(),x=this.viewDate.getUTCMonth(),u=new Date();if(v.getUTCFullYear()<w||(v.getUTCFullYear()===w&&v.getUTCMonth()<x)){s.push("old")}else{if(v.getUTCFullYear()>w||(v.getUTCFullYear()===w&&v.getUTCMonth()>x)){s.push("new")}}if(this.focusDate&&v.valueOf()===this.focusDate.valueOf()){s.push("focused")}if(this.o.todayHighlight&&v.getUTCFullYear()===u.getFullYear()&&v.getUTCMonth()===u.getMonth()&&v.getUTCDate()===u.getDate()){s.push("today")}if(this.dates.contains(v)!==-1){s.push("active")}if(v.valueOf()<this.o.startDate||v.valueOf()>this.o.endDate||k.inArray(v.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){s.push("disabled")}if(this.range){if(v>this.range[0]&&v<this.range[this.range.length-1]){s.push("range")}if(k.inArray(v.valueOf(),this.range)!==-1){s.push("selected")}}return s},fill:function(){var O=new Date(this.viewDate),D=O.getUTCFullYear(),P=O.getUTCMonth(),I=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,M=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,A=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,J=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,B=c[this.o.language].today||c.en.today||"",v=c[this.o.language].clear||c.en.clear||"",x;this.picker.find(".datepicker-days thead th.datepicker-switch").text(c[this.o.language].months[P]+" "+D);this.picker.find("tfoot th.today").text(B).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(v).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var R=o(D,P-1,28),L=n.getDaysInMonth(R.getUTCFullYear(),R.getUTCMonth());R.setUTCDate(L);R.setUTCDate(L-(R.getUTCDay()-this.o.weekStart+7)%7);var s=new Date(R);s.setUTCDate(s.getUTCDate()+42);s=s.valueOf();var C=[];var G;while(R.valueOf()<s){if(R.getUTCDay()===this.o.weekStart){C.push("<tr>");if(this.o.calendarWeeks){var u=new Date(+R+(this.o.weekStart-R.getUTCDay()-7)%7*86400000),y=new Date(Number(u)+(7+4-u.getUTCDay())%7*86400000),w=new Date(Number(w=o(y.getUTCFullYear(),0,1))+(7+4-w.getUTCDay())%7*86400000),E=(y-w)/86400000/7+1;C.push('<td class="cw">'+E+"</td>")}}G=this.getClassNames(R);G.push("day");if(this.o.beforeShowDay!==k.noop){var F=this.o.beforeShowDay(this._utc_to_local(R));if(F===g){F={}}else{if(typeof(F)==="boolean"){F={enabled:F}}else{if(typeof(F)==="string"){F={classes:F}}}}if(F.enabled===false){G.push("disabled")}if(F.classes){G=G.concat(F.classes.split(/\s+/))}if(F.tooltip){x=F.tooltip}}G=k.unique(G);C.push('<td class="'+G.join(" ")+'"'+(x?' title="'+x+'"':"")+">"+R.getUTCDate()+"</td>");if(R.getUTCDay()===this.o.weekEnd){C.push("</tr>")}R.setUTCDate(R.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(C.join(""));var z=this.picker.find(".datepicker-months").find("th:eq(1)").text(D).end().find("span").removeClass("active");k.each(this.dates,function(S,T){if(T.getUTCFullYear()===D){z.eq(T.getUTCMonth()).addClass("active")}});if(D<I||D>A){z.addClass("disabled")}if(D===I){z.slice(0,M).addClass("disabled")}if(D===A){z.slice(J+1).addClass("disabled")}C="";D=parseInt(D/10,10)*10;var Q=this.picker.find(".datepicker-years").find("th:eq(1)").text(D+"-"+(D+9)).end().find("td");D-=1;var H=k.map(this.dates,function(S){return S.getUTCFullYear()}),N;for(var K=-1;K<11;K++){N=["year"];if(K===-1){N.push("old")}else{if(K===10){N.push("new")}}if(k.inArray(D,H)!==-1){N.push("active")}if(D<I||D>A){N.push("disabled")}C+='<span class="'+N.join(" ")+'">'+D+"</span>";D+=1}Q.html(C)},updateNavArrows:function(){if(!this._allow_update){return}var v=new Date(this.viewDate),s=v.getUTCFullYear(),u=v.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&s<=this.o.startDate.getUTCFullYear()&&u<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&s>=this.o.endDate.getUTCFullYear()&&u>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&s<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&s>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(x){x.preventDefault();var y=k(x.target).closest("span, td, th"),A,z,B;if(y.length===1){switch(y[0].nodeName.toLowerCase()){case"th":switch(y[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=n.modes[this.viewMode].navStep*(y[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s);if(this.viewMode===1){this._trigger("changeYear",this.viewDate)}break}this.fill();break;case"today":var u=new Date();u=o(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0);this.showMode(-2);var v=this.o.todayBtn==="linked"?null:"view";this._setDate(u,v);break;case"clear":var w;if(this.isInput){w=this.element}else{if(this.component){w=this.element.find("input")}}if(w){w.val("").change()}this.update();this._trigger("changeDate");if(this.o.autoclose){this.hide()}break}break;case"span":if(!y.is(".disabled")){this.viewDate.setUTCDate(1);if(y.is(".month")){B=1;z=y.parent().find("span").index(y);A=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(z);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(o(A,z,B))}}else{B=1;z=0;A=parseInt(y.text(),10)||0;this.viewDate.setUTCFullYear(A);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(o(A,z,B))}}this.showMode(-1);this.fill()}break;case"td":if(y.is(".day")&&!y.is(".disabled")){B=parseInt(y.text(),10)||1;A=this.viewDate.getUTCFullYear();z=this.viewDate.getUTCMonth();if(y.is(".old")){if(z===0){z=11;A-=1}else{z-=1}}else{if(y.is(".new")){if(z===11){z=0;A+=1}else{z+=1}}}this._setDate(o(A,z,B))}break}}if(this.picker.is(":visible")&&this._focused_from){k(this._focused_from).focus()}delete this._focused_from},_toggle_multidate:function(u){var s=this.dates.contains(u);if(!u){this.dates.clear()}else{if(s!==-1){this.dates.remove(s)}else{this.dates.push(u)}}if(typeof this.o.multidate==="number"){while(this.dates.length>this.o.multidate){this.dates.remove(0)}}},_setDate:function(s,v){if(!v||v==="date"){this._toggle_multidate(s&&new Date(s))}if(!v||v==="view"){this.viewDate=s&&new Date(s)}this.fill();this.setValue();this._trigger("changeDate");var u;if(this.isInput){u=this.element}else{if(this.component){u=this.element.find("input")}}if(u){u.change()}if(this.o.autoclose&&(!v||v==="date")){this.hide()}},moveMonth:function(s,u){if(!s){return g}if(!u){return s}var x=new Date(s.valueOf()),B=x.getUTCDate(),y=x.getUTCMonth(),w=Math.abs(u),A,z;u=u>0?1:-1;if(w===1){z=u===-1?function(){return x.getUTCMonth()===y}:function(){return x.getUTCMonth()!==A};A=y+u;x.setUTCMonth(A);if(A<0||A>11){A=(A+12)%12}}else{for(var v=0;v<w;v++){x=this.moveMonth(x,u)}A=x.getUTCMonth();x.setUTCDate(B);z=function(){return A!==x.getUTCMonth()}}while(z()){x.setUTCDate(--B);x.setUTCMonth(A)}return x},moveYear:function(u,s){return this.moveMonth(u,s*12)},dateWithinRange:function(s){return s>=this.o.startDate&&s<=this.o.endDate},keydown:function(z){if(this.picker.is(":not(:visible)")){if(z.keyCode===27){this.show()}return}var v=false,u,s,x,y=this.focusDate||this.viewDate;switch(z.keyCode){case 27:if(this.focusDate){this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill()}else{this.hide()}z.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation){break}u=z.keyCode===37?-1:1;if(z.ctrlKey){s=this.moveYear(this.dates.get(-1)||h(),u);x=this.moveYear(y,u);this._trigger("changeYear",this.viewDate)}else{if(z.shiftKey){s=this.moveMonth(this.dates.get(-1)||h(),u);x=this.moveMonth(y,u);this._trigger("changeMonth",this.viewDate)}else{s=new Date(this.dates.get(-1)||h());s.setUTCDate(s.getUTCDate()+u);x=new Date(y);x.setUTCDate(y.getUTCDate()+u)}}if(this.dateWithinRange(s)){this.focusDate=this.viewDate=x;this.setValue();this.fill();z.preventDefault()}break;case 38:case 40:if(!this.o.keyboardNavigation){break}u=z.keyCode===38?-1:1;if(z.ctrlKey){s=this.moveYear(this.dates.get(-1)||h(),u);x=this.moveYear(y,u);this._trigger("changeYear",this.viewDate)}else{if(z.shiftKey){s=this.moveMonth(this.dates.get(-1)||h(),u);x=this.moveMonth(y,u);this._trigger("changeMonth",this.viewDate)}else{s=new Date(this.dates.get(-1)||h());s.setUTCDate(s.getUTCDate()+u*7);x=new Date(y);x.setUTCDate(y.getUTCDate()+u*7)}}if(this.dateWithinRange(s)){this.focusDate=this.viewDate=x;this.setValue();this.fill();z.preventDefault()}break;case 32:break;case 13:y=this.focusDate||this.dates.get(-1)||this.viewDate;this._toggle_multidate(y);v=true;this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();if(this.picker.is(":visible")){z.preventDefault();if(this.o.autoclose){this.hide()}}break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide();break}if(v){if(this.dates.length){this._trigger("changeDate")}else{this._trigger("clearDate")}var w;if(this.isInput){w=this.element}else{if(this.component){w=this.element.find("input")}}if(w){w.change()}}},showMode:function(s){if(s){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+s))}this.picker.find(">div").hide().filter(".datepicker-"+n.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var r=function(u,s){this.element=k(u);this.inputs=k.map(s.inputs,function(v){return v.jquery?v[0]:v});delete s.inputs;k(this.inputs).datepicker(s).bind("changeDate",k.proxy(this.dateUpdated,this));this.pickers=k.map(this.inputs,function(v){return k(v).data("datepicker")});this.updateDates()};r.prototype={updateDates:function(){this.dates=k.map(this.pickers,function(s){return s.getUTCDate()});this.updateRanges()},updateRanges:function(){var s=k.map(this.dates,function(u){return u.valueOf()});k.each(this.pickers,function(u,v){v.setRange(s)})},dateUpdated:function(w){if(this.updating){return}this.updating=true;var x=k(w.target).data("datepicker"),v=x.getUTCDate(),u=k.inArray(w.target,this.inputs),s=this.inputs.length;if(u===-1){return}k.each(this.pickers,function(y,z){if(!z.getUTCDate()){z.setUTCDate(v)}});if(v<this.dates[u]){while(u>=0&&v<this.dates[u]){this.pickers[u--].setUTCDate(v)}}else{if(v>this.dates[u]){while(u<s&&v>this.dates[u]){this.pickers[u++].setUTCDate(v)}}}this.updateDates();delete this.updating},remove:function(){k.map(this.pickers,function(s){s.remove()});delete this.element.data().datepicker}};function j(w,z){var y=k(w).data(),s={},x,v=new RegExp("^"+z.toLowerCase()+"([A-Z])");z=new RegExp("^"+z.toLowerCase());function A(C,B){return B.toLowerCase()}for(var u in y){if(z.test(u)){x=u.replace(v,A);s[x]=y[u]}}return s}function b(v){var s={};if(!c[v]){v=v.split("-")[0];if(!c[v]){return}}var u=c[v];k.each(q,function(x,w){if(w in u){s[w]=u[w]}});return s}var e=k.fn.datepicker;k.fn.datepicker=function(v){var s=Array.apply(null,arguments);s.shift();var u;this.each(function(){var D=k(this),B=D.data("datepicker"),x=typeof v==="object"&&v;if(!B){var z=j(this,"date"),w=k.extend({},i,z,x),y=b(w.language),A=k.extend({},i,y,z,x);if(D.is(".input-daterange")||A.inputs){var C={inputs:A.inputs||D.find("input").toArray()};D.data("datepicker",(B=new r(this,k.extend(A,C))))}else{D.data("datepicker",(B=new l(this,A)))}}if(typeof v==="string"&&typeof B[v]==="function"){u=B[v].apply(B,s);if(u!==g){return false}}});if(u!==g){return u}else{return this}};var i=k.fn.datepicker.defaults={autoclose:false,beforeShowDay:k.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,multidate:false,multidateSeparator:",",orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var q=k.fn.datepicker.locale_opts=["format","rtl","weekStart"];k.fn.datepicker.Constructor=l;var c=k.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var n={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(s){return(((s%4===0)&&(s%100!==0))||(s%400===0))},getDaysInMonth:function(s,u){return[31,(n.isLeapYear(s)?29:28),31,30,31,30,31,31,30,31,30,31][u]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(v){var s=v.replace(this.validParts,"\0").split("\0"),u=v.match(this.validParts);if(!s||!s.length||!u||u.length===0){throw new Error("Invalid date format.")}return{separators:s,parts:u}},parseDate:function(K,H,E){if(!K){return g}if(K instanceof Date){return K}if(typeof H==="string"){H=n.parseFormat(H)}var w=/([\-+]\d+)([dmwy])/,C=K.match(/([\-+]\d+)([dmwy])/g),D,B,G;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(K)){K=new Date();for(G=0;G<C.length;G++){D=w.exec(C[G]);B=parseInt(D[1]);switch(D[2]){case"d":K.setUTCDate(K.getUTCDate()+B);break;case"m":K=l.prototype.moveMonth.call(l.prototype,K,B);break;case"w":K.setUTCDate(K.getUTCDate()+B*7);break;case"y":K=l.prototype.moveYear.call(l.prototype,K,B);break}}return o(K.getUTCFullYear(),K.getUTCMonth(),K.getUTCDate(),0,0,0)}C=K&&K.match(this.nonpunctuation)||[];K=new Date();var x={},I=["yyyy","yy","M","MM","m","mm","d","dd"],A={yyyy:function(M,s){return M.setUTCFullYear(s)},yy:function(M,s){return M.setUTCFullYear(2000+s)},m:function(M,s){if(isNaN(M)){return M}s-=1;while(s<0){s+=12}s%=12;M.setUTCMonth(s);while(M.getUTCMonth()!==s){M.setUTCDate(M.getUTCDate()-1)}return M},d:function(M,s){return M.setUTCDate(s)}},L,v;A.M=A.MM=A.mm=A.m;A.dd=A.d;K=o(K.getFullYear(),K.getMonth(),K.getDate(),0,0,0);var u=H.parts.slice();if(C.length!==u.length){u=k(u).filter(function(s,M){return k.inArray(M,I)!==-1}).toArray()}function J(){var s=this.slice(0,C[G].length),M=C[G].slice(0,s.length);return s===M}if(C.length===u.length){var F;for(G=0,F=u.length;G<F;G++){L=parseInt(C[G],10);D=u[G];if(isNaN(L)){switch(D){case"MM":v=k(c[E].months).filter(J);L=k.inArray(v[0],c[E].months)+1;break;case"M":v=k(c[E].monthsShort).filter(J);L=k.inArray(v[0],c[E].monthsShort)+1;break}}x[D]=L}var y,z;for(G=0;G<I.length;G++){z=I[G];if(z in x&&!isNaN(x[z])){y=new Date(K);A[z](y,x[z]);if(!isNaN(y)){K=y}}}}return K},formatDate:function(s,x,z){if(!s){return""}if(typeof x==="string"){x=n.parseFormat(x)}var y={d:s.getUTCDate(),D:c[z].daysShort[s.getUTCDay()],DD:c[z].days[s.getUTCDay()],m:s.getUTCMonth()+1,M:c[z].monthsShort[s.getUTCMonth()],MM:c[z].months[s.getUTCMonth()],yy:s.getUTCFullYear().toString().substring(2),yyyy:s.getUTCFullYear()};y.dd=(y.d<10?"0":"")+y.d;y.mm=(y.m<10?"0":"")+y.m;s=[];var w=k.extend([],x.separators);for(var v=0,u=x.parts.length;v<=u;v++){if(w.length){s.push(w.shift())}s.push(y[x.parts[v]])}return s.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};n.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+n.headTemplate+"<tbody></tbody>"+n.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+n.headTemplate+n.contTemplate+n.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+n.headTemplate+n.contTemplate+n.footTemplate+"</table></div></div>";k.fn.datepicker.DPGlobal=n;k.fn.datepicker.noConflict=function(){k.fn.datepicker=e;return this};k(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(u){var s=k(this);if(s.data("datepicker")){return}u.preventDefault();s.datepicker("show")});k(function(){k('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery));
/*!
 * Timepicker Component for Twitter Bootstrap
 *
 * Copyright 2013 Joris de Wit
 *
 * Contributors https://github.com/jdewit/bootstrap-timepicker/graphs/contributors
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */
(function(e,d,b,f){var c=function(h,g){this.widget="";this.$element=e(h);this.defaultTime=g.defaultTime;this.disableFocus=g.disableFocus;this.disableMousewheel=g.disableMousewheel;this.isOpen=g.isOpen;this.minuteStep=g.minuteStep;this.modalBackdrop=g.modalBackdrop;this.orientation=g.orientation;this.secondStep=g.secondStep;this.showInputs=g.showInputs;this.showMeridian=g.showMeridian;this.showSeconds=g.showSeconds;this.template=g.template;this.appendWidgetTo=g.appendWidgetTo;this.showWidgetOnAddonClick=g.showWidgetOnAddonClick;this._init()};c.prototype={constructor:c,_init:function(){var g=this;if(this.showWidgetOnAddonClick&&(this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend"))){this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":e.proxy(this.showWidget,this)});this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)})}else{if(this.template){this.$element.on({"focus.timepicker":e.proxy(this.showWidget,this),"click.timepicker":e.proxy(this.showWidget,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)})}else{this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)})}}if(this.template!==false){this.$widget=e(this.getTemplate()).on("click",e.proxy(this.widgetClick,this))}else{this.$widget=false}if(this.showInputs&&this.$widget!==false){this.$widget.find("input").each(function(){e(this).on({"click.timepicker":function(){e(this).select()},"keydown.timepicker":e.proxy(g.widgetKeydown,g),"keyup.timepicker":e.proxy(g.widgetKeyup,g)})})}this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null;this.updateFromElementVal()},clear:function(){this.hour="";this.minute="";this.second="";this.meridian="";this.$element.val("")},decrementHour:function(){if(this.showMeridian){if(this.hour===1){this.hour=12}else{if(this.hour===12){this.hour--;return this.toggleMeridian()}else{if(this.hour===0){this.hour=11;return this.toggleMeridian()}else{this.hour--}}}}else{if(this.hour<=0){this.hour=23}else{this.hour--}}},decrementMinute:function(h){var g;if(h){g=this.minute-h}else{g=this.minute-this.minuteStep}if(g<0){this.decrementHour();this.minute=g+60}else{this.minute=g}},decrementSecond:function(){var g=this.second-this.secondStep;if(g<0){this.decrementMinute(true);this.second=g+60}else{this.second=g}},elementKeydown:function(g){switch(g.keyCode){case 9:case 27:this.updateFromElementVal();break;case 37:g.preventDefault();this.highlightPrevUnit();break;case 38:g.preventDefault();switch(this.highlightedUnit){case"hour":this.incrementHour();this.highlightHour();break;case"minute":this.incrementMinute();this.highlightMinute();break;case"second":this.incrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break}this.update();break;case 39:g.preventDefault();this.highlightNextUnit();break;case 40:g.preventDefault();switch(this.highlightedUnit){case"hour":this.decrementHour();this.highlightHour();break;case"minute":this.decrementMinute();this.highlightMinute();break;case"second":this.decrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break}this.update();break}},getCursorPosition:function(){var h=this.$element.get(0);if("selectionStart" in h){return h.selectionStart}else{if(b.selection){h.focus();var i=b.selection.createRange(),g=b.selection.createRange().text.length;i.moveStart("character",-h.value.length);return i.text.length-g}}},getTemplate:function(){var i,k,h,g,j,l;if(this.showInputs){k='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>';h='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>';g='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>';j='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'}else{k='<span class="bootstrap-timepicker-hour"></span>';h='<span class="bootstrap-timepicker-minute"></span>';g='<span class="bootstrap-timepicker-second"></span>';j='<span class="bootstrap-timepicker-meridian"></span>'}l='<table><tr><td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="icon-chevron-up"></i></a></td>':"")+"</tr><tr><td>"+k+'</td> <td class="separator">:</td><td>'+h+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+g+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+j+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="icon-chevron-down"></i></a></td>':"")+"</tr></table>";switch(this.template){case"modal":i='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">×</a><h3>Pick a Time</h3></div><div class="modal-content">'+l+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>';break;case"dropdown":i='<div class="bootstrap-timepicker-widget dropdown-menu">'+l+"</div>";break}return i},getTime:function(){if(this.hour===""){return""}return this.hour+":"+(this.minute.toString().length===1?"0"+this.minute:this.minute)+(this.showSeconds?":"+(this.second.toString().length===1?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){if(this.isOpen===false){return}this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});if(this.template==="modal"&&this.$widget.modal){this.$widget.modal("hide")}else{this.$widget.removeClass("open")}e(b).off("mousedown.timepicker, touchend.timepicker");this.isOpen=false;this.$widget.detach()},highlightUnit:function(){this.position=this.getCursorPosition();if(this.position>=0&&this.position<=2){this.highlightHour()}else{if(this.position>=3&&this.position<=5){this.highlightMinute()}else{if(this.position>=6&&this.position<=8){if(this.showSeconds){this.highlightSecond()}else{this.highlightMeridian()}}else{if(this.position>=9&&this.position<=11){this.highlightMeridian()}}}}},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":if(this.showSeconds){this.highlightSecond()}else{if(this.showMeridian){this.highlightMeridian()}else{this.highlightHour()}}break;case"second":if(this.showMeridian){this.highlightMeridian()}else{this.highlightHour()}break;case"meridian":this.highlightHour();break}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":if(this.showMeridian){this.highlightMeridian()}else{if(this.showSeconds){this.highlightSecond()}else{this.highlightMinute()}}break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":if(this.showSeconds){this.highlightSecond()}else{this.highlightMinute()}break}},highlightHour:function(){var g=this.$element.get(0),h=this;this.highlightedUnit="hour";if(g.setSelectionRange){setTimeout(function(){if(h.hour<10){g.setSelectionRange(0,1)}else{g.setSelectionRange(0,2)}},0)}},highlightMinute:function(){var g=this.$element.get(0),h=this;this.highlightedUnit="minute";if(g.setSelectionRange){setTimeout(function(){if(h.hour<10){g.setSelectionRange(2,4)}else{g.setSelectionRange(3,5)}},0)}},highlightSecond:function(){var g=this.$element.get(0),h=this;this.highlightedUnit="second";if(g.setSelectionRange){setTimeout(function(){if(h.hour<10){g.setSelectionRange(5,7)}else{g.setSelectionRange(6,8)}},0)}},highlightMeridian:function(){var g=this.$element.get(0),h=this;this.highlightedUnit="meridian";if(g.setSelectionRange){if(this.showSeconds){setTimeout(function(){if(h.hour<10){g.setSelectionRange(8,10)}else{g.setSelectionRange(9,11)}},0)}else{setTimeout(function(){if(h.hour<10){g.setSelectionRange(5,7)}else{g.setSelectionRange(6,8)}},0)}}},incrementHour:function(){if(this.showMeridian){if(this.hour===11){this.hour++;return this.toggleMeridian()}else{if(this.hour===12){this.hour=0}}}if(this.hour===23){this.hour=0;return}this.hour++},incrementMinute:function(h){var g;if(h){g=this.minute+h}else{g=this.minute+this.minuteStep-(this.minute%this.minuteStep)}if(g>59){this.incrementHour();this.minute=g-60}else{this.minute=g}},incrementSecond:function(){var g=this.second+this.secondStep-(this.second%this.secondStep);if(g>59){this.incrementMinute(true);this.second=g-60}else{this.second=g}},mousewheel:function(h){if(this.disableMousewheel){return}h.preventDefault();h.stopPropagation();var i=h.originalEvent.wheelDelta||-h.originalEvent.detail,g=null;if(h.type==="mousewheel"){g=(h.originalEvent.wheelDelta*-1)}else{if(h.type==="DOMMouseScroll"){g=40*h.originalEvent.detail}}if(g){h.preventDefault();e(this).scrollTop(g+e(this).scrollTop())}switch(this.highlightedUnit){case"minute":if(i>0){this.incrementMinute()}else{this.decrementMinute()}this.highlightMinute();break;case"second":if(i>0){this.incrementSecond()}else{this.decrementSecond()}this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break;default:if(i>0){this.incrementHour()}else{this.decrementHour()}this.highlightHour();break}return false},place:function(){if(this.isInline){return}var i=this.$widget.outerWidth(),q=this.$widget.outerHeight(),k=10,m=e(d).width(),h=e(d).height(),l=e(d).scrollTop();var u=parseInt(this.$element.parents().filter(function(){}).first().css("z-index"),10)+10;var o=this.component?this.component.parent().offset():this.$element.offset();var v=this.component?this.component.outerHeight(true):this.$element.outerHeight(false);var j=this.component?this.component.outerWidth(true):this.$element.outerWidth(false);var n=o.left,s=o.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left");if(this.orientation.x!=="auto"){this.$widget.addClass("timepicker-orient-"+this.orientation.x);if(this.orientation.x==="right"){n-=i-j}}else{this.$widget.addClass("timepicker-orient-left");if(o.left<0){n-=o.left-k}else{if(o.left+i>m){n=m-i-k}}}var g=this.orientation.y,r,w;if(g==="auto"){r=-l+o.top-q;w=l+h-(o.top+v+q);if(Math.max(r,w)===w){g="top"}else{g="bottom"}}this.$widget.addClass("timepicker-orient-"+g);if(g==="top"){s+=v}else{s-=q+parseInt(this.$widget.css("padding-top"),10)}this.$widget.css({top:s,left:n,zIndex:u})},remove:function(){e("document").off(".timepicker");if(this.$widget){this.$widget.remove()}delete this.$element.data().timepicker},setDefaultTime:function(i){if(!this.$element.val()){if(i==="current"){var g=new Date(),h=g.getHours(),k=g.getMinutes(),l=g.getSeconds(),j="AM";if(l!==0){l=Math.ceil(g.getSeconds()/this.secondStep)*this.secondStep;if(l===60){k+=1;l=0}}if(k!==0){k=Math.ceil(g.getMinutes()/this.minuteStep)*this.minuteStep;if(k===60){h+=1;k=0}}if(this.showMeridian){if(h===0){h=12}else{if(h>=12){if(h>12){h=h-12}j="PM"}else{j="AM"}}}this.hour=h;this.minute=k;this.second=l;this.meridian=j;this.update()}else{if(i===false){this.hour=0;this.minute=0;this.second=0;this.meridian="AM"}else{this.setTime(i)}}}else{this.updateFromElementVal()}},setTime:function(l,j){if(!l){this.clear();return}var k,g,m,h,i;if(typeof l==="object"&&l.getMonth){g=l.getHours();m=l.getMinutes();h=l.getSeconds();if(this.showMeridian){i="AM";if(g>12){i="PM";g=g%12}if(g===12){i="PM"}}}else{if(l.match(/p/i)!==null){i="PM"}else{i="AM"}l=l.replace(/[^0-9\:]/g,"");k=l.split(":");g=k[0]?k[0].toString():k.toString();m=k[1]?k[1].toString():"";h=k[2]?k[2].toString():"";if(g.length>4){h=g.substr(4,2)}if(g.length>2){m=g.substr(2,2);g=g.substr(0,2)}if(m.length>2){h=m.substr(2,2);m=m.substr(0,2)}if(h.length>2){h=h.substr(2,2)}g=parseInt(g,10);m=parseInt(m,10);h=parseInt(h,10);if(isNaN(g)){g=0}if(isNaN(m)){m=0}if(isNaN(h)){h=0}if(this.showMeridian){if(g<1){g=1}else{if(g>12){g=12}}}else{if(g>=24){g=23}else{if(g<0){g=0}}if(g<13&&i==="PM"){g=g+12}}if(m<0){m=0}else{if(m>=60){m=59}}if(this.showSeconds){if(isNaN(h)){h=0}else{if(h<0){h=0}else{if(h>=60){h=59}}}}}this.hour=g;this.minute=m;this.second=h;this.meridian=i;this.update(j)},showWidget:function(){if(this.isOpen){return}if(this.$element.is(":disabled")){return}this.$widget.appendTo(this.appendWidgetTo);var g=this;e(b).on("mousedown.timepicker, touchend.timepicker",function(h){if(!(g.$element.parent().find(h.target).length||g.$widget.is(h.target)||g.$widget.find(h.target).length)){g.hideWidget()}});this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});if(this.template!=="modal"){this.place()}if(this.disableFocus){this.$element.blur()}if(this.hour===""){if(this.defaultTime){this.setDefaultTime(this.defaultTime)}else{this.setTime("0:0:0")}}if(this.template==="modal"&&this.$widget.modal){this.$widget.modal("show").on("hidden",e.proxy(this.hideWidget,this))}else{if(this.isOpen===false){this.$widget.addClass("open")}}this.isOpen=true},toggleMeridian:function(){this.meridian=this.meridian==="AM"?"PM":"AM"},update:function(g){this.updateElement();if(!g){this.updateWidget()}this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget===false){return}var g=this.hour,i=this.minute.toString().length===1?"0"+this.minute:this.minute,h=this.second.toString().length===1?"0"+this.second:this.second;if(this.showInputs){this.$widget.find("input.bootstrap-timepicker-hour").val(g);this.$widget.find("input.bootstrap-timepicker-minute").val(i);if(this.showSeconds){this.$widget.find("input.bootstrap-timepicker-second").val(h)}if(this.showMeridian){this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)}}else{this.$widget.find("span.bootstrap-timepicker-hour").text(g);this.$widget.find("span.bootstrap-timepicker-minute").text(i);if(this.showSeconds){this.$widget.find("span.bootstrap-timepicker-second").text(h)}if(this.showMeridian){this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian)}}},updateFromWidgetInputs:function(){if(this.$widget===false){return}var g=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(g,true)},widgetClick:function(h){h.stopPropagation();h.preventDefault();var i=e(h.target),g=i.closest("a").data("action");if(g){this[g]()}this.update();if(i.is("input")){i.get(0).setSelectionRange(0,2)}},widgetKeydown:function(h){var i=e(h.target),g=i.attr("class").replace("bootstrap-timepicker-","");switch(h.keyCode){case 9:if((this.showMeridian&&g==="meridian")||(this.showSeconds&&g==="second")||(!this.showMeridian&&!this.showSeconds&&g==="minute")){return this.hideWidget()}break;case 27:this.hideWidget();break;case 38:h.preventDefault();switch(g){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian();break}this.setTime(this.getTime());i.get(0).setSelectionRange(0,2);break;case 40:h.preventDefault();switch(g){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian();break}this.setTime(this.getTime());i.get(0).setSelectionRange(0,2);break}},widgetKeyup:function(g){if((g.keyCode===65)||(g.keyCode===77)||(g.keyCode===80)||(g.keyCode===46)||(g.keyCode===8)||(g.keyCode>=46&&g.keyCode<=57)){this.updateFromWidgetInputs()}}};e.fn.timepicker=function(h){var g=Array.apply(null,arguments);g.shift();return this.each(function(){var k=e(this),j=k.data("timepicker"),i=typeof h==="object"&&h;if(!j){k.data("timepicker",(j=new c(this,e.extend({},e.fn.timepicker.defaults,i,e(this).data()))))}if(typeof h==="string"){j[h].apply(j,g)}})};e.fn.timepicker.defaults={defaultTime:"current",disableFocus:false,disableMousewheel:false,isOpen:false,minuteStep:15,modalBackdrop:false,orientation:{x:"auto",y:"auto"},secondStep:15,showSeconds:false,showInputs:true,showMeridian:true,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:true};e.fn.timepicker.Constructor=c})(jQuery,window,document);!function(d){var c=(function(){var i=[];var e=false;var h;var f=function(j){clearTimeout(h);h=setTimeout(g,100)};var g=function(){for(var k=0,j=i.length;k<j;k++){i[k].apply()}};return{register:function(j){i.push(j);if(e===false){d(window).bind("resize",f);e=true}},unregister:function(l){for(var k=0,j=i.length;k<j;k++){if(i[k]==l){delete i[k];break}}}}}());var b=function(f,e){this.element=d(f);this.dropdown=d('<li class="dropdown hide pull-right tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="#">'+e.text+' <b class="caret"></b></a><ul class="dropdown-menu"></ul></li>').prependTo(this.element);if(this.element.parent().is(".tabs-below")){this.dropdown.addClass("dropup")}c.register(d.proxy(this.layout,this));this.layout()};b.prototype={constructor:b,layout:function(){var e=[];this.dropdown.removeClass("hide");this.element.append(this.dropdown.find("li")).find(">li").not(".tabdrop").each(function(){if(this.offsetTop>0){e.push(this)}});if(e.length>0){e=d(e);this.dropdown.find("ul").empty().append(e);if(this.dropdown.find(".active").length==1){this.dropdown.addClass("active")}else{this.dropdown.removeClass("active")}}else{this.dropdown.addClass("hide")}}};d.fn.tabdrop=function(e){return this.each(function(){var h=d(this),g=h.data("tabdrop"),f=typeof e==="object"&&e;if(!g){h.data("tabdrop",(g=new b(this,d.extend({},d.fn.tabdrop.defaults,f))))}if(typeof e=="string"){g[e]()}})};d.fn.tabdrop.defaults={text:'<i class="icon-align-justify"></i>'};d.fn.tabdrop.Constructor=b}(window.jQuery);if(jQuery){(function(g){g.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",hide:null,hideSpeed:100,inline:false,letterCase:"lowercase",opacity:false,position:"bottom left",show:null,showSpeed:100,theme:"default"}};g.extend(g.fn,{minicolors:function(y,x){switch(y){case"destroy":g(this).each(function(){w(g(this))});return g(this);case"hide":l();return g(this);case"opacity":if(x===undefined){return g(this).attr("data-opacity")}else{g(this).each(function(){c(g(this).attr("data-opacity",x))})}return g(this);case"rgbObject":return j(g(this),y==="rgbaObject");case"rgbString":case"rgbaString":return k(g(this),y==="rgbaString");case"settings":if(x===undefined){return g(this).data("minicolors-settings")}else{g(this).each(function(){var z=g(this).data("minicolors-settings")||{};w(g(this));g(this).minicolors(g.extend(true,z,x))})}return g(this);case"show":v(g(this).eq(0));return g(this);case"value":if(x===undefined){return g(this).val()}else{g(this).each(function(){c(g(this).val(x))})}return g(this);default:if(y!=="create"){x=y}g(this).each(function(){r(g(this),x)});return g(this)}}});function r(x,y){var A=g('<div class="minicolors" />'),z=g.minicolors.defaults;if(x.data("minicolors-initialized")){return}y=g.extend(true,{},z,y);A.addClass("minicolors-theme-"+y.theme).toggleClass("minicolors-with-opacity",y.opacity);if(y.position!==undefined){g.each(y.position.split(" "),function(){A.addClass("minicolors-position-"+this)})}x.addClass("minicolors-input").data("minicolors-initialized",false).data("minicolors-settings",y).prop("size",7).wrap(A).after('<div class="minicolors-panel minicolors-slider-'+y.control+'"><div class="minicolors-slider"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider"><div class="minicolors-picker"></div></div><div class="minicolors-grid"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>');if(!y.inline){x.after('<span class="minicolors-swatch"><span class="minicolors-swatch-color"></span></span>');x.next(".minicolors-swatch").on("click",function(B){B.preventDefault();x.focus()})}x.parent().find(".minicolors-panel").on("selectstart",function(){return false}).end();if(y.inline){x.parent().addClass("minicolors-inline")}c(x,false);x.data("minicolors-initialized",true)}function w(x){var y=x.parent();x.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input");y.before(x).remove()}function v(y){var A=y.parent(),x=A.find(".minicolors-panel"),z=y.data("minicolors-settings");if(!y.data("minicolors-initialized")||y.prop("disabled")||A.hasClass("minicolors-inline")||A.hasClass("minicolors-focus")){return}l();A.addClass("minicolors-focus");x.stop(true,true).fadeIn(z.showSpeed,function(){if(z.show){z.show.call(y.get(0))}})}function l(){g(".minicolors-focus").each(function(){var A=g(this),y=A.find(".minicolors-input"),x=A.find(".minicolors-panel"),z=y.data("minicolors-settings");x.fadeOut(z.hideSpeed,function(){if(z.hide){z.hide.call(y.get(0))}A.removeClass("minicolors-focus")})})}function q(K,A,B){var N=K.parents(".minicolors").find(".minicolors-input"),C=N.data("minicolors-settings"),I=K.find("[class$=-picker]"),H=K.offset().left,G=K.offset().top,M=Math.round(A.pageX-H),L=Math.round(A.pageY-G),E=B?C.animationSpeed:0,F,D,z,J;if(A.originalEvent.changedTouches){M=A.originalEvent.changedTouches[0].pageX-H;L=A.originalEvent.changedTouches[0].pageY-G}if(M<0){M=0}if(L<0){L=0}if(M>K.width()){M=K.width()}if(L>K.height()){L=K.height()}if(K.parent().is(".minicolors-slider-wheel")&&I.parent().is(".minicolors-grid")){F=75-M;D=75-L;z=Math.sqrt(F*F+D*D);J=Math.atan2(D,F);if(J<0){J+=Math.PI*2}if(z>75){z=75;M=75-(75*Math.cos(J));L=75-(75*Math.sin(J))}M=Math.round(M);L=Math.round(L)}if(K.is(".minicolors-grid")){I.stop(true).animate({top:L+"px",left:M+"px"},E,C.animationEasing,function(){i(N,K)})}else{I.stop(true).animate({top:L+"px"},E,C.animationEasing,function(){i(N,K)})}}function i(P,W){function S(y,x){var Y,X;if(!y.length||!x){return null}Y=y.offset().left;X=y.offset().top;return{x:Y-x.offset().left+(y.outerWidth()/2),y:X-x.offset().top+(y.outerHeight()/2)}}var G,H,V,N,M,Q,D,K=P.val(),E=P.attr("data-opacity"),F=P.parent(),U=P.data("minicolors-settings"),R=F.find(".minicolors-swatch"),z=F.find(".minicolors-grid"),T=F.find(".minicolors-slider"),J=F.find(".minicolors-opacity-slider"),I=z.find("[class$=-picker]"),O=T.find("[class$=-picker]"),C=J.find("[class$=-picker]"),B=S(I,z),A=S(O,T),L=S(C,J);if(W.is(".minicolors-grid, .minicolors-slider")){switch(U.control){case"wheel":N=(z.width()/2)-B.x;M=(z.height()/2)-B.y;Q=Math.sqrt(N*N+M*M);D=Math.atan2(M,N);if(D<0){D+=Math.PI*2}if(Q>75){Q=75;B.x=69-(75*Math.cos(D));B.y=69-(75*Math.sin(D))}H=n(Q/0.75,0,100);G=n(D*180/Math.PI,0,360);V=n(100-Math.floor(A.y*(100/T.height())),0,100);K=d({h:G,s:H,b:V});T.css("backgroundColor",d({h:G,s:H,b:100}));break;case"saturation":G=n(parseInt(B.x*(360/z.width()),10),0,360);H=n(100-Math.floor(A.y*(100/T.height())),0,100);V=n(100-Math.floor(B.y*(100/z.height())),0,100);K=d({h:G,s:H,b:V});T.css("backgroundColor",d({h:G,s:100,b:V}));F.find(".minicolors-grid-inner").css("opacity",H/100);break;case"brightness":G=n(parseInt(B.x*(360/z.width()),10),0,360);H=n(100-Math.floor(B.y*(100/z.height())),0,100);V=n(100-Math.floor(A.y*(100/T.height())),0,100);K=d({h:G,s:H,b:V});T.css("backgroundColor",d({h:G,s:H,b:100}));F.find(".minicolors-grid-inner").css("opacity",1-(V/100));break;default:G=n(360-parseInt(A.y*(360/T.height()),10),0,360);H=n(Math.floor(B.x*(100/z.width())),0,100);V=n(100-Math.floor(B.y*(100/z.height())),0,100);K=d({h:G,s:H,b:V});z.css("backgroundColor",d({h:G,s:100,b:100}));break}P.val(m(K,U.letterCase))}if(W.is(".minicolors-opacity-slider")){if(U.opacity){E=parseFloat(1-(L.y/J.height())).toFixed(2)}else{E=1}if(U.opacity){P.attr("data-opacity",E)}}R.find("SPAN").css({backgroundColor:K,opacity:E});f(P,K,E)}function c(K,L){var F,N,C,I,H,M,B,D=K.parent(),Q=K.data("minicolors-settings"),O=D.find(".minicolors-swatch"),z=D.find(".minicolors-grid"),P=D.find(".minicolors-slider"),G=D.find(".minicolors-opacity-slider"),E=z.find("[class$=-picker]"),J=P.find("[class$=-picker]"),A=G.find("[class$=-picker]");F=m(s(K.val(),true),Q.letterCase);if(!F){F=m(s(Q.defaultValue,true),Q.letterCase)}N=e(F);if(!L){K.val(F)}if(Q.opacity){C=K.attr("data-opacity")===""?1:n(parseFloat(K.attr("data-opacity")).toFixed(2),0,1);if(isNaN(C)){C=1}K.attr("data-opacity",C);O.find("SPAN").css("opacity",C);H=n(G.height()-(G.height()*C),0,G.height());A.css("top",H+"px")}O.find("SPAN").css("backgroundColor",F);switch(Q.control){case"wheel":M=n(Math.ceil(N.s*0.75),0,z.height()/2);B=N.h*Math.PI/180;I=n(75-Math.cos(B)*M,0,z.width());H=n(75-Math.sin(B)*M,0,z.height());E.css({top:H+"px",left:I+"px"});H=150-(N.b/(100/z.height()));if(F===""){H=0}J.css("top",H+"px");P.css("backgroundColor",d({h:N.h,s:N.s,b:100}));break;case"saturation":I=n((5*N.h)/12,0,150);H=n(z.height()-Math.ceil(N.b/(100/z.height())),0,z.height());E.css({top:H+"px",left:I+"px"});H=n(P.height()-(N.s*(P.height()/100)),0,P.height());J.css("top",H+"px");P.css("backgroundColor",d({h:N.h,s:100,b:N.b}));D.find(".minicolors-grid-inner").css("opacity",N.s/100);break;case"brightness":I=n((5*N.h)/12,0,150);H=n(z.height()-Math.ceil(N.s/(100/z.height())),0,z.height());E.css({top:H+"px",left:I+"px"});H=n(P.height()-(N.b*(P.height()/100)),0,P.height());J.css("top",H+"px");P.css("backgroundColor",d({h:N.h,s:N.s,b:100}));D.find(".minicolors-grid-inner").css("opacity",1-(N.b/100));break;default:I=n(Math.ceil(N.s/(100/z.width())),0,z.width());H=n(z.height()-Math.ceil(N.b/(100/z.height())),0,z.height());E.css({top:H+"px",left:I+"px"});H=n(P.height()-(N.h/(360/P.height())),0,P.height());J.css("top",H+"px");z.css("backgroundColor",d({h:N.h,s:100,b:100}));break}if(K.data("minicolors-initialized")){f(K,F,C)}}function f(x,B,y){var z=x.data("minicolors-settings"),A=x.data("minicolors-lastChange");if(!A||A.hex!==B||A.opacity!==y){x.data("minicolors-lastChange",{hex:B,opacity:y});if(z.change){if(z.changeDelay){clearTimeout(x.data("minicolors-changeTimeout"));x.data("minicolors-changeTimeout",setTimeout(function(){z.change.call(x.get(0),B,y)},z.changeDelay))}else{z.change.call(x.get(0),B,y)}}x.trigger("change").trigger("input")}}function j(x){var A=s(g(x).val(),true),z=o(A),y=g(x).attr("data-opacity");if(!z){return null}if(y!==undefined){g.extend(z,{a:parseFloat(y)})}return z}function k(x,B){var A=s(g(x).val(),true),z=o(A),y=g(x).attr("data-opacity");if(!z){return null}if(y===undefined){y=1}if(B){return"rgba("+z.r+", "+z.g+", "+z.b+", "+parseFloat(y)+")"}else{return"rgb("+z.r+", "+z.g+", "+z.b+")"}}function m(x,y){return y==="uppercase"?x.toUpperCase():x.toLowerCase()}function s(x,y){x=x.replace(/[^A-F0-9]/ig,"");if(x.length!==3&&x.length!==6){return""}if(x.length===3&&y){x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]}return"#"+x}function n(z,y,x){if(z<y){z=y}if(z>x){z=x}return z}function u(x){var z={};var D=Math.round(x.h);var C=Math.round(x.s*255/100);var y=Math.round(x.b*255/100);if(C===0){z.r=z.g=z.b=y}else{var E=y;var B=(255-C)*y/255;var A=(E-B)*(D%60)/60;if(D===360){D=0}if(D<60){z.r=E;z.b=B;z.g=B+A}else{if(D<120){z.g=E;z.b=B;z.r=E-A}else{if(D<180){z.g=E;z.r=B;z.b=B+A}else{if(D<240){z.b=E;z.r=B;z.g=E-A}else{if(D<300){z.b=E;z.g=B;z.r=B+A}else{if(D<360){z.r=E;z.g=B;z.b=E-A}else{z.r=0;z.g=0;z.b=0}}}}}}}return{r:Math.round(z.r),g:Math.round(z.g),b:Math.round(z.b)}}function b(x){var y=[x.r.toString(16),x.g.toString(16),x.b.toString(16)];g.each(y,function(z,A){if(A.length===1){y[z]="0"+A}});return"#"+y.join("")}function d(x){return b(u(x))}function e(y){var x=h(o(y));if(x.s===0){x.h=360}return x}function h(z){var y={h:0,s:0,b:0};var A=Math.min(z.r,z.g,z.b);var x=Math.max(z.r,z.g,z.b);var B=x-A;y.b=x;y.s=x!==0?255*B/x:0;if(y.s!==0){if(z.r===x){y.h=(z.g-z.b)/B}else{if(z.g===x){y.h=2+(z.b-z.r)/B}else{y.h=4+(z.r-z.g)/B}}}else{y.h=-1}y.h*=60;if(y.h<0){y.h+=360}y.s*=100/255;y.b*=100/255;return y}function o(x){x=parseInt(((x.indexOf("#")>-1)?x.substring(1):x),16);return{r:x>>16,g:(x&65280)>>8,b:(x&255)}}g(document).on("mousedown.minicolors touchstart.minicolors",function(x){if(!g(x.target).parents().add(x.target).hasClass("minicolors")){l()}}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(x){var y=g(this);x.preventDefault();g(document).data("minicolors-target",y);q(y,x,true)}).on("mousemove.minicolors touchmove.minicolors",function(x){var y=g(document).data("minicolors-target");if(y){q(y,x)}}).on("mouseup.minicolors touchend.minicolors",function(){g(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(y){var x=g(this).parent().find(".minicolors-input");y.preventDefault();v(x)}).on("focus.minicolors",".minicolors-input",function(){var x=g(this);if(!x.data("minicolors-initialized")){return}v(x)}).on("blur.minicolors",".minicolors-input",function(){var x=g(this),y=x.data("minicolors-settings");if(!x.data("minicolors-initialized")){return}x.val(s(x.val(),true));if(x.val()===""){x.val(s(y.defaultValue,true))}x.val(m(x.val(),y.letterCase))}).on("keydown.minicolors",".minicolors-input",function(y){var x=g(this);if(!x.data("minicolors-initialized")){return}switch(y.keyCode){case 9:l();break;case 13:case 27:l();x.blur();break}}).on("keyup.minicolors",".minicolors-input",function(){var x=g(this);if(!x.data("minicolors-initialized")){return}c(x,true)}).on("paste.minicolors",".minicolors-input",function(){var x=g(this);if(!x.data("minicolors-initialized")){return}setTimeout(function(){c(x,true)},1)})})(jQuery)}!function(g){function i(){var k=document.createElement("input"),j="onpaste";return k.setAttribute(j,""),"function"==typeof k[j]?"paste":"input"}var h,d=i()+".mask",f=navigator.userAgent,e=/iphone/i.test(f),b=/chrome/i.test(f),c=/android/i.test(f);g.mask={definitions:{"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},g.fn.extend({caret:function(l,j){var k;if(0!==this.length&&!this.is(":hidden")){return"number"==typeof l?(j="number"==typeof j?j:l,this.each(function(){this.setSelectionRange?this.setSelectionRange(l,j):this.createTextRange&&(k=this.createTextRange(),k.collapse(!0),k.moveEnd("character",j),k.moveStart("character",l),k.select())})):(this[0].setSelectionRange?(l=this[0].selectionStart,j=this[0].selectionEnd):document.selection&&document.selection.createRange&&(k=document.selection.createRange(),l=0-k.duplicate().moveStart("character",-100000),j=l+k.text.length),{begin:l,end:j})}},unmask:function(){return this.trigger("unmask")},mask:function(l,q){var m,k,o,r,n,j;return !l&&this.length>0?(m=g(this[0]),m.data(g.mask.dataName)()):(q=g.extend({autoclear:g.mask.autoclear,placeholder:g.mask.placeholder,completed:null},q),k=g.mask.definitions,o=[],r=j=l.length,n=null,g.each(l.split(""),function(s,u){"?"==u?(j--,r=s):k[u]?(o.push(new RegExp(k[u])),null===n&&(n=o.length-1)):o.push(null)}),this.trigger("unmask").each(function(){function C(G){for(;++G<j&&!o[G];){}return G}function y(G){for(;--G>=0&&!o[G];){}return G}function w(J,G){var I,H;if(!(0>J)){for(I=J,H=C(G);j>I;I++){if(o[I]){if(!(j>H&&o[I].test(x[H]))){break}x[I]=x[H],x[H]=q.placeholder,H=C(H)}}B(),D.caret(Math.max(n,J))}}function s(K){var I,J,G,H;for(I=K,J=q.placeholder;j>I;I++){if(o[I]){if(G=C(I),H=x[I],x[I]=J,!(j>G&&o[G].test(H))){break}J=H}}}function z(J){var K,I,G,H=J.which;8===H||46===H||e&&127===H?(K=D.caret(),I=K.begin,G=K.end,0===G-I&&(I=46!==H?y(I):G=C(I-1),G=46===H?C(G):G),u(I,G),w(I,G-1),J.preventDefault()):27==H&&(D.val(F),D.caret(0,v()),J.preventDefault())}function E(J){var I,L,H,G=J.which,K=D.caret();if(0==G){if(K.begin>=j){return D.val(D.val().substr(0,j)),J.preventDefault(),!1}K.begin==K.end&&(G=D.val().charCodeAt(K.begin-1),K.begin--,K.end--)}J.ctrlKey||J.altKey||J.metaKey||32>G||G&&(0!==K.end-K.begin&&(u(K.begin,K.end),w(K.begin,K.end-1)),I=C(K.begin-1),j>I&&(L=String.fromCharCode(G),o[I].test(L)&&(s(I),x[I]=L,B(),H=C(I),c?setTimeout(g.proxy(g.fn.caret,D,H),0):D.caret(H),q.completed&&H>=j&&q.completed.call(D))),J.preventDefault())}function u(I,G){var H;for(H=I;G>H&&j>H;H++){o[H]&&(x[H]=q.placeholder)}}function B(){D.val(x.join(""))}function v(H){var G,L,K,J=D.val(),I=-1;for(G=0,K=0;j>G;G++){if(o[G]){for(x[G]=q.placeholder;K++<J.length;){if(L=J.charAt(K-1),o[G].test(L)){x[G]=L,I=G;break}}if(K>J.length){break}}else{x[G]===J.charAt(K)&&G!==r&&(K++,I=G)}}return H?B():r>I+1?q.autoclear||x.join("")===A?(D.val(""),u(0,j)):B():(B(),D.val(D.val().substring(0,I+1))),r?G:n}var D=g(this),x=g.map(l.split(""),function(G){return"?"!=G?k[G]?q.placeholder:G:void 0}),A=x.join(""),F=D.val();D.data(g.mask.dataName,function(){return g.map(x,function(H,G){return o[G]&&H!=q.placeholder?H:null}).join("")}),D.attr("readonly")||D.one("unmask",function(){D.unbind(".mask").removeData(g.mask.dataName)}).bind("focus.mask",function(){clearTimeout(h);var G;F=D.val(),G=v(),h=setTimeout(function(){B(),G==l.length?D.caret(0,G):D.caret(G)},10)}).bind("blur.mask",function(){v(),D.val()!=F&&D.change()}).bind("keydown.mask",z).bind("keypress.mask",E).bind(d,function(){setTimeout(function(){var G=v(!0);D.caret(G),q.completed&&G==D.val().length&&q.completed.call(D)},0)}),b&&c&&D.bind("keyup.mask",E),v()}))}})}(jQuery);
/*!
	Autosize v1.18.4 - 2014-01-11
	Automatically adjust textarea height based on user input.
	(c) 2014 Jack Moore - http://www.jacklmoore.com/autosize
	license: http://www.opensource.org/licenses/mit-license.php
*/
(function(c){var f={className:"autosizejs",append:"",callback:false,resizeDelay:10,placeholder:true},g='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',b=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],e,d=c(g).data("autosize",true)[0];d.style.lineHeight="99px";if(c(d).css("lineHeight")==="99px"){b.push("lineHeight")}d.style.lineHeight="";c.fn.autosize=function(h){if(!this.length){return this}h=c.extend({},f,h||{});if(d.parentNode!==document.body){c(document.body).append(d)}return this.each(function(){var m=this,l=c(m),u,w,k=0,v=c.isFunction(h.callback),n={height:m.style.height,overflow:m.style.overflow,overflowY:m.style.overflowY,wordWrap:m.style.wordWrap,resize:m.style.resize},q,i=l.width();if(l.data("autosize")){return}l.data("autosize",true);if(l.css("box-sizing")==="border-box"||l.css("-moz-box-sizing")==="border-box"||l.css("-webkit-box-sizing")==="border-box"){k=l.outerHeight()-l.height()}w=Math.max(parseInt(l.css("minHeight"),10)-k||0,l.height());l.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:(l.css("resize")==="none"||l.css("resize")==="vertical")?"none":"horizontal"});function o(){var y;var x=window.getComputedStyle?window.getComputedStyle(m,null):false;if(x){y=m.getBoundingClientRect().width;if(y===0){y=parseInt(x.width,10)}c.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(z,A){y-=parseInt(x[A],10)})}else{y=Math.max(l.width(),0)}d.style.width=y+"px"}function s(){var y={};e=m;d.className=h.className;u=parseInt(l.css("maxHeight"),10);c.each(b,function(A,B){y[B]=l.css(B)});c(d).css(y);o();if(window.chrome){var x=m.style.width;m.style.width="0px";var z=m.offsetWidth;m.style.width=x}}function r(){var x,y;if(e!==m){s()}else{o()}if(!m.value&&h.placeholder){d.value=(c(m).attr("placeholder")||"")+h.append}else{d.value=m.value+h.append}d.style.overflowY=m.style.overflowY;y=parseInt(m.style.height,10);d.scrollTop=0;d.scrollTop=90000;x=d.scrollTop;if(u&&x>u){m.style.overflowY="scroll";x=u}else{m.style.overflowY="hidden";if(x<w){x=w}}x+=k;if(y!==x){m.style.height=x+"px";if(v){h.callback.call(m,m)}}}function j(){clearTimeout(q);q=setTimeout(function(){var x=l.width();if(x!==i){i=x;r()}},parseInt(h.resizeDelay,10))}if("onpropertychange" in m){if("oninput" in m){l.on("input.autosize keyup.autosize",r)}else{l.on("propertychange.autosize",function(){if(event.propertyName==="value"){r()}})}}else{l.on("input.autosize",r)}if(h.resizeDelay!==false){c(window).on("resize.autosize",j)}l.on("autosize.resize",r);l.on("autosize.resizeIncludeStyle",function(){e=null;r()});l.on("autosize.destroy",function(){e=null;clearTimeout(q);c(window).off("resize",j);l.off("autosize").off(".autosize").css(n).removeData("autosize")});r()})}}(window.jQuery||window.$));!function(d,c){"function"==typeof define&&define.amd?define(["jquery"],c):"object"==typeof exports?module.exports=c(require("jquery")):d.bootbox=c(d.jQuery)}(this,function a(H,G){function F(d){var c=r[u.locale];return c?c[d]:r.en[d]}function E(b,h,g){b.stopPropagation(),b.preventDefault();var f=H.isFunction(g)&&g(b)===!1;f||h.modal("hide")}function D(e){var d,f=0;for(d in e){f++}return f}function C(b,f){var e=0;H.each(b,function(d,c){f(d,c,e++)})}function B(b){var f,e;if("object"!=typeof b){throw new Error("Please supply an object of options")}if(!b.message){throw new Error("Please specify a message")}return b=H.extend({},u,b),b.buttons||(b.buttons={}),b.backdrop=b.backdrop?"static":!1,f=b.buttons,e=D(f),C(f,function(c,g,d){if(H.isFunction(g)&&(g=f[c]={callback:g}),"object"!==H.type(g)){throw new Error("button with key "+c+" must be an object")}g.label||(g.label=c),g.className||(g.className=2>=e&&d===e-1?"btn-primary":"btn-default")}),b}function A(f,e){var h=f.length,g={};if(1>h||h>2){throw new Error("Invalid argument length")}return 2===h||"string"==typeof f[0]?(g[e[0]]=f[0],g[e[1]]=f[1]):g=f[0],g}function z(b,f,e){return H.extend(!0,{},b,A(f,e))}function y(g,f,j,i){var h={className:"bootbox-"+g,buttons:x.apply(null,f)};return w(z(h,i,j),f)}function x(){for(var h={},d=0,l=arguments.length;l>d;d++){var k=arguments[d],j=k.toLowerCase(),i=k.toUpperCase();h[j]={label:F(i)}}return h}function w(e,c){var f={};return C(c,function(g,d){f[d]=!0}),C(e.buttons,function(b){if(f[b]===G){throw new Error("button key "+b+" is not allowed (options are "+c.join("\n")+")")}}),e}var v={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},u={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,container:"body"},s={};s.alert=function(){var b;if(b=y("alert",["ok"],["message","callback"],arguments),b.callback&&!H.isFunction(b.callback)){throw new Error("alert requires callback property to be a function when provided")}return b.buttons.ok.callback=b.onEscape=function(){return H.isFunction(b.callback)?b.callback():!0},s.dialog(b)},s.confirm=function(){var b;if(b=y("confirm",["cancel","confirm"],["message","callback"],arguments),b.buttons.cancel.callback=b.onEscape=function(){return b.callback(!1)},b.buttons.confirm.callback=function(){return b.callback(!0)},!H.isFunction(b.callback)){throw new Error("confirm requires a callback")}return s.dialog(b)},s.prompt=function(){var K,J,I,n,m,l,j;n=H(v.form),J={className:"bootbox-prompt",buttons:x("cancel","confirm"),value:"",inputType:"text"},K=w(z(J,arguments,["title","callback"]),["cancel","confirm"]),l=K.show===G?!0:K.show;var g=["date","time","number"],c=document.createElement("input");if(c.setAttribute("type",K.inputType),g[K.inputType]&&(K.inputType=c.type),K.message=n,K.buttons.cancel.callback=K.onEscape=function(){return K.callback(null)},K.buttons.confirm.callback=function(){var f;switch(K.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":f=m.val();break;case"checkbox":var e=m.find("input:checked");f=[],C(e,function(h,i){f.push(H(i).val())})}return K.callback(f)},K.show=!1,!K.title){throw new Error("prompt requires a title")}if(!H.isFunction(K.callback)){throw new Error("prompt requires a callback")}if(!v.inputs[K.inputType]){throw new Error("invalid prompt type")}switch(m=H(v.inputs[K.inputType]),K.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":m.val(K.value);break;case"select":var b={};if(j=K.inputOptions||[],!j.length){throw new Error("prompt with select requires options")}C(j,function(f,i){var h=m;if(i.value===G||i.text===G){throw new Error("given options in wrong format")}i.group&&(b[i.group]||(b[i.group]=H("<optgroup/>").attr("label",i.group)),h=b[i.group]),h.append("<option value='"+i.value+"'>"+i.text+"</option>")}),C(b,function(e,d){m.append(d)}),m.val(K.value);break;case"checkbox":var L=H.isArray(K.value)?K.value:[K.value];if(j=K.inputOptions||[],!j.length){throw new Error("prompt with checkbox requires options")}if(!j[0].value||!j[0].text){throw new Error("given options in wrong format")}m=H("<div/>"),C(j,function(i,h){var f=H(v.inputs[K.inputType]);f.find("input").attr("value",h.value),f.find("label").append(h.text),C(L,function(e,d){d===h.value&&f.find("input").prop("checked",!0)}),m.append(f)})}return K.placeholder&&m.attr("placeholder",K.placeholder),K.pattern&&m.attr("pattern",K.pattern),n.append(m),n.on("submit",function(d){d.preventDefault(),I.find(".btn-primary").click()}),I=s.dialog(K),I.off("shown.bs.modal"),I.on("shown.bs.modal",function(){m.focus()}),l===!0&&I.modal("show"),I},s.dialog=function(b){b=B(b);var n=H(v.dialog),m=n.find(".modal-body"),l=b.buttons,h="",g={onEscape:b.onEscape};if(C(l,function(d,c){h+="<button data-bb-handler='"+d+"' type='button' class='btn "+c.className+"'>"+c.label+"</button>",g[d]=c.callback}),m.find(".bootbox-body").html(b.message),b.animate===!0&&n.addClass("fade"),b.className&&n.addClass(b.className),b.title&&m.before(v.header),b.closeButton){var e=H(v.closeButton);b.title?n.find(".modal-header").prepend(e):e.css("margin-top","-10px").prependTo(m)}return b.title&&n.find(".modal-title").html(b.title),h.length&&(m.after(v.footer),n.find(".modal-footer").html(h)),n.on("hidden.bs.modal",function(c){c.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),n.on("escape.close.bb",function(c){g.onEscape&&E(c,n,g.onEscape)}),n.on("click",".modal-footer button",function(c){var f=H(this).data("bb-handler");E(c,n,g[f])}),n.on("click",".bootbox-close-button",function(c){E(c,n,g.onEscape)}),n.on("keyup",function(c){27===c.which&&n.trigger("escape.close.bb")}),H(b.container).append(n),n.modal({backdrop:b.backdrop,keyboard:!1,show:!1}),b.show&&n.modal("show"),n},s.setDefaults=function(){var b={};2===arguments.length?b[arguments[0]]=arguments[1]:b=arguments[0],H.extend(u,b)},s.hideAll=function(){H(".bootbox").modal("hide")};var r={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return s.init=function(b){return a(b||H)},s});(function(){var e,d,b,c=function(f,g){return function(){return f.apply(g,arguments)}};e=jQuery;d=(function(){function f(){}f.transitions={webkitTransition:"webkitTransitionEnd",mozTransition:"mozTransitionEnd",oTransition:"oTransitionEnd",transition:"transitionend"};f.transition=function(h){var j,g,i,k;j=h[0];k=this.transitions;for(i in k){g=k[i];if(j.style[i]!=null){return g}}};return f})();b=(function(){f.settings={namespace:"growl",duration:3200,close:"&times;",location:"default",style:"default",size:"medium"};f.growl=function(g){if(g==null){g={}}this.initialize();return new f(g)};f.initialize=function(){return e("body:not(:has(#growls))").append('<div id="growls" />')};function f(g){if(g==null){g={}}this.html=c(this.html,this);this.$growl=c(this.$growl,this);this.$growls=c(this.$growls,this);this.animate=c(this.animate,this);this.remove=c(this.remove,this);this.dismiss=c(this.dismiss,this);this.present=c(this.present,this);this.close=c(this.close,this);this.cycle=c(this.cycle,this);this.unbind=c(this.unbind,this);this.bind=c(this.bind,this);this.render=c(this.render,this);this.settings=e.extend({},f.settings,g);this.$growls().attr("class",this.settings.location);this.render()}f.prototype.render=function(){var g;g=this.$growl();this.$growls().append(g);this.cycle(g)};f.prototype.bind=function(g){if(g==null){g=this.$growl()}return g.find("."+this.settings.namespace+"-close").on("click",this.close)};f.prototype.unbind=function(g){if(g==null){g=this.$growl()}return g.find("."+(this.settings.namespace-close)).off("click",this.close)};f.prototype.cycle=function(g){if(g==null){g=this.$growl()}return g.queue(this.present).delay(this.settings.duration).queue(this.dismiss).queue(this.remove)};f.prototype.close=function(h){var g;h.preventDefault();h.stopPropagation();g=this.$growl();return g.stop().queue(this.dismiss).queue(this.remove)};f.prototype.present=function(h){var g;g=this.$growl();this.bind(g);return this.animate(g,""+this.settings.namespace+"-incoming","out",h)};f.prototype.dismiss=function(h){var g;g=this.$growl();this.unbind(g);return this.animate(g,""+this.settings.namespace+"-outgoing","in",h)};f.prototype.remove=function(g){this.$growl().remove();return g()};f.prototype.animate=function(g,h,i,k){var j;if(i==null){i="in"}j=d.transition(g);g[i==="in"?"removeClass":"addClass"](h);g.offset().position;g[i==="in"?"addClass":"removeClass"](h);if(k==null){return}if(j!=null){g.one(j,k)}else{k()}};f.prototype.$growls=function(){return this.$_growls!=null?this.$_growls:this.$_growls=e("#growls")};f.prototype.$growl=function(){return this.$_growl!=null?this.$_growl:this.$_growl=e(this.html())};f.prototype.html=function(){return"<div class='"+this.settings.namespace+" "+this.settings.namespace+"-"+this.settings.style+" "+this.settings.namespace+"-"+this.settings.size+"'>\n  <div class='"+this.settings.namespace+"-close'>"+this.settings.close+"</div>\n  <div class='"+this.settings.namespace+"-title'>"+this.settings.title+"</div>\n  <div class='"+this.settings.namespace+"-message'>"+this.settings.message+"</div>\n</div>"};return f})();e.growl=function(f){if(f==null){f={}}return b.growl(f)};e.growl.error=function(f){var g;if(f==null){f={}}g={title:"Error!",style:"error"};return e.growl(e.extend(g,f))};e.growl.notice=function(f){var g;if(f==null){f={}}g={title:"Notice!",style:"notice"};return e.growl(e.extend(g,f))};e.growl.warning=function(f){var g;if(f==null){f={}}g={title:"Warning!",style:"warning"};return e.growl(e.extend(g,f))}}).call(this);
/*!jQuery Knob*/
(function(e){var c={},b=Math.max,d=Math.min;c.c={};c.c.d=e(document);c.c.t=function(f){return f.originalEvent.touches.length-1};c.o=function(){var f=this;this.o=null;this.$=null;this.i=null;this.g=null;this.v=null;this.cv=null;this.x=0;this.y=0;this.w=0;this.h=0;this.$c=null;this.c=null;this.t=0;this.isInit=false;this.fgColor=null;this.pColor=null;this.dH=null;this.cH=null;this.eH=null;this.rH=null;this.scale=1;this.relative=false;this.relativeWidth=false;this.relativeHeight=false;this.$div=null;this.run=function(){var g=function(j,i){var h;for(h in i){f.o[h]=i[h]}f._carve().init();f._configure()._draw()};if(this.$.data("kontroled")){return}this.$.data("kontroled",true);this.extend();this.o=e.extend({min:this.$.data("min")!==undefined?this.$.data("min"):0,max:this.$.data("max")!==undefined?this.$.data("max"):100,stopper:true,readOnly:this.$.data("readonly")||(this.$.attr("readonly")==="readonly"),cursor:(this.$.data("cursor")===true&&30)||this.$.data("cursor")||0,thickness:(this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),0.01))||0.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:this.$.data("displayinput")==null||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:false,step:this.$.data("step")||1,draw:null,change:null,cancel:null,release:null,format:function(h){return h},parse:function(h){return parseFloat(h)}},this.o);if(!this.o.inputColor){this.o.inputColor=this.o.fgColor}if(this.$.is("fieldset")){this.v={};this.i=this.$.find("input");this.i.each(function(h){var i=e(this);f.i[h]=i;f.v[h]=f.o.parse(i.val());i.bind("change blur",function(){var j={};j[h]=i.val();f.val(j)})});this.$.find("legend").remove()}else{this.i=this.$;this.v=this.o.parse(this.$.val());(this.v==="")&&(this.v=this.o.min);this.$.bind("change blur",function(){f.val(f._validate(f.o.parse(f.$.val())))})}(!this.o.displayInput)&&this.$.hide();this.$c=e(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height});this.$div=e('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>');this.$.wrap(this.$div).before(this.$c);this.$div=this.$.parent();if(typeof G_vmlCanvasManager!=="undefined"){G_vmlCanvasManager.initElement(this.$c[0])}this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null;if(!this.c){throw {name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}}}this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1);this.relativeWidth=((this.o.width%1!==0)&&this.o.width.indexOf("%"));this.relativeHeight=((this.o.height%1!==0)&&this.o.height.indexOf("%"));this.relative=(this.relativeWidth||this.relativeHeight);this._carve();if(this.v instanceof Object){this.cv={};this.copy(this.v,this.cv)}else{this.cv=this.v}this.$.bind("configure",g).parent().bind("configure",g);this._listen()._configure()._xy().init();this.isInit=true;this.$.val(this.o.format(this.v));this._draw();return this};this._carve=function(){if(this.relative){var g=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),i=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(g,i)}else{this.w=this.o.width;this.h=this.o.height}this.$div.css({width:this.w+"px",height:this.h+"px"});this.$c.attr({width:this.w,height:this.h});if(this.scale!==1){this.$c[0].width=this.$c[0].width*this.scale;this.$c[0].height=this.$c[0].height*this.scale;this.$c.width(this.w);this.$c.height(this.h)}return this};this._draw=function(){var g=true;f.g=f.c;f.clear();f.dH&&(g=f.dH());(g!==false)&&f.draw()};this._touch=function(g){var h=function(j){var i=f.xy2val(j.originalEvent.touches[f.t].pageX,j.originalEvent.touches[f.t].pageY);if(i==f.cv){return}if(f.cH&&(f.cH(i)===false)){return}f.change(f._validate(i));f._draw()};this.t=c.c.t(g);h(g);c.c.d.bind("touchmove.k",h).bind("touchend.k",function(){c.c.d.unbind("touchmove.k touchend.k");f.val(f.cv)});return this};this._mouse=function(h){var g=function(j){var i=f.xy2val(j.pageX,j.pageY);if(i==f.cv){return}if(f.cH&&(f.cH(i)===false)){return}f.change(f._validate(i));f._draw()};g(h);c.c.d.bind("mousemove.k",g).bind("keyup.k",function(i){if(i.keyCode===27){c.c.d.unbind("mouseup.k mousemove.k keyup.k");if(f.eH&&(f.eH()===false)){return}f.cancel()}}).bind("mouseup.k",function(i){c.c.d.unbind("mousemove.k mouseup.k keyup.k");f.val(f.cv)});return this};this._xy=function(){var g=this.$c.offset();this.x=g.left;this.y=g.top;return this};this._listen=function(){if(!this.o.readOnly){this.$c.bind("mousedown",function(g){g.preventDefault();f._xy()._mouse(g)}).bind("touchstart",function(g){g.preventDefault();f._xy()._touch(g)});this.listen()}else{this.$.attr("readonly","readonly")}if(this.relative){e(window).resize(function(){f._carve().init();f._draw()})}return this};this._configure=function(){if(this.o.draw){this.dH=this.o.draw}if(this.o.change){this.cH=this.o.change}if(this.o.cancel){this.eH=this.o.cancel}if(this.o.release){this.rH=this.o.release}if(this.o.displayPrevious){this.pColor=this.h2rgba(this.o.fgColor,"0.4");this.fgColor=this.h2rgba(this.o.fgColor,"0.6")}else{this.fgColor=this.o.fgColor}return this};this._clear=function(){this.$c[0].width=this.$c[0].width};this._validate=function(g){return(~~(((g<0)?-0.5:0.5)+(g/this.o.step)))*this.o.step};this.listen=function(){};this.extend=function(){};this.init=function(){};this.change=function(g){};this.val=function(g){};this.xy2val=function(g,h){};this.draw=function(){};this.clear=function(){this._clear()};this.h2rgba=function(j,g){var i;j=j.substring(1,7);i=[parseInt(j.substring(0,2),16),parseInt(j.substring(2,4),16),parseInt(j.substring(4,6),16)];return"rgba("+i[0]+","+i[1]+","+i[2]+","+g+")"};this.copy=function(j,h){for(var g in j){h[g]=j[g]}}};c.Dial=function(){c.o.call(this);this.startAngle=null;this.xy=null;this.radius=null;this.lineWidth=null;this.cursorExt=null;this.w2=null;this.PI2=2*Math.PI;this.extend=function(){this.o=e.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:true},this.o)};this.val=function(f,g){if(null!=f){f=this.o.parse(f);if(g!==false&&(f!=this.v)&&this.rH&&(this.rH(f)===false)){return}this.cv=this.o.stopper?b(d(f,this.o.max),this.o.min):f;this.v=this.cv;this.$.val(this.o.format(this.v));this._draw()}else{return this.v}};this.xy2val=function(f,i){var g,h;g=Math.atan2(f-(this.x+this.w2),-(i-this.y-this.w2))-this.angleOffset;if(this.angleArc!=this.PI2&&(g<0)&&(g>-0.5)){g=0}else{if(g<0){g+=this.PI2}}h=~~(0.5+(g*(this.o.max-this.o.min)/this.angleArc))+this.o.min;this.o.stopper&&(h=b(d(h,this.o.max),this.o.min));return h};this.listen=function(){var i=this,h,g,n=function(s){s.preventDefault();var r=s.originalEvent,o=r.detail||r.wheelDeltaX,m=r.detail||r.wheelDeltaY,q=i._validate(i.o.parse(i.$.val()))+(o>0||m>0?i.o.step:o<0||m<0?-i.o.step:0);q=b(d(q,i.o.max),i.o.min);i.val(q,false);if(i.rH){clearTimeout(h);h=setTimeout(function(){i.rH(q);h=null},100);if(!g){g=setTimeout(function(){if(h){i.rH(q)}g=null},200)}}},k,l,f=1,j={37:-i.o.step,38:i.o.step,39:i.o.step,40:-i.o.step};this.$.bind("keydown",function(q){var o=q.keyCode;if(o>=96&&o<=105){o=q.keyCode=o-48}k=parseInt(String.fromCharCode(o));if(isNaN(k)){(o!==13)&&(o!==8)&&(o!==9)&&(o!==189)&&(o!==190||i.$.val().match(/\./))&&q.preventDefault();if(e.inArray(o,[37,38,39,40])>-1){q.preventDefault();var m=i.o.parse(i.$.val())+j[o]*f;i.o.stopper&&(m=b(d(m,i.o.max),i.o.min));i.change(m);i._draw();l=window.setTimeout(function(){f*=2},30)}}}).bind("keyup",function(m){if(isNaN(k)){if(l){window.clearTimeout(l);l=null;f=1;i.val(i.$.val())}}else{(i.$.val()>i.o.max&&i.$.val(i.o.max))||(i.$.val()<i.o.min&&i.$.val(i.o.min))}});this.$c.bind("mousewheel DOMMouseScroll",n);this.$.bind("mousewheel DOMMouseScroll",n)};this.init=function(){if(this.v<this.o.min||this.v>this.o.max){this.v=this.o.min}this.$.val(this.v);this.w2=this.w/2;this.cursorExt=this.o.cursor/100;this.xy=this.w2*this.scale;this.lineWidth=this.xy*this.o.thickness;this.lineCap=this.o.lineCap;this.radius=this.xy-this.lineWidth/2;this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset);this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc);this.angleOffset=this.o.angleOffset*Math.PI/180;this.angleArc=this.o.angleArc*Math.PI/180;this.startAngle=1.5*Math.PI+this.angleOffset;this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var f=b(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:((this.w/2+4)>>0)+"px",height:((this.w/3)>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":((this.w/3)>>0)+"px","margin-left":"-"+((this.w*3/4+2)>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+((this.w/f)>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})};this.change=function(f){this.cv=f;this.$.val(this.o.format(f))};this.angle=function(f){return(f-this.o.min)*this.angleArc/(this.o.max-this.o.min)};this.draw=function(){var l=this.g,g=this.angle(this.cv),h=this.startAngle,i=h+g,f,j,k=1;l.lineWidth=this.lineWidth;l.lineCap=this.lineCap;this.o.cursor&&(h=i-this.cursorExt)&&(i=i+this.cursorExt);l.beginPath();l.strokeStyle=this.o.bgColor;l.arc(this.xy,this.xy,this.radius,this.endAngle-0.00001,this.startAngle+0.00001,true);l.stroke();if(this.o.displayPrevious){j=this.startAngle+this.angle(this.v);f=this.startAngle;this.o.cursor&&(f=j-this.cursorExt)&&(j=j+this.cursorExt);l.beginPath();l.strokeStyle=this.pColor;l.arc(this.xy,this.xy,this.radius,f-0.00001,j+0.00001,false);l.stroke();k=(this.cv==this.v)}l.beginPath();l.strokeStyle=k?this.o.fgColor:this.fgColor;l.arc(this.xy,this.xy,this.radius,h-0.00001,i+0.00001,false);l.stroke()};this.cancel=function(){this.val(this.v)}};e.fn.dial=e.fn.knob=function(f){return this.each(function(){var g=new c.Dial();g.o=f;g.$=e(this);g.run()}).parent()}})(jQuery);(function(b,c,d){(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{if(jQuery&&!jQuery.fn.sparkline){e(jQuery)}}}(function(m){var v={},r,K,x,H,y,o,L,M,A,g,h,N,D,q,w,J,F,k,u,G,i,e,I,z,s,O,f,C,n,E,B,l,j=0;r=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:false,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:false,enableHighlight:true,highlightLighten:1.4,tooltipSkipNull:true,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:false,numberFormatter:false,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:false,disableInteraction:false},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:d,normalRangeMax:d,normalRangeColor:"#ccc",drawNormalOnTop:false,chartRangeMin:d,chartRangeMax:d,chartRangeMinX:d,chartRangeMaxX:d,tooltipFormat:new x('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:d,nullColor:d,zeroAxis:true,barWidth:4,barSpacing:1,chartRangeMax:d,chartRangeMin:d,chartRangeClip:false,colorMap:d,tooltipFormat:new x('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new x('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss","0":"Draw","1":"Win"}}},discrete:{lineHeight:"auto",thresholdColor:d,thresholdValue:0,chartRangeMax:d,chartRangeMin:d,chartRangeClip:false,tooltipFormat:new x("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:d,tooltipFormat:new x("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new x('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:false,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:true,outlierIQR:1.5,spotRadius:1.5,target:d,targetColor:"#4a2",chartRangeMax:d,chartRangeMin:d,tooltipFormat:new x("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}};O='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}';K=function(){var P,Q;P=function(){this.init.apply(this,arguments)};if(arguments.length>1){if(arguments[0]){P.prototype=m.extend(new arguments[0](),arguments[arguments.length-1]);P._super=arguments[0].prototype}else{P.prototype=arguments[arguments.length-1]}if(arguments.length>2){Q=Array.prototype.slice.call(arguments,1,-1);Q.unshift(P.prototype);m.extend.apply(m,Q)}}else{P.prototype=arguments[0]}P.prototype.cls=P;return P};m.SPFormatClass=x=K({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(Q,P){this.format=Q;this.fclass=P},render:function(X,V,Y){var W=this,U=X,T,Q,R,S,P;return this.format.replace(this.fre,function(){var Z;Q=arguments[1];R=arguments[3];T=W.precre.exec(Q);if(T){P=T[2];Q=T[1]}else{P=false}S=U[Q];if(S===d){return""}if(R&&V&&V[R]){Z=V[R];if(Z.get){return V[R].get(S)||S}else{return V[R][S]||S}}if(A(S)){if(Y.get("numberFormatter")){S=Y.get("numberFormatter")(S)}else{S=q(S,P,Y.get("numberDigitGroupCount"),Y.get("numberDigitGroupSep"),Y.get("numberDecimalMark"))}}return S})}});m.spformat=function(Q,P){return new x(Q,P)};H=function(R,Q,P){if(R<Q){return Q}if(R>P){return P}return R};y=function(P,R){var Q;if(R===2){Q=c.floor(P.length/2);return P.length%2?P[Q]:(P[Q-1]+P[Q])/2}else{if(P.length%2){Q=(P.length*R+R)/4;return Q%1?(P[c.floor(Q)]+P[c.floor(Q)-1])/2:P[Q-1]}else{Q=(P.length*R+2)/4;return Q%1?(P[c.floor(Q)]+P[c.floor(Q)-1])/2:P[Q-1]}}};o=function(Q){var P;switch(Q){case"undefined":Q=d;break;case"null":Q=null;break;case"true":Q=true;break;case"false":Q=false;break;default:P=parseFloat(Q);if(Q==P){Q=P}}return Q};L=function(R){var Q,P=[];for(Q=R.length;Q--;){P[Q]=o(R[Q])}return P};M=function(T,R){var Q,S,P=[];for(Q=0,S=T.length;Q<S;Q++){if(T[Q]!==R){P.push(T[Q])}}return P};A=function(P){return !isNaN(parseFloat(P))&&isFinite(P)};q=function(R,Q,P,U,T){var V,S;R=(Q===false?parseFloat(R).toString():R.toFixed(Q)).split("");V=(V=m.inArray(".",R))<0?R.length:V;if(V<R.length){R[V]=T}for(S=V-P;S>0;S-=P){R.splice(S,0,U)}return R.join("")};g=function(S,Q,P){var R;for(R=Q.length;R--;){if(P&&Q[R]===null){continue}if(Q[R]!==S){return false}}return true};h=function(R){var Q=0,P;for(P=R.length;P--;){Q+=typeof R[P]==="number"?R[P]:0}return Q};D=function(P){return m.isArray(P)?P:[P]};N=function(Q){var P;if(b.createStyleSheet){b.createStyleSheet().cssText=Q}else{P=b.createElement("style");P.type="text/css";b.getElementsByTagName("head")[0].appendChild(P);P[(typeof b.body.style.WebkitAppearance=="string")?"innerText":"innerHTML"]=Q}};m.fn.simpledraw=function(T,P,Q,S){var V,U;if(Q&&(V=this.data("_jqs_vcanvas"))){return V}if(m.fn.sparkline.canvas===false){return false}else{if(m.fn.sparkline.canvas===d){var R=b.createElement("canvas");if(!!(R.getContext&&R.getContext("2d"))){m.fn.sparkline.canvas=function(Y,W,Z,X){return new E(Y,W,Z,X)}}else{if(b.namespaces&&!b.namespaces.v){b.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML");m.fn.sparkline.canvas=function(Y,W,Z,X){return new B(Y,W,Z)}}else{m.fn.sparkline.canvas=false;return false}}}}if(T===d){T=m(this).innerWidth()}if(P===d){P=m(this).innerHeight()}V=m.fn.sparkline.canvas(T,P,this,S);U=m(this).data("_jqs_mhandler");if(U){U.registerCanvas(V)}return V};m.fn.cleardraw=function(){var P=this.data("_jqs_vcanvas");if(P){P.reset()}};m.RangeMapClass=w=K({init:function(S){var R,P,Q=[];for(R in S){if(S.hasOwnProperty(R)&&typeof R==="string"&&R.indexOf(":")>-1){P=R.split(":");P[0]=P[0].length===0?-Infinity:parseFloat(P[0]);P[1]=P[1].length===0?Infinity:parseFloat(P[1]);P[2]=S[R];Q.push(P)}}this.map=S;this.rangelist=Q||false},get:function(T){var S=this.rangelist,R,Q,P;if((P=this.map[T])!==d){return P}if(S){for(R=S.length;R--;){Q=S[R];if(Q[0]<=T&&Q[1]>=T){return Q[2]}}}return d}});m.range_map=function(P){return new w(P)};J=K({init:function(R,P){var Q=m(R);this.$el=Q;this.options=P;this.currentPageX=0;this.currentPageY=0;this.el=R;this.splist=[];this.tooltip=null;this.over=false;this.displayTooltips=!P.get("disableTooltips");this.highlightEnabled=!P.get("disableHighlight")},registerSparkline:function(P){this.splist.push(P);if(this.over){this.updateDisplay()}},registerCanvas:function(P){var Q=m(P.canvas);this.canvas=P;this.$canvas=Q;Q.mouseenter(m.proxy(this.mouseenter,this));Q.mouseleave(m.proxy(this.mouseleave,this));Q.click(m.proxy(this.mouseclick,this))},reset:function(P){this.splist=[];if(this.tooltip&&P){this.tooltip.remove();this.tooltip=d}},mouseclick:function(Q){var P=m.Event("sparklineClick");P.originalEvent=Q;P.sparklines=this.splist;this.$el.trigger(P)},mouseenter:function(P){m(b.body).unbind("mousemove.jqs");m(b.body).bind("mousemove.jqs",m.proxy(this.mousemove,this));this.over=true;this.currentPageX=P.pageX;this.currentPageY=P.pageY;this.currentEl=P.target;if(!this.tooltip&&this.displayTooltips){this.tooltip=new F(this.options);this.tooltip.updatePosition(P.pageX,P.pageY)}this.updateDisplay()},mouseleave:function(){m(b.body).unbind("mousemove.jqs");var S=this.splist,P=S.length,R=false,T,Q;this.over=false;this.currentEl=null;if(this.tooltip){this.tooltip.remove();this.tooltip=null}for(Q=0;Q<P;Q++){T=S[Q];if(T.clearRegionHighlight()){R=true}}if(R){this.canvas.render()}},mousemove:function(P){this.currentPageX=P.pageX;this.currentPageY=P.pageY;this.currentEl=P.target;if(this.tooltip){this.tooltip.updatePosition(P.pageX,P.pageY)}this.updateDisplay()},updateDisplay:function(){var Q=this.splist,W=Q.length,U=false,T=this.$canvas.offset(),S=this.currentPageX-T.left,R=this.currentPageY-T.top,X,P,V,Z,Y;if(!this.over){return}for(V=0;V<W;V++){P=Q[V];Z=P.setRegionHighlight(this.currentEl,S,R);if(Z){U=true}}if(U){Y=m.Event("sparklineRegionChange");Y.sparklines=this.splist;this.$el.trigger(Y);if(this.tooltip){X="";for(V=0;V<W;V++){P=Q[V];X+=P.getCurrentRegionTooltip()}this.tooltip.setContent(X)}if(!this.disableHighlight){this.canvas.render()}}if(Z===null){this.mouseleave()}}});F=K({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(P){var S=P.get("tooltipClassname","jqstooltip"),Q=this.sizeStyle,R;this.container=P.get("tooltipContainer")||b.body;this.tooltipOffsetX=P.get("tooltipOffsetX",10);this.tooltipOffsetY=P.get("tooltipOffsetY",12);m("#jqssizetip").remove();m("#jqstooltip").remove();this.sizetip=m("<div/>",{id:"jqssizetip",style:Q,"class":S});this.tooltip=m("<div/>",{id:"jqstooltip","class":S}).appendTo(this.container);R=this.tooltip.offset();this.offsetLeft=R.left;this.offsetTop=R.top;this.hidden=true;m(window).unbind("resize.jqs scroll.jqs");m(window).bind("resize.jqs scroll.jqs",m.proxy(this.updateWindowDims,this));this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=m(window).scrollTop();this.scrollLeft=m(window).scrollLeft();this.scrollRight=this.scrollLeft+m(window).width();this.updatePosition()},getSize:function(P){this.sizetip.html(P).appendTo(this.container);this.width=this.sizetip.width()+1;this.height=this.sizetip.height();this.sizetip.remove()},setContent:function(P){if(!P){this.tooltip.css("visibility","hidden");this.hidden=true;return}this.getSize(P);this.tooltip.html(P).css({width:this.width,height:this.height,visibility:"visible"});if(this.hidden){this.hidden=false;this.updatePosition()}},updatePosition:function(P,Q){if(P===d){if(this.mousex===d){return}P=this.mousex-this.offsetLeft;Q=this.mousey-this.offsetTop}else{this.mousex=P=P-this.offsetLeft;this.mousey=Q=Q-this.offsetTop}if(!this.height||!this.width||this.hidden){return}Q-=this.height+this.tooltipOffsetY;P+=this.tooltipOffsetX;if(Q<this.scrollTop){Q=this.scrollTop}if(P<this.scrollLeft){P=this.scrollLeft}else{if(P+this.width>this.scrollRight){P=this.scrollRight-this.width}}this.tooltip.css({left:P,top:Q})},remove:function(){this.tooltip.remove();this.sizetip.remove();this.sizetip=this.tooltip=d;m(window).unbind("resize.jqs scroll.jqs")}});f=function(){N(O)};m(f);l=[];m.fn.sparkline=function(P,Q){return this.each(function(){var R=new m.fn.sparkline.options(this,Q),U=m(this),T,S;T=function(){var W,Y,V,X,ab,aa,Z;if(P==="html"||P===d){Z=this.getAttribute(R.get("tagValuesAttribute"));if(Z===d||Z===null){Z=U.html()}W=Z.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")}else{W=P}Y=R.get("width")==="auto"?W.length*R.get("defaultPixelsPerValue"):R.get("width");if(R.get("height")==="auto"){if(!R.get("composite")||!m.data(this,"_jqs_vcanvas")){X=b.createElement("span");X.innerHTML="a";U.html(X);V=m(X).innerHeight()||m(X).height();m(X).remove();X=null}}else{V=R.get("height")}if(!R.get("disableInteraction")){ab=m.data(this,"_jqs_mhandler");if(!ab){ab=new J(this,R);m.data(this,"_jqs_mhandler",ab)}else{if(!R.get("composite")){ab.reset()}}}else{ab=false}if(R.get("composite")&&!m.data(this,"_jqs_vcanvas")){if(!m.data(this,"_jqs_errnotify")){alert("Attempted to attach a composite sparkline to an element with no existing sparkline");m.data(this,"_jqs_errnotify",true)}return}aa=new m.fn.sparkline[R.get("type")](this,W,R,Y,V);aa.render();if(ab){ab.registerSparkline(aa)}};if((m(this).html()&&!R.get("disableHiddenCheck")&&m(this).is(":hidden"))||!m(this).parents("body").length){if(!R.get("composite")&&m.data(this,"_jqs_pending")){for(S=l.length;S;S--){if(l[S-1][0]==this){l.splice(S-1,1)}}}l.push([this,T]);m.data(this,"_jqs_pending",true)}else{T.call(this)}})};m.fn.sparkline.defaults=r();m.sparkline_display_visible=function(){var S,Q,R;var P=[];for(Q=0,R=l.length;Q<R;Q++){S=l[Q][0];if(m(S).is(":visible")&&!m(S).parents().is(":hidden")){l[Q][1].call(S);m.data(l[Q][0],"_jqs_pending",false);P.push(Q)}else{if(!m(S).closest("html").length&&!m.data(S,"_jqs_pending")){m.data(l[Q][0],"_jqs_pending",false);P.push(Q)}}}for(Q=P.length;Q;Q--){l.splice(P[Q-1],1)}};m.fn.sparkline.options=K({init:function(P,U){var T,S,R,Q;this.userOptions=U=U||{};this.tag=P;this.tagValCache={};S=m.fn.sparkline.defaults;R=S.common;this.tagOptionsPrefix=U.enableTagOptions&&(U.tagOptionsPrefix||R.tagOptionsPrefix);Q=this.getTagSetting("type");if(Q===v){T=S[U.type||R.type]}else{T=S[Q]}this.mergedOptions=m.extend({},R,T,U)},getTagSetting:function(R){var T=this.tagOptionsPrefix,U,Q,S,P;if(T===false||T===d){return v}if(this.tagValCache.hasOwnProperty(R)){U=this.tagValCache.key}else{U=this.tag.getAttribute(T+R);if(U===d||U===null){U=v}else{if(U.substr(0,1)==="["){U=U.substr(1,U.length-2).split(",");for(Q=U.length;Q--;){U[Q]=o(U[Q].replace(/(^\s*)|(\s*$)/g,""))}}else{if(U.substr(0,1)==="{"){S=U.substr(1,U.length-2).split(",");U={};for(Q=S.length;Q--;){P=S[Q].split(":",2);U[P[0].replace(/(^\s*)|(\s*$)/g,"")]=o(P[1].replace(/(^\s*)|(\s*$)/g,""))}}else{U=o(U)}}}this.tagValCache.key=U}return U},get:function(S,R){var Q=this.getTagSetting(S),P;if(Q!==v){return Q}return(P=this.mergedOptions[S])===d?R:P}});m.fn.sparkline._base=K({disabled:false,init:function(T,Q,R,S,P){this.el=T;this.$el=m(T);this.values=Q;this.options=R;this.width=S;this.height=P;this.currentRegion=d},initTarget:function(){var P=!this.options.get("disableInteraction");if(!(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),P))){this.disabled=true}else{this.canvasWidth=this.target.pixelWidth;this.canvasHeight=this.target.pixelHeight}},render:function(){if(this.disabled){this.el.innerHTML="";return false}return true},getRegion:function(P,Q){},setRegionHighlight:function(R,P,U){var S=this.currentRegion,Q=!this.options.get("disableHighlight"),T;if(P>this.canvasWidth||U>this.canvasHeight||P<0||U<0){return null}T=this.getRegion(R,P,U);if(S!==T){if(S!==d&&Q){this.removeHighlight()}this.currentRegion=T;if(T!==d&&Q){this.renderHighlight()}return true}return false},clearRegionHighlight:function(){if(this.currentRegion!==d){this.removeHighlight();this.currentRegion=d;return true}return false},renderHighlight:function(){this.changeHighlight(true)},removeHighlight:function(){this.changeHighlight(false)},changeHighlight:function(P){},getCurrentRegionTooltip:function(){var af=this.options,U="",V=[],W,ab,P,Y,ae,T,X,S,Z,R,ad,ac,aa,Q;if(this.currentRegion===d){return""}W=this.getCurrentRegionFields();ad=af.get("tooltipFormatter");if(ad){return ad(this,af,W)}if(af.get("tooltipChartTitle")){U+='<div class="jqs jqstitle">'+af.get("tooltipChartTitle")+"</div>\n"}ab=this.options.get("tooltipFormat");if(!ab){return""}if(!m.isArray(ab)){ab=[ab]}if(!m.isArray(W)){W=[W]}X=this.options.get("tooltipFormatFieldlist");S=this.options.get("tooltipFormatFieldlistKey");if(X&&S){Z=[];for(T=W.length;T--;){R=W[T][S];if((Q=m.inArray(R,X))!=-1){Z[Q]=W[T]}}W=Z}P=ab.length;aa=W.length;for(T=0;T<P;T++){ac=ab[T];if(typeof ac==="string"){ac=new x(ac)}Y=ac.fclass||"jqsfield";for(Q=0;Q<aa;Q++){if(!W[Q].isNull||!af.get("tooltipSkipNull")){m.extend(W[Q],{prefix:af.get("tooltipPrefix"),suffix:af.get("tooltipSuffix")});ae=ac.render(W[Q],af.get("tooltipValueLookups"),af);V.push('<div class="'+Y+'">'+ae+"</div>")}}}if(V.length){return U+V.join("\n")}return""},getCurrentRegionFields:function(){},calcHighlightColor:function(P,Q){var W=Q.get("highlightColor"),S=Q.get("highlightLighten"),V,U,T,R;if(W){return W}if(S){V=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(P)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(P);if(V){T=[];U=P.length===4?16:1;for(R=0;R<3;R++){T[R]=H(c.round(parseInt(V[R+1],16)*U*S),0,255)}return"rgb("+T.join(",")+")"}}return P}});k={changeHighlight:function(R){var T=this.currentRegion,S=this.target,P=this.regionShapes[T],Q;if(P){Q=this.renderRegion(T,R);if(m.isArray(Q)||m.isArray(P)){S.replaceWithShapes(P,Q);this.regionShapes[T]=m.map(Q,function(U){return U.id})}else{S.replaceWithShape(P,Q);this.regionShapes[T]=Q.id}}},render:function(){var Q=this.values,U=this.target,V=this.regionShapes,P,T,S,R;if(!this.cls._super.render.call(this)){return}for(S=Q.length;S--;){P=this.renderRegion(S);if(P){if(m.isArray(P)){T=[];for(R=P.length;R--;){P[R].append();T.push(P[R].id)}V[S]=T}else{P.append();V[S]=P.id}}else{V[S]=null}}U.render()}};m.fn.sparkline.line=u=K(m.fn.sparkline._base,{type:"line",init:function(T,Q,R,S,P){u._super.init.call(this,T,Q,R,S,P);this.vertices=[];this.regionMap=[];this.xvalues=[];this.yvalues=[];this.yminmax=[];this.hightlightSpotId=null;this.lastShapeId=null;this.initTarget()},getRegion:function(R,P,T){var Q,S=this.regionMap;for(Q=S.length;Q--;){if(S[Q]!==null&&P>=S[Q][0]&&P<=S[Q][1]){return S[Q][2]}}return d},getCurrentRegionFields:function(){var P=this.currentRegion;return{isNull:this.yvalues[P]===null,x:this.xvalues[P],y:this.yvalues[P],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:P}},renderHighlight:function(){var P=this.currentRegion,W=this.target,T=this.vertices[P],X=this.options,S=X.get("spotRadius"),R=X.get("highlightSpotColor"),U=X.get("highlightLineColor"),Q,V;if(!T){return}if(S&&R){Q=W.drawCircle(T[0],T[1],S,d,R);this.highlightSpotId=Q.id;W.insertAfterShape(this.lastShapeId,Q)}if(U){V=W.drawLine(T[0],this.canvasTop,T[0],this.canvasTop+this.canvasHeight,U);this.highlightLineId=V.id;W.insertAfterShape(this.lastShapeId,V)}},removeHighlight:function(){var P=this.target;if(this.highlightSpotId){P.removeShapeId(this.highlightSpotId);this.highlightSpotId=null}if(this.highlightLineId){P.removeShapeId(this.highlightLineId);this.highlightLineId=null}},scanValues:function(){var X=this.values,R=X.length,P=this.xvalues,V=this.yvalues,Y=this.yminmax,T,S,W,U,Q;for(T=0;T<R;T++){S=X[T];W=typeof(X[T])==="string";U=typeof(X[T])==="object"&&X[T] instanceof Array;Q=W&&X[T].split(":");if(W&&Q.length===2){P.push(Number(Q[0]));V.push(Number(Q[1]));Y.push(Number(Q[1]))}else{if(U){P.push(S[0]);V.push(S[1]);Y.push(S[1])}else{P.push(T);if(X[T]===null||X[T]==="null"){V.push(null)}else{V.push(Number(S));Y.push(Number(S))}}}}if(this.options.get("xvalues")){P=this.options.get("xvalues")}this.maxy=this.maxyorg=c.max.apply(c,Y);this.miny=this.minyorg=c.min.apply(c,Y);this.maxx=c.max.apply(c,P);this.minx=c.min.apply(c,P);this.xvalues=P;this.yvalues=V;this.yminmax=Y},processRangeOptions:function(){var Q=this.options,P=Q.get("normalRangeMin"),R=Q.get("normalRangeMax");if(P!==d){if(P<this.miny){this.miny=P}if(R>this.maxy){this.maxy=R}}if(Q.get("chartRangeMin")!==d&&(Q.get("chartRangeClip")||Q.get("chartRangeMin")<this.miny)){this.miny=Q.get("chartRangeMin")}if(Q.get("chartRangeMax")!==d&&(Q.get("chartRangeClip")||Q.get("chartRangeMax")>this.maxy)){this.maxy=Q.get("chartRangeMax")}if(Q.get("chartRangeMinX")!==d&&(Q.get("chartRangeClipX")||Q.get("chartRangeMinX")<this.minx)){this.minx=Q.get("chartRangeMinX")}if(Q.get("chartRangeMaxX")!==d&&(Q.get("chartRangeClipX")||Q.get("chartRangeMaxX")>this.maxx)){this.maxx=Q.get("chartRangeMaxX")}},drawNormalRange:function(R,V,U,S,W){var P=this.options.get("normalRangeMin"),T=this.options.get("normalRangeMax"),Q=V+c.round(U-(U*((T-this.miny)/W))),X=c.round((U*(T-P))/W);this.target.drawRect(R,Q,S,X,d,this.options.get("normalRangeColor")).append()},render:function(){var V=this.options,au=this.target,aq=this.canvasWidth,S=this.canvasHeight,Y=this.vertices,av=V.get("spotRadius"),af=this.regionMap,R,Q,ak,ao,am,ap,ag,aj,ad,ac,ai,T,ar,ab,ah,at,U,W,ae,P,Z,al,aa,X,an;if(!u._super.render.call(this)){return}this.scanValues();this.processRangeOptions();aa=this.xvalues;X=this.yvalues;if(!this.yminmax.length||this.yvalues.length<2){return}ao=am=0;R=this.maxx-this.minx===0?1:this.maxx-this.minx;Q=this.maxy-this.miny===0?1:this.maxy-this.miny;ak=this.yvalues.length-1;if(av&&(aq<(av*4)||S<(av*4))){av=0}if(av){Z=V.get("highlightSpotColor")&&!V.get("disableInteraction");if(Z||V.get("minSpotColor")||(V.get("spotColor")&&X[ak]===this.miny)){S-=c.ceil(av)}if(Z||V.get("maxSpotColor")||(V.get("spotColor")&&X[ak]===this.maxy)){S-=c.ceil(av);ao+=c.ceil(av)}if(Z||((V.get("minSpotColor")||V.get("maxSpotColor"))&&(X[0]===this.miny||X[0]===this.maxy))){am+=c.ceil(av);aq-=c.ceil(av)}if(Z||V.get("spotColor")||(V.get("minSpotColor")||V.get("maxSpotColor")&&(X[ak]===this.miny||X[ak]===this.maxy))){aq-=c.ceil(av)}}S--;if(V.get("normalRangeMin")!==d&&!V.get("drawNormalOnTop")){this.drawNormalRange(am,ao,S,aq,Q)}ag=[];aj=[ag];ab=ah=null;at=X.length;for(an=0;an<at;an++){ad=aa[an];ai=aa[an+1];ac=X[an];T=am+c.round((ad-this.minx)*(aq/R));ar=an<at-1?am+c.round((ai-this.minx)*(aq/R)):aq;ah=T+((ar-T)/2);af[an]=[ab||0,ah,an];ab=ah;if(ac===null){if(an){if(X[an-1]!==null){ag=[];aj.push(ag)}Y.push(null)}}else{if(ac<this.miny){ac=this.miny}if(ac>this.maxy){ac=this.maxy}if(!ag.length){ag.push([T,ao+S])}ap=[T,ao+c.round(S-(S*((ac-this.miny)/Q)))];ag.push(ap);Y.push(ap)}}U=[];W=[];ae=aj.length;for(an=0;an<ae;an++){ag=aj[an];if(ag.length){if(V.get("fillColor")){ag.push([ag[ag.length-1][0],(ao+S)]);W.push(ag.slice(0));ag.pop()}if(ag.length>2){ag[0]=[ag[0][0],ag[1][1]]}U.push(ag)}}ae=W.length;for(an=0;an<ae;an++){au.drawShape(W[an],V.get("fillColor"),V.get("fillColor")).append()}if(V.get("normalRangeMin")!==d&&V.get("drawNormalOnTop")){this.drawNormalRange(am,ao,S,aq,Q)}ae=U.length;for(an=0;an<ae;an++){au.drawShape(U[an],V.get("lineColor"),d,V.get("lineWidth")).append()}if(av&&V.get("valueSpots")){P=V.get("valueSpots");if(P.get===d){P=new w(P)}for(an=0;an<at;an++){al=P.get(X[an]);if(al){au.drawCircle(am+c.round((aa[an]-this.minx)*(aq/R)),ao+c.round(S-(S*((X[an]-this.miny)/Q))),av,d,al).append()}}}if(av&&V.get("spotColor")&&X[ak]!==null){au.drawCircle(am+c.round((aa[aa.length-1]-this.minx)*(aq/R)),ao+c.round(S-(S*((X[ak]-this.miny)/Q))),av,d,V.get("spotColor")).append()}if(this.maxy!==this.minyorg){if(av&&V.get("minSpotColor")){ad=aa[m.inArray(this.minyorg,X)];au.drawCircle(am+c.round((ad-this.minx)*(aq/R)),ao+c.round(S-(S*((this.minyorg-this.miny)/Q))),av,d,V.get("minSpotColor")).append()}if(av&&V.get("maxSpotColor")){ad=aa[m.inArray(this.maxyorg,X)];au.drawCircle(am+c.round((ad-this.minx)*(aq/R)),ao+c.round(S-(S*((this.maxyorg-this.miny)/Q))),av,d,V.get("maxSpotColor")).append()}}this.lastShapeId=au.getLastShapeId();this.canvasTop=ao;au.render()}});m.fn.sparkline.bar=G=K(m.fn.sparkline._base,k,{type:"bar",init:function(ax,az,ad,P,Q){var af=parseInt(ad.get("barWidth"),10),ah=parseInt(ad.get("barSpacing"),10),V=ad.get("chartRangeMin"),am=ad.get("chartRangeMax"),S=ad.get("chartRangeClip"),aq=Infinity,Z=-Infinity,aA,W,ao,ae,an,aw,ap,U,aj,ab,ay,ac,av,aa,ar,T,au,ak,X,ag,R,at,al;G._super.init.call(this,ax,az,ad,P,Q);for(aw=0,ap=az.length;aw<ap;aw++){ag=az[aw];aA=typeof(ag)==="string"&&ag.indexOf(":")>-1;if(aA||m.isArray(ag)){ar=true;if(aA){ag=az[aw]=L(ag.split(":"))}ag=M(ag,null);W=c.min.apply(c,ag);ao=c.max.apply(c,ag);if(W<aq){aq=W}if(ao>Z){Z=ao}}}this.stacked=ar;this.regionShapes={};this.barWidth=af;this.barSpacing=ah;this.totalBarWidth=af+ah;this.width=P=(az.length*af)+((az.length-1)*ah);this.initTarget();if(S){av=V===d?-Infinity:V;aa=am===d?Infinity:am}an=[];ae=ar?[]:an;var ai=[];var Y=[];for(aw=0,ap=az.length;aw<ap;aw++){if(ar){T=az[aw];az[aw]=X=[];ai[aw]=0;ae[aw]=Y[aw]=0;for(au=0,ak=T.length;au<ak;au++){ag=X[au]=S?H(T[au],av,aa):T[au];if(ag!==null){if(ag>0){ai[aw]+=ag}if(aq<0&&Z>0){if(ag<0){Y[aw]+=c.abs(ag)}else{ae[aw]+=ag}}else{ae[aw]+=c.abs(ag-(ag<0?Z:aq))}an.push(ag)}}}else{ag=S?H(az[aw],av,aa):az[aw];ag=az[aw]=o(ag);if(ag!==null){an.push(ag)}}}this.max=ac=c.max.apply(c,an);this.min=ay=c.min.apply(c,an);this.stackMax=Z=ar?c.max.apply(c,ai):ac;this.stackMin=aq=ar?c.min.apply(c,an):ay;if(ad.get("chartRangeMin")!==d&&(ad.get("chartRangeClip")||ad.get("chartRangeMin")<ay)){ay=ad.get("chartRangeMin")}if(ad.get("chartRangeMax")!==d&&(ad.get("chartRangeClip")||ad.get("chartRangeMax")>ac)){ac=ad.get("chartRangeMax")}this.zeroAxis=aj=ad.get("zeroAxis",true);if(ay<=0&&ac>=0&&aj){ab=0}else{if(aj==false){ab=ay}else{if(ay>0){ab=ay}else{ab=ac}}}this.xaxisOffset=ab;U=ar?(c.max.apply(c,ae)+c.max.apply(c,Y)):ac-ay;this.canvasHeightEf=(aj&&ay<0)?this.canvasHeight-2:this.canvasHeight-1;if(ay<ab){at=(ar&&ac>=0)?Z:ac;R=(at-ab)/U*this.canvasHeight;if(R!==c.ceil(R)){this.canvasHeightEf-=2;R=c.ceil(R)}}else{R=this.canvasHeight}this.yoffset=R;if(m.isArray(ad.get("colorMap"))){this.colorMapByIndex=ad.get("colorMap");this.colorMapByValue=null}else{this.colorMapByIndex=null;this.colorMapByValue=ad.get("colorMap");if(this.colorMapByValue&&this.colorMapByValue.get===d){this.colorMapByValue=new w(this.colorMapByValue)}}this.range=U},getRegion:function(R,Q,S){var P=c.floor(Q/this.totalBarWidth);return(P<0||P>=this.values.length)?d:P},getCurrentRegionFields:function(){var T=this.currentRegion,Q=D(this.values[T]),P=[],S,R;for(R=Q.length;R--;){S=Q[R];P.push({isNull:S===null,value:S,color:this.calcColor(R,S,T),offset:T})}return P},calcColor:function(T,U,V){var W=this.colorMapByIndex,S=this.colorMapByValue,R=this.options,P,Q;if(this.stacked){P=R.get("stackedBarColor")}else{P=(U<0)?R.get("negBarColor"):R.get("barColor")}if(U===0&&R.get("zeroColor")!==d){P=R.get("zeroColor")}if(S&&(Q=S.get(U))){P=Q}else{if(W&&W.length>V){P=W[V]}}return m.isArray(P)?P[T%P.length]:P},renderRegion:function(Z,T){var ab=this.values[Z],R=this.options,P=this.xaxisOffset,X=[],ac=this.range,ai=this.stacked,aj=this.target,W=Z*this.totalBarWidth,Q=this.canvasHeightEf,Y=this.yoffset,V,ad,af,ae,U,ag,S,ak,ah,aa;ab=m.isArray(ab)?ab:[ab];S=ab.length;ak=ab[0];ae=g(null,ab);aa=g(P,ab,true);if(ae){if(R.get("nullColor")){af=T?R.get("nullColor"):this.calcHighlightColor(R.get("nullColor"),R);V=(Y>0)?Y-1:Y;return aj.drawRect(W,V,this.barWidth-1,0,af,af)}else{return d}}U=Y;for(ag=0;ag<S;ag++){ak=ab[ag];if(ai&&ak===P){if(!aa||ah){continue}ah=true}if(ac>0){ad=c.floor(Q*((c.abs(ak-P)/ac)))+1}else{ad=1}if(ak<P||(ak===P&&Y===0)){V=U;U+=ad}else{V=Y-ad;Y-=ad}af=this.calcColor(ag,ak,Z);if(T){af=this.calcHighlightColor(af,R)}X.push(aj.drawRect(W,V,this.barWidth-1,ad-1,af,af))}if(X.length===1){return X[0]}return X}});m.fn.sparkline.tristate=i=K(m.fn.sparkline._base,k,{type:"tristate",init:function(U,Q,R,T,P){var S=parseInt(R.get("barWidth"),10),V=parseInt(R.get("barSpacing"),10);i._super.init.call(this,U,Q,R,T,P);this.regionShapes={};this.barWidth=S;this.barSpacing=V;this.totalBarWidth=S+V;this.values=m.map(Q,Number);this.width=T=(Q.length*S)+((Q.length-1)*V);if(m.isArray(R.get("colorMap"))){this.colorMapByIndex=R.get("colorMap");this.colorMapByValue=null}else{this.colorMapByIndex=null;this.colorMapByValue=R.get("colorMap");if(this.colorMapByValue&&this.colorMapByValue.get===d){this.colorMapByValue=new w(this.colorMapByValue)}}this.initTarget()},getRegion:function(Q,P,R){return c.floor(P/this.totalBarWidth)},getCurrentRegionFields:function(){var P=this.currentRegion;return{isNull:this.values[P]===d,value:this.values[P],color:this.calcColor(this.values[P],P),offset:P}},calcColor:function(U,V){var Q=this.values,T=this.options,W=this.colorMapByIndex,S=this.colorMapByValue,P,R;if(S&&(R=S.get(U))){P=R}else{if(W&&W.length>V){P=W[V]}else{if(Q[V]<0){P=T.get("negBarColor")}else{if(Q[V]>0){P=T.get("posBarColor")}else{P=T.get("zeroBarColor")}}}}return P},renderRegion:function(S,P){var X=this.values,Z=this.options,T=this.target,R,Y,U,W,V,Q;R=T.pixelHeight;U=c.round(R/2);W=S*this.totalBarWidth;if(X[S]<0){V=U;Y=U-1}else{if(X[S]>0){V=0;Y=U-1}else{V=U-1;Y=2}}Q=this.calcColor(X[S],S);if(Q===null){return}if(P){Q=this.calcHighlightColor(Q,Z)}return T.drawRect(W,V,this.barWidth-1,Y-1,Q,Q)}});m.fn.sparkline.discrete=e=K(m.fn.sparkline._base,k,{type:"discrete",init:function(T,Q,R,S,P){e._super.init.call(this,T,Q,R,S,P);this.regionShapes={};this.values=Q=m.map(Q,Number);this.min=c.min.apply(c,Q);this.max=c.max.apply(c,Q);this.range=this.max-this.min;this.width=S=R.get("width")==="auto"?Q.length*2:this.width;this.interval=c.floor(S/Q.length);this.itemWidth=S/Q.length;if(R.get("chartRangeMin")!==d&&(R.get("chartRangeClip")||R.get("chartRangeMin")<this.min)){this.min=R.get("chartRangeMin")}if(R.get("chartRangeMax")!==d&&(R.get("chartRangeClip")||R.get("chartRangeMax")>this.max)){this.max=R.get("chartRangeMax")}this.initTarget();if(this.target){this.lineHeight=R.get("lineHeight")==="auto"?c.round(this.canvasHeight*0.3):R.get("lineHeight")}},getRegion:function(Q,P,R){return c.floor(P/this.itemWidth)},getCurrentRegionFields:function(){var P=this.currentRegion;return{isNull:this.values[P]===d,value:this.values[P],offset:P}},renderRegion:function(X,S){var ad=this.values,ae=this.options,U=this.min,aa=this.max,W=this.range,Q=this.interval,Z=this.target,V=this.canvasHeight,ac=this.lineHeight,Y=V-ac,P,R,T,ab;R=H(ad[X],U,aa);ab=X*Q;P=c.round(Y-Y*((R-U)/W));T=(ae.get("thresholdColor")&&R<ae.get("thresholdValue"))?ae.get("thresholdColor"):ae.get("lineColor");if(S){T=this.calcHighlightColor(T,ae)}return Z.drawLine(ab,P,ab,P+ac,T)}});m.fn.sparkline.bullet=I=K(m.fn.sparkline._base,{type:"bullet",init:function(V,R,S,U,Q){var T,P,W;I._super.init.call(this,V,R,S,U,Q);this.values=R=L(R);W=R.slice();W[0]=W[0]===null?W[2]:W[0];W[1]=R[1]===null?W[2]:W[1];T=c.min.apply(c,R);P=c.max.apply(c,R);if(S.get("base")===d){T=T<0?T:0}else{T=S.get("base")}this.min=T;this.max=P;this.range=P-T;this.shapes={};this.valueShapes={};this.regiondata={};this.width=U=S.get("width")==="auto"?"4.0em":U;this.target=this.$el.simpledraw(U,Q,S.get("composite"));if(!R.length){this.disabled=true}this.initTarget()},getRegion:function(Q,P,S){var R=this.target.getShapeAt(Q,P,S);return(R!==d&&this.shapes[R]!==d)?this.shapes[R]:d},getCurrentRegionFields:function(){var P=this.currentRegion;return{fieldkey:P.substr(0,1),value:this.values[P.substr(1)],region:P}},changeHighlight:function(Q){var S=this.currentRegion,R=this.valueShapes[S],P;delete this.shapes[R];switch(S.substr(0,1)){case"r":P=this.renderRange(S.substr(1),Q);break;case"p":P=this.renderPerformance(Q);break;case"t":P=this.renderTarget(Q);break}this.valueShapes[S]=P.id;this.shapes[P.id]=S;this.target.replaceWithShape(R,P)},renderRange:function(S,Q){var T=this.values[S],R=c.round(this.canvasWidth*((T-this.min)/this.range)),P=this.options.get("rangeColors")[S-2];if(Q){P=this.calcHighlightColor(P,this.options)}return this.target.drawRect(0,0,R-1,this.canvasHeight-1,P,P)},renderPerformance:function(Q){var S=this.values[1],R=c.round(this.canvasWidth*((S-this.min)/this.range)),P=this.options.get("performanceColor");if(Q){P=this.calcHighlightColor(P,this.options)}return this.target.drawRect(0,c.round(this.canvasHeight*0.3),R-1,c.round(this.canvasHeight*0.4)-1,P,P)},renderTarget:function(R){var U=this.values[0],P=c.round(this.canvasWidth*((U-this.min)/this.range)-(this.options.get("targetWidth")/2)),T=c.round(this.canvasHeight*0.1),S=this.canvasHeight-(T*2),Q=this.options.get("targetColor");if(R){Q=this.calcHighlightColor(Q,this.options)}return this.target.drawRect(P,T,this.options.get("targetWidth")-1,S-1,Q,Q)},render:function(){var S=this.values.length,R=this.target,Q,P;if(!I._super.render.call(this)){return}for(Q=2;Q<S;Q++){P=this.renderRange(Q).append();this.shapes[P.id]="r"+Q;this.valueShapes["r"+Q]=P.id}if(this.values[1]!==null){P=this.renderPerformance().append();this.shapes[P.id]="p1";this.valueShapes.p1=P.id}if(this.values[0]!==null){P=this.renderTarget().append();this.shapes[P.id]="t0";this.valueShapes.t0=P.id}R.render()}});m.fn.sparkline.pie=z=K(m.fn.sparkline._base,{type:"pie",init:function(U,Q,R,T,P){var V=0,S;z._super.init.call(this,U,Q,R,T,P);this.shapes={};this.valueShapes={};this.values=Q=m.map(Q,Number);if(R.get("width")==="auto"){this.width=this.height}if(Q.length>0){for(S=Q.length;S--;){V+=Q[S]}}this.total=V;this.initTarget();this.radius=c.floor(c.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(Q,P,S){var R=this.target.getShapeAt(Q,P,S);return(R!==d&&this.shapes[R]!==d)?this.shapes[R]:d},getCurrentRegionFields:function(){var P=this.currentRegion;return{isNull:this.values[P]===d,value:this.values[P],percent:this.values[P]/this.total*100,color:this.options.get("sliceColors")[P%this.options.get("sliceColors").length],offset:P}},changeHighlight:function(P){var S=this.currentRegion,Q=this.renderSlice(S,P),R=this.valueShapes[S];delete this.shapes[R];this.target.replaceWithShape(R,Q);this.valueShapes[S]=Q.id;this.shapes[Q.id]=S},renderSlice:function(Y,S){var aa=this.target,ae=this.options,Z=this.radius,P=ae.get("borderWidth"),V=ae.get("offset"),Q=2*c.PI,ad=this.values,ab=this.total,X=V?(2*c.PI)*(V/360):0,R,U,W,ac,T;ac=ad.length;for(W=0;W<ac;W++){R=X;U=X;if(ab>0){U=X+(Q*(ad[W]/ab))}if(Y===W){T=ae.get("sliceColors")[W%ae.get("sliceColors").length];if(S){T=this.calcHighlightColor(T,ae)}return aa.drawPieSlice(Z,Z,Z-P,R,U,d,T)}X=U}},render:function(){var V=this.target,S=this.values,T=this.options,P=this.radius,R=T.get("borderWidth"),Q,U;if(!z._super.render.call(this)){return}if(R){V.drawCircle(P,P,c.floor(P-(R/2)),T.get("borderColor"),d,R).append()}for(U=S.length;U--;){if(S[U]){Q=this.renderSlice(U).append();this.valueShapes[U]=Q.id;this.shapes[Q.id]=U}}V.render()}});m.fn.sparkline.box=s=K(m.fn.sparkline._base,{type:"box",init:function(T,Q,R,S,P){s._super.init.call(this,T,Q,R,S,P);this.values=m.map(Q,Number);this.width=R.get("width")==="auto"?"4.0em":S;this.initTarget();if(!this.values.length){this.disabled=1}},getRegion:function(){return 1},getCurrentRegionFields:function(){var P=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];if(this.loutlier!==d){P.push({field:"lo",value:this.loutlier})}if(this.routlier!==d){P.push({field:"ro",value:this.routlier})}if(this.lwhisker!==d){P.push({field:"lw",value:this.lwhisker})}if(this.rwhisker!==d){P.push({field:"rw",value:this.rwhisker})}return P},render:function(){var ai=this.target,S=this.values,W=S.length,U=this.options,ah=this.canvasWidth,Q=this.canvasHeight,ab=U.get("chartRangeMin")===d?c.min.apply(c,S):U.get("chartRangeMin"),ag=U.get("chartRangeMax")===d?c.max.apply(c,S):U.get("chartRangeMax"),ad=0,aa,af,T,Z,Y,X,P,V,ae,ac,R;if(!s._super.render.call(this)){return}if(U.get("raw")){if(U.get("showOutliers")&&S.length>5){af=S[0];aa=S[1];Z=S[2];Y=S[3];X=S[4];P=S[5];V=S[6]}else{aa=S[0];Z=S[1];Y=S[2];X=S[3];P=S[4]}}else{S.sort(function(ak,aj){return ak-aj});Z=y(S,1);Y=y(S,2);X=y(S,3);T=X-Z;if(U.get("showOutliers")){aa=P=d;for(ae=0;ae<W;ae++){if(aa===d&&S[ae]>Z-(T*U.get("outlierIQR"))){aa=S[ae]}if(S[ae]<X+(T*U.get("outlierIQR"))){P=S[ae]}}af=S[0];V=S[W-1]}else{aa=S[0];P=S[W-1]}}this.quartiles=[Z,Y,X];this.lwhisker=aa;this.rwhisker=P;this.loutlier=af;this.routlier=V;R=ah/(ag-ab+1);if(U.get("showOutliers")){ad=c.ceil(U.get("spotRadius"));ah-=2*c.ceil(U.get("spotRadius"));R=ah/(ag-ab+1);if(af<aa){ai.drawCircle((af-ab)*R+ad,Q/2,U.get("spotRadius"),U.get("outlierLineColor"),U.get("outlierFillColor")).append()}if(V>P){ai.drawCircle((V-ab)*R+ad,Q/2,U.get("spotRadius"),U.get("outlierLineColor"),U.get("outlierFillColor")).append()}}ai.drawRect(c.round((Z-ab)*R+ad),c.round(Q*0.1),c.round((X-Z)*R),c.round(Q*0.8),U.get("boxLineColor"),U.get("boxFillColor")).append();ai.drawLine(c.round((aa-ab)*R+ad),c.round(Q/2),c.round((Z-ab)*R+ad),c.round(Q/2),U.get("lineColor")).append();ai.drawLine(c.round((aa-ab)*R+ad),c.round(Q/4),c.round((aa-ab)*R+ad),c.round(Q-Q/4),U.get("whiskerColor")).append();ai.drawLine(c.round((P-ab)*R+ad),c.round(Q/2),c.round((X-ab)*R+ad),c.round(Q/2),U.get("lineColor")).append();ai.drawLine(c.round((P-ab)*R+ad),c.round(Q/4),c.round((P-ab)*R+ad),c.round(Q-Q/4),U.get("whiskerColor")).append();ai.drawLine(c.round((Y-ab)*R+ad),c.round(Q*0.1),c.round((Y-ab)*R+ad),c.round(Q*0.9),U.get("medianColor")).append();if(U.get("target")){ac=c.ceil(U.get("spotRadius"));ai.drawLine(c.round((U.get("target")-ab)*R+ad),c.round((Q/2)-ac),c.round((U.get("target")-ab)*R+ad),c.round((Q/2)+ac),U.get("targetColor")).append();ai.drawLine(c.round((U.get("target")-ab)*R+ad-ac),c.round(Q/2),c.round((U.get("target")-ab)*R+ad+ac),c.round(Q/2),U.get("targetColor")).append()}ai.render()}});C=K({init:function(R,S,Q,P){this.target=R;this.id=S;this.type=Q;this.args=P},append:function(){this.target.appendShape(this);return this}});n=K({_pxregex:/(\d+)(px)?\s*$/i,init:function(Q,P,R){if(!Q){return}this.width=Q;this.height=P;this.target=R;this.lastShapeId=null;if(R[0]){R=R[0]}m.data(R,"_jqs_vcanvas",this)},drawLine:function(R,T,Q,S,U,P){return this.drawShape([[R,T],[Q,S]],U,P)},drawShape:function(R,Q,S,P){return this._genShape("Shape",[R,Q,S,P])},drawCircle:function(R,U,Q,S,T,P){return this._genShape("Circle",[R,U,Q,S,T,P])},drawPieSlice:function(Q,V,P,S,R,T,U){return this._genShape("PieSlice",[Q,V,P,S,R,T,U])},drawRect:function(Q,U,R,P,S,T){return this._genShape("Rect",[Q,U,R,P,S,T])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(P,Q){m(Q).html(P)},_calculatePixelDims:function(S,P,R){var Q;Q=this._pxregex.exec(P);if(Q){this.pixelHeight=Q[1]}else{this.pixelHeight=m(R).height()}Q=this._pxregex.exec(S);if(Q){this.pixelWidth=Q[1]}else{this.pixelWidth=m(R).width()}},_genShape:function(Q,P){var R=j++;P.unshift(R);return new C(this,R,Q,P)},appendShape:function(P){alert("appendShape not implemented")},replaceWithShape:function(Q,P){alert("replaceWithShape not implemented")},insertAfterShape:function(Q,P){alert("insertAfterShape not implemented")},removeShapeId:function(P){alert("removeShapeId not implemented")},getShapeAt:function(Q,P,R){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}});E=K(n,{init:function(R,P,S,Q){E._super.init.call(this,R,P,S);this.canvas=b.createElement("canvas");if(S[0]){S=S[0]}m.data(S,"_jqs_vcanvas",this);m(this.canvas).css({display:"inline-block",width:R,height:P,verticalAlign:"top"});this._insert(this.canvas,S);this._calculatePixelDims(R,P,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;this.interact=Q;this.shapes={};this.shapeseq=[];this.currentTargetShapeId=d;m(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(R,S,P){var Q=this.canvas.getContext("2d");if(R!==d){Q.strokeStyle=R}Q.lineWidth=P===d?1:P;if(S!==d){Q.fillStyle=S}return Q},reset:function(){var P=this._getContext();P.clearRect(0,0,this.pixelWidth,this.pixelHeight);this.shapes={};this.shapeseq=[];this.currentTargetShapeId=d},_drawShape:function(V,U,T,W,P){var R=this._getContext(T,W,P),Q,S;R.beginPath();R.moveTo(U[0][0]+0.5,U[0][1]+0.5);for(Q=1,S=U.length;Q<S;Q++){R.lineTo(U[Q][0]+0.5,U[Q][1]+0.5)}if(T!==d){R.stroke()}if(W!==d){R.fill()}if(this.targetX!==d&&this.targetY!==d&&R.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=V}},_drawCircle:function(U,R,W,Q,T,V,P){var S=this._getContext(T,V,P);S.beginPath();S.arc(R,W,Q,0,2*c.PI,false);if(this.targetX!==d&&this.targetY!==d&&S.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=U}if(T!==d){S.stroke()}if(V!==d){S.fill()}},_drawPieSlice:function(T,X,V,S,U,R,W,Q){var P=this._getContext(W,Q);P.beginPath();P.moveTo(X,V);P.arc(X,V,S,U,R,false);P.lineTo(X,V);P.closePath();if(W!==d){P.stroke()}if(Q){P.fill()}if(this.targetX!==d&&this.targetY!==d&&P.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=T}},_drawRect:function(T,Q,V,R,P,S,U){return this._drawShape(T,[[Q,V],[Q+R,V],[Q+R,V+P],[Q,V+P],[Q,V]],S,U)},appendShape:function(P){this.shapes[P.id]=P;this.shapeseq.push(P.id);this.lastShapeId=P.id;return P.id},replaceWithShape:function(R,P){var S=this.shapeseq,Q;this.shapes[P.id]=P;for(Q=S.length;Q--;){if(S[Q]==R){S[Q]=P.id}}delete this.shapes[R]},replaceWithShapes:function(R,Q){var V=this.shapeseq,T={},P,S,U;for(S=R.length;S--;){T[R[S]]=true}for(S=V.length;S--;){P=V[S];if(T[P]){V.splice(S,1);delete this.shapes[P];U=S}}for(S=Q.length;S--;){V.splice(U,0,Q[S].id);this.shapes[Q[S].id]=Q[S]}},insertAfterShape:function(R,P){var S=this.shapeseq,Q;for(Q=S.length;Q--;){if(S[Q]===R){S.splice(Q+1,0,P.id);this.shapes[P.id]=P;return}}},removeShapeId:function(Q){var R=this.shapeseq,P;for(P=R.length;P--;){if(R[P]===Q){R.splice(P,1);break}}delete this.shapes[Q]},getShapeAt:function(Q,P,R){this.targetX=P;this.targetY=R;this.render();return this.currentTargetShapeId},render:function(){var V=this.shapeseq,P=this.shapes,T=V.length,S=this._getContext(),U,Q,R;S.clearRect(0,0,this.pixelWidth,this.pixelHeight);for(R=0;R<T;R++){U=V[R];Q=P[U];this["_draw"+Q.type].apply(this,Q.args)}if(!this.interact){this.shapes={};this.shapeseq=[]}}});B=K(n,{init:function(Q,P,S){var R;B._super.init.call(this,Q,P,S);if(S[0]){S=S[0]}m.data(S,"_jqs_vcanvas",this);this.canvas=b.createElement("span");m(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:Q,height:P,margin:"0px",padding:"0px",verticalAlign:"top"});this._insert(this.canvas,S);this._calculatePixelDims(Q,P,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;R='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>';this.canvas.insertAdjacentHTML("beforeEnd",R);this.group=m(this.canvas).children()[0];this.rendered=false;this.prerender=""},_drawShape:function(U,ab,W,P,S){var X=[],V,aa,Z,T,Y,Q,R;for(R=0,Q=ab.length;R<Q;R++){X[R]=""+(ab[R][0])+","+(ab[R][1])}V=X.splice(0,1);S=S===d?1:S;aa=W===d?' stroked="false" ':' strokeWeight="'+S+'px" strokeColor="'+W+'" ';Z=P===d?' filled="false"':' fillColor="'+P+'" filled="true" ';T=X[0]===X[X.length-1]?"x ":"";Y='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+U+'" '+aa+Z+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+V+" l "+X.join(", ")+" "+T+'e"> </v:shape>';return Y},_drawCircle:function(S,V,T,R,U,P,Q){var Y,X,W;V-=R;T-=R;Y=U===d?' stroked="false" ':' strokeWeight="'+Q+'px" strokeColor="'+U+'" ';X=P===d?' filled="false"':' fillColor="'+P+'" filled="true" ';W='<v:oval  id="jqsshape'+S+'" '+Y+X+' style="position:absolute;top:'+T+"px; left:"+V+"px; width:"+(R*2)+"px; height:"+(R*2)+'px"></v:oval>';return W},_drawPieSlice:function(W,ab,Z,V,X,S,aa,R){var Y,Q,P,U,T,ae,ad,ac;if(X===S){return""}if((S-X)===(2*c.PI)){X=0;S=(2*c.PI)}Q=ab+c.round(c.cos(X)*V);P=Z+c.round(c.sin(X)*V);U=ab+c.round(c.cos(S)*V);T=Z+c.round(c.sin(S)*V);if(Q===U&&P===T){if((S-X)<c.PI){return""}Q=U=ab+V;P=T=Z}if(Q===U&&P===T&&(S-X)<c.PI){return""}Y=[ab-V,Z-V,ab+V,Z+V,Q,P,U,T];ae=aa===d?' stroked="false" ':' strokeWeight="1px" strokeColor="'+aa+'" ';ad=R===d?' filled="false"':' fillColor="'+R+'" filled="true" ';ac='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+W+'" '+ae+ad+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+ab+","+Z+" wa "+Y.join(", ")+' x e"> </v:shape>';return ac},_drawRect:function(T,Q,V,R,P,S,U){return this._drawShape(T,[[Q,V],[Q,V+P],[Q+R,V+P],[Q+R,V],[Q,V]],S,U)},reset:function(){this.group.innerHTML=""},appendShape:function(P){var Q=this["_draw"+P.type].apply(this,P.args);if(this.rendered){this.group.insertAdjacentHTML("beforeEnd",Q)}else{this.prerender+=Q}this.lastShapeId=P.id;return P.id},replaceWithShape:function(S,P){var R=m("#jqsshape"+S),Q=this["_draw"+P.type].apply(this,P.args);R[0].outerHTML=Q},replaceWithShapes:function(Q,P){var T=m("#jqsshape"+Q[0]),S="",U=P.length,R;for(R=0;R<U;R++){S+=this["_draw"+P[R].type].apply(this,P[R].args)}T[0].outerHTML=S;for(R=1;R<Q.length;R++){m("#jqsshape"+Q[R]).remove()}},insertAfterShape:function(S,P){var R=m("#jqsshape"+S),Q=this["_draw"+P.type].apply(this,P.args);R[0].insertAdjacentHTML("afterEnd",Q)},removeShapeId:function(Q){var P=m("#jqsshape"+Q);this.group.removeChild(P[0])},getShapeAt:function(Q,P,S){var R=Q.id.substr(8);return R},render:function(){if(!this.rendered){this.group.innerHTML=this.prerender;this.rendered=true}}})}))}(document,Math));(function(b,c){if(typeof exports==="object"){module.exports=c(require("jquery"))}else{if(typeof define==="function"&&define.amd){define(["jquery"],c)}else{c(b.jQuery)}}}(this,function(d){var b=function(f,o){var m;var g=document.createElement("canvas");f.appendChild(g);if(typeof(G_vmlCanvasManager)!=="undefined"){G_vmlCanvasManager.initElement(g)}var n=g.getContext("2d");g.width=g.height=o.size;var l=1;if(window.devicePixelRatio>1){l=window.devicePixelRatio;g.style.width=g.style.height=[o.size,"px"].join("");g.width=g.height=o.size*l;n.scale(l,l)}n.translate(o.size/2,o.size/2);n.rotate((-1/2+o.rotate/180)*Math.PI);var j=(o.size-o.lineWidth)/2;if(o.scaleColor&&o.scaleLength){j-=o.scaleLength+2}Date.now=Date.now||function(){return +(new Date())};var k=function(s,q,u){u=Math.min(Math.max(-1,u||0),1);var r=u<=0?true:false;n.beginPath();n.arc(0,0,j,0,Math.PI*2*u,r);n.strokeStyle=s;n.lineWidth=q;n.stroke()};var e=function(){var s;var r;n.lineWidth=1;n.fillStyle=o.scaleColor;n.save();for(var q=24;q>0;--q){if(q%6===0){r=o.scaleLength;s=0}else{r=o.scaleLength*0.6;s=o.scaleLength-r}n.fillRect(-o.size/2+s,0,r,1);n.rotate(Math.PI/12)}n.restore()};var i=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(q){window.setTimeout(q,1000/60)}}());var h=function(){if(o.scaleColor){e()}if(o.trackColor){k(o.trackColor,o.lineWidth,1)}};this.getCanvas=function(){return g};this.getCtx=function(){return n};this.clear=function(){n.clearRect(o.size/-2,o.size/-2,o.size,o.size)};this.draw=function(r){if(!!o.scaleColor||!!o.trackColor){if(n.getImageData&&n.putImageData){if(!m){h();m=n.getImageData(0,0,o.size*l,o.size*l)}else{n.putImageData(m,0,0)}}else{this.clear();h()}}else{this.clear()}n.lineCap=o.lineCap;var q;if(typeof(o.barColor)==="function"){q=o.barColor(r)}else{q=o.barColor}k(q,o.lineWidth,r/100)}.bind(this);this.animate=function(u,s){var q=Date.now();o.onStart(u,s);var r=function(){var w=Math.min(Date.now()-q,o.animate.duration);var v=o.easing(this,w,u,s-u,o.animate.duration);this.draw(v);o.onStep(u,s,v);if(w>=o.animate.duration){o.onStop(u,s)}else{i(r)}}.bind(this);i(r)}.bind(this)};var c=function(h,i){var e={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1000,enabled:true},easing:function(l,m,k,o,n){m=m/(n/2);if(m<1){return o/2*m*m+k}return -o/2*((--m)*(m-2)-1)+k},onStart:function(l,k){return},onStep:function(m,l,k){return},onStop:function(l,k){return}};if(typeof(b)!=="undefined"){e.renderer=b}else{if(typeof(SVGRenderer)!=="undefined"){e.renderer=SVGRenderer}else{throw new Error("Please load either the SVG- or the CanvasRenderer")}}var f={};var g=0;var j=function(){this.el=h;this.options=f;for(var k in e){if(e.hasOwnProperty(k)){f[k]=i&&typeof(i[k])!=="undefined"?i[k]:e[k];if(typeof(f[k])==="function"){f[k]=f[k].bind(this)}}}if(typeof(f.easing)==="string"&&typeof(jQuery)!=="undefined"&&jQuery.isFunction(jQuery.easing[f.easing])){f.easing=jQuery.easing[f.easing]}else{f.easing=e.easing}if(typeof(f.animate)==="number"){f.animate={duration:f.animate,enabled:true}}if(typeof(f.animate)==="boolean"&&!f.animate){f.animate={duration:1000,enabled:f.animate}}this.renderer=new f.renderer(h,f);this.renderer.draw(g);if(h.dataset&&h.dataset.percent){this.update(parseFloat(h.dataset.percent))}else{if(h.getAttribute&&h.getAttribute("data-percent")){this.update(parseFloat(h.getAttribute("data-percent")))}}}.bind(this);this.update=function(k){k=parseFloat(k);if(f.animate.enabled){this.renderer.animate(g,k)}else{this.renderer.draw(k)}g=k;return this}.bind(this);this.disableAnimation=function(){f.animate.enabled=false;return this};this.enableAnimation=function(){f.animate.enabled=true;return this};j()};d.fn.easyPieChart=function(e){return this.each(function(){var f;if(!d.data(this,"easyPieChart")){f=d.extend({},e,d(this).data());d.data(this,"easyPieChart",new c(this,f))}})}}));
/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.3.2
 *
 */
(function(b){jQuery.fn.extend({slimScroll:function(c){var d={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:0.4,alwaysVisible:false,disableFadeOut:false,railVisible:false,railColor:"#333",railOpacity:0.2,railDraggable:true,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:false,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"};var e=b.extend(d,c);this.each(function(){var z,u,l,r,C,v,q,k,m="<div></div>",w=30,s=false;var D=b(this);if(D.parent().hasClass(e.wrapperClass)){var i=D.scrollTop();x=D.parent().find("."+e.barClass);f=D.parent().find("."+e.railClass);E();if(b.isPlainObject(c)){if("height" in c&&c.height=="auto"){D.parent().css("height","auto");D.css("height","auto");var o=D.parent().parent().height();D.parent().css("height",o);D.css("height",o)}if("scrollTo" in c){i=parseInt(e.scrollTo)}else{if("scrollBy" in c){i+=parseInt(e.scrollBy)}else{if("destroy" in c){x.remove();f.remove();D.unwrap();return}}}y(i,false,true)}return}e.height=(c.height=="auto")?D.parent().height():c.height;var j=b(m).addClass(e.wrapperClass).css({position:"relative",overflow:"hidden",width:e.width,height:e.height});D.css({overflow:"hidden",width:e.width,height:e.height});var f=b(m).addClass(e.railClass).css({width:e.size,height:"100%",position:"absolute",top:0,display:(e.alwaysVisible&&e.railVisible)?"block":"none","border-radius":e.railBorderRadius,background:e.railColor,opacity:e.railOpacity,zIndex:90});var x=b(m).addClass(e.barClass).css({background:e.color,width:e.size,position:"absolute",top:0,opacity:e.opacity,display:e.alwaysVisible?"block":"none","border-radius":e.borderRadius,BorderRadius:e.borderRadius,MozBorderRadius:e.borderRadius,WebkitBorderRadius:e.borderRadius,zIndex:99});var g=(e.position=="right")?{right:e.distance}:{left:e.distance};f.css(g);x.css(g);D.wrap(j);D.parent().append(x);D.parent().append(f);if(e.railDraggable){x.bind("mousedown",function(F){var G=b(document);l=true;t=parseFloat(x.css("top"));pageY=F.pageY;G.bind("mousemove.slimscroll",function(H){currTop=t+H.pageY-pageY;x.css("top",currTop);y(0,x.position().top,false)});G.bind("mouseup.slimscroll",function(H){l=false;n();G.unbind(".slimscroll")});return false}).bind("selectstart.slimscroll",function(F){F.stopPropagation();F.preventDefault();return false})}f.hover(function(){h()},function(){n()});x.hover(function(){u=true},function(){u=false});D.hover(function(){z=true;h();n()},function(){z=false;n()});D.bind("touchstart",function(G,F){if(G.originalEvent.touches.length){C=G.originalEvent.touches[0].pageY}});D.bind("touchmove",function(G){if(!s){G.originalEvent.preventDefault()}if(G.originalEvent.touches.length){var F=(C-G.originalEvent.touches[0].pageY)/e.touchScrollStep;y(F,true);C=G.originalEvent.touches[0].pageY}});E();if(e.start==="bottom"){x.css({top:D.outerHeight()-x.outerHeight()});y(0,true)}else{if(e.start!=="top"){y(b(e.start).position().top,null,true);if(!e.alwaysVisible){x.hide()}}}A();function B(G){if(!z){return}var G=G||window.event;var H=0;if(G.wheelDelta){H=-G.wheelDelta/120}if(G.detail){H=G.detail/3}var F=G.target||G.srcTarget||G.srcElement;if(b(F).closest("."+e.wrapperClass).is(D.parent())){y(H,true)}if(G.preventDefault&&!s){G.preventDefault()}if(!s){G.returnValue=false}}function y(K,H,F){s=false;var J=K;var I=D.outerHeight()-x.outerHeight();if(H){J=parseInt(x.css("top"))+K*parseInt(e.wheelStep)/100*x.outerHeight();J=Math.min(Math.max(J,0),I);J=(K>0)?Math.ceil(J):Math.floor(J);x.css({top:J+"px"})}q=parseInt(x.css("top"))/(D.outerHeight()-x.outerHeight());J=q*(D[0].scrollHeight-D.outerHeight());if(F){J=K;var G=J/D[0].scrollHeight*D.outerHeight();G=Math.min(Math.max(G,0),I);x.css({top:G+"px"})}D.scrollTop(J);D.trigger("slimscrolling",~~J);h();n()}function A(){if(window.addEventListener){this.addEventListener("DOMMouseScroll",B,false);this.addEventListener("mousewheel",B,false)}else{document.attachEvent("onmousewheel",B)}}function E(){v=Math.max((D.outerHeight()/D[0].scrollHeight)*D.outerHeight(),w);x.css({height:v+"px"});var F=v==D.outerHeight()?"none":"block";x.css({display:F})}function h(){E();clearTimeout(r);if(q==~~q){s=e.allowPageScroll;if(k!=q){var F=(~~q==0)?"top":"bottom";D.trigger("slimscroll",F)}}else{s=false}k=q;if(v>=D.outerHeight()){s=true;return}x.stop(true,true).fadeIn("fast");if(e.railVisible){f.stop(true,true).fadeIn("fast")}}function n(){if(!e.alwaysVisible){r=setTimeout(function(){if(!(e.disableFadeOut&&z)&&!u&&!l){x.fadeOut("slow");f.fadeOut("slow")}},1000)}}});return this}});jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})})(jQuery);(function(E){var R,aB="2.5.1",A=this,W=Math.round,ac,w=0,f=1,aQ=2,v=3,av=4,s=5,T=6,ax={},aK={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},al=(typeof module!=="undefined"&&module.exports&&typeof require!=="undefined"),c=/^\/?Date\((\-?\d+)/i,aZ=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,aD=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ao=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,ab=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,g=/\d\d?/,ad=/\d{1,3}/,F=/\d{1,4}/,a6=/[+\-]?\d{1,6}/,aV=/\d+/,J=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,o=/Z|[\+\-]\d\d:?\d\d/gi,k=/T/i,aN=/[\+\-]?\d+(\.\d{1,3})?/,a8=/\d{1,2}/,aa=/\d/,q=/\d\d/,aY=/\d{3}/,aM=/\d{4}/,ah=/[+-]?\d{6}/,Y=/[+-]?\d+/,aJ=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,U="YYYY-MM-DDTHH:mm:ssZ",aX=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],H=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Z=/([\+\-]|\d\d)/gi,aE="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),D={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},d={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},aU={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ak={},aP="DDD w W M D d".split(" "),am="M D H h m s w W".split(" "),aR={M:function(){return this.month()+1},MMM:function(i){return this.lang().monthsShort(this,i)},MMMM:function(i){return this.lang().months(this,i)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(i){return this.lang().weekdaysMin(this,i)},ddd:function(i){return this.lang().weekdaysShort(this,i)},dddd:function(i){return this.lang().weekdays(this,i)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return K(this.year()%100,2)},YYYY:function(){return K(this.year(),4)},YYYYY:function(){return K(this.year(),5)},YYYYYY:function(){var a9=this.year(),i=a9>=0?"+":"-";return i+K(Math.abs(a9),6)},gg:function(){return K(this.weekYear()%100,2)},gggg:function(){return K(this.weekYear(),4)},ggggg:function(){return K(this.weekYear(),5)},GG:function(){return K(this.isoWeekYear()%100,2)},GGGG:function(){return K(this.isoWeekYear(),4)},GGGGG:function(){return K(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return M(this.milliseconds()/100)},SS:function(){return K(M(this.milliseconds()/10),2)},SSS:function(){return K(this.milliseconds(),3)},SSSS:function(){return K(this.milliseconds(),3)},Z:function(){var a9=-this.zone(),i="+";if(a9<0){a9=-a9;i="-"}return i+K(M(a9/60),2)+":"+K(M(a9)%60,2)},ZZ:function(){var a9=-this.zone(),i="+";if(a9<0){a9=-a9;i="-"}return i+K(M(a9/60),2)+K(M(a9)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},V=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function af(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function O(a9,i){return function(ba){return K(a9.call(this,ba),i)}}function h(i,a9){return function(ba){return this.lang().ordinal(i.call(this,ba),a9)}}while(aP.length){ac=aP.pop();aR[ac+"o"]=h(aR[ac],ac)}while(am.length){ac=am.pop();aR[ac+ac]=O(aR[ac],2)}aR.DDDD=O(aR.DDD,3);function aG(){}function L(i){a3(i);az(this,i)}function ae(bb){var be=m(bb),bd=be.year||0,a9=be.month||0,i=be.week||0,bh=be.day||0,bf=be.hour||0,bc=be.minute||0,bg=be.second||0,ba=be.millisecond||0;this._milliseconds=+ba+bg*1000+bc*60000+bf*3600000;this._days=+bh+i*7;this._months=+a9+bd*12;this._data={};this._bubble()}function az(ba,a9){for(var bb in a9){if(a9.hasOwnProperty(bb)){ba[bb]=a9[bb]}}if(a9.hasOwnProperty("toString")){ba.toString=a9.toString}if(a9.hasOwnProperty("valueOf")){ba.valueOf=a9.valueOf}return ba}function a5(ba){var a9={},bb;for(bb in ba){if(ba.hasOwnProperty(bb)&&aK.hasOwnProperty(bb)){a9[bb]=ba[bb]}}return a9}function l(i){if(i<0){return Math.ceil(i)}else{return Math.floor(i)}}function K(bc,bb,ba){var a9=""+Math.abs(bc),i=bc>=0;while(a9.length<bb){a9="0"+a9}return(i?(ba?"+":""):"-")+a9}function G(bb,ba,be,bd){var a9=ba._milliseconds,bg=ba._days,i=ba._months,bc,bf;if(a9){bb._d.setTime(+bb._d+a9*be)}if(bg||i){bc=bb.minute();bf=bb.hour()}if(bg){bb.date(bb.date()+bg*be)}if(i){bb.month(bb.month()+i*be)}if(a9&&!bd){R.updateOffset(bb,bg||i)}if(bg||i){bb.minute(bc);bb.hour(bf)}}function b(i){return Object.prototype.toString.call(i)==="[object Array]"}function e(i){return Object.prototype.toString.call(i)==="[object Date]"||i instanceof Date}function aO(be,bd,ba){var a9=Math.min(be.length,bd.length),bb=Math.abs(be.length-bd.length),bf=0,bc;for(bc=0;bc<a9;bc++){if((ba&&be[bc]!==bd[bc])||(!ba&&M(be[bc])!==M(bd[bc]))){bf++}}return bf+bb}function aT(a9){if(a9){var i=a9.toLowerCase().replace(/(.)s$/,"$1");a9=d[a9]||aU[i]||i}return a9}function m(ba){var a9={},i,bb;for(bb in ba){if(ba.hasOwnProperty(bb)){i=aT(bb);if(i){a9[i]=ba[bb]}}}return a9}function ar(a9){var i,ba;if(a9.indexOf("week")===0){i=7;ba="day"}else{if(a9.indexOf("month")===0){i=12;ba="month"}else{return}}R[a9]=function(bf,bc){var be,bb,bg=R.fn._lang[a9],bd=[];if(typeof bf==="number"){bc=bf;bf=E}bb=function(bi){var bh=R().utc().set(ba,bi);return bg.call(R.fn._lang,bh,bf||"")};if(bc!=null){return bb(bc)}else{for(be=0;be<i;be++){bd.push(bb(be))}return bd}}}function M(i){var ba=+i,a9=0;if(ba!==0&&isFinite(ba)){if(ba>=0){a9=Math.floor(ba)}else{a9=Math.ceil(ba)}}return a9}function a1(i,a9){return new Date(Date.UTC(i,a9+1,0)).getUTCDate()}function aF(i,ba,a9){return B(R([i,11,31+ba-a9]),ba,a9).week}function aW(i){return aI(i)?366:365}function aI(i){return(i%4===0&&i%100!==0)||i%400===0}function a3(i){var a9;if(i._a&&i._pf.overflow===-2){a9=i._a[f]<0||i._a[f]>11?f:i._a[aQ]<1||i._a[aQ]>a1(i._a[w],i._a[f])?aQ:i._a[v]<0||i._a[v]>23?v:i._a[av]<0||i._a[av]>59?av:i._a[s]<0||i._a[s]>59?s:i._a[T]<0||i._a[T]>999?T:-1;if(i._pf._overflowDayOfYear&&(a9<w||a9>aQ)){a9=aQ}i._pf.overflow=a9}}function aA(i){if(i._isValid==null){i._isValid=!isNaN(i._d.getTime())&&i._pf.overflow<0&&!i._pf.empty&&!i._pf.invalidMonth&&!i._pf.nullInput&&!i._pf.invalidFormat&&!i._pf.userInvalidated;if(i._strict){i._isValid=i._isValid&&i._pf.charsLeftOver===0&&i._pf.unusedTokens.length===0}}return i._isValid}function C(i){return i?i.toLowerCase().replace("_","-"):i}function x(i,a9){return a9._isUTC?R(i).zone(a9._offset||0):R(i).local()}az(aG.prototype,{set:function(a9){var bb,ba;for(ba in a9){bb=a9[ba];if(typeof bb==="function"){this[ba]=bb}else{this["_"+ba]=bb}}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(i){return this._months[i.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(i){return this._monthsShort[i.month()]},monthsParse:function(a9){var ba,bc,bb;if(!this._monthsParse){this._monthsParse=[]}for(ba=0;ba<12;ba++){if(!this._monthsParse[ba]){bc=R.utc([2000,ba]);bb="^"+this.months(bc,"")+"|^"+this.monthsShort(bc,"");this._monthsParse[ba]=new RegExp(bb.replace(".",""),"i")}if(this._monthsParse[ba].test(a9)){return ba}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(i){return this._weekdays[i.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(i){return this._weekdaysShort[i.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(i){return this._weekdaysMin[i.day()]},weekdaysParse:function(bc){var a9,bb,ba;if(!this._weekdaysParse){this._weekdaysParse=[]}for(a9=0;a9<7;a9++){if(!this._weekdaysParse[a9]){bb=R([2000,1]).day(a9);ba="^"+this.weekdays(bb,"")+"|^"+this.weekdaysShort(bb,"")+"|^"+this.weekdaysMin(bb,"");this._weekdaysParse[a9]=new RegExp(ba.replace(".",""),"i")}if(this._weekdaysParse[a9].test(bc)){return a9}}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a9){var i=this._longDateFormat[a9];if(!i&&this._longDateFormat[a9.toUpperCase()]){i=this._longDateFormat[a9.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(ba){return ba.slice(1)});this._longDateFormat[a9]=i}return i},isPM:function(i){return((i+"").toLowerCase().charAt(0)==="p")},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(i,a9,ba){if(i>11){return ba?"pm":"PM"}else{return ba?"am":"AM"}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a9,ba){var i=this._calendar[a9];return typeof i==="function"?i.apply(ba):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(bb,ba,a9,bc){var i=this._relativeTime[a9];return(typeof i==="function")?i(bb,ba,a9,bc):i.replace(/%d/i,bb)},pastFuture:function(ba,i){var a9=this._relativeTime[ba>0?"future":"past"];return typeof a9==="function"?a9(i):a9.replace(/%s/i,i)},ordinal:function(i){return this._ordinal.replace("%d",i)},_ordinal:"%d",preparse:function(i){return i},postformat:function(i){return i},week:function(i){return B(i,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function aj(a9,i){i.abbr=a9;if(!ax[a9]){ax[a9]=new aG()}ax[a9].set(i);return ax[a9]}function a0(i){delete ax[i]}function ay(bd){var bc=0,ba,bf,be,bb,a9=function(i){if(!ax[i]&&al){try{require("./lang/"+i)}catch(bg){}}return ax[i]};if(!bd){return R.fn._lang}if(!b(bd)){bf=a9(bd);if(bf){return bf}bd=[bd]}while(bc<bd.length){bb=C(bd[bc]).split("-");ba=bb.length;be=C(bd[bc+1]);be=be?be.split("-"):null;while(ba>0){bf=a9(bb.slice(0,ba).join("-"));if(bf){return bf}if(be&&be.length>=ba&&aO(bb,be,true)>=ba-1){break}ba--}bc++}return R.fn._lang}function ai(i){if(i.match(/\[[\s\S]/)){return i.replace(/^\[|\]$/g,"")}return i.replace(/\\/g,"")}function r(bb){var bc=bb.match(ao),a9,ba;for(a9=0,ba=bc.length;a9<ba;a9++){if(aR[bc[a9]]){bc[a9]=aR[bc[a9]]}else{bc[a9]=ai(bc[a9])}}return function(bd){var i="";for(a9=0;a9<ba;a9++){i+=bc[a9] instanceof Function?bc[a9].call(bd,bb):bc[a9]}return i}}function an(i,a9){if(!i.isValid()){return i.lang().invalidDate()}a9=a7(a9,i.lang());if(!ak[a9]){ak[a9]=r(a9)}return ak[a9](i)}function a7(bb,bc){var a9=5;function ba(i){return bc.longDateFormat(i)||i}ab.lastIndex=0;while(a9>=0&&ab.test(bb)){bb=bb.replace(ab,ba);ab.lastIndex=0;a9-=1}return bb}function aq(bb,ba){var a9,i=ba._strict;switch(bb){case"DDDD":return aY;case"YYYY":case"GGGG":case"gggg":return i?aM:F;case"Y":case"G":case"g":return Y;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?ah:a6;case"S":if(i){return aa}case"SS":if(i){return q}case"SSS":if(i){return aY}case"DDD":return ad;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return J;case"a":case"A":return ay(ba._l)._meridiemParse;case"X":return aN;case"Z":case"ZZ":return o;case"T":return k;case"SSSS":return aV;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?q:g;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return g;case"Do":return a8;default:a9=new RegExp(a4(au(bb.replace("\\","")),"i"));return a9}}function y(a9){a9=a9||"";var i=(a9.match(o)||[]),bc=i[i.length-1]||[],bb=(bc+"").match(Z)||["-",0,0],ba=+(bb[1]*60)+M(bb[2]);return bb[0]==="+"?-ba:ba}function at(bc,ba,bb){var a9,i=bb._a;switch(bc){case"M":case"MM":if(ba!=null){i[f]=M(ba)-1}break;case"MMM":case"MMMM":a9=ay(bb._l).monthsParse(ba);if(a9!=null){i[f]=a9}else{bb._pf.invalidMonth=ba}break;case"D":case"DD":if(ba!=null){i[aQ]=M(ba)}break;case"Do":if(ba!=null){i[aQ]=M(parseInt(ba,10))}break;case"DDD":case"DDDD":if(ba!=null){bb._dayOfYear=M(ba)}break;case"YY":i[w]=M(ba)+(M(ba)>68?1900:2000);break;case"YYYY":case"YYYYY":case"YYYYYY":i[w]=M(ba);break;case"a":case"A":bb._isPm=ay(bb._l).isPM(ba);break;case"H":case"HH":case"h":case"hh":i[v]=M(ba);break;case"m":case"mm":i[av]=M(ba);break;case"s":case"ss":i[s]=M(ba);break;case"S":case"SS":case"SSS":case"SSSS":i[T]=M(("0."+ba)*1000);break;case"X":bb._d=new Date(parseFloat(ba)*1000);break;case"Z":case"ZZ":bb._useUTC=true;bb._tzm=y(ba);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":bc=bc.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":bc=bc.substr(0,2);if(ba){bb._w=bb._w||{};bb._w[bc]=ba}break}}function ag(bd){var bf,be,bi=[],bb,bh,ba,bj,bk,bc,bg,a9;if(bd._d){return}bb=n(bd);if(bd._w&&bd._a[aQ]==null&&bd._a[f]==null){ba=function(bl){var i=parseInt(bl,10);return bl?(bl.length<3?(i>68?1900+i:2000+i):i):(bd._a[w]==null?R().weekYear():bd._a[w])};bj=bd._w;if(bj.GG!=null||bj.W!=null||bj.E!=null){bk=u(ba(bj.GG),bj.W||1,bj.E,4,1)}else{bc=ay(bd._l);bg=bj.d!=null?a2(bj.d,bc):(bj.e!=null?parseInt(bj.e,10)+bc._week.dow:0);a9=parseInt(bj.w,10)||1;if(bj.d!=null&&bg<bc._week.dow){a9++}bk=u(ba(bj.gg),a9,bg,bc._week.doy,bc._week.dow)}bd._a[w]=bk.year;bd._dayOfYear=bk.dayOfYear}if(bd._dayOfYear){bh=bd._a[w]==null?bb[w]:bd._a[w];if(bd._dayOfYear>aW(bh)){bd._pf._overflowDayOfYear=true}be=I(bh,0,bd._dayOfYear);bd._a[f]=be.getUTCMonth();bd._a[aQ]=be.getUTCDate()}for(bf=0;bf<3&&bd._a[bf]==null;++bf){bd._a[bf]=bi[bf]=bb[bf]}for(;bf<7;bf++){bd._a[bf]=bi[bf]=(bd._a[bf]==null)?(bf===2?1:0):bd._a[bf]}bi[v]+=M((bd._tzm||0)/60);bi[av]+=M((bd._tzm||0)%60);bd._d=(bd._useUTC?I:ap).apply(null,bi)}function aC(a9){var i;if(a9._d){return}i=m(a9._i);a9._a=[i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond];ag(a9)}function n(a9){var i=new Date();if(a9._useUTC){return[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]}else{return[i.getFullYear(),i.getMonth(),i.getDate()]}}function Q(bc){bc._a=[];bc._pf.empty=true;var bb=ay(bc._l),bf=""+bc._i,be,ba,bi,bd,bh,a9=bf.length,bg=0;bi=a7(bc._f,bb).match(ao)||[];for(be=0;be<bi.length;be++){bd=bi[be];ba=(bf.match(aq(bd,bc))||[])[0];if(ba){bh=bf.substr(0,bf.indexOf(ba));if(bh.length>0){bc._pf.unusedInput.push(bh)}bf=bf.slice(bf.indexOf(ba)+ba.length);bg+=ba.length}if(aR[bd]){if(ba){bc._pf.empty=false}else{bc._pf.unusedTokens.push(bd)}at(bd,ba,bc)}else{if(bc._strict&&!ba){bc._pf.unusedTokens.push(bd)}}}bc._pf.charsLeftOver=a9-bg;if(bf.length>0){bc._pf.unusedInput.push(bf)}if(bc._isPm&&bc._a[v]<12){bc._a[v]+=12}if(bc._isPm===false&&bc._a[v]===12){bc._a[v]=0}ag(bc);a3(bc)}function au(i){return i.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a9,bd,bc,bb,ba){return bd||bc||bb||ba})}function a4(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function aS(a9){var bd,bb,bc,ba,be;if(a9._f.length===0){a9._pf.invalidFormat=true;a9._d=new Date(NaN);return}for(ba=0;ba<a9._f.length;ba++){be=0;bd=az({},a9);bd._pf=af();bd._f=a9._f[ba];Q(bd);if(!aA(bd)){continue}be+=bd._pf.charsLeftOver;be+=bd._pf.unusedTokens.length*10;bd._pf.score=be;if(bc==null||be<bc){bc=be;bb=bd}}az(a9,bb||bd)}function j(bc){var bd,a9,bb=bc._i,ba=aJ.exec(bb);if(ba){bc._pf.iso=true;for(bd=0,a9=aX.length;bd<a9;bd++){if(aX[bd][1].exec(bb)){bc._f=aX[bd][0]+(ba[6]||" ");break}}for(bd=0,a9=H.length;bd<a9;bd++){if(H[bd][1].exec(bb)){bc._f+=H[bd][0];break}}if(bb.match(o)){bc._f+="Z"}Q(bc)}else{bc._d=new Date(bb)}}function P(ba){var a9=ba._i,i=c.exec(a9);if(a9===E){ba._d=new Date()}else{if(i){ba._d=new Date(+i[1])}else{if(typeof a9==="string"){j(ba)}else{if(b(a9)){ba._a=a9.slice(0);ag(ba)}else{if(e(a9)){ba._d=new Date(+a9)}else{if(typeof(a9)==="object"){aC(ba)}else{ba._d=new Date(a9)}}}}}}}function ap(bf,i,bd,bc,be,bb,ba){var a9=new Date(bf,i,bd,bc,be,bb,ba);if(bf<1970){a9.setFullYear(bf)}return a9}function I(a9){var i=new Date(Date.UTC.apply(null,arguments));if(a9<1970){i.setUTCFullYear(a9)}return i}function a2(i,a9){if(typeof i==="string"){if(!isNaN(i)){i=parseInt(i,10)}else{i=a9.weekdaysParse(i);if(typeof i!=="number"){return null}}}return i}function aH(i,ba,a9,bb,bc){return bc.relativeTime(ba||1,!!a9,i,bb)}function z(ba,i,a9){var bf=W(Math.abs(ba)/1000),bb=W(bf/60),be=W(bb/60),bg=W(be/24),bc=W(bg/365),bd=bf<45&&["s",bf]||bb===1&&["m"]||bb<45&&["mm",bb]||be===1&&["h"]||be<22&&["hh",be]||bg===1&&["d"]||bg<=25&&["dd",bg]||bg<=45&&["M"]||bg<345&&["MM",W(bg/30)]||bc===1&&["y"]||["yy",bc];bd[2]=i;bd[3]=ba>0;bd[4]=a9;return aH.apply({},bd)}function B(bc,ba,bd){var a9=bd-ba,i=bd-bc.day(),bb;if(i>a9){i-=7}if(i<a9-7){i+=7}bb=R(bc).add("d",i);return{week:Math.ceil(bb.dayOfYear()/7),year:bb.year()}}function u(bc,bb,bd,bf,i){var be=I(bc,0,1).getUTCDay(),ba,a9;bd=bd!=null?bd:i;ba=i-be+(be>bf?7:0)-(be<i?7:0);a9=7*(bb-1)+(bd-i)+ba+1;return{year:a9>0?bc:bc-1,dayOfYear:a9>0?a9:aW(bc-1)+a9}}function N(a9){var i=a9._i,ba=a9._f;if(i===null){return R.invalid({nullInput:true})}if(typeof i==="string"){a9._i=i=ay().preparse(i)}if(R.isMoment(i)){a9=a5(i);a9._d=new Date(+i._d)}else{if(ba){if(b(ba)){aS(a9)}else{Q(a9)}}else{P(a9)}}return new L(a9)}R=function(a9,ba,bb,i){var bc;if(typeof(bb)==="boolean"){i=bb;bb=E}bc={};bc._isAMomentObject=true;bc._i=a9;bc._f=ba;bc._l=bb;bc._strict=i;bc._isUTC=false;bc._pf=af();return N(bc)};R.utc=function(a9,ba,bb,i){var bc;if(typeof(bb)==="boolean"){i=bb;bb=E}bc={};bc._isAMomentObject=true;bc._useUTC=true;bc._isUTC=true;bc._l=bb;bc._i=a9;bc._f=ba;bc._strict=i;bc._pf=af();return N(bc).utc()};R.unix=function(i){return R(i*1000)};R.duration=function(a9,bd){var be=a9,bc=null,i,bb,ba;if(R.isDuration(a9)){be={ms:a9._milliseconds,d:a9._days,M:a9._months}}else{if(typeof a9==="number"){be={};if(bd){be[bd]=a9}else{be.milliseconds=a9}}else{if(!!(bc=aZ.exec(a9))){i=(bc[1]==="-")?-1:1;be={y:0,d:M(bc[aQ])*i,h:M(bc[v])*i,m:M(bc[av])*i,s:M(bc[s])*i,ms:M(bc[T])*i}}else{if(!!(bc=aD.exec(a9))){i=(bc[1]==="-")?-1:1;ba=function(bg){var bf=bg&&parseFloat(bg.replace(",","."));return(isNaN(bf)?0:bf)*i};be={y:ba(bc[2]),M:ba(bc[3]),d:ba(bc[4]),h:ba(bc[5]),m:ba(bc[6]),s:ba(bc[7]),w:ba(bc[8])}}}}}bb=new ae(be);if(R.isDuration(a9)&&a9.hasOwnProperty("_lang")){bb._lang=a9._lang}return bb};R.version=aB;R.defaultFormat=U;R.updateOffset=function(){};R.lang=function(a9,i){var ba;if(!a9){return R.fn._lang._abbr}if(i){aj(C(a9),i)}else{if(i===null){a0(a9);a9="en"}else{if(!ax[a9]){ay(a9)}}}ba=R.duration.fn._lang=R.fn._lang=ay(a9);return ba._abbr};R.langData=function(i){if(i&&i._lang&&i._lang._abbr){i=i._lang._abbr}return ay(i)};R.isMoment=function(i){return i instanceof L||(i!=null&&i.hasOwnProperty("_isAMomentObject"))};R.isDuration=function(i){return i instanceof ae};for(ac=V.length-1;ac>=0;--ac){ar(V[ac])}R.normalizeUnits=function(i){return aT(i)};R.invalid=function(a9){var i=R.utc(NaN);if(a9!=null){az(i._pf,a9)}else{i._pf.userInvalidated=true}return i};R.parseZone=function(){return R.apply(null,arguments).parseZone()};az(R.fn=L.prototype,{clone:function(){return R(this)},valueOf:function(){return +this._d+((this._offset||0)*60000)},unix:function(){return Math.floor(+this/1000)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var i=R(this).utc();if(0<i.year()&&i.year()<=9999){return an(i,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}else{return an(i,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}},toArray:function(){var i=this;return[i.year(),i.month(),i.date(),i.hours(),i.minutes(),i.seconds(),i.milliseconds()]},isValid:function(){return aA(this)},isDSTShifted:function(){if(this._a){return this.isValid()&&aO(this._a,(this._isUTC?R.utc(this._a):R(this._a)).toArray())>0}return false},parsingFlags:function(){return az({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){this.zone(0);this._isUTC=false;return this},format:function(a9){var i=an(this,a9||R.defaultFormat);return this.lang().postformat(i)},add:function(i,ba){var a9;if(typeof i==="string"){a9=R.duration(+ba,i)}else{a9=R.duration(i,ba)}G(this,a9,1);return this},subtract:function(i,ba){var a9;if(typeof i==="string"){a9=R.duration(+ba,i)}else{a9=R.duration(i,ba)}G(this,a9,-1);return this},diff:function(bc,bb,i){var bd=x(bc,this),a9=(this.zone()-bd.zone())*60000,be,ba;bb=aT(bb);if(bb==="year"||bb==="month"){be=(this.daysInMonth()+bd.daysInMonth())*43200000;ba=((this.year()-bd.year())*12)+(this.month()-bd.month());ba+=((this-R(this).startOf("month"))-(bd-R(bd).startOf("month")))/be;ba-=((this.zone()-R(this).startOf("month").zone())-(bd.zone()-R(bd).startOf("month").zone()))*60000/be;if(bb==="year"){ba=ba/12}}else{be=(this-bd);ba=bb==="second"?be/1000:bb==="minute"?be/60000:bb==="hour"?be/3600000:bb==="day"?(be-a9)/86400000:bb==="week"?(be-a9)/604800000:be}return i?ba:l(ba)},from:function(a9,i){return R.duration(this.diff(a9)).lang(this.lang()._abbr).humanize(!i)},fromNow:function(i){return this.from(R(),i)},calendar:function(){var i=x(R(),this).startOf("day"),ba=this.diff(i,"days",true),a9=ba<-6?"sameElse":ba<-1?"lastWeek":ba<0?"lastDay":ba<1?"sameDay":ba<2?"nextDay":ba<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(a9,this))},isLeapYear:function(){return aI(this.year())},isDST:function(){return(this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone())},day:function(a9){var i=this._isUTC?this._d.getUTCDay():this._d.getDay();if(a9!=null){a9=a2(a9,this.lang());return this.add({d:a9-i})}else{return i}},month:function(i){var a9=this._isUTC?"UTC":"",ba;if(i!=null){if(typeof i==="string"){i=this.lang().monthsParse(i);if(typeof i!=="number"){return this}}ba=Math.min(this.date(),a1(this.year(),i));this._d["set"+a9+"Month"](i,ba);R.updateOffset(this,true);return this}else{return this._d["get"+a9+"Month"]()}},startOf:function(i){i=aT(i);switch(i){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(i==="week"){this.weekday(0)}else{if(i==="isoWeek"){this.isoWeekday(1)}}return this},endOf:function(i){i=aT(i);return this.startOf(i).add((i==="isoWeek"?"week":i),1).subtract("ms",1)},isAfter:function(a9,i){i=typeof i!=="undefined"?i:"millisecond";return +this.clone().startOf(i)>+R(a9).startOf(i)},isBefore:function(a9,i){i=typeof i!=="undefined"?i:"millisecond";return +this.clone().startOf(i)<+R(a9).startOf(i)},isSame:function(a9,i){i=i||"ms";return +this.clone().startOf(i)===+x(a9,this).startOf(i)},min:function(i){i=R.apply(null,arguments);return i<this?this:i},max:function(i){i=R.apply(null,arguments);return i>this?this:i},zone:function(i,a9){a9=(a9==null?true:false);var ba=this._offset||0;if(i!=null){if(typeof i==="string"){i=y(i)}if(Math.abs(i)<16){i=i*60}this._offset=i;this._isUTC=true;if(ba!==i&&a9){G(this,R.duration(ba-i,"m"),1,true)}}else{return this._isUTC?ba:this._d.getTimezoneOffset()}return this},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm){this.zone(this._tzm)}else{if(typeof this._i==="string"){this.zone(this._i)}}return this},hasAlignedHourOffset:function(i){if(!i){i=0}else{i=R(i).zone()}return(this.zone()-i)%60===0},daysInMonth:function(){return a1(this.year(),this.month())},dayOfYear:function(i){var a9=W((R(this).startOf("day")-R(this).startOf("year"))/86400000)+1;return i==null?a9:this.add("d",(i-a9))},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(i){var a9=B(this,this.lang()._week.dow,this.lang()._week.doy).year;return i==null?a9:this.add("y",(i-a9))},isoWeekYear:function(i){var a9=B(this,1,4).year;return i==null?a9:this.add("y",(i-a9))},week:function(i){var a9=this.lang().week(this);return i==null?a9:this.add("d",(i-a9)*7)},isoWeek:function(i){var a9=B(this,1,4).week;return i==null?a9:this.add("d",(i-a9)*7)},weekday:function(i){var a9=(this.day()+7-this.lang()._week.dow)%7;return i==null?a9:this.add("d",i-a9)},isoWeekday:function(i){return i==null?this.day()||7:this.day(this.day()%7?i:i-7)},isoWeeksInYear:function(){return aF(this.year(),1,4)},weeksInYear:function(){var i=this._lang._week;return aF(this.year(),i.dow,i.doy)},get:function(i){i=aT(i);return this[i]()},set:function(i,a9){i=aT(i);if(typeof this[i]==="function"){this[i](a9)}return this},lang:function(i){if(i===E){return this._lang}else{this._lang=ay(i);return this}}});function aL(a9,ba){var i=ba==="date"||ba==="month"||ba==="year";R.fn[a9]=R.fn[a9+"s"]=function(bb,bd){var bc=this._isUTC?"UTC":"";if(bd==null){bd=i}if(bb!=null){this._d["set"+bc+ba](bb);R.updateOffset(this,bd);return this}else{return this._d["get"+bc+ba]()}}}for(ac=0;ac<aE.length;ac++){aL(aE[ac].toLowerCase().replace(/s$/,""),aE[ac])}aL("year","FullYear");R.fn.days=R.fn.day;R.fn.months=R.fn.month;R.fn.weeks=R.fn.week;R.fn.isoWeeks=R.fn.isoWeek;R.fn.toJSON=R.fn.toISOString;az(R.duration.fn=ae.prototype,{_bubble:function(){var ba=this._milliseconds,bf=this._days,i=this._months,bd=this._data,be,bc,a9,bb;bd.milliseconds=ba%1000;be=l(ba/1000);bd.seconds=be%60;bc=l(be/60);bd.minutes=bc%60;a9=l(bc/60);bd.hours=a9%24;bf+=l(a9/24);bd.days=bf%30;i+=l(bf/30);bd.months=i%12;bb=l(i/12);bd.years=bb},weeks:function(){return l(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*86400000+(this._months%12)*2592000000+M(this._months/12)*31536000000},humanize:function(a9){var ba=+this,i=z(ba,!a9,this.lang());if(a9){i=this.lang().pastFuture(ba,i)}return this.lang().postformat(i)},add:function(i,ba){var a9=R.duration(i,ba);this._milliseconds+=a9._milliseconds;this._days+=a9._days;this._months+=a9._months;this._bubble();return this},subtract:function(i,ba){var a9=R.duration(i,ba);this._milliseconds-=a9._milliseconds;this._days-=a9._days;this._months-=a9._months;this._bubble();return this},get:function(i){i=aT(i);return this[i.toLowerCase()+"s"]()},as:function(i){i=aT(i);return this["as"+i.charAt(0).toUpperCase()+i.slice(1)+"s"]()},lang:R.fn.lang,toIsoString:function(){var bb=Math.abs(this.years()),i=Math.abs(this.months()),bd=Math.abs(this.days()),a9=Math.abs(this.hours()),ba=Math.abs(this.minutes()),bc=Math.abs(this.seconds()+this.milliseconds()/1000);if(!this.asSeconds()){return"P0D"}return(this.asSeconds()<0?"-":"")+"P"+(bb?bb+"Y":"")+(i?i+"M":"")+(bd?bd+"D":"")+((a9||ba||bc)?"T":"")+(a9?a9+"H":"")+(ba?ba+"M":"")+(bc?bc+"S":"")}});function X(i){R.duration.fn[i]=function(){return this._data[i]}}function aw(i,a9){R.duration.fn["as"+i]=function(){return +this/a9}}for(ac in D){if(D.hasOwnProperty(ac)){aw(ac,D[ac]);X(ac.toLowerCase())}}aw("Weeks",604800000);R.duration.fn.asMonths=function(){return(+this-this.years()*31536000000)/2592000000+this.years()*12};R.lang("en",{ordinal:function(ba){var i=ba%10,a9=(M(ba%100/10)===1)?"th":(i===1)?"st":(i===2)?"nd":(i===3)?"rd":"th";return ba+a9}});function S(a9){var i=false,ba=R;if(typeof ender!=="undefined"){return}if(a9){A.moment=function(){if(!i&&console&&console.warn){i=true;console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")}return ba.apply(null,arguments)};az(A.moment,ba)}else{A.moment=R}}if(al){module.exports=R;S(true)}else{if(typeof define==="function"&&define.amd){define("moment",function(a9,i,ba){if(ba.config&&ba.config()&&ba.config().noGlobal!==true){S(ba.config().noGlobal===E)}return R})}else{S()}}}).call(this);(function(g,e,b,h){var f="datepaginator";var d=function(j,i){this._element=j;this.$element=g(j);this._init(i)};d.defaults={fillWidth:true,highlightSelectedDate:true,highlightToday:true,hint:"dddd, Do MMMM YYYY",injectStyle:true,itemWidth:35,navItemWidth:20,offDays:"Sat,Sun",offDaysFormat:"ddd",onSelectedDateChanged:null,selectedDate:moment().clone().startOf("day"),selectedDateFormat:"YYYY-MM-DD",selectedItemWidth:140,showCalendar:true,showOffDays:true,showStartOfWeek:true,size:h,startOfWeek:"Mon",startOfWeekFormat:"ddd",squareEdges:false,text:"ddd<br/>Do",textSelected:"dddd<br/>Do, MMMM YYYY",width:0,startDate:moment(new Date(-8640000000000000)),startDateFormat:"YYYY-MM-DD",endDate:moment(new Date(8640000000000000)),endDateFormat:"YYYY-MM-DD"};d.prototype={setSelectedDate:function(i,j){this._setSelectedDate(moment(i,j?j:this.options.selectedDateFormat));this._render()},remove:function(){this._destroy();g.removeData(this,"plugin_"+f)},_init:function(i){this.options=g.extend({},d.defaults,i);if(this.options.width){this.options.fillWidth=false}else{this.options.width=this.$element.width();this.options.fillWidth=true}if(typeof this.options.startDate==="string"){this.options.startDate=moment(this.options.startDate,this.options.startDateFormat).clone().startOf("day")}if(typeof this.options.endDate==="string"){this.options.endDate=moment(this.options.endDate,this.options.endDateFormat).clone().startOf("day")}if(typeof this.options.selectedDate==="string"){this.options.selectedDate=moment(this.options.selectedDate,this.options.selectedDateFormat).clone().startOf("day")}if(this.options.selectedDate.isBefore(this.options.startDate)){this.options.selectedDate=this.options.startDate.clone()}if(this.options.selectedDate.isAfter(this.options.endDate)){this.options.selectedDate=this.options.endDate.clone()}if(this.options.size==="small"){this.options.size="sm"}else{if(this.options.size==="large"){this.options.size="lg"}}this._destroy();this._subscribeEvents();this._render()},_unsubscribeEvents:function(){this.$element.off("click");this.$element.off("selectedDateChanged")},_subscribeEvents:function(){this._unsubscribeEvents();this.$element.on("click",g.proxy(this._clickedHandler,this));if(typeof(this.options.onSelectedDateChanged)==="function"){this.$element.on("selectedDateChanged",this.options.onSelectedDateChanged)}if(this.options.fillWidth){g(e).on("resize",g.proxy(this._resize,this))}},_destroy:function(){if(this.initialized){if(this.$calendar){this.$calendar.datepicker("remove")}this.$wrapper.remove();this.$wrapper=null;this._unsubscribeEvents()}this.initialized=false},_clickedHandler:function(i){i.preventDefault();var j=g(i.target);var k=j.attr("class");if(k.indexOf("dp-nav-left")!=-1){this._back()}else{if(k.indexOf("dp-nav-right")!=-1){this._forward()}else{if(k.indexOf("dp-item")!=-1){this._select(j.attr("data-moment"))}}}},_setSelectedDate:function(i){if((!i.isSame(this.options.selectedDate))&&(!i.isBefore(this.options.startDate))&&(!i.isAfter(this.options.endDate))){this.options.selectedDate=i.startOf("day");this.$element.trigger("selectedDateChanged",[i.clone()])}},_back:function(){this._setSelectedDate(this.options.selectedDate.clone().subtract("day",1));this._render()},_forward:function(){this._setSelectedDate(this.options.selectedDate.clone().add("day",1));this._render()},_select:function(i){this._setSelectedDate(moment(i,this.options.selectedDateFormat));this._render()},_calendarSelect:function(i){this._setSelectedDate(moment(i.date));this._render()},_resize:function(){this.options.width=this.$element.width();this._render()},_render:function(){var i=this;if(!this.initialized){this.$element.removeClass("datepaginator datepaginator-sm datepaginator-lg").addClass(this.options.size==="sm"?"datepaginator-sm":this.options.size==="lg"?"datepaginator-lg":"datepaginator");this.$wrapper=g(this._template.list);this.$leftNav=g(this._template.navItem).addClass("dp-nav-left").addClass(this.options.size==="sm"?"dp-nav-sm":this.options.size==="lg"?"dp-nav-lg":"").addClass(this.options.squareEdges?"dp-nav-square-edges":"").append(g(this._template.icon).addClass("glyphicon-chevron-left").addClass("dp-nav-left")).width(this.options.navItemWidth);this.$rightNav=g(this._template.navItem).addClass("dp-nav-right").addClass(this.options.size==="sm"?"dp-nav-sm":this.options.size==="lg"?"dp-nav-lg":"").addClass(this.options.squareEdges?"dp-nav-square-edges":"").append(g(this._template.icon).addClass("glyphicon-chevron-right").addClass("dp-nav-right")).width(this.options.navItemWidth);this.$calendar=this.options.showCalendar?g(this._template.calendar):h;this._injectStyle();this.initialized=true}else{if(this.$calendar){this.$calendar.datepicker("remove")}}var j=this._buildData();this.$element.empty().append(this.$wrapper.empty());this.$leftNav.removeClass("dp-no-select").attr("title","");if(j.isSelectedStartDate){this.$leftNav.addClass("dp-no-select").attr("title","Start of valid date range")}this.$wrapper.append(g(i._template.listItem).append(this.$leftNav));g.each(j.items,function(m,k){var l=g(i._template.dateItem).attr("data-moment",k.m).attr("title",k.hint).width(k.itemWidth);if(k.isSelected&&i.options.highlightSelectedDate){l.addClass("dp-selected")}if(k.isToday&&i.options.highlightToday){l.addClass("dp-today")}if(k.isStartOfWeek&&i.options.showStartOfWeek){l.addClass("dp-divider")}if(k.isOffDay&&i.options.showOffDays){l.addClass("dp-off")}if(k.isSelected&&i.options.showCalendar){l.append(i.$calendar)}if(i.options.size==="sm"){l.addClass("dp-item-sm")}else{if(i.options.size==="lg"){l.addClass("dp-item-lg")}}if(!k.isValid){l.addClass("dp-no-select")}l.append(k.text);i.$wrapper.append(g(i._template.listItem).append(l))});this.$rightNav.removeClass("dp-no-select").attr("title","");if(j.isSelectedEndDate){this.$rightNav.addClass("dp-no-select").attr("title","End of valid date range")}this.$wrapper.append(g(i._template.listItem).append(this.$rightNav));if(this.$calendar){this.$calendar.datepicker({autoclose:true,forceParse:true,startView:0,minView:0,todayHighlight:true,startDate:this.options.startDate.toDate(),endDate:this.options.endDate.toDate()}).datepicker("update",this.options.selectedDate.toDate()).on("changeDate",g.proxy(this._calendarSelect,this))}},_injectStyle:function(){if(this.options.injectStyle&&!b.getElementById("bootstrap-datepaginator-style")){g('<style type="text/css" id="bootstrap-datepaginator-style">'+this._css+"</style>").appendTo("head")}},_buildData:function(){var o=(this.options.width-((this.options.selectedItemWidth-this.options.itemWidth)+(this.options.navItemWidth*2))),r=Math.floor(o/this.options.itemWidth),v=parseInt(r/2),u=Math.floor(o/r),q=Math.floor(this.options.selectedItemWidth+(o-(r*u))),s=moment().startOf("day"),j=this.options.selectedDate.clone().subtract("days",v),l=this.options.selectedDate.clone().add("days",(r-v));var n={isSelectedStartDate:this.options.selectedDate.isSame(this.options.startDate)?true:false,isSelectedEndDate:this.options.selectedDate.isSame(this.options.endDate)?true:false,items:[]};for(var k=j;k.isBefore(l);k.add("days",1)){var i=((k.isSame(this.options.startDate)||k.isAfter(this.options.startDate))&&(k.isSame(this.options.endDate)||k.isBefore(this.options.endDate)))?true:false;n.items[n.items.length]={m:k.clone().format(this.options.selectedDateFormat),isValid:i,isSelected:(k.isSame(this.options.selectedDate))?true:false,isToday:(k.isSame(s))?true:false,isOffDay:(this.options.offDays.split(",").indexOf(k.format(this.options.offDaysFormat))!==-1)?true:false,isStartOfWeek:(this.options.startOfWeek.split(",").indexOf(k.format(this.options.startOfWeekFormat))!==-1)?true:false,text:(k.isSame(this.options.selectedDate))?k.format(this.options.textSelected):k.format(this.options.text),hint:i?k.format(this.options.hint):"Invalid date",itemWidth:(k.isSame(this.options.selectedDate))?q:u}}return n},_template:{list:'<ul class="pagination"></ul>',listItem:"<li></li>",navItem:'<a href="#" class="dp-nav"></a>',dateItem:'<a href="#" class="dp-item"></a>',icon:'<i class="glyphicon"></i>',calendar:'<i id="dp-calendar" class="glyphicon glyphicon-calendar"></i>'},_css:".datepaginator{font-size:12px;height:60px}.datepaginator-sm{font-size:10px;height:40px}.datepaginator-lg{font-size:14px;height:80px}.pagination{margin:0;padding:0;white-space:nowrap}.dp-nav{height:60px;padding:22px 0!important;width:20px;margin:0!important;text-align:center}.dp-nav-square-edges{border-radius:0!important}.dp-item{height:60px;padding:13px 0!important;width:35px;margin:0!important;border-left-style:hidden!important;text-align:center}.dp-item-sm{height:40px!important;padding:5px!important}.dp-item-lg{height:80px!important;padding:22px 0!important}.dp-nav-sm{height:40px!important;padding:11px 0!important}.dp-nav-lg{height:80px!important;padding:33px 0!important}a.dp-nav-right{border-left-style:hidden!important}.dp-divider{border-left:2px solid #ddd!important}.dp-off{background-color:#F0F0F0!important}.dp-no-select{color:#ccc!important;background-color:#F0F0F0!important}.dp-no-select:hover{background-color:#F0F0F0!important}.dp-today{background-color:#88B5DB!important;color:#fff!important}.dp-selected{background-color:#428bca!important;color:#fff!important;width:140px}#dp-calendar{padding:3px 5px 0 0!important;margin-right:3px;position:absolute;right:0;top:10}"};var c=function(i){if(e.console){e.console.error(i)}};g.fn[f]=function(j,i){return this.each(function(){var k=g.data(this,"plugin_"+f);if(typeof j==="string"){if(!k){c("Not initialized, can not call method : "+j)}else{if(!g.isFunction(k[j])||j.charAt(0)==="_"){c("No such method : "+j)}else{if(typeof i==="string"){i=[i]}k[j].apply(k,i)}}}else{if(!k){g.data(this,"plugin_"+f,new d(this,j))}else{k._init(j)}}})}})(jQuery,window,document);
/*! X-editable - v1.5.1 
* In-place editing with Twitter Bootstrap, jQuery UI or pure jQuery
* http://github.com/vitalets/x-editable
* Copyright (c) 2013 Vitaliy Potapov; Licensed MIT */
(function(c){var b=function(e,d){this.options=c.extend({},c.fn.editableform.defaults,d);this.$div=c(e);if(!this.options.scope){this.options.scope=this}};b.prototype={constructor:b,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value);this.input.prerender()},initTemplate:function(){this.$form=c(c.fn.editableform.template)},initButtons:function(){var d=this.$form.find(".editable-buttons");d.append(c.fn.editableform.buttons);if(this.options.showbuttons==="bottom"){d.addClass("editable-buttons-bottom")}},render:function(){this.$loading=c(c.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();if(this.options.showbuttons){this.initButtons()}else{this.$form.find(".editable-buttons").remove()}this.showLoading();this.isSaving=false;this.$div.triggerHandler("rendering");this.initInput();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);c.when(this.input.render()).then(c.proxy(function(){if(!this.options.showbuttons){this.input.autosubmit()}this.$form.find(".editable-cancel").click(c.proxy(this.cancel,this));if(this.input.error){this.error(this.input.error);this.$form.find(".editable-submit").attr("disabled",true);this.input.$input.attr("disabled",true);this.$form.submit(function(f){f.preventDefault()})}else{this.error(false);this.input.$input.removeAttr("disabled");this.$form.find(".editable-submit").removeAttr("disabled");var d=(this.value===null||this.value===undefined||this.value==="")?this.options.defaultValue:this.value;this.input.value2input(d);this.$form.submit(c.proxy(this.submit,this))}this.$div.triggerHandler("rendered");this.showForm();if(this.input.postrender){this.input.postrender()}},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var d,e;if(this.$form){d=this.$form.outerWidth();e=this.$form.outerHeight();if(d){this.$loading.width(d)}if(e){this.$loading.height(e)}this.$form.hide()}else{d=this.$loading.parent().width();if(d){this.$loading.width(d)}}this.$loading.show()},showForm:function(d){this.$loading.hide();this.$form.show();if(d!==false){this.input.activate()}this.$div.triggerHandler("show")},error:function(h){var f=this.$form.find(".control-group"),g=this.$form.find(".editable-error-block"),d;if(h===false){f.removeClass(c.fn.editableform.errorGroupClass);g.removeClass(c.fn.editableform.errorBlockClass).empty().hide()}else{if(h){d=(""+h).split("\n");for(var e=0;e<d.length;e++){d[e]=c("<div>").text(d[e]).html()}h=d.join("<br>")}f.addClass(c.fn.editableform.errorGroupClass);g.addClass(c.fn.editableform.errorBlockClass).html(h).show()}},submit:function(h){h.stopPropagation();h.preventDefault();var g=this.input.input2value();var d=this.validate(g);if(c.type(d)==="object"&&d.newValue!==undefined){g=d.newValue;this.input.value2input(g);if(typeof d.msg==="string"){this.error(d.msg);this.showForm();return}}else{if(d){this.error(d);this.showForm();return}}if(!this.options.savenochange&&this.input.value2str(g)==this.input.value2str(this.value)){this.$div.triggerHandler("nochange");return}var f=this.input.value2submit(g);this.isSaving=true;c.when(this.save(f)).done(c.proxy(function(e){this.isSaving=false;var i=typeof this.options.success==="function"?this.options.success.call(this.options.scope,e,g):null;if(i===false){this.error(false);this.showForm(false);return}if(typeof i==="string"){this.error(i);this.showForm();return}if(i&&typeof i==="object"&&i.hasOwnProperty("newValue")){g=i.newValue}this.error(false);this.value=g;this.$div.triggerHandler("save",{newValue:g,submitValue:f,response:e})},this)).fail(c.proxy(function(i){this.isSaving=false;var e;if(typeof this.options.error==="function"){e=this.options.error.call(this.options.scope,i,g)}else{e=typeof i==="string"?i:i.responseText||i.statusText||"Unknown error!"}this.error(e);this.showForm()},this))},save:function(e){this.options.pk=c.fn.editableutils.tryParseJson(this.options.pk,true);var d=(typeof this.options.pk==="function")?this.options.pk.call(this.options.scope):this.options.pk,f=!!(typeof this.options.url==="function"||(this.options.url&&((this.options.send==="always")||(this.options.send==="auto"&&d!==null&&d!==undefined)))),g;if(f){this.showLoading();g={name:this.options.name||"",value:e,pk:d};if(typeof this.options.params==="function"){g=this.options.params.call(this.options.scope,g)}else{this.options.params=c.fn.editableutils.tryParseJson(this.options.params,true);c.extend(g,this.options.params)}if(typeof this.options.url==="function"){return this.options.url.call(this.options.scope,g)}else{return c.ajax(c.extend({url:this.options.url,data:g,type:"POST"},this.options.ajaxOptions))}}},validate:function(d){if(d===undefined){d=this.value}if(typeof this.options.validate==="function"){return this.options.validate.call(this.options.scope,d)}},option:function(d,e){if(d in this.options){this.options[d]=e}if(d==="value"){this.setValue(e)}},setValue:function(d,e){if(e){this.value=this.input.str2value(d)}else{this.value=d}if(this.$form&&this.$form.is(":visible")){this.input.value2input(this.value)}}};c.fn.editableform=function(e){var d=arguments;return this.each(function(){var h=c(this),g=h.data("editableform"),f=typeof e==="object"&&e;if(!g){h.data("editableform",(g=new b(this,f)))}if(typeof e==="string"){g[e].apply(g,Array.prototype.slice.call(d,1))}})};c.fn.editableform.Constructor=b;c.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:true,scope:null,savenochange:false};c.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>';c.fn.editableform.loading='<div class="editableform-loading"></div>';c.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>';c.fn.editableform.errorGroupClass=null;c.fn.editableform.errorBlockClass="editable-error";c.fn.editableform.engine="jquery"}(window.jQuery));(function(b){b.fn.editableutils={inherit:function(d,c){var e=function(){};e.prototype=c.prototype;d.prototype=new e();d.prototype.constructor=d;d.superclass=c.prototype},setCursorPosition:function(d,e){if(d.setSelectionRange){d.setSelectionRange(e,e)}else{if(d.createTextRange){var c=d.createTextRange();c.collapse(true);c.moveEnd("character",e);c.moveStart("character",e);c.select()}}},tryParseJson:function(c,d){if(typeof c==="string"&&c.length&&c.match(/^[\{\[].*[\}\]]$/)){if(d){try{c=(new Function("return "+c))()}catch(f){}finally{return c}}else{c=(new Function("return "+c))()}}return c},sliceObj:function(j,h,c){var g,f,d={};if(!b.isArray(h)||!h.length){return d}for(var e=0;e<h.length;e++){g=h[e];if(j.hasOwnProperty(g)){d[g]=j[g]}if(c===true){continue}f=g.toLowerCase();if(j.hasOwnProperty(f)){d[g]=j[f]}}return d},getConfigData:function(c){var d={};b.each(c.data(),function(f,e){if(typeof e!=="object"||(e&&typeof e==="object"&&(e.constructor===Object||e.constructor===Array))){d[f]=e}});return d},objectKeys:function(e){if(Object.keys){return Object.keys(e)}else{if(e!==Object(e)){throw new TypeError("Object.keys called on a non-object")}var c=[],d;for(d in e){if(Object.prototype.hasOwnProperty.call(e,d)){c.push(d)}}return c}},escape:function(c){return b("<div>").text(c).html()},itemsByValue:function(i,h,f){if(!h||i===null){return[]}if(typeof(f)!=="function"){var d=f||"value";f=function(j){return j[d]}}var e=b.isArray(i),c=[],g=this;b.each(h,function(j,l){if(l.children){c=c.concat(g.itemsByValue(i,l.children,f))}else{if(e){if(b.grep(i,function(m){return m==(l&&typeof l==="object"?f(l):l)}).length){c.push(l)}}else{var k=(l&&(typeof l==="object"))?f(l):l;if(i==k){c.push(l)}}}});return c},createInput:function(d){var f,g,c,e=d.type;if(e==="date"){if(d.mode==="inline"){if(b.fn.editabletypes.datefield){e="datefield"}else{if(b.fn.editabletypes.dateuifield){e="dateuifield"}}}else{if(b.fn.editabletypes.date){e="date"}else{if(b.fn.editabletypes.dateui){e="dateui"}}}if(e==="date"&&!b.fn.editabletypes.date){e="combodate"}}if(e==="datetime"&&d.mode==="inline"){e="datetimefield"}if(e==="wysihtml5"&&!b.fn.editabletypes[e]){e="textarea"}if(typeof b.fn.editabletypes[e]==="function"){f=b.fn.editabletypes[e];g=this.sliceObj(d,this.objectKeys(f.defaults));c=new f(g);return c}else{b.error("Unknown type: "+e);return false}},supportsTransitions:function(){var c=document.body||document.documentElement,f=c.style,g="transition",d=["Moz","Webkit","Khtml","O","ms"];if(typeof f[g]==="string"){return true}g=g.charAt(0).toUpperCase()+g.substr(1);for(var e=0;e<d.length;e++){if(typeof f[d[e]+g]==="string"){return true}}return false}}}(window.jQuery));(function(d){var c=function(f,e){this.init(f,e)};var b=function(f,e){this.init(f,e)};c.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(f,e){this.$element=d(f);this.options=d.extend({},d.fn.editableContainer.defaults,e);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=false;this.$element.on("destroyed",d.proxy(function(){this.destroy()},this));if(!d(document).data("editable-handlers-attached")){d(document).on("keyup.editable",function(g){if(g.which===27){d(".editable-open").editableContainer("hide")}});d(document).on("click.editable",function(k){var g=d(k.target),h,j=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(!d.contains(document.documentElement,k.target)){return}if(g.is(document)){return}for(h=0;h<j.length;h++){if(g.is(j[h])||g.parents(j[h]).length){return}}c.prototype.closeOthers(k.target)});d(document).data("editable-handlers-attached",true)}},splitOptions:function(){this.containerOptions={};this.formOptions={};if(!d.fn[this.containerName]){throw new Error(this.containerName+" not found. Have you included corresponding js file?")}for(var e in this.options){if(e in this.defaults){this.containerOptions[e]=this.options[e]}else{this.formOptions[e]=this.options[e]}}},tip:function(){return this.container()?this.container().$tip:null},container:function(){var e;if(this.containerDataName){if(e=this.$element.data(this.containerDataName)){return e}}e=this.$element.data(this.containerName);return e},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:d.proxy(this.save,this),nochange:d.proxy(function(){this.hide("nochange")},this),cancel:d.proxy(function(){this.hide("cancel")},this),show:d.proxy(function(){if(this.delayedHide){this.hide(this.delayedHide.reason);this.delayedHide=false}else{this.setPosition()}},this),rendering:d.proxy(this.setPosition,this),resize:d.proxy(this.setPosition,this),rendered:d.proxy(function(){this.$element.triggerHandler("shown",d(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(e){this.$element.addClass("editable-open");if(e!==false){this.closeOthers(this.$element[0])}this.innerShow();this.tip().addClass(this.containerClass);if(this.$form){}this.$form=d("<div>");if(this.tip().is(this.innerCss)){this.tip().append(this.$form)}else{this.tip().find(this.innerCss).append(this.$form)}this.renderForm()},hide:function(e){if(!this.tip()||!this.tip().is(":visible")||!this.$element.hasClass("editable-open")){return}if(this.$form.data("editableform").isSaving){this.delayedHide={reason:e};return}else{this.delayedHide=false}this.$element.removeClass("editable-open");this.innerHide();this.$element.triggerHandler("hidden",e||"manual")},innerShow:function(){},innerHide:function(){},toggle:function(e){if(this.container()&&this.tip()&&this.tip().is(":visible")){this.hide()}else{this.show(e)}},setPosition:function(){},save:function(f,g){this.$element.triggerHandler("save",g);this.hide("save")},option:function(e,f){this.options[e]=f;if(e in this.containerOptions){this.containerOptions[e]=f;this.setContainerOption(e,f)}else{this.formOptions[e]=f;if(this.$form){this.$form.editableform("option",e,f)}}},setContainerOption:function(e,f){this.call("option",e,f)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(e){d(".editable-open").each(function(h,j){if(j===e||d(j).find(e).length){return}var g=d(j),f=g.data("editableContainer");if(!f){return}if(f.options.onblur==="cancel"){g.data("editableContainer").hide("onblur")}else{if(f.options.onblur==="submit"){g.data("editableContainer").tip().find("form").submit()}}})},activate:function(){if(this.tip&&this.tip().is(":visible")&&this.$form){this.$form.data("editableform").input.activate()}}};d.fn.editableContainer=function(f){var e=arguments;return this.each(function(){var i=d(this),k="editableContainer",h=i.data(k),g=typeof f==="object"&&f,j=(g.mode==="inline")?b:c;if(!h){i.data(k,(h=new j(this,g)))}if(typeof f==="string"){h[f].apply(h,Array.prototype.slice.call(e,1))}})};d.fn.editableContainer.Popup=c;d.fn.editableContainer.Inline=b;d.fn.editableContainer.defaults={value:null,placement:"top",autohide:true,onblur:"cancel",anim:false,mode:"popup"};jQuery.event.special.destroyed={remove:function(e){if(e.handler){e.handler()}}}}(window.jQuery));(function(b){b.extend(b.fn.editableContainer.Inline.prototype,b.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=b("<span></span>");if(!this.options.anim){this.options.anim=0}},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,b.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){if(this.tip()){this.tip().empty().remove()}}})}(window.jQuery));(function(c){var b=function(e,d){this.$element=c(e);this.options=c.extend({},c.fn.editable.defaults,d,c.fn.editableutils.getConfigData(this.$element));if(this.options.selector){this.initLive()}else{this.init()}if(this.options.highlight&&!c.fn.editableutils.supportsTransitions()){this.options.highlight=false}};b.prototype={constructor:b,init:function(){var d=false,e,f;this.options.name=this.options.name||this.$element.attr("id");this.options.scope=this.$element[0];this.input=c.fn.editableutils.createInput(this.options);if(!this.input){return}if(this.options.value===undefined||this.options.value===null){this.value=this.input.html2value(c.trim(this.$element.html()));d=true}else{this.options.value=c.fn.editableutils.tryParseJson(this.options.value,true);if(typeof this.options.value==="string"){this.value=this.input.str2value(this.options.value)}else{this.value=this.options.value}}this.$element.addClass("editable");if(this.input.type==="textarea"){this.$element.addClass("editable-pre-wrapped")}if(this.options.toggle!=="manual"){this.$element.addClass("editable-click");this.$element.on(this.options.toggle+".editable",c.proxy(function(h){if(!this.options.disabled){h.preventDefault()}if(this.options.toggle==="mouseenter"){this.show()}else{var g=(this.options.toggle!=="click");this.toggle(g)}},this))}else{this.$element.attr("tabindex",-1)}if(typeof this.options.display==="function"){this.options.autotext="always"}switch(this.options.autotext){case"always":e=true;break;case"auto":e=!c.trim(this.$element.text()).length&&this.value!==null&&this.value!==undefined&&!d;break;default:e=false}c.when(e?this.render():true).then(c.proxy(function(){if(this.options.disabled){this.disable()}else{this.enable()}this.$element.triggerHandler("init",this)},this))},initLive:function(){var d=this.options.selector;this.options.selector=false;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",d,c.proxy(function(g){var f=c(g.target);if(!f.data("editable")){if(f.hasClass(this.options.emptyclass)){f.empty()}f.editable(this.options).trigger(g)}},this))},render:function(d){if(this.options.display===false){return}if(this.input.value2htmlFinal){return this.input.value2html(this.value,this.$element[0],this.options.display,d)}else{if(typeof this.options.display==="function"){return this.options.display.call(this.$element[0],this.value,d)}else{return this.input.value2html(this.value,this.$element[0])}}},enable:function(){this.options.disabled=false;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);if(this.options.toggle!=="manual"){if(this.$element.attr("tabindex")==="-1"){this.$element.removeAttr("tabindex")}}},disable:function(){this.options.disabled=true;this.hide();this.$element.addClass("editable-disabled");this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){if(this.options.disabled){this.enable()}else{this.disable()}},option:function(d,e){if(d&&typeof d==="object"){c.each(d,c.proxy(function(g,f){this.option(c.trim(g),f)},this));return}this.options[d]=e;if(d==="disabled"){return e?this.disable():this.enable()}if(d==="value"){this.setValue(e)}if(this.container){this.container.option(d,e)}if(this.input.option){this.input.option(d,e)}},handleEmpty:function(d){if(this.options.display===false){return}if(d!==undefined){this.isEmpty=d}else{if(typeof(this.input.isEmpty)==="function"){this.isEmpty=this.input.isEmpty(this.$element)}else{this.isEmpty=c.trim(this.$element.html())===""}}if(!this.options.disabled){if(this.isEmpty){this.$element.html(this.options.emptytext);if(this.options.emptyclass){this.$element.addClass(this.options.emptyclass)}}else{if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}else{if(this.isEmpty){this.$element.empty();if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}},show:function(d){if(this.options.disabled){return}if(!this.container){var e=c.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(e);this.$element.on("save.internal",c.proxy(this.save,this));this.container=this.$element.data("editableContainer")}else{if(this.container.tip().is(":visible")){return}}this.container.show(d)},hide:function(){if(this.container){this.container.hide()}},toggle:function(d){if(this.container&&this.container.tip().is(":visible")){this.hide()}else{this.show(d)}},save:function(h,i){if(this.options.unsavedclass){var f=false;f=f||typeof this.options.url==="function";f=f||this.options.display===false;f=f||i.response!==undefined;f=f||(this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(i.newValue));if(f){this.$element.removeClass(this.options.unsavedclass)}else{this.$element.addClass(this.options.unsavedclass)}}if(this.options.highlight){var d=this.$element,g=d.css("background-color");d.css("background-color",this.options.highlight);setTimeout(function(){if(g==="transparent"){g=""}d.css("background-color",g);d.addClass("editable-bg-transition");setTimeout(function(){d.removeClass("editable-bg-transition")},1700)},10)}this.setValue(i.newValue,false,i.response)},validate:function(){if(typeof this.options.validate==="function"){return this.options.validate.call(this,this.value)}},setValue:function(e,f,d){if(f){this.value=this.input.str2value(e)}else{this.value=e}if(this.container){this.container.option("value",this.value)}c.when(this.render(d)).then(c.proxy(function(){this.handleEmpty()},this))},activate:function(){if(this.container){this.container.activate()}},destroy:function(){this.disable();if(this.container){this.container.destroy()}this.input.destroy();if(this.options.toggle!=="manual"){this.$element.removeClass("editable-click");this.$element.off(this.options.toggle+".editable")}this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};c.fn.editable=function(j){var n={},k=arguments,i="editable";switch(j){case"validate":this.each(function(){var r=c(this),q=r.data(i),o;if(q&&(o=q.validate())){n[q.options.name]=o}});return n;case"getValue":if(arguments.length===2&&arguments[1]===true){n=this.eq(0).data(i).value}else{this.each(function(){var q=c(this),o=q.data(i);if(o&&o.value!==undefined&&o.value!==null){n[o.options.name]=o.input.value2submit(o.value)}})}return n;case"submit":var f=arguments[1]||{},d=this,l=this.editable("validate");if(c.isEmptyObject(l)){var g={};if(d.length===1){var e=d.data("editable");var h={name:e.options.name||"",value:e.input.value2submit(e.value),pk:(typeof e.options.pk==="function")?e.options.pk.call(e.options.scope):e.options.pk};if(typeof e.options.params==="function"){h=e.options.params.call(e.options.scope,h)}else{e.options.params=c.fn.editableutils.tryParseJson(e.options.params,true);c.extend(h,e.options.params)}g={url:e.options.url,data:h,type:"POST"};f.success=f.success||e.options.success;f.error=f.error||e.options.error}else{var m=this.editable("getValue");g={url:f.url,data:m,type:"POST"}}g.success=typeof f.success==="function"?function(o){f.success.call(d,o,f)}:c.noop;g.error=typeof f.error==="function"?function(){f.error.apply(d,arguments)}:c.noop;if(f.ajaxOptions){c.extend(g,f.ajaxOptions)}if(f.data){c.extend(g.data,f.data)}c.ajax(g)}else{if(typeof f.error==="function"){f.error.call(d,l)}}return this}return this.each(function(){var r=c(this),q=r.data(i),o=typeof j==="object"&&j;if(o&&o.selector){q=new b(this,o);return}if(!q){r.data(i,(q=new b(this,o)))}if(typeof j==="string"){q[j].apply(q,Array.prototype.slice.call(k,1))}})};c.fn.editable.defaults={type:"text",disabled:false,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery));(function(c){c.fn.editabletypes={};var b=function(){};b.prototype={init:function(e,d,f){this.type=e;this.options=c.extend({},f,d)},prerender:function(){this.$tpl=c(this.options.tpl);this.$input=this.$tpl;this.$clear=null;this.error=null},render:function(){},value2html:function(e,d){c(d)[this.options.escape?"text":"html"](c.trim(e))},html2value:function(d){return c("<div>").html(d).text()},value2str:function(d){return d},str2value:function(d){return d},value2submit:function(d){return d},value2input:function(d){this.$input.val(d)},input2value:function(){return this.$input.val()},activate:function(){if(this.$input.is(":visible")){this.$input.focus()}},clear:function(){this.$input.val(null)},escape:function(d){return c("<div>").text(d).html()},autosubmit:function(){},destroy:function(){},setClass:function(){if(this.options.inputclass){this.$input.addClass(this.options.inputclass)}},setAttr:function(d){if(this.options[d]!==undefined&&this.options[d]!==null){this.$input.attr(d,this.options[d])}},option:function(d,e){this.options[d]=e}};b.defaults={tpl:"",inputclass:null,escape:true,scope:null,showbuttons:true};c.extend(c.fn.editabletypes,{abstractinput:b})}(window.jQuery));(function(c){var b=function(d){};c.fn.editableutils.inherit(b,c.fn.editabletypes.abstractinput);c.extend(b.prototype,{render:function(){var d=c.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();d.resolve()},function(){this.error=this.options.sourceError;d.resolve()});return d.promise()},html2value:function(d){return null},value2html:function(g,f,h,e){var d=c.Deferred(),i=function(){if(typeof h==="function"){h.call(f,g,this.sourceData,e)}else{this.value2htmlFinal(g,f)}d.resolve()};if(g===null){i.call(this)}else{this.onSourceReady(i,function(){d.resolve()})}return d.promise()},onSourceReady:function(k,g){var h;if(c.isFunction(this.options.source)){h=this.options.source.call(this.options.scope);this.sourceData=null}else{h=this.options.source}if(this.options.sourceCache&&c.isArray(this.sourceData)){k.call(this);return}try{h=c.fn.editableutils.tryParseJson(h,false)}catch(j){g.call(this);return}if(typeof h==="string"){if(this.options.sourceCache){var i=h,f;if(!c(document).data(i)){c(document).data(i,{})}f=c(document).data(i);if(f.loading===false&&f.sourceData){this.sourceData=f.sourceData;this.doPrepend();k.call(this);return}else{if(f.loading===true){f.callbacks.push(c.proxy(function(){this.sourceData=f.sourceData;this.doPrepend();k.call(this)},this));f.err_callbacks.push(c.proxy(g,this));return}else{f.loading=true;f.callbacks=[];f.err_callbacks=[]}}}var d=c.extend({url:h,type:"get",cache:false,dataType:"json",success:c.proxy(function(e){if(f){f.loading=false}this.sourceData=this.makeArray(e);if(c.isArray(this.sourceData)){if(f){f.sourceData=this.sourceData;c.each(f.callbacks,function(){this.call()})}this.doPrepend();k.call(this)}else{g.call(this);if(f){c.each(f.err_callbacks,function(){this.call()})}}},this),error:c.proxy(function(){g.call(this);if(f){f.loading=false;c.each(f.err_callbacks,function(){this.call()})}},this)},this.options.sourceOptions);c.ajax(d)}else{this.sourceData=this.makeArray(h);if(c.isArray(this.sourceData)){this.doPrepend();k.call(this)}else{g.call(this)}}},doPrepend:function(){if(this.options.prepend===null||this.options.prepend===undefined){return}if(!c.isArray(this.prependData)){if(c.isFunction(this.options.prepend)){this.options.prepend=this.options.prepend.call(this.options.scope)}this.options.prepend=c.fn.editableutils.tryParseJson(this.options.prepend,true);if(typeof this.options.prepend==="string"){this.options.prepend={"":this.options.prepend}}this.prependData=this.makeArray(this.options.prepend)}if(c.isArray(this.prependData)&&c.isArray(this.sourceData)){this.sourceData=this.prependData.concat(this.sourceData)}},renderList:function(){},value2htmlFinal:function(e,d){},makeArray:function(j){var h,k,d=[],g,e;if(!j||typeof j==="string"){return null}if(c.isArray(j)){e=function(l,i){k={value:l,text:i};if(h++>=2){return false}};for(var f=0;f<j.length;f++){g=j[f];if(typeof g==="object"){h=0;c.each(g,e);if(h===1){d.push(k)}else{if(h>1){if(g.children){g.children=this.makeArray(g.children)}d.push(g)}}}else{d.push({value:g,text:g})}}}else{c.each(j,function(l,i){d.push({value:l,text:i})})}return d},option:function(d,e){this.options[d]=e;if(d==="source"){this.sourceData=null}if(d==="prepend"){this.prependData=null}}});b.defaults=c.extend({},c.fn.editabletypes.abstractinput.defaults,{source:null,prepend:false,sourceError:"Error when loading list",sourceCache:true,sourceOptions:null});c.fn.editabletypes.list=b}(window.jQuery));(function(c){var b=function(d){this.init("text",d,b.defaults)};c.fn.editableutils.inherit(b,c.fn.editabletypes.abstractinput);c.extend(b.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){if(this.$input.is(":visible")){this.$input.focus();c.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length);if(this.toggleClear){this.toggleClear()}}},renderClear:function(){if(this.options.clear){this.$clear=c('<span class="editable-clear-x"></span>');this.$input.after(this.$clear).css("padding-right",24).keyup(c.proxy(function(f){if(~c.inArray(f.keyCode,[40,38,9,13,27])){return}clearTimeout(this.t);var d=this;this.t=setTimeout(function(){d.toggleClear(f)},100)},this)).parent().css("position","relative");this.$clear.click(c.proxy(this.clear,this))}},postrender:function(){},toggleClear:function(f){if(!this.$clear){return}var d=this.$input.val().length,g=this.$clear.is(":visible");if(d&&!g){this.$clear.show()}if(!d&&g){this.$clear.hide()}},clear:function(){this.$clear.hide();this.$input.val("").focus()}});b.defaults=c.extend({},c.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:true});c.fn.editabletypes.text=b}(window.jQuery));(function(c){var b=function(d){this.init("textarea",d,b.defaults)};c.fn.editableutils.inherit(b,c.fn.editabletypes.abstractinput);c.extend(b.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(d){if(d.ctrlKey&&d.which===13){c(this).closest("form").submit()}})},activate:function(){c.fn.editabletypes.text.prototype.activate.call(this)}});b.defaults=c.extend({},c.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7});c.fn.editabletypes.textarea=b}(window.jQuery));(function(b){var c=function(d){this.init("select",d,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.list);b.extend(c.prototype,{renderList:function(){this.$input.empty();var d=function(g,h){var e;if(b.isArray(h)){for(var f=0;f<h.length;f++){e={};if(h[f].children){e.label=h[f].text;g.append(d(b("<optgroup>",e),h[f].children))}else{e.value=h[f].value;if(h[f].disabled){e.disabled=true}g.append(b("<option>",e).text(h[f].text))}}}return g};d(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",function(f){if(f.which===13){b(this).closest("form").submit()}})},value2htmlFinal:function(f,e){var g="",d=b.fn.editableutils.itemsByValue(f,this.sourceData);if(d.length){g=d[0].text}b.fn.editabletypes.abstractinput.prototype.value2html.call(this,g,e)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){b(this).closest("form").submit()})}});c.defaults=b.extend({},b.fn.editabletypes.list.defaults,{tpl:"<select></select>"});b.fn.editabletypes.select=c}(window.jQuery));(function(c){var b=function(d){this.init("checklist",d,b.defaults)};c.fn.editableutils.inherit(b,c.fn.editabletypes.list);c.extend(b.prototype,{renderList:function(){var d,e;this.$tpl.empty();if(!c.isArray(this.sourceData)){return}for(var f=0;f<this.sourceData.length;f++){d=c("<label>").append(c("<input>",{type:"checkbox",value:this.sourceData[f].value})).append(c("<span>").text(" "+this.sourceData[f].text));c("<div>").append(d).appendTo(this.$tpl)}this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()},value2str:function(d){return c.isArray(d)?d.sort().join(c.trim(this.options.separator)):""},str2value:function(f){var d,e=null;if(typeof f==="string"&&f.length){d=new RegExp("\\s*"+c.trim(this.options.separator)+"\\s*");e=f.split(d)}else{if(c.isArray(f)){e=f}else{e=[f]}}return e},value2input:function(d){this.$input.prop("checked",false);if(c.isArray(d)&&d.length){this.$input.each(function(f,g){var e=c(g);c.each(d,function(h,i){if(e.val()==i){e.prop("checked",true)}})})}},input2value:function(){var d=[];this.$input.filter(":checked").each(function(e,f){d.push(c(f).val())});return d},value2htmlFinal:function(h,e){var d=[],g=c.fn.editableutils.itemsByValue(h,this.sourceData),f=this.options.escape;if(g.length){c.each(g,function(k,j){var l=f?c.fn.editableutils.escape(j.text):j.text;d.push(l)});c(e).html(d.join("<br>"))}else{c(e).empty()}},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(d){if(d.which===13){c(this).closest("form").submit()}})}});b.defaults=c.extend({},c.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","});c.fn.editabletypes.checklist=b}(window.jQuery));(function(c){var b=function(d){this.init("password",d,b.defaults)};c.fn.editableutils.inherit(b,c.fn.editabletypes.text);c.extend(b.prototype,{value2html:function(e,d){if(e){c(d).text("[hidden]")}else{c(d).empty()}},html2value:function(d){return null}});b.defaults=c.extend({},c.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});c.fn.editabletypes.password=b}(window.jQuery));(function(b){var c=function(d){this.init("email",d,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);c.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});b.fn.editabletypes.email=c}(window.jQuery));(function(b){var c=function(d){this.init("url",d,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);c.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});b.fn.editabletypes.url=c}(window.jQuery));(function(b){var c=function(d){this.init("tel",d,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);c.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});b.fn.editabletypes.tel=c}(window.jQuery));(function(b){var c=function(d){this.init("number",d,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);b.extend(c.prototype,{render:function(){c.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){if(this.$clear){this.$clear.css({right:24})}}});c.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});b.fn.editabletypes.number=c}(window.jQuery));(function(b){var c=function(d){this.init("range",d,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.number);b.extend(c.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){b(this).siblings("output").text(b(this).val())})},activate:function(){this.$input.focus()}});c.defaults=b.extend({},b.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"});b.fn.editabletypes.range=c}(window.jQuery));(function(c){var b=function(d){this.init("time",d,b.defaults)};c.fn.editableutils.inherit(b,c.fn.editabletypes.abstractinput);c.extend(b.prototype,{render:function(){this.setClass()}});b.defaults=c.extend({},c.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'});c.fn.editabletypes.time=b}(window.jQuery));(function(b){var c=function(e){this.init("select2",e,c.defaults);e.select2=e.select2||{};this.sourceData=null;if(e.placeholder){e.select2.placeholder=e.placeholder}if(!e.select2.tags&&e.source){var f=e.source;if(b.isFunction(e.source)){f=e.source.call(e.scope)}if(typeof f==="string"){e.select2.ajax=e.select2.ajax||{};if(!e.select2.ajax.data){e.select2.ajax.data=function(g){return{query:g}}}if(!e.select2.ajax.results){e.select2.ajax.results=function(g){return{results:g}}}e.select2.ajax.url=f}else{this.sourceData=this.convertSource(f);e.select2.data=this.sourceData}}this.options.select2=b.extend({},c.defaults.select2,e.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote=("ajax" in this.options.select2);this.idFunc=this.options.select2.id;if(typeof(this.idFunc)!=="function"){var d=this.idFunc||"id";this.idFunc=function(g){return g[d]}}this.formatSelection=this.options.select2.formatSelection;if(typeof(this.formatSelection)!=="function"){this.formatSelection=function(g){return g.text}}};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{render:function(){this.setClass();if(this.isRemote){this.$input.on("select2-loaded",b.proxy(function(d){this.sourceData=d.items.results},this))}if(this.isMultiple){this.$input.on("change",function(){b(this).closest("form").parent().triggerHandler("resize")})}},value2html:function(g,d){var h="",f,e=this;if(this.options.select2.tags){f=g}else{if(this.sourceData){f=b.fn.editableutils.itemsByValue(g,this.sourceData,this.idFunc)}else{}}if(b.isArray(f)){h=[];b.each(f,function(j,i){h.push(i&&typeof i==="object"?e.formatSelection(i):i)})}else{if(f){h=e.formatSelection(f)}}h=b.isArray(h)?h.join(this.options.viewseparator):h;c.superclass.value2html.call(this,h,d)},html2value:function(d){return this.options.select2.tags?this.str2value(d,this.options.viewseparator):null},value2input:function(g){if(b.isArray(g)){g=g.join(this.getSeparator())}if(!this.$input.data("select2")){this.$input.val(g);this.$input.select2(this.options.select2)}else{this.$input.val(g).trigger("change",true)}if(this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var h=this.options.select2.id,d=this.options.select2.formatSelection;if(!h&&!d){var e=b(this.options.scope);if(!e.data("editable").isEmpty){var f={id:g,text:e.text()};this.$input.select2("data",f)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(h,f){if(typeof h!=="string"||!this.isMultiple){return h}f=f||this.getSeparator();var g,e,d;if(h===null||h.length<1){return null}g=h.split(f);for(e=0,d=g.length;e<d;e=e+1){g[e]=b.trim(g[e])}return g},autosubmit:function(){this.$input.on("change",function(f,d){if(!d){b(this).closest("form").submit()}})},getSeparator:function(){return this.options.select2.separator||b.fn.select2.defaults.separator},convertSource:function(e){if(b.isArray(e)&&e.length&&e[0].value!==undefined){for(var d=0;d<e.length;d++){if(e[d].value!==undefined){e[d].id=e[d].value;delete e[d].value}}}return e},destroy:function(){if(this.$input.data("select2")){this.$input.select2("destroy")}}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});b.fn.editabletypes.select2=c}(window.jQuery));(function(c){var b=function(e,d){this.$element=c(e);if(!this.$element.is("input")){c.error("Combodate should be applied to INPUT element");return}this.options=c.extend({},c.fn.combodate.defaults,d,this.$element.data());this.init()};b.prototype={constructor:b,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=c('<span class="combodate"></span>').html(this.getTemplate());this.initCombos();this.$widget.on("change","select",c.proxy(function(d){this.$element.val(this.getValue()).change();if(this.options.smartDays){if(c(d.target).is(".month")||c(d.target).is(".year")){this.fillCombo("day")}}},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var d=this.options.template;c.each(this.map,function(f,e){e=e[0];var h=new RegExp(e+"+"),g=e.length>1?e.substring(1,2):e;d=d.replace(h,"{"+g+"}")});d=d.replace(/ /g,"&nbsp;");c.each(this.map,function(f,e){e=e[0];var g=e.length>1?e.substring(1,2):e;d=d.replace("{"+g+"}",'<select class="'+f+'"></select>')});return d},initCombos:function(){for(var d in this.map){var e=this.$widget.find("."+d);this["$"+d]=e.length?e:null;this.fillCombo(d)}},fillCombo:function(e){var h=this["$"+e];if(!h){return}var l="fill"+e.charAt(0).toUpperCase()+e.slice(1);var d=this[l]();var j=h.val();h.empty();for(var g=0;g<d.length;g++){h.append('<option value="'+d[g][0]+'">'+d[g][1]+"</option>")}h.val(j)},fillCommon:function(e){var d=[],f;if(this.options.firstItem==="name"){f=moment.relativeTime||moment.langData()._relativeTime;var g=typeof f[e]==="function"?f[e](1,true,e,false):f[e];g=g.split(" ").reverse()[0];d.push(["",g])}else{if(this.options.firstItem==="empty"){d.push(["",""])}}return d},fillDay:function(){var e=this.fillCommon("d"),f,g,d=this.options.template.indexOf("DD")!==-1,j=31;if(this.options.smartDays&&this.$month&&this.$year){var k=parseInt(this.$month.val(),10);var h=parseInt(this.$year.val(),10);if(!isNaN(k)&&!isNaN(h)){j=moment([h,k]).daysInMonth()}}for(g=1;g<=j;g++){f=d?this.leadZero(g):g;e.push([g,f])}return e},fillMonth:function(){var e=this.fillCommon("M"),f,g,j=this.options.template.indexOf("MMMM")!==-1,h=this.options.template.indexOf("MMM")!==-1,d=this.options.template.indexOf("MM")!==-1;for(g=0;g<=11;g++){if(j){f=moment().date(1).month(g).format("MMMM")}else{if(h){f=moment().date(1).month(g).format("MMM")}else{if(d){f=this.leadZero(g+1)}else{f=g+1}}}e.push([g,f])}return e},fillYear:function(){var d=[],e,f,g=this.options.template.indexOf("YYYY")!==-1;for(f=this.options.maxYear;f>=this.options.minYear;f--){e=g?f:(f+"").substring(2);d[this.options.yearDescending?"push":"unshift"]([f,e])}d=this.fillCommon("y").concat(d);return d},fillHour:function(){var f=this.fillCommon("h"),g,j,l=this.options.template.indexOf("h")!==-1,k=this.options.template.indexOf("H")!==-1,e=this.options.template.toLowerCase().indexOf("hh")!==-1,h=l?1:0,d=l?12:23;for(j=h;j<=d;j++){g=e?this.leadZero(j):j;f.push([j,g])}return f},fillMinute:function(){var e=this.fillCommon("m"),f,g,d=this.options.template.indexOf("mm")!==-1;for(g=0;g<=59;g+=this.options.minuteStep){f=d?this.leadZero(g):g;e.push([g,f])}return e},fillSecond:function(){var e=this.fillCommon("s"),f,g,d=this.options.template.indexOf("ss")!==-1;for(g=0;g<=59;g+=this.options.secondStep){f=d?this.leadZero(g):g;e.push([g,f])}return e},fillAmpm:function(){var e=this.options.template.indexOf("a")!==-1,f=this.options.template.indexOf("A")!==-1,d=[["am",e?"am":"AM"],["pm",e?"pm":"PM"]];return d},getValue:function(g){var f,d={},e=this,h=false;c.each(this.map,function(j,i){if(j==="ampm"){return}var l=j==="day"?1:0;d[j]=e["$"+j]?parseInt(e["$"+j].val(),10):l;if(isNaN(d[j])){h=true;return false}});if(h){return""}if(this.$ampm){if(d.hour===12){d.hour=this.$ampm.val()==="am"?0:12}else{d.hour=this.$ampm.val()==="am"?d.hour:d.hour+12}}f=moment([d.year,d.month,d.day,d.hour,d.minute,d.second]);this.highlight(f);g=g===undefined?this.options.format:g;if(g===null){return f.isValid()?f:null}else{return f.isValid()?f.format(g):""}},setValue:function(g){if(!g){return}var f=typeof g==="string"?moment(g,this.options.format):moment(g),e=this,d={};function h(i,j){var k={};i.children("option").each(function(m,l){var n=c(l).attr("value"),o;if(n===""){return}o=Math.abs(n-j);if(typeof k.distance==="undefined"||o<k.distance){k={value:n,distance:o}}});return k.value}if(f.isValid()){c.each(this.map,function(j,i){if(j==="ampm"){return}d[j]=f[i[1]]()});if(this.$ampm){if(d.hour>=12){d.ampm="pm";if(d.hour>12){d.hour-=12}}else{d.ampm="am";if(d.hour===0){d.hour=12}}}c.each(d,function(j,i){if(e["$"+j]){if(j==="minute"&&e.options.minuteStep>1&&e.options.roundTime){i=h(e["$"+j],i)}if(j==="second"&&e.options.secondStep>1&&e.options.roundTime){i=h(e["$"+j],i)}e["$"+j].val(i)}});if(this.options.smartDays){this.fillCombo("day")}this.$element.val(f.format(this.options.format)).change()}},highlight:function(d){if(!d.isValid()){if(this.options.errorClass){this.$widget.addClass(this.options.errorClass)}else{if(!this.borderColor){this.borderColor=this.$widget.find("select").css("border-color")}this.$widget.find("select").css("border-color","red")}}else{if(this.options.errorClass){this.$widget.removeClass(this.options.errorClass)}else{this.$widget.find("select").css("border-color",this.borderColor)}}},leadZero:function(d){return d<=9?"0"+d:d},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};c.fn.combodate=function(f){var g,e=Array.apply(null,arguments);e.shift();if(f==="getValue"&&this.length&&(g=this.eq(0).data("combodate"))){return g.getValue.apply(g,e)}return this.each(function(){var i=c(this),h=i.data("combodate"),d=typeof f=="object"&&f;if(!h){i.data("combodate",(h=new b(this,d)))}if(typeof f=="string"&&typeof h[f]=="function"){h[f].apply(h,e)}})};c.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:true,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:true,smartDays:false}}(window.jQuery));(function(b){var c=function(d){this.init("combodate",d,c.defaults);if(!this.options.viewformat){this.options.viewformat=this.options.format}d.combodate=b.fn.editableutils.tryParseJson(d.combodate,true);this.options.combodate=b.extend({},c.defaults.combodate,d.combodate,{format:this.options.format,template:this.options.template})};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{render:function(){this.$input.combodate(this.options.combodate);if(b.fn.editableform.engine==="bs3"){this.$input.siblings().find("select").addClass("form-control")}if(this.options.inputclass){this.$input.siblings().find("select").addClass(this.options.inputclass)}},value2html:function(e,d){var f=e?e.format(this.options.viewformat):"";c.superclass.value2html.call(this,f,d)},html2value:function(d){return d?moment(d,this.options.viewformat):null},value2str:function(d){return d?d.format(this.options.format):""},str2value:function(d){return d?moment(d,this.options.format):null},value2submit:function(d){return this.value2str(d)},value2input:function(d){this.$input.combodate("setValue",d)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});b.fn.editabletypes.combodate=c}(window.jQuery));(function(c){var b=c.fn.editableform.Constructor.prototype.initInput;c.extend(c.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=c(c.fn.editableform.template);this.$form.find(".control-group").addClass("form-group");this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){b.apply(this);var j=this.input.options.inputclass===null||this.input.options.inputclass===false;var d="input-sm";var e="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");if(~c.inArray(this.input.type,e)){this.input.$input.addClass("form-control");if(j){this.input.options.inputclass=d;this.input.$input.addClass(d)}}var h=this.$form.find(".editable-buttons");var g=j?[d]:this.input.options.inputclass.split(" ");for(var f=0;f<g.length;f++){if(g[f].toLowerCase()==="input-lg"){h.find("button").removeClass("btn-sm").addClass("btn-lg")}}}});c.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>';c.fn.editableform.errorGroupClass="has-error";c.fn.editableform.errorBlockClass=null;c.fn.editableform.engine="bs3"}(window.jQuery));(function(b){b.extend(b.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:b.fn.popover.Constructor.DEFAULTS,initContainer:function(){b.extend(this.containerOptions,{trigger:"manual",selector:false,content:" ",template:this.defaults.template});var c;if(this.$element.data("template")){c=this.$element.data("template");this.$element.removeData("template")}this.call(this.containerOptions);if(c){this.$element.data("template",c)}},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(c,d){this.container().options[c]=d},setPosition:function(){(function(){var h=this.tip();var g=typeof this.options.placement=="function"?this.options.placement.call(this,h[0],this.$element[0]):this.options.placement;var o=/\s?auto?\s?/i;var q=o.test(g);if(q){g=g.replace(o,"")||"top"}var l=this.getPosition();var c=h[0].offsetWidth;var j=h[0].offsetHeight;if(q){var f=this.$element.parent();var e=g;var m=document.documentElement.scrollTop||document.body.scrollTop;var n=this.options.container=="body"?window.innerWidth:f.outerWidth();var k=this.options.container=="body"?window.innerHeight:f.outerHeight();var i=this.options.container=="body"?0:f.offset().left;g=g=="bottom"&&l.top+l.height+j-m>k?"top":g=="top"&&l.top-m-j<0?"bottom":g=="right"&&l.right+c>n?"left":g=="left"&&l.left-c<i?"right":g;h.removeClass(e).addClass(g)}var d=this.getCalculatedOffset(g,l,c,j);this.applyPlacement(d,g)}).call(this.container())}})}(window.jQuery));(function(h){function l(){return new Date(Date.UTC.apply(Date,arguments))}function e(){var o=new Date();return l(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate())}var i=function(q,o){var r=this;this._process_options(o);this.element=h(q);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.picker=h(j.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl");this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")}this.viewMode=this.o.startView;if(this.o.calendarWeeks){this.picker.find("tfoot th.today").attr("colspan",function(s,u){return parseInt(u)+1})}this._allow_update=false;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};i.prototype={constructor:i,_process_options:function(q){this._o=h.extend({},this._o,q);var u=this.o=h.extend({},this._o);var s=u.language;if(!c[s]){s=s.split("-")[0];if(!c[s]){s=f.language}}u.language=s;switch(u.startView){case 2:case"decade":u.startView=2;break;case 1:case"year":u.startView=1;break;default:u.startView=0}switch(u.minViewMode){case 1:case"months":u.minViewMode=1;break;case 2:case"years":u.minViewMode=2;break;default:u.minViewMode=0}u.startView=Math.max(u.startView,u.minViewMode);u.weekStart%=7;u.weekEnd=((u.weekStart+6)%7);var r=j.parseFormat(u.format);if(u.startDate!==-Infinity){u.startDate=j.parseDate(u.startDate,r,u.language)}if(u.endDate!==Infinity){u.endDate=j.parseDate(u.endDate,r,u.language)}u.daysOfWeekDisabled=u.daysOfWeekDisabled||[];if(!h.isArray(u.daysOfWeekDisabled)){u.daysOfWeekDisabled=u.daysOfWeekDisabled.split(/[,\s]*/)}u.daysOfWeekDisabled=h.map(u.daysOfWeekDisabled,function(o){return parseInt(o,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(o){for(var q=0,r,s;q<o.length;q++){r=o[q][0];s=o[q][1];r.on(s)}},_unapplyEvents:function(o){for(var q=0,r,s;q<o.length;q++){r=o[q][0];s=o[q][1];r.off(s)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:h.proxy(this.show,this),keyup:h.proxy(this.update,this),keydown:h.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:h.proxy(this.show,this),keyup:h.proxy(this.update,this),keydown:h.proxy(this.keydown,this)}],[this.component,{click:h.proxy(this.show,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:h.proxy(this.show,this)}]]}}}this._secondaryEvents=[[this.picker,{click:h.proxy(this.click,this)}],[h(window),{resize:h.proxy(this.place,this)}],[h(document),{mousedown:h.proxy(function(o){if(!(this.element.is(o.target)||this.element.find(o.target).size()||this.picker.is(o.target)||this.picker.find(o.target).size())){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(r,s){var q=s||this.date,o=new Date(q.getTime()+(q.getTimezoneOffset()*60000));this.element.trigger({type:r,date:o,format:h.proxy(function(v){var u=v||this.o.format;return j.formatDate(q,u,this.o.language)},this)})},show:function(o){if(!this.isInline){this.picker.appendTo("body")}this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();if(o){o.preventDefault()}this._trigger("show")},hide:function(o){if(this.isInline){return}if(!this.picker.is(":visible")){return}this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this._trigger("hide")},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}},getDate:function(){var o=this.getUTCDate();return new Date(o.getTime()+(o.getTimezoneOffset()*60000))},getUTCDate:function(){return this.date},setDate:function(o){this.setUTCDate(new Date(o.getTime()-(o.getTimezoneOffset()*60000)))},setUTCDate:function(o){this.date=o;this.setValue()},setValue:function(){var o=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(o)}}else{this.element.val(o)}},getFormattedDate:function(o){if(o===undefined){o=this.o.format}return j.formatDate(this.date,o,this.o.language)},setStartDate:function(o){this._process_options({startDate:o});this.update();this.updateNavArrows()},setEndDate:function(o){this._process_options({endDate:o});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(o){this._process_options({daysOfWeekDisabled:o});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var r=parseInt(this.element.parents().filter(function(){return h(this).css("z-index")!="auto"}).first().css("z-index"))+10;var q=this.component?this.component.parent().offset():this.element.offset();var o=this.component?this.component.outerHeight(true):this.element.outerHeight(true);this.picker.css({top:q.top+o,left:q.left,zIndex:r})},_allow_update:true,update:function(){if(!this._allow_update){return}var o,q=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){o=arguments[0];q=true}else{o=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();delete this.element.data().date}this.date=j.parseDate(o,this.o.format,this.o.language);if(q){this.setValue()}if(this.date<this.o.startDate){this.viewDate=new Date(this.o.startDate)}else{if(this.date>this.o.endDate){this.viewDate=new Date(this.o.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var q=this.o.weekStart,r="<tr>";if(this.o.calendarWeeks){var o='<th class="cw">&nbsp;</th>';r+=o;this.picker.find(".datepicker-days thead tr:first-child").prepend(o)}while(q<this.o.weekStart+7){r+='<th class="dow">'+c[this.o.language].daysMin[(q++)%7]+"</th>"}r+="</tr>";this.picker.find(".datepicker-days thead").append(r)},fillMonths:function(){var q="",o=0;while(o<12){q+='<span class="month">'+c[this.o.language].monthsShort[o++]+"</span>"}this.picker.find(".datepicker-months td").html(q)},setRange:function(o){if(!o||!o.length){delete this.range}else{this.range=h.map(o,function(q){return q.valueOf()})}this.fill()},getClassNames:function(s){var q=[],u=this.viewDate.getUTCFullYear(),v=this.viewDate.getUTCMonth(),o=this.date.valueOf(),r=new Date();if(s.getUTCFullYear()<u||(s.getUTCFullYear()==u&&s.getUTCMonth()<v)){q.push("old")}else{if(s.getUTCFullYear()>u||(s.getUTCFullYear()==u&&s.getUTCMonth()>v)){q.push("new")}}if(this.o.todayHighlight&&s.getUTCFullYear()==r.getFullYear()&&s.getUTCMonth()==r.getMonth()&&s.getUTCDate()==r.getDate()){q.push("today")}if(o&&s.valueOf()==o){q.push("active")}if(s.valueOf()<this.o.startDate||s.valueOf()>this.o.endDate||h.inArray(s.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){q.push("disabled")}if(this.range){if(s>this.range[0]&&s<this.range[this.range.length-1]){q.push("range")}if(h.inArray(s.valueOf(),this.range)!=-1){q.push("selected")}}return q},fill:function(){var I=new Date(this.viewDate),z=I.getUTCFullYear(),J=I.getUTCMonth(),D=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,H=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,w=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,E=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,x=this.date&&this.date.valueOf(),s;this.picker.find(".datepicker-days thead th.datepicker-switch").text(c[this.o.language].months[J]+" "+z);this.picker.find("tfoot th.today").text(c[this.o.language].today).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(c[this.o.language].clear).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var L=l(z,J-1,28,0,0,0,0),G=j.getDaysInMonth(L.getUTCFullYear(),L.getUTCMonth());L.setUTCDate(G);L.setUTCDate(G-(L.getUTCDay()-this.o.weekStart+7)%7);var o=new Date(L);o.setUTCDate(o.getUTCDate()+42);o=o.valueOf();var y=[];var C;while(L.valueOf()<o){if(L.getUTCDay()==this.o.weekStart){y.push("<tr>");if(this.o.calendarWeeks){var q=new Date(+L+(this.o.weekStart-L.getUTCDay()-7)%7*86400000),u=new Date(+q+(7+4-q.getUTCDay())%7*86400000),r=new Date(+(r=l(u.getUTCFullYear(),0,1))+(7+4-r.getUTCDay())%7*86400000),A=(u-r)/86400000/7+1;y.push('<td class="cw">'+A+"</td>")}}C=this.getClassNames(L);C.push("day");var B=this.o.beforeShowDay(L);if(B===undefined){B={}}else{if(typeof(B)==="boolean"){B={enabled:B}}else{if(typeof(B)==="string"){B={classes:B}}}}if(B.enabled===false){C.push("disabled")}if(B.classes){C=C.concat(B.classes.split(/\s+/))}if(B.tooltip){s=B.tooltip}C=h.unique(C);y.push('<td class="'+C.join(" ")+'"'+(s?' title="'+s+'"':"")+">"+L.getUTCDate()+"</td>");if(L.getUTCDay()==this.o.weekEnd){y.push("</tr>")}L.setUTCDate(L.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var M=this.date&&this.date.getUTCFullYear();var v=this.picker.find(".datepicker-months").find("th:eq(1)").text(z).end().find("span").removeClass("active");if(M&&M==z){v.eq(this.date.getUTCMonth()).addClass("active")}if(z<D||z>w){v.addClass("disabled")}if(z==D){v.slice(0,H).addClass("disabled")}if(z==w){v.slice(E+1).addClass("disabled")}y="";z=parseInt(z/10,10)*10;var K=this.picker.find(".datepicker-years").find("th:eq(1)").text(z+"-"+(z+9)).end().find("td");z-=1;for(var F=-1;F<11;F++){y+='<span class="year'+(F==-1?" old":F==10?" new":"")+(M==z?" active":"")+(z<D||z>w?" disabled":"")+'">'+z+"</span>";z+=1}K.html(y)},updateNavArrows:function(){if(!this._allow_update){return}var r=new Date(this.viewDate),o=r.getUTCFullYear(),q=r.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&o<=this.o.startDate.getUTCFullYear()&&q<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&o>=this.o.endDate.getUTCFullYear()&&q>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&o<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&o>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(u){u.preventDefault();var v=h(u.target).closest("span, td, th");if(v.length==1){switch(v[0].nodeName.toLowerCase()){case"th":switch(v[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=j.modes[this.viewMode].navStep*(v[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o);break}this.fill();break;case"today":var q=new Date();q=l(q.getFullYear(),q.getMonth(),q.getDate(),0,0,0);this.showMode(-2);var r=this.o.todayBtn=="linked"?null:"view";this._setDate(q,r);break;case"clear":var s;if(this.isInput){s=this.element}else{if(this.component){s=this.element.find("input")}}if(s){s.val("").change()}this._trigger("changeDate");this.update();if(this.o.autoclose){this.hide()}break}break;case"span":if(!v.is(".disabled")){this.viewDate.setUTCDate(1);if(v.is(".month")){var y=1;var w=v.parent().find("span").index(v);var x=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(w);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(l(x,w,y,0,0,0,0))}}else{var x=parseInt(v.text(),10)||0;var y=1;var w=0;this.viewDate.setUTCFullYear(x);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(l(x,w,y,0,0,0,0))}}this.showMode(-1);this.fill()}break;case"td":if(v.is(".day")&&!v.is(".disabled")){var y=parseInt(v.text(),10)||1;var x=this.viewDate.getUTCFullYear(),w=this.viewDate.getUTCMonth();if(v.is(".old")){if(w===0){w=11;x-=1}else{w-=1}}else{if(v.is(".new")){if(w==11){w=0;x+=1}else{w+=1}}}this._setDate(l(x,w,y,0,0,0,0))}break}}},_setDate:function(o,r){if(!r||r=="date"){this.date=new Date(o)}if(!r||r=="view"){this.viewDate=new Date(o)}this.fill();this.setValue();this._trigger("changeDate");var q;if(this.isInput){q=this.element}else{if(this.component){q=this.element.find("input")}}if(q){q.change();if(this.o.autoclose&&(!r||r=="date")){this.hide()}}},moveMonth:function(o,q){if(!q){return o}var u=new Date(o.valueOf()),y=u.getUTCDate(),v=u.getUTCMonth(),s=Math.abs(q),x,w;q=q>0?1:-1;if(s==1){w=q==-1?function(){return u.getUTCMonth()==v}:function(){return u.getUTCMonth()!=x};x=v+q;u.setUTCMonth(x);if(x<0||x>11){x=(x+12)%12}}else{for(var r=0;r<s;r++){u=this.moveMonth(u,q)}x=u.getUTCMonth();u.setUTCDate(y);w=function(){return x!=u.getUTCMonth()}}while(w()){u.setUTCDate(--y);u.setUTCMonth(x)}return u},moveYear:function(q,o){return this.moveMonth(q,o*12)},dateWithinRange:function(o){return o>=this.o.startDate&&o<=this.o.endDate},keydown:function(x){if(this.picker.is(":not(:visible)")){if(x.keyCode==27){this.show()}return}var s=false,r,q,w,o,v;switch(x.keyCode){case 27:this.hide();x.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation){break}r=x.keyCode==37?-1:1;if(x.ctrlKey){o=this.moveYear(this.date,r);v=this.moveYear(this.viewDate,r)}else{if(x.shiftKey){o=this.moveMonth(this.date,r);v=this.moveMonth(this.viewDate,r)}else{o=new Date(this.date);o.setUTCDate(this.date.getUTCDate()+r);v=new Date(this.viewDate);v.setUTCDate(this.viewDate.getUTCDate()+r)}}if(this.dateWithinRange(o)){this.date=o;this.viewDate=v;this.setValue();this.update();x.preventDefault();s=true}break;case 38:case 40:if(!this.o.keyboardNavigation){break}r=x.keyCode==38?-1:1;if(x.ctrlKey){o=this.moveYear(this.date,r);v=this.moveYear(this.viewDate,r)}else{if(x.shiftKey){o=this.moveMonth(this.date,r);v=this.moveMonth(this.viewDate,r)}else{o=new Date(this.date);o.setUTCDate(this.date.getUTCDate()+r*7);v=new Date(this.viewDate);v.setUTCDate(this.viewDate.getUTCDate()+r*7)}}if(this.dateWithinRange(o)){this.date=o;this.viewDate=v;this.setValue();this.update();x.preventDefault();s=true}break;case 13:this.hide();x.preventDefault();break;case 9:this.hide();break}if(s){this._trigger("changeDate");var u;if(this.isInput){u=this.element}else{if(this.component){u=this.element.find("input")}}if(u){u.change()}}},showMode:function(o){if(o){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+o))}this.picker.find(">div").hide().filter(".datepicker-"+j.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var n=function(q,o){this.element=h(q);this.inputs=h.map(o.inputs,function(r){return r.jquery?r[0]:r});delete o.inputs;h(this.inputs).datepicker(o).bind("changeDate",h.proxy(this.dateUpdated,this));this.pickers=h.map(this.inputs,function(r){return h(r).data("datepicker")});this.updateDates()};n.prototype={updateDates:function(){this.dates=h.map(this.pickers,function(o){return o.date});this.updateRanges()},updateRanges:function(){var o=h.map(this.dates,function(q){return q.valueOf()});h.each(this.pickers,function(q,r){r.setRange(o)})},dateUpdated:function(s){var u=h(s.target).data("datepicker"),r=u.getUTCDate(),q=h.inArray(s.target,this.inputs),o=this.inputs.length;if(q==-1){return}if(r<this.dates[q]){while(q>=0&&r<this.dates[q]){this.pickers[q--].setUTCDate(r)}}else{if(r>this.dates[q]){while(q<o&&r>this.dates[q]){this.pickers[q++].setUTCDate(r)}}}this.updateDates()},remove:function(){h.map(this.pickers,function(o){o.remove()});delete this.element.data().datepicker}};function g(s,w){var v=h(s).data(),o={},u,r=new RegExp("^"+w.toLowerCase()+"([A-Z])"),w=new RegExp("^"+w.toLowerCase());for(var q in v){if(w.test(q)){u=q.replace(r,function(y,x){return x.toLowerCase()});o[u]=v[q]}}return o}function b(r){var o={};if(!c[r]){r=r.split("-")[0];if(!c[r]){return}}var q=c[r];h.each(m,function(u,s){if(s in q){o[s]=q[s]}});return o}var d=h.fn.datepicker;var k=h.fn.datepicker=function(s){var q=Array.apply(null,arguments);q.shift();var r,o;this.each(function(){var B=h(this),z=B.data("datepicker"),v=typeof s=="object"&&s;if(!z){var x=g(this,"date"),u=h.extend({},f,x,v),w=b(u.language),y=h.extend({},f,w,x,v);if(B.is(".input-daterange")||y.inputs){var A={inputs:y.inputs||B.find("input").toArray()};B.data("datepicker",(z=new n(this,h.extend(y,A))))}else{B.data("datepicker",(z=new i(this,y)))}}if(typeof s=="string"&&typeof z[s]=="function"){r=z[s].apply(z,q);if(r!==undefined){return false}}});if(r!==undefined){return r}else{return this}};var f=h.fn.datepicker.defaults={autoclose:false,beforeShowDay:h.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var m=h.fn.datepicker.locale_opts=["format","rtl","weekStart"];h.fn.datepicker.Constructor=i;var c=h.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var j={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(o){return(((o%4===0)&&(o%100!==0))||(o%400===0))},getDaysInMonth:function(o,q){return[31,(j.isLeapYear(o)?29:28),31,30,31,30,31,31,30,31,30,31][q]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(r){var o=r.replace(this.validParts,"\0").split("\0"),q=r.match(this.validParts);if(!o||!o.length||!q||q.length===0){throw new Error("Invalid date format.")}return{separators:o,parts:q}},parseDate:function(u,D,x){if(u instanceof Date){return u}if(typeof D==="string"){D=j.parseFormat(D)}if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(u)){var F=/([\-+]\d+)([dmwy])/,w=u.match(/([\-+]\d+)([dmwy])/g),o,v;u=new Date();for(var y=0;y<w.length;y++){o=F.exec(w[y]);v=parseInt(o[1]);switch(o[2]){case"d":u.setUTCDate(u.getUTCDate()+v);break;case"m":u=i.prototype.moveMonth.call(i.prototype,u,v);break;case"w":u.setUTCDate(u.getUTCDate()+v*7);break;case"y":u=i.prototype.moveYear.call(i.prototype,u,v);break}}return l(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),0,0,0)}var w=u&&u.match(this.nonpunctuation)||[],u=new Date(),B={},C=["yyyy","yy","M","MM","m","mm","d","dd"],E={yyyy:function(H,s){return H.setUTCFullYear(s)},yy:function(H,s){return H.setUTCFullYear(2000+s)},m:function(H,s){s-=1;while(s<0){s+=12}s%=12;H.setUTCMonth(s);while(H.getUTCMonth()!=s){H.setUTCDate(H.getUTCDate()-1)}return H},d:function(H,s){return H.setUTCDate(s)}},r,z,o;E.M=E.MM=E.mm=E.m;E.dd=E.d;u=l(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0);var A=D.parts.slice();if(w.length!=A.length){A=h(A).filter(function(s,H){return h.inArray(H,C)!==-1}).toArray()}if(w.length==A.length){for(var y=0,q=A.length;y<q;y++){r=parseInt(w[y],10);o=A[y];if(isNaN(r)){switch(o){case"MM":z=h(c[x].months).filter(function(){var s=this.slice(0,w[y].length),H=w[y].slice(0,s.length);return s==H});r=h.inArray(z[0],c[x].months)+1;break;case"M":z=h(c[x].monthsShort).filter(function(){var s=this.slice(0,w[y].length),H=w[y].slice(0,s.length);return s==H});r=h.inArray(z[0],c[x].monthsShort)+1;break}}B[o]=r}for(var y=0,G;y<C.length;y++){G=C[y];if(G in B&&!isNaN(B[G])){E[G](u,B[G])}}}return u},formatDate:function(o,u,w){if(typeof u==="string"){u=j.parseFormat(u)}var v={d:o.getUTCDate(),D:c[w].daysShort[o.getUTCDay()],DD:c[w].days[o.getUTCDay()],m:o.getUTCMonth()+1,M:c[w].monthsShort[o.getUTCMonth()],MM:c[w].months[o.getUTCMonth()],yy:o.getUTCFullYear().toString().substring(2),yyyy:o.getUTCFullYear()};v.dd=(v.d<10?"0":"")+v.d;v.mm=(v.m<10?"0":"")+v.m;var o=[],s=h.extend([],u.separators);for(var r=0,q=u.parts.length;r<=q;r++){if(s.length){o.push(s.shift())}o.push(v[u.parts[r]])}return o.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};j.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+j.headTemplate+"<tbody></tbody>"+j.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+j.headTemplate+j.contTemplate+j.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+j.headTemplate+j.contTemplate+j.footTemplate+"</table></div></div>";h.fn.datepicker.DPGlobal=j;h.fn.datepicker.noConflict=function(){h.fn.datepicker=d;return this};h(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(q){var o=h(this);if(o.data("datepicker")){return}q.preventDefault();k.call(o,"show")});h(function(){k.call(h('[data-provide="datepicker-inline"]'))})}(window.jQuery));(function(c){c.fn.bdatepicker=c.fn.datepicker.noConflict();if(!c.fn.datepicker){c.fn.datepicker=c.fn.bdatepicker}var b=function(d){this.init("date",d,b.defaults);this.initPicker(d,b.defaults)};c.fn.editableutils.inherit(b,c.fn.editabletypes.abstractinput);c.extend(b.prototype,{initPicker:function(d,e){if(!this.options.viewformat){this.options.viewformat=this.options.format}d.datepicker=c.fn.editableutils.tryParseJson(d.datepicker,true);this.options.datepicker=c.extend({},e.datepicker,d.datepicker,{format:this.options.viewformat});this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=c.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);if(this.options.clear){this.$clear=c('<a href="#"></a>').html(this.options.clear).click(c.proxy(function(d){d.preventDefault();d.stopPropagation();this.clear()},this));this.$tpl.parent().append(c('<div class="editable-clear">').append(this.$clear))}},value2html:function(e,d){var f=e?this.dpg.formatDate(e,this.parsedViewFormat,this.options.datepicker.language):"";b.superclass.value2html.call(this,f,d)},html2value:function(d){return this.parseDate(d,this.parsedViewFormat)},value2str:function(d){return d?this.dpg.formatDate(d,this.parsedFormat,this.options.datepicker.language):""},str2value:function(d){return this.parseDate(d,this.parsedFormat)},value2submit:function(d){return this.value2str(d)},value2input:function(d){this.$input.bdatepicker("update",d)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".day",function(f){if(c(f.currentTarget).is(".old")||c(f.currentTarget).is(".new")){return}var d=c(this).closest("form");setTimeout(function(){d.submit()},200)})},parseDate:function(g,e){var d=null,f;if(g){d=this.dpg.parseDate(g,e,this.options.datepicker.language);if(typeof g==="string"){f=this.dpg.formatDate(d,e,this.options.datepicker.language);if(g!==f){d=null}}}return d}});b.defaults=c.extend({},c.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:false},clear:"&times; clear"});c.fn.editabletypes.date=b}(window.jQuery));(function(c){var b=function(d){this.init("datefield",d,b.defaults);this.initPicker(d,b.defaults)};c.fn.editableutils.inherit(b,c.fn.editabletypes.date);c.extend(b.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(c.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(d){this.$input.val(d?this.dpg.formatDate(d,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){c.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});b.defaults=c.extend({},c.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:true}});c.fn.editabletypes.datefield=b}(window.jQuery));(function(b){var c=function(d){this.init("datetime",d,c.defaults);this.initPicker(d,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{initPicker:function(d,e){if(!this.options.viewformat){this.options.viewformat=this.options.format}d.datetimepicker=b.fn.editableutils.tryParseJson(d.datetimepicker,true);this.options.datetimepicker=b.extend({},e.datetimepicker,d.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||"en";this.dpg=b.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(g){var d=b(this).closest("form").parent();setTimeout(function(){d.triggerHandler("resize")},0)});if(this.options.clear){this.$clear=b('<a href="#"></a>').html(this.options.clear).click(b.proxy(function(d){d.preventDefault();d.stopPropagation();this.clear()},this));this.$tpl.parent().append(b('<div class="editable-clear">').append(this.$clear))}},value2html:function(e,d){var f=e?this.dpg.formatDate(this.toUTC(e),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(d){c.superclass.value2html.call(this,f,d)}else{return f}},html2value:function(d){var e=this.parseDate(d,this.parsedViewFormat);return e?this.fromUTC(e):null},value2str:function(d){return d?this.dpg.formatDate(this.toUTC(d),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(e){var d=this.parseDate(e,this.parsedFormat);return d?this.fromUTC(d):null},value2submit:function(d){return this.value2str(d)},value2input:function(d){if(d){this.$input.data("datetimepicker").setDate(d)}},input2value:function(){var d=this.$input.data("datetimepicker");return d.date?d.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".minute",function(f){var d=b(this).closest("form");setTimeout(function(){d.submit()},200)})},toUTC:function(d){return d?new Date(d.valueOf()-d.getTimezoneOffset()*60000):d},fromUTC:function(d){return d?new Date(d.valueOf()+d.getTimezoneOffset()*60000):d},parseDate:function(g,e){var d=null,f;if(g){d=this.dpg.parseDate(g,e,this.options.datetimepicker.language,this.options.formatType);if(typeof g==="string"){f=this.dpg.formatDate(d,e,this.options.datetimepicker.language,this.options.formatType);if(g!==f){d=null}}}return d}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:false,autoclose:false},clear:"&times; clear"});b.fn.editabletypes.datetime=c}(window.jQuery));(function(c){var b=function(d){this.init("datetimefield",d,b.defaults);this.initPicker(d,b.defaults)};c.fn.editableutils.inherit(b,c.fn.editabletypes.datetime);c.extend(b.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(c.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(d){this.$input.val(this.value2html(d));this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){c.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});b.defaults=c.extend({},c.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:false,autoclose:true}});c.fn.editabletypes.datetimefield=b}(window.jQuery));(function(b){var c=function(d){this.init("address",d,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{render:function(){this.$input=this.$tpl.find("input")},value2html:function(f,e){if(!f){b(e).empty();return}var d=b("<div>").text(f.city).html()+", "+b("<div>").text(f.street).html()+" st., bld. "+b("<div>").text(f.building).html();b(e).html(d)},html2value:function(d){return null},value2str:function(e){var f="";if(e){for(var d in e){f=f+d+":"+e[d]+";"}}return f},str2value:function(d){return d},value2input:function(d){if(!d){return}this.$input.filter('[name="city"]').val(d.city);this.$input.filter('[name="street"]').val(d.street);this.$input.filter('[name="building"]').val(d.building)},input2value:function(){return{city:this.$input.filter('[name="city"]').val(),street:this.$input.filter('[name="street"]').val(),building:this.$input.filter('[name="building"]').val()}},activate:function(){this.$input.filter('[name="city"]').focus()},autosubmit:function(){this.$input.keydown(function(d){if(d.which===13){b(this).closest("form").submit()}})}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-address"><label><span>City: </span><input type="text" name="city" class="input-small form-control"></label></div><div class="editable-address"><label><span>Street: </span><input type="text" name="street" class="input-small form-control"></label></div><div class="editable-address"><label><span>Building: </span><input type="text" name="building" class="input-mini form-control"></label></div>',inputclass:""});b.fn.editabletypes.address=c}(window.jQuery));
/*!
 * typeahead.js 0.9.3
 * https://github.com/twitter/typeahead
 * Copyright 2013 Twitter, Inc. and other contributors; Licensed MIT
 */
(function(d){var m="0.9.3";var k={isMsie:function(){var n=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return n?parseInt(n[2],10):false},isBlankString:function(n){return !n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return typeof n==="string"},isNumber:function(n){return typeof n==="number"},isArray:d.isArray,isFunction:d.isFunction,isObject:d.isPlainObject,isUndefined:function(n){return typeof n==="undefined"},bind:d.proxy,bindAll:function(o){var q;for(var n in o){d.isFunction(q=o[n])&&(o[n]=d.proxy(q,o))}},indexOf:function(o,q){for(var n=0;n<o.length;n++){if(o[n]===q){return n}}return -1},each:d.each,map:d.map,filter:d.grep,every:function(o,q){var n=true;if(!o){return n}d.each(o,function(r,s){if(!(n=q.call(null,s,r,o))){return false}});return !!n},some:function(o,q){var n=false;if(!o){return n}d.each(o,function(r,s){if(n=q.call(null,s,r,o)){return false}});return !!n},mixin:d.extend,getUniqueId:function(){var n=0;return function(){return n++}}(),defer:function(n){setTimeout(n,0)},debounce:function(q,s,o){var r,n;return function(){var x=this,w=arguments,v,u;v=function(){r=null;if(!o){n=q.apply(x,w)}};u=o&&!r;clearTimeout(r);r=setTimeout(v,s);if(u){n=q.apply(x,w)}return n}},throttle:function(u,w){var r,q,v,n,s,o;s=0;o=function(){s=new Date();v=null;n=u.apply(r,q)};return function(){var x=new Date(),y=w-(x-s);r=this;q=arguments;if(y<=0){clearTimeout(v);v=null;s=x;n=u.apply(r,q)}else{if(!v){v=setTimeout(o,y)}}return n}},tokenizeQuery:function(n){return d.trim(n).toLowerCase().split(/[\s]+/)},tokenizeText:function(n){return d.trim(n).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}};var l=function(){var n=/\s+/;return{on:function(o,r){var q;if(!r){return this}this._callbacks=this._callbacks||{};o=o.split(n);while(q=o.shift()){this._callbacks[q]=this._callbacks[q]||[];this._callbacks[q].push(r)}return this},trigger:function(q,u){var s,r;if(!this._callbacks){return this}q=q.split(n);while(s=q.shift()){if(r=this._callbacks[s]){for(var o=0;o<r.length;o+=1){r[o].call(this,{type:s,data:u})}}}return this}}}();var f=function(){var o="typeahead:";function n(q){if(!q||!q.el){d.error("EventBus initialized without el")}this.$el=d(q.el)}k.mixin(n.prototype,{trigger:function(r){var q=[].slice.call(arguments,1);this.$el.trigger(o+r,q)}});return n}();var h=function(){var n,o;try{n=window.localStorage;n.setItem("~~~","!");n.removeItem("~~~")}catch(u){n=null}function r(w){this.prefix=["__",w,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+this.prefix)}if(n&&window.JSON){o={_prefix:function(w){return this.prefix+w},_ttlKey:function(w){return this._prefix(w)+this.ttlKey},get:function(w){if(this.isExpired(w)){this.remove(w)}return v(n.getItem(this._prefix(w)))},set:function(x,y,w){if(k.isNumber(w)){n.setItem(this._ttlKey(x),s(q()+w))}else{n.removeItem(this._ttlKey(x))}return n.setItem(this._prefix(x),s(y))},remove:function(w){n.removeItem(this._ttlKey(w));n.removeItem(this._prefix(w));return this},clear:function(){var y,x,z=[],w=n.length;for(y=0;y<w;y++){if((x=n.key(y)).match(this.keyMatcher)){z.push(x.replace(this.keyMatcher,""))}}for(y=z.length;y--;){this.remove(z[y])}return this},isExpired:function(x){var w=v(n.getItem(this._ttlKey(x)));return k.isNumber(w)&&q()>w?true:false}}}else{o={get:k.noop,set:k.noop,remove:k.noop,clear:k.noop,isExpired:k.noop}}k.mixin(r.prototype,o);return r;function q(){return new Date().getTime()}function s(w){return JSON.stringify(k.isUndefined(w)?null:w)}function v(w){return JSON.parse(w)}}();var j=function(){function n(q){k.bindAll(this);q=q||{};this.sizeLimit=q.sizeLimit||10;this.cache={};this.cachedKeysByAge=[]}k.mixin(n.prototype,{get:function(o){return this.cache[o]},set:function(q,r){var o;if(this.cachedKeysByAge.length===this.sizeLimit){o=this.cachedKeysByAge.shift();delete this.cache[o]}this.cache[q]=r;this.cachedKeysByAge.push(q)}});return n}();var e=function(){var o=0,s={},n,v;function w(x){k.bindAll(this);x=k.isString(x)?{url:x}:x;v=v||new j();n=k.isNumber(x.maxParallelRequests)?x.maxParallelRequests:n||6;this.url=x.url;this.wildcard=x.wildcard||"%QUERY";this.filter=x.filter;this.replace=x.replace;this.ajaxSettings={type:"get",cache:x.cache,timeout:x.timeout,dataType:x.dataType||"json",beforeSend:x.beforeSend};this._get=(/^throttle$/i.test(x.rateLimitFn)?k.throttle:k.debounce)(this._get,x.rateLimitWait||300)}k.mixin(w.prototype,{_get:function(z,x){var A=this;if(r()){this._sendRequest(z).done(y)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}function y(C){var B=A.filter?A.filter(C):C;x&&x(B);v.set(z,C)}},_sendRequest:function(y){var A=this,z=s[y];if(!z){q();z=s[y]=d.ajax(y,this.ajaxSettings).always(x)}return z;function x(){u();s[y]=null;if(A.onDeckRequestArgs){A._get.apply(A,A.onDeckRequestArgs);A.onDeckRequestArgs=null}}},get:function(B,x){var A=this,z=encodeURIComponent(B||""),y,C;x=x||k.noop;y=this.replace?this.replace(this.url,z):this.url.replace(this.wildcard,z);if(C=v.get(y)){k.defer(function(){x(A.filter?A.filter(C):C)})}else{this._get(y,x)}return !!C}});return w;function q(){o++}function u(){o--}function r(){return o<n}}();var b=function(){var q={thumbprint:"thumbprint",protocol:"protocol",itemHash:"itemHash",adjacencyList:"adjacencyList"};function o(r){k.bindAll(this);if(k.isString(r.template)&&!r.engine){d.error("no template engine specified")}if(!r.local&&!r.prefetch&&!r.remote){d.error("one of local, prefetch, or remote is required")}this.name=r.name||k.getUniqueId();this.limit=r.limit||5;this.minLength=r.minLength||1;this.header=r.header;this.footer=r.footer;this.valueKey=r.valueKey||"value";this.template=n(r.template,r.engine,this.valueKey);this.local=r.local;this.prefetch=r.prefetch;this.remote=r.remote;this.itemHash={};this.adjacencyList={};this.storage=r.name?new h(r.name):null}k.mixin(o.prototype,{_processLocalData:function(r){this._mergeProcessedData(this._processData(r))},_loadPrefetchData:function(s){var w=this,B=m+(s.thumbprint||""),z,u,x,r,v,A;if(this.storage){z=this.storage.get(q.thumbprint);u=this.storage.get(q.protocol);x=this.storage.get(q.itemHash);r=this.storage.get(q.adjacencyList)}v=z!==B||u!==k.getProtocol();s=k.isString(s)?{url:s}:s;s.ttl=k.isNumber(s.ttl)?s.ttl:24*60*60*1000;if(x&&r&&!v){this._mergeProcessedData({itemHash:x,adjacencyList:r});A=d.Deferred().resolve()}else{A=d.getJSON(s.url).done(y)}return A;function y(G){var F=s.filter?s.filter(G):G,E=w._processData(F),C=E.itemHash,D=E.adjacencyList;if(w.storage){w.storage.set(q.itemHash,C,s.ttl);w.storage.set(q.adjacencyList,D,s.ttl);w.storage.set(q.thumbprint,B,s.ttl);w.storage.set(q.protocol,k.getProtocol(),s.ttl)}w._mergeProcessedData(E)}},_transformDatum:function(r){var u=k.isString(r)?r:r[this.valueKey],v=r.tokens||k.tokenizeText(u),s={value:u,tokens:v};if(k.isString(r)){s.datum={};s.datum[this.valueKey]=r}else{s.datum=r}s.tokens=k.filter(s.tokens,function(w){return !k.isBlankString(w)});s.tokens=k.map(s.tokens,function(w){return w.toLowerCase()});return s},_processData:function(v){var u=this,r={},s={};k.each(v,function(x,w){var y=u._transformDatum(w),z=k.getUniqueId(y.value);r[z]=y;k.each(y.tokens,function(B,A){var D=A.charAt(0),C=s[D]||(s[D]=[z]);!~k.indexOf(C,z)&&C.push(z)})});return{itemHash:r,adjacencyList:s}},_mergeProcessedData:function(r){var s=this;k.mixin(this.itemHash,r.itemHash);k.each(r.adjacencyList,function(w,v){var u=s.adjacencyList[w];s.adjacencyList[w]=u?u.concat(v):v})},_getLocalSuggestions:function(x){var w=this,v=[],s=[],u,r=[];k.each(x,function(z,y){var A=y.charAt(0);!~k.indexOf(v,A)&&v.push(A)});k.each(v,function(y,z){var A=w.adjacencyList[z];if(!A){return false}s.push(A);if(!u||A.length<u.length){u=A}});if(s.length<v.length){return[]}k.each(u,function(y,C){var A=w.itemHash[C],B,z;B=k.every(s,function(D){return ~k.indexOf(D,C)});z=B&&k.every(x,function(D){return k.some(A.tokens,function(E){return E.indexOf(D)===0})});z&&r.push(A)});return r},initialize:function(){var r;this.local&&this._processLocalData(this.local);this.transport=this.remote?new e(this.remote):null;r=this.prefetch?this._loadPrefetchData(this.prefetch):d.Deferred().resolve();this.local=this.prefetch=this.remote=null;this.initialize=function(){return r};return r},getSuggestions:function(x,s){var w=this,v,r,u=false;if(x.length<this.minLength){return}v=k.tokenizeQuery(x);r=this._getLocalSuggestions(v).slice(0,this.limit);if(r.length<this.limit&&this.transport){u=this.transport.get(x,y)}!u&&s&&s(r);function y(z){r=r.slice(0);k.each(z,function(C,B){var D=w._transformDatum(B),A;A=k.some(r,function(E){return D.value===E.value});!A&&r.push(D);return r.length<w.limit});s&&s(r)}}});return o;function n(v,u,w){var s,r;if(k.isFunction(v)){s=v}else{if(k.isString(v)){r=u.compile(v);s=k.bind(r.render,r)}else{s=function(x){return"<p>"+x[w]+"</p>"}}}return s}}();var c=function(){function o(s){var r=this;k.bindAll(this);this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};this.$hint=d(s.hint);this.$input=d(s.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent);if(!k.isMsie()){this.$input.on("input.tt",this._compareQueryToInputValue)}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(u){if(r.specialKeyCodeMap[u.which||u.keyCode]){return}k.defer(r._compareQueryToInputValue)})}this.query=this.$input.val();this.$overflowHelper=q(this.$input)}k.mixin(o.prototype,l,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(r){var s=this.specialKeyCodeMap[r.which||r.keyCode];s&&this.trigger(s+"Keyed",r)},_compareQueryToInputValue:function(){var r=this.getInputValue(),u=n(this.query,r),s=u?this.query.length!==r.length:false;if(s){this.trigger("whitespaceChanged",{value:this.query})}else{if(!u){this.trigger("queryChanged",{value:this.query=r})}}},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(r){this.query=r},getInputValue:function(){return this.$input.val()},setInputValue:function(s,r){this.$input.val(s);!r&&this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(r){this.$hint.val(r)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var s=this.$input.val().length,u=this.$input[0].selectionStart,r;if(k.isNumber(u)){return u===s}else{if(document.selection){r=document.selection.createRange();r.moveStart("character",-s);return s===r.text.length}}return true}});return o;function q(r){return d("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:r.css("font-family"),fontSize:r.css("font-size"),fontStyle:r.css("font-style"),fontVariant:r.css("font-variant"),fontWeight:r.css("font-weight"),wordSpacing:r.css("word-spacing"),letterSpacing:r.css("letter-spacing"),textIndent:r.css("text-indent"),textRendering:r.css("text-rendering"),textTransform:r.css("text-transform")}).insertAfter(r)}function n(s,r){s=(s||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");r=(r||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");return s===r}}();var g=function(){var q={suggestionsList:'<span class="tt-suggestions"></span>'},o={suggestionsList:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"}};function r(s){k.bindAll(this);this.isOpen=false;this.isEmpty=true;this.isMouseOverDropdown=false;this.$menu=d(s.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)}k.mixin(r.prototype,l,{_handleMouseenter:function(){this.isMouseOverDropdown=true},_handleMouseleave:function(){this.isMouseOverDropdown=false},_handleMouseover:function(u){var s=d(u.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor");s.addClass("tt-is-under-cursor")},_handleSelection:function(u){var s=d(u.currentTarget);this.trigger("suggestionSelected",n(s))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(v){var x,u,s,w;if(!this.isVisible()){return}x=this._getSuggestions();u=x.filter(".tt-is-under-cursor");u.removeClass("tt-is-under-cursor");s=x.index(u)+v;s=(s+1)%(x.length+1)-1;if(s===-1){this.trigger("cursorRemoved");return}else{if(s<-1){s=x.length-1}}w=x.eq(s).addClass("tt-is-under-cursor");this._ensureVisibility(w);this.trigger("cursorMoved",n(w))},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(w){var x=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),u=this.$menu.scrollTop(),s=w.position().top,v=s+w.outerHeight(true);if(s<0){this.$menu.scrollTop(u+s)}else{if(x<v){this.$menu.scrollTop(u+(v-x))}}},destroy:function(){this.$menu.off(".tt");this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){if(!this.isMouseOverDropdown){this.close()}},close:function(){if(this.isOpen){this.isOpen=false;this.isMouseOverDropdown=false;this._hide();this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor");this.trigger("closed")}},open:function(){if(!this.isOpen){this.isOpen=true;!this.isEmpty&&this._show();this.trigger("opened")}},setLanguageDirection:function(s){var u={left:"0",right:"auto"},v={left:"auto",right:" 0"};s==="ltr"?this.$menu.css(u):this.$menu.css(v)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(+1)},getSuggestionUnderCursor:function(){var s=this._getSuggestions().filter(".tt-is-under-cursor").first();return s.length>0?n(s):null},getFirstSuggestion:function(){var s=this._getSuggestions().first();return s.length>0?n(s):null},renderSuggestions:function(w,x){var s="tt-dataset-"+w.name,u='<div class="tt-suggestion">%body</div>',A,z,B=this.$menu.find("."+s),v,y,C;if(B.length===0){z=d(q.suggestionsList).css(o.suggestionsList);B=d("<div></div>").addClass(s).append(w.header).append(z).append(w.footer).appendTo(this.$menu)}if(x.length>0){this.isEmpty=false;this.isOpen&&this._show();v=document.createElement("div");y=document.createDocumentFragment();k.each(x,function(E,D){D.dataset=w.name;A=w.template(D.datum);v.innerHTML=u.replace("%body",A);C=d(v.firstChild).css(o.suggestion).data("suggestion",D);C.children().each(function(){d(this).css(o.suggestionChild)});y.appendChild(C[0])});B.show().find(".tt-suggestions").html(y)}else{this.clearSuggestions(w.name)}this.trigger("suggestionsRendered")},clearSuggestions:function(v){var s=v?this.$menu.find(".tt-dataset-"+v):this.$menu.find('[class^="tt-dataset-"]'),u=s.find(".tt-suggestions");s.hide();u.empty();if(this._getSuggestions().length===0){this.isEmpty=true;this._hide()}}});return r;function n(s){return s.data("suggestion")}}();var i=function(){var s={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"></span>'},r={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};if(k.isMsie()){k.mixin(r.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}if(k.isMsie()&&k.isMsie()<=7){k.mixin(r.wrapper,{display:"inline",zoom:"1"});k.mixin(r.query,{marginTop:"-1px"})}function o(w){var v,x,u;k.bindAll(this);this.$node=n(w.input);this.datasets=w.datasets;this.dir=null;this.eventBus=w.eventBus;v=this.$node.find(".tt-dropdown-menu");x=this.$node.find(".tt-query");u=this.$node.find(".tt-hint");this.dropdownView=new g({menu:v}).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent);this.inputView=new c({input:x,hint:u}).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}k.mixin(o.prototype,l,{_managePreventDefault:function(x){var w=x.data,y,u,v=false;switch(x.type){case"tabKeyed":y=this.inputView.getHintValue();u=this.inputView.getInputValue();v=y&&y!==u;break;case"upKeyed":case"downKeyed":v=!w.shiftKey&&!w.ctrlKey&&!w.metaKey;break}v&&w.preventDefault()},_setLanguageDirection:function(){var u=this.inputView.getLanguageDirection();if(u!==this.dir){this.dir=u;this.$node.css("direction",u);this.dropdownView.setLanguageDirection(u)}},_updateHint:function(){var x=this.dropdownView.getFirstSuggestion(),w=x?x.value:null,A=this.dropdownView.isVisible(),z=this.inputView.isOverflow(),v,B,C,u,y;if(w&&A&&!z){v=this.inputView.getInputValue();B=v.replace(/\s{2,}/g," ").replace(/^\s+/g,"");C=k.escapeRegExChars(B);u=new RegExp("^(?:"+C+")(.*$)","i");y=u.exec(w);this.inputView.setHintValue(v+(y?y[1]:""))}},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(v){var u=v.data;this.inputView.setInputValue(u.value,true)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(u){this.dropdownView[u.type==="blured"?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(v){var u=v.data;if(!u.shiftKey&&!u.ctrlKey&&!u.metaKey){this.dropdownView[v.type==="upKeyed"?"moveCursorUp":"moveCursorDown"]()}},_handleSelection:function(w){var v=w.type==="suggestionSelected",u=v?w.data:this.dropdownView.getSuggestionUnderCursor();if(u){this.inputView.setInputValue(u.value);v?this.inputView.focus():w.data.preventDefault();v&&k.isMsie()?k.defer(this.dropdownView.close):this.dropdownView.close();this.eventBus.trigger("selected",u.datum,u.dataset)}},_getSuggestions:function(){var u=this,v=this.inputView.getQuery();if(k.isBlankString(v)){return}k.each(this.datasets,function(w,x){x.getSuggestions(v,function(y){if(v===u.inputView.getQuery()){u.dropdownView.renderSuggestions(x,y)}})})},_autocomplete:function(y){var v,u,x,z,w;if(y.type==="rightKeyed"||y.type==="leftKeyed"){v=this.inputView.isCursorAtEnd();u=this.inputView.getLanguageDirection()==="ltr"?y.type==="leftKeyed":y.type==="rightKeyed";if(!v||u){return}}x=this.inputView.getQuery();z=this.inputView.getHintValue();if(z!==""&&x!==z){w=this.dropdownView.getFirstSuggestion();this.inputView.setInputValue(w.value);this.eventBus.trigger("autocompleted",w.datum,w.dataset)}},_propagateEvent:function(u){this.eventBus.trigger(u.type)},destroy:function(){this.inputView.destroy();this.dropdownView.destroy();q(this.$node);this.$node=null},setQuery:function(u){this.inputView.setQuery(u);this.inputView.setInputValue(u);this._clearHint();this._clearSuggestions();this._getSuggestions()}});return o;function n(u){var w=d(s.wrapper),y=d(s.dropdown),z=d(u),v=d(s.hint);w=w.css(r.wrapper);y=y.css(r.dropdown);v.css(r.hint).css({backgroundAttachment:z.css("background-attachment"),backgroundClip:z.css("background-clip"),backgroundColor:z.css("background-color"),backgroundImage:z.css("background-image"),backgroundOrigin:z.css("background-origin"),backgroundPosition:z.css("background-position"),backgroundRepeat:z.css("background-repeat"),backgroundSize:z.css("background-size")});z.data("ttAttrs",{dir:z.attr("dir"),autocomplete:z.attr("autocomplete"),spellcheck:z.attr("spellcheck"),style:z.attr("style")});z.addClass("tt-query").attr({autocomplete:"off",spellcheck:false}).css(r.query);try{!z.attr("dir")&&z.attr("dir","auto")}catch(x){}return z.wrap(w).parent().prepend(v).append(y)}function q(u){var v=u.find(".tt-query");k.each(v.data("ttAttrs"),function(w,x){k.isUndefined(x)?v.removeAttr(w):v.attr(w,x)});v.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(u);u.remove()}}();(function(){var o={},q="ttView",n;n={initialize:function(u){var s;u=k.isArray(u)?u:[u];if(u.length===0){d.error("no datasets provided")}s=k.map(u,function(w){var v=o[w.name]?o[w.name]:new b(w);if(w.name){o[w.name]=v}return v});return this.each(r);function r(){var x=d(this),w,v=new f({el:x});w=k.map(s,function(y){return y.initialize()});x.data(q,new i({input:x,eventBus:v=new f({el:x}),datasets:s}));d.when.apply(d,w).always(function(){k.defer(function(){v.trigger("initialized")})})}},destroy:function(){return this.each(r);function r(){var u=d(this),s=u.data(q);if(s){s.destroy();u.removeData(q)}}},setQuery:function(r){return this.each(s);function s(){var u=d(this).data(q);u&&u.setQuery(r)}}};jQuery.fn.typeahead=function(r){if(n[r]){return n[r].apply(this,[].slice.call(arguments,1))}else{return n.initialize.apply(this,arguments)}}})()})(window.jQuery);(function(b){var c=function(d){this.init("typeaheadjs",d,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);b.extend(c.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder");this.$input.typeahead(this.options.typeahead);if(b.fn.editableform.engine==="bs3"){if(this.$input.hasClass("input-sm")){this.$input.siblings("input.tt-hint").addClass("input-sm")}if(this.$input.hasClass("input-lg")){this.$input.siblings("input.tt-hint").addClass("input-lg")}}}});c.defaults=b.extend({},b.fn.editabletypes.list.defaults,{tpl:'<input type="text">',typeahead:null,clear:true});b.fn.editabletypes.typeaheadjs=c}(window.jQuery));
/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 Jörn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
(function(b){b.extend(b.fn,{validate:function(c){if(!this.length){if(c&&c.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var d=b.data(this[0],"validator");if(d){return d}this.attr("novalidate","novalidate");d=new b.validator(c,this[0]);b.data(this[0],"validator",d);if(d.settings.onsubmit){this.validateDelegate(":submit","click",function(e){if(d.settings.submitHandler){d.submitButton=e.target}if(b(e.target).hasClass("cancel")){d.cancelSubmit=true}if(b(e.target).attr("formnovalidate")!==undefined){d.cancelSubmit=true}});this.submit(function(e){if(d.settings.debug){e.preventDefault()}function f(){var g;if(d.settings.submitHandler){if(d.submitButton){g=b("<input type='hidden'/>").attr("name",d.submitButton.name).val(b(d.submitButton).val()).appendTo(d.currentForm)}d.settings.submitHandler.call(d,d.currentForm,e);if(d.submitButton){g.remove()}return false}return true}if(d.cancelSubmit){d.cancelSubmit=false;return f()}if(d.form()){if(d.pendingRequest){d.formSubmitted=true;return false}return f()}else{d.focusInvalid();return false}})}return d},valid:function(){if(b(this[0]).is("form")){return this.validate().form()}else{var d=true;var c=b(this[0].form).validate();this.each(function(){d=d&&c.element(this)});return d}},removeAttrs:function(e){var c={},d=this;b.each(e.split(/\s/),function(f,g){c[g]=d.attr(g);d.removeAttr(g)});return c},rules:function(f,c){var h=this[0];if(f){var e=b.data(h.form,"validator").settings;var j=e.rules;var k=b.validator.staticRules(h);switch(f){case"add":b.extend(k,b.validator.normalizeRule(c));delete k.messages;j[h.name]=k;if(c.messages){e.messages[h.name]=b.extend(e.messages[h.name],c.messages)}break;case"remove":if(!c){delete j[h.name];return k}var i={};b.each(c.split(/\s/),function(l,m){i[m]=k[m];delete k[m]});return i}}var g=b.validator.normalizeRules(b.extend({},b.validator.classRules(h),b.validator.attributeRules(h),b.validator.dataRules(h),b.validator.staticRules(h)),h);if(g.required){var d=g.required;delete g.required;g=b.extend({required:d},g)}return g}});b.extend(b.expr[":"],{blank:function(c){return !b.trim(""+b(c).val())},filled:function(c){return !!b.trim(""+b(c).val())},unchecked:function(c){return !b(c).prop("checked")}});b.validator=function(c,d){this.settings=b.extend(true,{},b.validator.defaults,c);this.currentForm=d;this.init()};b.validator.format=function(c,d){if(arguments.length===1){return function(){var e=b.makeArray(arguments);e.unshift(c);return b.validator.format.apply(this,e)}}if(arguments.length>2&&d.constructor!==Array){d=b.makeArray(arguments).slice(1)}if(d.constructor!==Array){d=[d]}b.each(d,function(e,f){c=c.replace(new RegExp("\\{"+e+"\\}","g"),function(){return f})});return c};b.extend(b.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:b([]),errorLabelContainer:b([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(c,d){this.lastActive=c;if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,c,this.settings.errorClass,this.settings.validClass)}this.addWrapper(this.errorsFor(c)).hide()}},onfocusout:function(c,d){if(!this.checkable(c)&&(c.name in this.submitted||!this.optional(c))){this.element(c)}},onkeyup:function(c,d){if(d.which===9&&this.elementValue(c)===""){return}else{if(c.name in this.submitted||c===this.lastElement){this.element(c)}}},onclick:function(c,d){if(c.name in this.submitted){this.element(c)}else{if(c.parentNode.name in this.submitted){this.element(c.parentNode)}}},highlight:function(e,c,d){if(e.type==="radio"){this.findByName(e.name).addClass(c).removeClass(d)}else{b(e).addClass(c).removeClass(d)}},unhighlight:function(e,c,d){if(e.type==="radio"){this.findByName(e.name).removeClass(c).addClass(d)}else{b(e).removeClass(c).addClass(d)}}},setDefaults:function(c){b.extend(b.validator.defaults,c)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:b.validator.format("Please enter no more than {0} characters."),minlength:b.validator.format("Please enter at least {0} characters."),rangelength:b.validator.format("Please enter a value between {0} and {1} characters long."),range:b.validator.format("Please enter a value between {0} and {1}."),max:b.validator.format("Please enter a value less than or equal to {0}."),min:b.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=b(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||b(this.currentForm);this.containers=b(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var c=(this.groups={});b.each(this.settings.groups,function(f,g){if(typeof g==="string"){g=g.split(/\s/)}b.each(g,function(i,h){c[h]=f})});var e=this.settings.rules;b.each(e,function(f,g){e[f]=b.validator.normalizeRule(g)});function d(h){var g=b.data(this[0].form,"validator"),f="on"+h.type.replace(/^validate/,"");if(g.settings[f]){g.settings[f].call(g,this[0],h)}}b(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",d).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",d);if(this.settings.invalidHandler){b(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();b.extend(this.submitted,this.errorMap);this.invalid=b.extend({},this.errorMap);if(!this.valid()){b(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var c=0,d=(this.currentElements=this.elements());d[c];c++){this.check(d[c])}return this.valid()},element:function(d){d=this.validationTargetFor(this.clean(d));this.lastElement=d;this.prepareElement(d);this.currentElements=b(d);var c=this.check(d)!==false;if(c){delete this.invalid[d.name]}else{this.invalid[d.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return c},showErrors:function(d){if(d){b.extend(this.errorMap,d);this.errorList=[];for(var c in d){this.errorList.push({message:d[c],element:this.findByName(c)[0]})}this.successList=b.grep(this.successList,function(e){return !(e.name in d)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if(b.fn.resetForm){b(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var d=0;for(var c in e){d++}return d},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{b(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(c){}}},findLastActive:function(){var c=this.lastActive;return c&&b.grep(this.errorList,function(d){return d.element.name===c.name}).length===1&&c},elements:function(){var d=this,c={};return b(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){if(!this.name&&d.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in c||!d.objectLength(b(this).rules())){return false}c[this.name]=true;return true})},clean:function(c){return b(c)[0]},errors:function(){var c=this.settings.errorClass.replace(" ",".");return b(this.settings.errorElement+"."+c,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=b([]);this.toHide=b([]);this.currentElements=b([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(c){this.reset();this.toHide=this.errorsFor(c)},elementValue:function(c){var d=b(c).attr("type"),e=b(c).val();if(d==="radio"||d==="checkbox"){return b("input[name='"+b(c).attr("name")+"']:checked").val()}if(typeof e==="string"){return e.replace(/\r/g,"")}return e},check:function(d){d=this.validationTargetFor(this.clean(d));var j=b(d).rules();var f=false;var i=this.elementValue(d);var c;for(var k in j){var h={method:k,parameters:j[k]};try{c=b.validator.methods[k].call(this,i,d,h.parameters);if(c==="dependency-mismatch"){f=true;continue}f=false;if(c==="pending"){this.toHide=this.toHide.not(this.errorsFor(d));return}if(!c){this.formatAndAdd(d,h);return false}}catch(g){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+d.id+", check the '"+h.method+"' method.",g)}throw g}}if(f){return}if(this.objectLength(j)){this.successList.push(d)}return true},customDataMessage:function(c,d){return b(c).data("msg-"+d.toLowerCase())||(c.attributes&&b(c).attr("data-msg-"+d.toLowerCase()))},customMessage:function(d,e){var c=this.settings.messages[d];return c&&(c.constructor===String?c:c[e])},findDefined:function(){for(var c=0;c<arguments.length;c++){if(arguments[c]!==undefined){return arguments[c]}}return undefined},defaultMessage:function(c,d){return this.findDefined(this.customMessage(c.name,d),this.customDataMessage(c,d),!this.settings.ignoreTitle&&c.title||undefined,b.validator.messages[d],"<strong>Warning: No message defined for "+c.name+"</strong>")},formatAndAdd:function(d,f){var e=this.defaultMessage(d,f.method),c=/\$?\{(\d+)\}/g;if(typeof e==="function"){e=e.call(this,f.parameters,d)}else{if(c.test(e)){e=b.validator.format(e.replace(c,"{$1}"),f.parameters)}}this.errorList.push({message:e,element:d});this.errorMap[d.name]=e;this.submitted[d.name]=e},addWrapper:function(c){if(this.settings.wrapper){c=c.add(c.parent(this.settings.wrapper))}return c},defaultShowErrors:function(){var d,e;for(d=0;this.errorList[d];d++){var c=this.errorList[d];if(this.settings.highlight){this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(c.element,c.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(d=0;this.successList[d];d++){this.showLabel(this.successList[d])}}if(this.settings.unhighlight){for(d=0,e=this.validElements();e[d];d++){this.settings.unhighlight.call(this,e[d],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return b(this.errorList).map(function(){return this.element})},showLabel:function(d,e){var c=this.errorsFor(d);if(c.length){c.removeClass(this.settings.validClass).addClass(this.settings.errorClass);c.html(e)}else{c=b("<"+this.settings.errorElement+">").attr("for",this.idOrName(d)).addClass(this.settings.errorClass).html(e||"");if(this.settings.wrapper){c=c.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(c).length){if(this.settings.errorPlacement){this.settings.errorPlacement(c,b(d))}else{c.insertAfter(d)}}}if(!e&&this.settings.success){c.text("");if(typeof this.settings.success==="string"){c.addClass(this.settings.success)}else{this.settings.success(c,d)}}this.toShow=this.toShow.add(c)},errorsFor:function(d){var c=this.idOrName(d);return this.errors().filter(function(){return b(this).attr("for")===c})},idOrName:function(c){return this.groups[c.name]||(this.checkable(c)?c.name:c.id||c.name)},validationTargetFor:function(c){if(this.checkable(c)){c=this.findByName(c.name).not(this.settings.ignore)[0]}return c},checkable:function(c){return(/radio|checkbox/i).test(c.type)},findByName:function(c){return b(this.currentForm).find("[name='"+c+"']")},getLength:function(d,c){switch(c.nodeName.toLowerCase()){case"select":return b("option:selected",c).length;case"input":if(this.checkable(c)){return this.findByName(c.name).filter(":checked").length}}return d.length},depend:function(d,c){return this.dependTypes[typeof d]?this.dependTypes[typeof d](d,c):true},dependTypes:{"boolean":function(d,c){return d},string:function(d,c){return !!b(d,c.form).length},"function":function(d,c){return d(c)}},optional:function(c){var d=this.elementValue(c);return !b.validator.methods.required.call(this,d,c)&&"dependency-mismatch"},startRequest:function(c){if(!this.pending[c.name]){this.pendingRequest++;this.pending[c.name]=true}},stopRequest:function(c,d){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[c.name];if(d&&this.pendingRequest===0&&this.formSubmitted&&this.form()){b(this.currentForm).submit();this.formSubmitted=false}else{if(!d&&this.pendingRequest===0&&this.formSubmitted){b(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(c){return b.data(c,"previousValue")||b.data(c,"previousValue",{old:null,valid:true,message:this.defaultMessage(c,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(c,d){if(c.constructor===String){this.classRuleSettings[c]=d}else{b.extend(this.classRuleSettings,c)}},classRules:function(d){var e={};var c=b(d).attr("class");if(c){b.each(c.split(" "),function(){if(this in b.validator.classRuleSettings){b.extend(e,b.validator.classRuleSettings[this])}})}return e},attributeRules:function(d){var g={};var c=b(d);var e=c[0].getAttribute("type");for(var h in b.validator.methods){var f;if(h==="required"){f=c.get(0).getAttribute(h);if(f===""){f=true}f=!!f}else{f=c.attr(h)}if(/min|max/.test(h)&&(e===null||/number|range|text/.test(e))){f=Number(f)}if(f){g[h]=f}else{if(e===h&&e!=="range"){g[h]=true}}}if(g.maxlength&&/-1|2147483647|524288/.test(g.maxlength)){delete g.maxlength}return g},dataRules:function(d){var g,e,f={},c=b(d);for(g in b.validator.methods){e=c.data("rule-"+g.toLowerCase());if(e!==undefined){f[g]=e}}return f},staticRules:function(d){var e={};var c=b.data(d.form,"validator");if(c.settings.rules){e=b.validator.normalizeRule(c.settings.rules[d.name])||{}}return e},normalizeRules:function(d,c){b.each(d,function(g,f){if(f===false){delete d[g];return}if(f.param||f.depends){var e=true;switch(typeof f.depends){case"string":e=!!b(f.depends,c.form).length;break;case"function":e=f.depends.call(c,c);break}if(e){d[g]=f.param!==undefined?f.param:true}else{delete d[g]}}});b.each(d,function(e,f){d[e]=b.isFunction(f)?f(c):f});b.each(["minlength","maxlength"],function(){if(d[this]){d[this]=Number(d[this])}});b.each(["rangelength","range"],function(){var e;if(d[this]){if(b.isArray(d[this])){d[this]=[Number(d[this][0]),Number(d[this][1])]}else{if(typeof d[this]==="string"){e=d[this].split(/[\s,]+/);d[this]=[Number(e[0]),Number(e[1])]}}}});if(b.validator.autoCreateRanges){if(d.min&&d.max){d.range=[d.min,d.max];delete d.min;delete d.max}if(d.minlength&&d.maxlength){d.rangelength=[d.minlength,d.maxlength];delete d.minlength;delete d.maxlength}}return d},normalizeRule:function(d){if(typeof d==="string"){var c={};b.each(d.split(/\s/),function(){c[this]=true});d=c}return d},addMethod:function(c,e,d){b.validator.methods[c]=e;b.validator.messages[c]=d!==undefined?d:b.validator.messages[c];if(e.length<3){b.validator.addClassRules(c,b.validator.normalizeRule(c))}},methods:{required:function(d,c,f){if(!this.depend(f,c)){return"dependency-mismatch"}if(c.nodeName.toLowerCase()==="select"){var e=b(c).val();return e&&e.length>0}if(this.checkable(c)){return this.getLength(d,c)>0}return b.trim(d).length>0},email:function(d,c){return this.optional(c)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(d)},url:function(d,c){return this.optional(c)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(d)},date:function(d,c){return this.optional(c)||!/Invalid|NaN/.test(new Date(d).toString())},dateISO:function(d,c){return this.optional(c)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(d)},number:function(d,c){return this.optional(c)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(d)},digits:function(d,c){return this.optional(c)||/^\d+$/.test(d)},creditcard:function(g,d){if(this.optional(d)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(g)){return false}var h=0,f=0,c=false;g=g.replace(/\D/g,"");for(var i=g.length-1;i>=0;i--){var e=g.charAt(i);f=parseInt(e,10);if(c){if((f*=2)>9){f-=9}}h+=f;c=!c}return(h%10)===0},minlength:function(e,c,f){var d=b.isArray(e)?e.length:this.getLength(b.trim(e),c);return this.optional(c)||d>=f},maxlength:function(e,c,f){var d=b.isArray(e)?e.length:this.getLength(b.trim(e),c);return this.optional(c)||d<=f},rangelength:function(e,c,f){var d=b.isArray(e)?e.length:this.getLength(b.trim(e),c);return this.optional(c)||(d>=f[0]&&d<=f[1])},min:function(d,c,e){return this.optional(c)||d>=e},max:function(d,c,e){return this.optional(c)||d<=e},range:function(d,c,e){return this.optional(c)||(d>=e[0]&&d<=e[1])},equalTo:function(d,c,f){var e=b(f);if(this.settings.onfocusout){e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){b(c).valid()})}return d===e.val()},remote:function(g,d,h){if(this.optional(d)){return"dependency-mismatch"}var e=this.previousValue(d);if(!this.settings.messages[d.name]){this.settings.messages[d.name]={}}e.originalMessage=this.settings.messages[d.name].remote;this.settings.messages[d.name].remote=e.message;h=typeof h==="string"&&{url:h}||h;if(e.old===g){return e.valid}e.old=g;var c=this;this.startRequest(d);var f={};f[d.name]=g;b.ajax(b.extend(true,{url:h,mode:"abort",port:"validate"+d.name,dataType:"json",data:f,success:function(j){c.settings.messages[d.name].remote=e.originalMessage;var l=j===true||j==="true";if(l){var i=c.formSubmitted;c.prepareElement(d);c.formSubmitted=i;c.successList.push(d);delete c.invalid[d.name];c.showErrors()}else{var m={};var k=j||c.defaultMessage(d,"remote");m[d.name]=e.message=b.isFunction(k)?k(g):k;c.invalid[d.name]=true;c.showErrors(m)}e.valid=l;c.stopRequest(d,l)}},h));return"pending"}}});b.format=b.validator.format}(jQuery));(function(d){var b={};if(d.ajaxPrefilter){d.ajaxPrefilter(function(g,f,h){var e=g.port;if(g.mode==="abort"){if(b[e]){b[e].abort()}b[e]=h}})}else{var c=d.ajax;d.ajax=function(f){var g=("mode" in f?f:d.ajaxSettings).mode,e=("port" in f?f:d.ajaxSettings).port;if(g==="abort"){if(b[e]){b[e].abort()}b[e]=c.apply(this,arguments);return b[e]}return c.apply(this,arguments)}}}(jQuery));(function(b){b.extend(b.fn,{validateDelegate:function(e,d,c){return this.bind(d,function(f){var g=b(f.target);if(g.is(e)){return c.apply(g,arguments)}})}})}(jQuery));
/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 Jörn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
(function(){function b(c){return c.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'"_+=\/\-]*/g,"")}jQuery.validator.addMethod("maxWords",function(d,c,e){return this.optional(c)||b(d).match(/\b\w+\b/g).length<=e},jQuery.validator.format("Please enter {0} words or less."));jQuery.validator.addMethod("minWords",function(d,c,e){return this.optional(c)||b(d).match(/\b\w+\b/g).length>=e},jQuery.validator.format("Please enter at least {0} words."));jQuery.validator.addMethod("rangeWords",function(f,c,g){var e=b(f);var d=/\b\w+\b/g;return this.optional(c)||e.match(d).length>=g[0]&&e.match(d).length<=g[1]},jQuery.validator.format("Please enter between {0} and {1} words."))}());jQuery.validator.addMethod("letterswithbasicpunc",function(c,b){return this.optional(b)||/^[a-z\-.,()'"\s]+$/i.test(c)},"Letters or punctuation only please");jQuery.validator.addMethod("alphanumeric",function(c,b){return this.optional(b)||/^\w+$/i.test(c)},"Letters, numbers, and underscores only please");jQuery.validator.addMethod("lettersonly",function(c,b){return this.optional(b)||/^[a-z]+$/i.test(c)},"Letters only please");jQuery.validator.addMethod("nowhitespace",function(c,b){return this.optional(b)||/^\S+$/i.test(c)},"No white space please");jQuery.validator.addMethod("ziprange",function(c,b){return this.optional(b)||/^90[2-5]\d\{2\}-\d{4}$/.test(c)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx");jQuery.validator.addMethod("zipcodeUS",function(c,b){return this.optional(b)||/\d{5}-\d{4}$|^\d{5}$/.test(c)},"The specified US ZIP Code is invalid");jQuery.validator.addMethod("integer",function(c,b){return this.optional(b)||/^-?\d+$/.test(c)},"A positive or negative non-decimal number please");jQuery.validator.addMethod("vinUS",function(q){if(q.length!==17){return false}var j,b,m,k,c,l;var e=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"];var o=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9];var h=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2];var g=0;for(j=0;j<17;j++){k=h[j];m=q.slice(j,j+1);if(j===8){l=m}if(!isNaN(m)){m*=k}else{for(b=0;b<e.length;b++){if(m.toUpperCase()===e[b]){m=o[b];m*=k;if(isNaN(l)&&b===8){l=e[b]}break}}}g+=m}c=g%11;if(c===10){c="X"}if(c===l){return true}return false},"The specified vehicle identification number (VIN) is invalid.");jQuery.validator.addMethod("dateITA",function(f,d){var b=false;var h=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(h.test(f)){var j=f.split("/");var e=parseInt(j[0],10);var c=parseInt(j[1],10);var g=parseInt(j[2],10);var i=new Date(g,c-1,e);if((i.getFullYear()===g)&&(i.getMonth()===c-1)&&(i.getDate()===e)){b=true}else{b=false}}else{b=false}return this.optional(d)||b},"Please enter a correct date");jQuery.validator.addMethod("iban",function(r,k){if(this.optional(k)){return true}if(!(/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(r))){return false}var h=r.replace(/ /g,"").toUpperCase();var d=h.substring(0,2);var b={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"};var n=b[d];if(typeof n!=="undefined"){var l=new RegExp("^[A-Z]{2}\\d{2}"+n+"$","");if(!(l.test(h))){return false}}var f=h.substring(4,h.length)+h.substring(0,4);var g="";var m=true;var e;for(var j=0;j<f.length;j++){e=f.charAt(j);if(e!=="0"){m=false}if(!m){g+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e)}}var s="";var q="";for(var c=0;c<g.length;c++){var o=g.charAt(c);q=""+s+""+o;s=q%97}return s===1},"Please specify a valid IBAN");jQuery.validator.addMethod("dateNL",function(c,b){return this.optional(b)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(c)},"Please enter a correct date");jQuery.validator.addMethod("phoneNL",function(c,b){return this.optional(b)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(c)},"Please specify a valid phone number.");jQuery.validator.addMethod("mobileNL",function(c,b){return this.optional(b)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(c)},"Please specify a valid mobile number");jQuery.validator.addMethod("postalcodeNL",function(c,b){return this.optional(b)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(c)},"Please specify a valid postal code");jQuery.validator.addMethod("bankaccountNL",function(g,d){if(this.optional(d)){return true}if(!(/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(g))){return false}var f=g.replace(/ /g,"");var e=0;var b=f.length;for(var i=0;i<b;i++){var c=b-i;var h=f.substring(i,i+1);e=e+c*h}return e%11===0},"Please specify a valid bank account number");jQuery.validator.addMethod("giroaccountNL",function(c,b){return this.optional(b)||/^[0-9]{1,7}$/.test(c)},"Please specify a valid giro account number");jQuery.validator.addMethod("bankorgiroaccountNL",function(c,b){return this.optional(b)||($.validator.methods.bankaccountNL.call(this,c,b))||($.validator.methods.giroaccountNL.call(this,c,b))},"Please specify a valid bank or giro account number");jQuery.validator.addMethod("time",function(c,b){return this.optional(b)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(c)},"Please enter a valid time, between 00:00 and 23:59");jQuery.validator.addMethod("time12h",function(c,b){return this.optional(b)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(c)},"Please enter a valid time in 12-hour am/pm format");jQuery.validator.addMethod("phoneUS",function(b,c){b=b.replace(/\s+/g,"");return this.optional(c)||b.length>9&&b.match(/^(\+?1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number");jQuery.validator.addMethod("phoneUK",function(b,c){b=b.replace(/\(|\)|\s+|-/g,"");return this.optional(c)||b.length>9&&b.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number");jQuery.validator.addMethod("mobileUK",function(b,c){b=b.replace(/\(|\)|\s+|-/g,"");return this.optional(c)||b.length>9&&b.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[45789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number");jQuery.validator.addMethod("phonesUK",function(b,c){b=b.replace(/\(|\)|\s+|-/g,"");return this.optional(c)||b.length>9&&b.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[45789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number");jQuery.validator.addMethod("postcodeUK",function(c,b){return this.optional(b)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(c)},"Please specify a valid UK postcode");jQuery.validator.addMethod("strippedminlength",function(c,b,d){return jQuery(c).text().length>=d},jQuery.validator.format("Please enter at least {0} characters"));jQuery.validator.addMethod("email2",function(c,b,d){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(c)},jQuery.validator.messages.email);jQuery.validator.addMethod("url2",function(c,b,d){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)},jQuery.validator.messages.url);jQuery.validator.addMethod("creditcardtypes",function(c,b,d){if(/[^0-9\-]+/.test(c)){return false}c=c.replace(/\D/g,"");var e=0;if(d.mastercard){e|=1}if(d.visa){e|=2}if(d.amex){e|=4}if(d.dinersclub){e|=8}if(d.enroute){e|=16}if(d.discover){e|=32}if(d.jcb){e|=64}if(d.unknown){e|=128}if(d.all){e=1|2|4|8|16|32|64|128}if(e&1&&/^(5[12345])/.test(c)){return c.length===16}if(e&2&&/^(4)/.test(c)){return c.length===16}if(e&4&&/^(3[47])/.test(c)){return c.length===15}if(e&8&&/^(3(0[012345]|[68]))/.test(c)){return c.length===14}if(e&16&&/^(2(014|149))/.test(c)){return c.length===15}if(e&32&&/^(6011)/.test(c)){return c.length===16}if(e&64&&/^(3)/.test(c)){return c.length===16}if(e&64&&/^(2131|1800)/.test(c)){return c.length===15}if(e&128){return true}return false},"Please enter a valid credit card number.");jQuery.validator.addMethod("ipv4",function(c,b,d){return this.optional(b)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(c)},"Please enter a valid IP v4 address.");jQuery.validator.addMethod("ipv6",function(c,b,d){return this.optional(b)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(c)},"Please enter a valid IP v6 address.");jQuery.validator.addMethod("pattern",function(c,b,d){if(this.optional(b)){return true}if(typeof d==="string"){d=new RegExp("^(?:"+d+")$")}return d.test(c)},"Invalid format.");jQuery.validator.addMethod("require_from_group",function(h,g,e){var f=this;var c=e[1];var d=$(c,g.form).filter(function(){return f.elementValue(this)}).length>=e[0];if(!$(g).data("being_validated")){var b=$(c,g.form);b.data("being_validated",true);b.valid();$(g.form).valid();b.data("being_validated",false)}return d},jQuery.format("Please fill at least {0} of these fields."));jQuery.validator.addMethod("skip_or_fill_minimum",function(i,f,j){var c=this,d=j[0],e=j[1];var h=$(e,f.form).filter(function(){return c.elementValue(this)}).length;var b=h>=d||h===0;if(!$(f).data("being_validated")){var g=$(e,f.form);g.data("being_validated",true);g.valid();g.data("being_validated",false)}return b},jQuery.format("Please either skip these fields or fill at least {0} of them."));jQuery.validator.addMethod("accept",function(f,d,h){var g=typeof h==="string"?h.replace(/\s/g,"").replace(/,/g,"|"):"image/*",e=this.optional(d),c,b;if(e){return e}if($(d).attr("type")==="file"){g=g.replace(/\*/g,".*");if(d.files&&d.files.length){for(c=0;c<d.files.length;c++){b=d.files[c];if(!b.type.match(new RegExp(".?("+g+")$","i"))){return false}}}}return true},jQuery.format("Please enter a value with a valid mimetype."));jQuery.validator.addMethod("extension",function(c,b,d){d=typeof d==="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||c.match(new RegExp(".("+d+")$","i"))},jQuery.format("Please enter a value with a valid extension."));
/*! DataTables 1.10.0-beta.2
 * ©2008-2014 SpryMedia Ltd - datatables.net/license
 */
(function(c,b,d){(function(e){if(typeof define==="function"&&define.amd){define("datatables",["jquery"],e)}else{if(jQuery&&!jQuery.fn.dataTable){e(jQuery)}}}(function(bz){var M;var H;var I;var bg;var az;var a3={};var V=/[\r\n]/g;var aT=/<.*?>/g;var ak=/^[\d\+\-a-zA-Z]/;var aB=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g");var bA=/[',$£€¥%\u2009\u202F]/g;var bv=function(bL){return !bL||bL==="-"?true:false};var E=function(bM){var bL=parseInt(bM,10);return !isNaN(bL)&&isFinite(bM)?bL:null};var bx=function(bM,bL){if(!a3[bL]){a3[bL]=new RegExp(n(bL),"g")}return bM.replace(/\./g,"").replace(a3[bL],".")};var ah=function(bO,bL,bN){var bM=typeof bO==="string";if(bL&&bM){bO=bx(bO,bL)}if(bN&&bM){bO=bO.replace(bA,"")}return !bO||bO==="-"||(!isNaN(parseFloat(bO))&&isFinite(bO))};var bG=function(bL){return !bL||typeof bL==="string"};var k=function(bO,bL,bN){if(bv(bO)){return true}var bM=bG(bO);return !bM?null:ah(C(bO),bL,bN)?true:null};var ar=function(bM,bQ,bP){var bN=[];var bO=0,bL=bM.length;if(bP!==d){for(;bO<bL;bO++){if(bM[bO]&&bM[bO][bQ]){bN.push(bM[bO][bQ][bP])}}}else{for(;bO<bL;bO++){if(bM[bO]){bN.push(bM[bO][bQ])}}}return bN};var u=function(bN,bL,bR,bQ){var bO=[];var bP=0,bM=bL.length;if(bQ!==d){for(;bP<bM;bP++){bO.push(bN[bL[bP]][bR][bQ])}}else{for(;bP<bM;bP++){bO.push(bN[bL[bP]][bR])}}return bO};var bc=function(bL,bP){var bN=[];var bM;if(bP===d){bP=0;bM=bL}else{bM=bP;bP=bL}for(var bO=bP;bO<bM;bO++){bN.push(bO)}return bN};var C=function(bL){return bL.replace(aT,"")};var aE=function(bR){var bO=[],bQ,bP,bL=bR.length,bN,bM=0;again:for(bP=0;bP<bL;bP++){bQ=bR[bP];for(bN=0;bN<bM;bN++){if(bO[bN]===bQ){continue again}}bO.push(bQ);bM++}return bO};function S(bP){var bO="a aa ai ao as b fn i m o s ",bL,bN,bM={};bz.each(bP,function(bQ,bR){bL=bQ.match(/^([^A-Z]+?)([A-Z])/);if(bL&&bO.indexOf(bL[1]+" ")!==-1){bN=bQ.replace(bL[0],bL[2].toLowerCase());bM[bN]=bQ;if(bL[1]==="o"){S(bP[bQ])}}});bP._hungarianMap=bM}function Z(bO,bL,bN){if(!bO._hungarianMap){S(bO)}var bM;bz.each(bL,function(bP,bQ){bM=bO._hungarianMap[bP];if(bM!==d&&(bN||bL[bM]===d)){bL[bM]=bL[bP];if(bM.charAt(0)==="o"){Z(bO[bM],bL[bP])}}})}function aR(bO){var bN=M.defaults.oLanguage;var bM=bO.sZeroRecords;if(!bO.sEmptyTable&&bM&&bN.sEmptyTable==="No data available in table"){Q(bO,bO,"sZeroRecords","sEmptyTable")}if(!bO.sLoadingRecords&&bM&&bN.sLoadingRecords==="Loading..."){Q(bO,bO,"sZeroRecords","sLoadingRecords")}if(bO.sInfoThousands){bO.sThousands=bO.sInfoThousands}var bL=bO.sDecimal;if(bL){bn(bL)}}var aK=function(bN,bM,bL){if(bN[bM]!==d){bN[bL]=bN[bM]}};function a0(bL){aK(bL,"ordering","bSort");aK(bL,"orderMulti","bSortMulti");aK(bL,"orderClasses","bSortClasses");aK(bL,"orderCellsTop","bSortCellsTop");aK(bL,"order","aaSorting");aK(bL,"orderFixed","aaSortingFixed");aK(bL,"paging","bPaginate");aK(bL,"pagingType","sPaginationType");aK(bL,"pageLength","iDisplayLength");aK(bL,"searching","bFilter")}function W(bL){aK(bL,"orderable","bSortable");aK(bL,"orderData","aDataSort");aK(bL,"orderSequence","asSorting");aK(bL,"orderDataType","sortDataType")}function ba(bM){var bL=bM.oBrowser;var bO=bz("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(bz("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(bz('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body");var bN=bO.find(".test");bL.bScrollOversize=bN[0].offsetWidth===100;bL.bScrollbarLeft=bN.offset().left!==1;bO.remove()}function N(bP,bO){var bQ=M.defaults.column;var bM=bP.aoColumns.length;var bN=bz.extend({},M.models.oColumn,bQ,{sSortingClass:bP.oClasses.sSortable,sSortingClassJUI:bP.oClasses.sSortJUI,nTh:bO?bO:b.createElement("th"),sTitle:bQ.sTitle?bQ.sTitle:bO?bO.innerHTML:"",aDataSort:bQ.aDataSort?bQ.aDataSort:[bM],mData:bQ.mData?bQ.mData:bM,idx:bM});bP.aoColumns.push(bN);if(bP.aoPreSearchCols[bM]===d||bP.aoPreSearchCols[bM]===null){bP.aoPreSearchCols[bM]=bz.extend(true,{},M.models.oSearch)}else{var bL=bP.aoPreSearchCols[bM];if(bL.bRegex===d){bL.bRegex=true}if(bL.bSmart===d){bL.bSmart=true}if(bL.bCaseInsensitive===d){bL.bCaseInsensitive=true}}aY(bP,bM,null)}function aY(bN,bW,bV){var bR=bN.aoColumns[bW];var bL=bN.oClasses;if(!bR.sWidthOrig){var bM=bz(bR.nTh);bR.sWidthOrig=bM.attr("width")||null;var bX=(bM.attr("style")||"").match(/width:\s*(\d+[pxem%])/);if(bX){bR.sWidthOrig=bX[1]}}if(bV!==d&&bV!==null){W(bV);Z(M.defaults.column,bV);if(bV.mDataProp!==d&&!bV.mData){bV.mData=bV.mDataProp}bR._sManualType=bV.sType;if(bV.className&&!bV.sClass){bV.sClass=bV.className}bz.extend(bR,bV);Q(bR,bV,"sWidth","sWidthOrig");if(typeof bV.iDataSort==="number"){bR.aDataSort=[bV.iDataSort]}Q(bR,bV,"aDataSort")}var bU=bR.mData;var bQ=am(bU);var bT=bR.mRender?am(bR.mRender):null;var bP=function(bY){return typeof bY==="string"&&bY.indexOf("@")!==-1};bR._bAttrSrc=bz.isPlainObject(bU)&&(bP(bU.sort)||bP(bU.type)||bP(bU.filter));bR.fnGetData=function(b0,bY){var bZ=bQ(b0,bY);if(bR.mRender&&(bY&&bY!=="")){return bT(bZ,bY,b0)}return bZ};bR.fnSetData=av(bU);if(!bN.oFeatures.bSort){bR.bSortable=false}var bO=bz.inArray("asc",bR.asSorting)!==-1;var bS=bz.inArray("desc",bR.asSorting)!==-1;if(!bR.bSortable||(!bO&&!bS)){bR.sSortingClass=bL.sSortableNone;bR.sSortingClassJUI=""}else{if(bO&&!bS){bR.sSortingClass=bL.sSortableAsc;bR.sSortingClassJUI=bL.sSortJUIAscAllowed}else{if(!bO&&bS){bR.sSortingClass=bL.sSortableDesc;bR.sSortingClassJUI=bL.sSortJUIDescAllowed}}}}function aH(bP){if(bP.oFeatures.bAutoWidth!==false){var bO=bP.aoColumns;br(bP);for(var bN=0,bM=bO.length;bN<bM;bN++){bO[bN].nTh.style.width=bO[bN].sWidth}}var bL=bP.oScroll;if(bL.sY!==""||bL.sX!==""){m(bP)}K(bP,null,"column-sizing",[bP])}function s(bN,bL){var bM=q(bN,"bVisible");return typeof bM[bL]==="number"?bM[bL]:null}function bC(bN,bL){var bM=q(bN,"bVisible");var bO=bz.inArray(bL,bM);return bO!==-1?bO:null}function aP(bL){return q(bL,"bVisible").length}function q(bN,bM){var bL=[];bz.map(bN.aoColumns,function(bP,bO){if(bP[bM]){bL.push(bO)}});return bL}function w(bO){var bP=bO.aoColumns;var bT=bO.aoData;var bV=M.ext.type.detect;var bU,bY,bS,bM,bR,bQ;var bN,bW,bX,bL;for(bU=0,bY=bP.length;bU<bY;bU++){bN=bP[bU];bL=[];if(!bN.sType&&bN._sManualType){bN.sType=bN._sManualType}else{if(!bN.sType){for(bS=0,bM=bV.length;bS<bM;bS++){for(bR=0,bQ=bT.length;bR<bQ;bR++){if(bL[bR]===d){bL[bR]=bq(bO,bR,bU,"type")}bX=bV[bS](bL[bR],bO);if(!bX||bX==="html"){break}}if(bX){bN.sType=bX;break}}if(!bN.sType){bN.sType="string"}}}}}function l(bM,bV,bN,bU){var bR,bO,bQ,bW,bP,bT,bL;if(bV){for(bR=bV.length-1;bR>=0;bR--){bL=bV[bR];var bS=bL.targets!==d?bL.targets:bL.aTargets;if(!bz.isArray(bS)){bS=[bS]}for(bQ=0,bW=bS.length;bQ<bW;bQ++){if(typeof bS[bQ]==="number"&&bS[bQ]>=0){while(bM.aoColumns.length<=bS[bQ]){N(bM)}bU(bS[bQ],bL)}else{if(typeof bS[bQ]==="number"&&bS[bQ]<0){bU(bM.aoColumns.length+bS[bQ],bL)}else{if(typeof bS[bQ]==="string"){for(bP=0,bT=bM.aoColumns.length;bP<bT;bP++){if(bS[bQ]=="_all"||bz(bM.aoColumns[bP].nTh).hasClass(bS[bQ])){bU(bP,bL)}}}}}}}}if(bN){for(bR=0,bO=bN.length;bR<bO;bR++){bU(bR,bN[bR])}}}function aM(bM,bV,bU,bR){var bT=bM.aoData.length;var bL=bz.extend(true,{},M.models.oRow,{src:bU?"dom":"data"});bL._aData=bV;bM.aoData.push(bL);var bQ,bO;var bP=bM.aoColumns;for(var bS=0,bN=bP.length;bS<bN;bS++){if(bU){bi(bM,bT,bS,bq(bM,bT,bS))}bP[bS].sType=null}bM.aiDisplayMaster.push(bT);if(!bM.oFeatures.bDeferRender){O(bM,bT,bU,bR)}return bT}function bK(bM,bL){var bN;if(!(bL instanceof bz)){bL=bz(bL)}return bL.map(function(bO,bP){bN=bb(bM,bP);return aM(bM,bN.data,bP,bN.cells)})}function bo(bL,bM){return(bM._DT_RowIndex!==d)?bM._DT_RowIndex:null}function aW(bL,bM,bN){return bz.inArray(bN,bL.aoData[bM].anCells)}function aO(bQ,bR,bM,bP){var bN=[];for(var bO=0,bL=bP.length;bO<bL;bO++){bN.push(bq(bQ,bR,bP[bO],bM))}return bN}function bq(bP,bQ,bN,bM){var bO=bP.aoColumns[bN];var bR=bP.aoData[bQ]._aData;var bL=bO.fnGetData(bR,bM);if(bL===d){if(bP.iDrawError!=bP.iDraw&&bO.sDefaultContent===null){aL(bP,0,"Requested unknown parameter "+(typeof bO.mData=="function"?"{function}":"'"+bO.mData+"'")+" for row "+bQ,4);bP.iDrawError=bP.iDraw}return bO.sDefaultContent}if((bL===bR||bL===null)&&bO.sDefaultContent!==null){bL=bO.sDefaultContent}else{if(typeof bL==="function"){return bL()}}if(bL===null&&bM=="display"){return""}return bL}function bi(bN,bP,bL,bO){var bM=bN.aoColumns[bL];var bQ=bN.aoData[bP]._aData;bM.fnSetData(bQ,bO)}var J=/\[.*?\]$/;var g=/\(\)$/;function ai(bL){return bz.map(bL.match(/(\\.|[^\.])+/g),function(bM){return bM.replace("\\.",".")})}function am(bM){if(bz.isPlainObject(bM)){var bN={};bz.each(bM,function(bO,bP){if(bP){bN[bO]=am(bP)}});return function(bQ,bP,bO){return bN[bN[bP]!==d?bP:"_"](bQ,bP,bO)}}else{if(bM===null){return function(bP,bO){return bP}}else{if(typeof bM==="function"){return function(bQ,bP,bO){return bM(bQ,bP,bO)}}else{if(typeof bM==="string"&&(bM.indexOf(".")!==-1||bM.indexOf("[")!==-1||bM.indexOf("(")!==-1)){var bL=function(bW,bX,bO){var bZ,bS,bU,bR;if(bO!==""){var bY=ai(bO);for(var bV=0,bQ=bY.length;bV<bQ;bV++){bZ=bY[bV].match(J);bS=bY[bV].match(g);if(bZ){bY[bV]=bY[bV].replace(J,"");if(bY[bV]!==""){bW=bW[bY[bV]]}bU=[];bY.splice(0,bV+1);bR=bY.join(".");for(var bT=0,b0=bW.length;bT<b0;bT++){bU.push(bL(bW[bT],bX,bR))}var bP=bZ[0].substring(1,bZ[0].length-1);bW=(bP==="")?bU:bU.join(bP);break}else{if(bS){bY[bV]=bY[bV].replace(g,"");bW=bW[bY[bV]]();continue}}if(bW===null||bW[bY[bV]]===d){return d}bW=bW[bY[bV]]}}return bW};return function(bP,bO){return bL(bP,bO,bM)}}else{return function(bP,bO){return bP[bM]}}}}}}function av(bM){if(bz.isPlainObject(bM)){return av(bM._)}else{if(bM===null){return function(bN,bO){}}else{if(typeof bM==="function"){return function(bN,bO){bM(bN,"set",bO)}}else{if(typeof bM==="string"&&(bM.indexOf(".")!==-1||bM.indexOf("[")!==-1||bM.indexOf("(")!==-1)){var bL=function(bV,bR,bN){var bY=ai(bN),bW;var bX=bY[bY.length-1];var bZ,bS,bO,bQ;for(var bU=0,bP=bY.length-1;bU<bP;bU++){bZ=bY[bU].match(J);bS=bY[bU].match(g);if(bZ){bY[bU]=bY[bU].replace(J,"");bV[bY[bU]]=[];bW=bY.slice();bW.splice(0,bU+1);bQ=bW.join(".");for(var bT=0,b0=bR.length;bT<b0;bT++){bO={};bL(bO,bR[bT],bQ);bV[bY[bU]].push(bO)}return}else{if(bS){bY[bU]=bY[bU].replace(g,"");bV=bV[bY[bU]](bR)}}if(bV[bY[bU]]===null||bV[bY[bU]]===d){bV[bY[bU]]={}}bV=bV[bY[bU]]}if(bX.match(g)){bV=bV[bX.replace(g,"")](bR)}else{bV[bX.replace(J,"")]=bR}};return function(bN,bO){return bL(bN,bO,bM)}}else{return function(bN,bO){bN[bM]=bO}}}}}}function bB(bL){return ar(bL.aoData,"_aData")}function be(bL){bL.aoData.length=0;bL.aiDisplayMaster.length=0;bL.aiDisplay.length=0}function a1(bM,bO,bQ){var bP=-1;for(var bN=0,bL=bM.length;bN<bL;bN++){if(bM[bN]==bO){bP=bN}else{if(bM[bN]>bO){bM[bN]--}}}if(bP!=-1&&bQ===d){bM.splice(bP,1)}}function aF(bN,bM,bL,bO){var bT=bN.aoData[bM];var bP,bR;if(bL==="dom"||((!bL||bL==="auto")&&bT.src==="dom")){bT._aData=bb(bN,bT.nTr).data}else{var bS=bT.anCells;for(bP=0,bR=bS.length;bP<bR;bP++){bS[bP].innerHTML=bq(bN,bM,bP,"display")}}bT._aSortData=null;bT._aFilterData=null;var bQ=bN.aoColumns;if(bO!==d){bQ[bO].sType=null}else{for(bP=0,bR=bQ.length;bP<bR;bP++){bQ[bP].sType=null}}ab(bT)}function bb(bR,bW){var bV=[],bT=[],bQ=bW.firstChild,bL,bN,bM,bS=0,bO,bP=bR.aoColumns;var bU=function(b0,bY,b1){if(typeof b0==="string"){var bX=b0.indexOf("@");if(bX!==-1){var bZ=b0.substring(bX+1);bM["@"+bZ]=b1.getAttribute(bZ)}}};while(bQ){bL=bQ.nodeName.toUpperCase();if(bL=="TD"||bL=="TH"){bN=bP[bS];bO=bz.trim(bQ.innerHTML);if(bN&&bN._bAttrSrc){bM={display:bO};bU(bN.mData.sort,bM,bQ);bU(bN.mData.type,bM,bQ);bU(bN.mData.filter,bM,bQ);bV.push(bM)}else{bV.push(bO)}bT.push(bQ);bS++}bQ=bQ.nextSibling}return{data:bV,cells:bT}}function O(bM,bT,bL,bR){var bW=bM.aoData[bT],bP=bW._aData,bV=[],bU,bQ,bO,bS,bN;if(bW.nTr===null){bU=bL||b.createElement("tr");bW.nTr=bU;bW.anCells=bV;bU._DT_RowIndex=bT;ab(bW);for(bS=0,bN=bM.aoColumns.length;bS<bN;bS++){bO=bM.aoColumns[bS];bQ=bL?bR[bS]:b.createElement(bO.sCellType);bV.push(bQ);if(!bL||bO.mRender||bO.mData!==bS){bQ.innerHTML=bq(bM,bT,bS,"display")}if(bO.sClass){bQ.className+=" "+bO.sClass}if(bO.bVisible&&!bL){bU.appendChild(bQ)}else{if(!bO.bVisible&&bL){bQ.parentNode.removeChild(bQ)}}if(bO.fnCreatedCell){bO.fnCreatedCell.call(bM.oInstance,bQ,bq(bM,bT,bS,"display"),bP,bT,bS)}}K(bM,"aoRowCreatedCallback",null,[bU,bP,bT])}}function ab(bO){var bN=bO.nTr;var bM=bO._aData;if(bN){if(bM.DT_RowId){bN.id=bM.DT_RowId}if(bM.DT_RowClass){var bL=bM.DT_RowClass.split(" ");bO.__rowc=bO.__rowc?aE(bO.__rowc.concat(bL)):bL;bz(bN).removeClass(bO.__rowc.join(" ")).addClass(bM.DT_RowClass)}if(bM.DT_RowData){bz(bN).data(bM.DT_RowData)}}}function aJ(bL){var bP,bU,bT,bW,bO;var bQ=bL.nTHead;var bR=bL.nTFoot;var bS=bz("th, td",bQ).length===0;var bN=bL.oClasses;var bM=bL.aoColumns;if(bS){bW=bz("<tr/>").appendTo(bQ)}for(bP=0,bU=bM.length;bP<bU;bP++){bO=bM[bP];bT=bz(bO.nTh).addClass(bO.sClass);if(bS){bT.appendTo(bW)}if(bL.oFeatures.bSort){bT.addClass(bO.sSortingClass);if(bO.bSortable!==false){bT.attr("tabindex",bL.iTabIndex).attr("aria-controls",bL.sTableId);B(bL,bO.nTh,bP)}}if(bO.sTitle!=bT.html()){bT.html(bO.sTitle)}R(bL,"header")(bL,bT,bO,bN)}if(bS){au(bL.aoHeader,bQ)}bz(bQ).find(">tr").attr("role","row");bz(bQ).find(">tr>th, >tr>td").addClass(bN.sHeaderTH);bz(bR).find(">tr>th, >tr>td").addClass(bN.sFooterTH);if(bR!==null){var bV=bL.aoFooter[0];for(bP=0,bU=bV.length;bP<bU;bP++){bO=bM[bP];bO.nTf=bV[bP].cell;if(bO.sClass){bz(bO.nTf).addClass(bO.sClass)}}}}function a2(bO,bX,b0){var bT,bQ,bS,bW,bR,bU,bP,bZ;var bN=[];var bV=[];var bL=bO.aoColumns.length;var bM,bY;if(!bX){return}if(b0===d){b0=false}for(bT=0,bQ=bX.length;bT<bQ;bT++){bN[bT]=bX[bT].slice();bN[bT].nTr=bX[bT].nTr;for(bS=bL-1;bS>=0;bS--){if(!bO.aoColumns[bS].bVisible&&!b0){bN[bT].splice(bS,1)}}bV.push([])}for(bT=0,bQ=bN.length;bT<bQ;bT++){bZ=bN[bT].nTr;if(bZ){while((bP=bZ.firstChild)){bZ.removeChild(bP)}}for(bS=0,bW=bN[bT].length;bS<bW;bS++){bM=1;bY=1;if(bV[bT][bS]===d){bZ.appendChild(bN[bT][bS].cell);bV[bT][bS]=1;while(bN[bT+bM]!==d&&bN[bT][bS].cell==bN[bT+bM][bS].cell){bV[bT+bM][bS]=1;bM++}while(bN[bT][bS+bY]!==d&&bN[bT][bS].cell==bN[bT][bS+bY].cell){for(bR=0;bR<bM;bR++){bV[bT+bR][bS+bY]=1}bY++}bz(bN[bT][bS].cell).attr("rowspan",bM).attr("colspan",bY)}}}}function aZ(bN){var b7=K(bN,"aoPreDrawCallback","preDraw",[bN]);if(bz.inArray(false,b7)!==-1){x(bN,false);return}var b6,b2,bY;var bR=[];var b9=0;var bV=bN.asStripeClasses;var b0=bV.length;var bW=bN.aoOpenRows.length;var b1=bN.oLanguage;var bX=bN.iInitDisplayStart;var b5=z(bN)=="ssp";var bQ=bN.aiDisplay;bN.bDrawing=true;if(bX!==d&&bX!==-1){bN._iDisplayStart=b5?bX:bX>=bN.fnRecordsDisplay()?0:bX;bN.iInitDisplayStart=-1}var bM=bN._iDisplayStart;var bO=bN.fnDisplayEnd();if(bN.bDeferLoading){bN.bDeferLoading=false;bN.iDraw++;x(bN,false)}else{if(!b5){bN.iDraw++}else{if(!bN.bDestroying&&!ad(bN)){return}}}if(bQ.length!==0){var bP=b5?0:bM;var bL=b5?bN.aoData.length:bO;for(var b3=bP;b3<bL;b3++){var bT=bQ[b3];var bU=bN.aoData[bT];if(bU.nTr===null){O(bN,bT)}var b8=bU.nTr;if(b0!==0){var b4=bV[b9%b0];if(bU._sRowStripe!=b4){bz(b8).removeClass(bU._sRowStripe).addClass(b4);bU._sRowStripe=b4}}K(bN,"aoRowCallback",null,[b8,bU._aData,b9,b3]);bR.push(b8);b9++}}else{var bZ=b1.sZeroRecords;if(bN.iDraw==1&&z(bN)=="ajax"){bZ=b1.sLoadingRecords}else{if(b1.sEmptyTable&&bN.fnRecordsTotal()===0){bZ=b1.sEmptyTable}}bR[0]=bz("<tr/>",{"class":b0?bV[0]:""}).append(bz("<td />",{valign:"top",colSpan:aP(bN),"class":bN.oClasses.sRowEmpty}).html(bZ))[0]}K(bN,"aoHeaderCallback","header",[bz(bN.nTHead).children("tr")[0],bB(bN),bM,bO,bQ]);K(bN,"aoFooterCallback","footer",[bz(bN.nTFoot).children("tr")[0],bB(bN),bM,bO,bQ]);var bS=bz(bN.nTBody);bS.children().detach();bS.append(bz(bR));K(bN,"aoDrawCallback","draw",[bN]);bN.bSorted=false;bN.bFiltered=false;bN.bDrawing=false}function ag(bP,bM){var bO=bP.oFeatures,bL=bO.bSort,bN=bO.bFilter;if(bL){y(bP)}if(bN){v(bP,bP.oPreviousSearch)}else{bP.aiDisplay=bP.aiDisplayMaster.slice()}if(bM!==true){bP._iDisplayStart=0}aZ(bP)}function j(bP){var b2=bP.oClasses;var bZ=bz(bP.nTable);var bR=bz("<div/>").insertBefore(bZ);var bQ=bP.oFeatures;var bM=bz("<div/>",{role:"grid",id:bP.sTableId+"_wrapper","class":b2.sWrapper+(bP.nTFoot?"":" "+b2.sNoFooter)});bP.nTableWrapper=bM[0];bP.nTableReinsertBefore=bP.nTable.nextSibling;var bS=bP.sDom.split("");var bX,bT,bO,b3,b1,bV;for(var bY=0;bY<bS.length;bY++){bX=null;bT=bS[bY];if(bT=="<"){bO=bz("<div/>")[0];b3=bS[bY+1];if(b3=="'"||b3=='"'){b1="";bV=2;while(bS[bY+bV]!=b3){b1+=bS[bY+bV];bV++}if(b1=="H"){b1=b2.sJUIHeader}else{if(b1=="F"){b1=b2.sJUIFooter}}if(b1.indexOf(".")!=-1){var bW=b1.split(".");bO.id=bW[0].substr(1,bW[0].length-1);bO.className=bW[1]}else{if(b1.charAt(0)=="#"){bO.id=b1.substr(1,b1.length-1)}else{bO.className=b1}}bY+=bV}bM.append(bO);bM=bz(bO)}else{if(bT==">"){bM=bM.parent()}else{if(bT=="l"&&bQ.bPaginate&&bQ.bLengthChange){bX=aQ(bP)}else{if(bT=="f"&&bQ.bFilter){bX=r(bP)}else{if(bT=="r"&&bQ.bProcessing){bX=bu(bP)}else{if(bT=="t"){bX=bt(bP)}else{if(bT=="i"&&bQ.bInfo){bX=h(bP)}else{if(bT=="p"&&bQ.bPaginate){bX=ay(bP)}else{if(M.ext.feature.length!==0){var b0=M.ext.feature;for(var bU=0,bL=b0.length;bU<bL;bU++){if(bT==b0[bU].cFeature){bX=b0[bU].fnInit(bP);break}}}}}}}}}}}if(bX){var bN=bP.aanFeatures;if(!bN[bT]){bN[bT]=[]}bN[bT].push(bX);bM.append(bX)}}bR.replaceWith(bM)}function au(bR,bM){var bY=bz(bM).children("tr");var bX,bV;var bT,bQ,bP,bN,bZ,bU,bS,b0,bL;var bW;var bO=function(b1,b4,b3){var b2=b1[b4];while(b2[b3]){b3++}return b3};bR.splice(0,bR.length);for(bT=0,bN=bY.length;bT<bN;bT++){bR.push([])}for(bT=0,bN=bY.length;bT<bN;bT++){bX=bY[bT];bS=0;bV=bX.firstChild;while(bV){if(bV.nodeName.toUpperCase()=="TD"||bV.nodeName.toUpperCase()=="TH"){b0=bV.getAttribute("colspan")*1;bL=bV.getAttribute("rowspan")*1;b0=(!b0||b0===0||b0===1)?1:b0;bL=(!bL||bL===0||bL===1)?1:bL;bU=bO(bR,bT,bS);bW=b0===1?true:false;for(bP=0;bP<b0;bP++){for(bQ=0;bQ<bL;bQ++){bR[bT+bQ][bU+bP]={cell:bV,unique:bW};bR[bT+bQ].nTr=bX}}}bV=bV.nextSibling}}}function bd(bS,bM,bQ){var bN=[];if(!bQ){bQ=bS.aoHeader;if(bM){bQ=[];au(bQ,bM)}}for(var bP=0,bL=bQ.length;bP<bL;bP++){for(var bO=0,bR=bQ[bP].length;bO<bR;bO++){if(bQ[bP][bO].unique&&(!bN[bO]||!bS.bSortCellsTop)){bN[bO]=bQ[bP][bO].cell}}}return bN}function at(bM,bN,bR){K(bM,"aoServerParams","serverParams",[bN]);if(bN&&bN.__legacy){var bO={};var bP=/(.*?)\[\]$/;bz.each(bN,function(bX,bY){var bW=bY.name.match(bP);if(bW){var bV=bW[0];if(!bO[bV]){bO[bV]=[]}bO[bV].push(bY.value)}else{bO[bY.name]=bY.value}});bN=bO}var bL;var bS=bM.ajax;var bT=bM.oInstance;if(bz.isPlainObject(bS)&&bS.data){bL=bS.data;var bU=bz.isFunction(bL)?bL(bN):bL;bN=bz.isFunction(bL)&&bU?bU:bz.extend(true,bN,bU);delete bS.data}var bQ={data:bN,success:function(bW){var bV=bW.error||bW.sError;if(bV){bM.oApi._fnLog(bM,0,bV)}bM.json=bW;K(bM,null,"xhr",[bM,bW]);bR(bW)},dataType:"json",cache:false,type:bM.sServerMethod,error:function(bY,bV,bX){var bW=bM.oApi._fnLog;if(bV=="parsererror"){bW(bM,0,"Invalid JSON response",1)}else{bW(bM,0,"Ajax error",7)}}};if(bM.fnServerData){bM.fnServerData.call(bT,bM.sAjaxSource,bN,bR,bM)}else{if(bM.sAjaxSource||typeof bS==="string"){bM.jqXHR=bz.ajax(bz.extend(bQ,{url:bS||bM.sAjaxSource}))}else{if(bz.isFunction(bS)){bM.jqXHR=bS.call(bT,bN,bR,bM)}else{bM.jqXHR=bz.ajax(bz.extend(bQ,bS));bS.data=bL}}}}function ad(bN){if(bN.bAjaxDataGet){bN.iDraw++;x(bN,true);var bM=bN.aoColumns.length;var bL=bF(bN);at(bN,bL,function(bO){U(bN,bO)},bN);return false}return true}function bF(bQ){var bR=bQ.aoColumns,bX=bR.length,bN=bQ.oFeatures,bL=bQ.oPreviousSearch,bW=bQ.aoPreSearchCols,bU,bT=[],bM,bP,bZ,bS=aG(bQ),b1=bQ._iDisplayStart,bV=bN.bPaginate!==false?bQ._iDisplayLength:-1;var bO=function(b2,b3){bT.push({name:b2,value:b3})};bO("sEcho",bQ.iDraw);bO("iColumns",bX);bO("sColumns",ar(bR,"sName").join(","));bO("iDisplayStart",b1);bO("iDisplayLength",bV);var bY={draw:bQ.iDraw,columns:[],order:[],start:b1,length:bV,search:{value:bL.sSearch,regex:bL.bRegex}};for(bU=0;bU<bX;bU++){bP=bR[bU];bZ=bW[bU];bM=typeof bP.mData=="function"?"function":bP.mData;bY.columns.push({data:bM,name:bP.sName,searchable:bP.bSearchable,orderable:bP.bSortable,search:{value:bZ.sSearch,regex:bZ.bRegex}});bO("mDataProp_"+bU,bM);if(bN.bFilter){bO("sSearch_"+bU,bZ.sSearch);bO("bRegex_"+bU,bZ.bRegex);bO("bSearchable_"+bU,bP.bSearchable)}if(bN.bSort){bO("bSortable_"+bU,bP.bSortable)}}bz.each(bS,function(b2,b3){bY.order.push({column:b3.col,dir:b3.dir});bO("iSortCol_"+b2,b3.col);bO("sSortDir_"+b2,b3.dir)});if(bN.bFilter){bO("sSearch",bL.sSearch);bO("bRegex",bL.bRegex)}if(bN.bSort){bO("iSortingCols",bS.length)}bT.__legacy=true;var b0=M.ext.legacy.ajax;if(b0===null){return bQ.sAjaxSource?bT:bY}return b0?bT:bY}function U(bM,bT){var bR=function(bU,bV){return bT[bU]!==d?bT[bU]:bT[bV]};var bP=bR("sEcho","draw");var bQ=bR("iTotalRecords","recordsTotal");var bL=bR("iTotalDisplayRecords","recordsFiltered");if(bP){if(bP*1<bM.iDraw){return}bM.iDraw=bP*1}be(bM);bM._iRecordsTotal=parseInt(bQ,10);bM._iRecordsDisplay=parseInt(bL,10);var bN=bp(bM,bT);for(var bO=0,bS=bN.length;bO<bS;bO++){aM(bM,bN[bO])}bM.aiDisplay=bM.aiDisplayMaster.slice();bM.bAjaxDataGet=false;aZ(bM);if(!bM._bInitComplete){aA(bM,bT)}bM.bAjaxDataGet=true;x(bM,false)}function bp(bN,bM){var bL=bz.isPlainObject(bN.ajax)&&bN.ajax.dataSrc!==d?bN.ajax.dataSrc:bN.sAjaxDataProp;if(bL==="data"){return bM.aaData||bM[bL]}return bL!==""?am(bL)(bM):bM}function r(bO){var bP=bO.oClasses;var bN=bO.sTableId;var bQ=bO.oPreviousSearch;var bM=bO.aanFeatures;var bU='<input type="search" class="'+bP.sFilterInput+'"/>';var bT=bO.oLanguage.sSearch;bT=bT.match(/_INPUT_/)?bT.replace("_INPUT_",bU):bT+bU;var bL=bz("<div/>",{id:!bM.f?bN+"_filter":null,"class":bP.sFilter}).append(bz("<label/>").append(bT));var bS=function(){var bW=bM.f;var bV=!this.value?"":this.value;if(bV!=bQ.sSearch){v(bO,{sSearch:bV,bRegex:bQ.bRegex,bSmart:bQ.bSmart,bCaseInsensitive:bQ.bCaseInsensitive});bO._iDisplayStart=0;aZ(bO)}};var bR=bz('input[type="search"]',bL).val(bQ.sSearch.replace('"',"&quot;")).bind("keyup.DT search.DT input.DT paste.DT cut.DT",z(bO)==="ssp"?aj(bS,400):bS).bind("keypress.DT",function(bV){if(bV.keyCode==13){return false}}).attr("aria-controls",bN);bz(bO.nTable).on("filter.DT",function(){try{if(bR[0]!==b.activeElement){bR.val(bQ.sSearch)}}catch(bV){}});return bL[0]}function v(bN,bR,bQ){var bM=bN.oPreviousSearch;var bP=bN.aoPreSearchCols;var bO=function(bS){bM.sSearch=bS.sSearch;bM.bRegex=bS.bRegex;bM.bSmart=bS.bSmart;bM.bCaseInsensitive=bS.bCaseInsensitive};w(bN);if(z(bN)!="ssp"){aw(bN,bR.sSearch,bQ,bR.bRegex,bR.bSmart,bR.bCaseInsensitive);bO(bR);for(var bL=0;bL<bP.length;bL++){X(bN,bP[bL].sSearch,bL,bP[bL].bRegex,bP[bL].bSmart,bP[bL].bCaseInsensitive)}ap(bN)}else{bO(bR)}bN.bFiltered=true;K(bN,null,"search",[bN])}function ap(bL){var bT=M.ext.search;var bR=q(bL,"bSearchable");for(var bO=0,bM=bT.length;bO<bM;bO++){var bU=0;for(var bN=0,bS=bL.aiDisplay.length;bN<bS;bN++){var bQ=bL.aiDisplay[bN-bU];var bP=bT[bO](bL,aO(bL,bQ,"filter",bR),bQ);if(!bP){bL.aiDisplay.splice(bN-bU,1);bU++}}}}function X(bM,bL,bQ,bT,bU,bO){if(bL===""){return}var bR;var bS=bM.aiDisplay;var bN=aU(bL,bT,bU,bO);for(var bP=bS.length-1;bP>=0;bP--){bR=bM.aoData[bS[bP]]._aFilterData[bQ];if(!bN.test(bR)){bS.splice(bP,1)}}}function aw(bM,bU,bL,bT,bW,bP){var bO=aU(bU,bT,bW,bP);var bN=bM.oPreviousSearch.sSearch;var bR=bM.aiDisplayMaster;var bS,bV,bQ;if(M.ext.search.length!==0){bL=true}bV=aC(bM);if(bU.length<=0){bM.aiDisplay=bR.slice()}else{if(bV||bL||bN.length>bU.length||bU.indexOf(bN)!==0||bM.bSorted){bM.aiDisplay=bR.slice()}bS=bM.aiDisplay;for(bQ=bS.length-1;bQ>=0;bQ--){if(!bO.test(bM.aoData[bS[bQ]]._sFilterRow)){bS.splice(bQ,1)}}}}function aU(bP,bM,bO,bL){var bN,bQ=bM?bP:n(bP);if(bO){bN=bQ.split(" ");bQ="^(?=.*?"+bN.join(")(?=.*?")+").*$"}return new RegExp(bQ,bL?"i":"")}function n(bL){return bL.replace(aB,"\\$1")}var f=bz("<div>")[0];var ao=f.textContent!==d;function aC(bM){var bO=bM.aoColumns;var bN;var bQ,bP,bU,bL,bT,bR,bW;var bV=M.ext.type.search;var bS=false;for(bQ=0,bU=bM.aoData.length;bQ<bU;bQ++){bW=bM.aoData[bQ];if(!bW._aFilterData){bT=[];for(bP=0,bL=bO.length;bP<bL;bP++){bN=bO[bP];if(bN.bSearchable){bR=bq(bM,bQ,bP,"filter");bR=bV[bN.sType]?bV[bN.sType](bR):bR!==null?bR:""}else{bR=""}if(bR.indexOf&&bR.indexOf("&")!==-1){f.innerHTML=bR;bR=ao?f.textContent:f.innerText;bR=bR.replace(/[\r\n]/g,"")}bT.push(bR)}bW._aFilterData=bT;bW._sFilterRow=bT.join("  ");bS=true}}return bS}function h(bM){var bN=bM.sTableId,bL=bM.aanFeatures.i,bO=bz("<div/>",{"class":bM.oClasses.sInfo,id:!bL?bN+"_info":null});if(!bL){bM.aoDrawCallback.push({fn:aq,sName:"information"});bO.attr("role","alert").attr("aria-live","polite").attr("aria-relevant","all");bz(bM.nTable).attr("aria-describedby",bN+"_info")}return bO[0]}function aq(bO){var bL=bO.aanFeatures.i;if(bL.length===0){return}var bN=bO.oLanguage,bM=bO._iDisplayStart+1,bP=bO.fnDisplayEnd(),bS=bO.fnRecordsTotal(),bR=bO.fnRecordsDisplay(),bQ=bR?bN.sInfo:bN.sInfoEmpty;if(bR!==bS){bQ+=" "+bN.sInfoFiltered}bQ+=bN.sInfoPostFix;bQ=bl(bO,bQ);var bT=bN.fnInfoCallback;if(bT!==null){bQ=bT.call(bO.oInstance,bO,bM,bP,bS,bR,bQ)}bz(bL).html(bQ)}function bl(bO,bQ){var bM=bO.fnFormatNumber,bR=bO._iDisplayStart+1,bL=bO._iDisplayLength,bP=bO.fnRecordsDisplay(),bN=bL===-1;return bQ.replace(/_START_/g,bM.call(bO,bR)).replace(/_END_/g,bM.call(bO,bO.fnDisplayEnd())).replace(/_MAX_/g,bM.call(bO,bO.fnRecordsTotal())).replace(/_TOTAL_/g,bM.call(bO,bP)).replace(/_PAGE_/g,bM.call(bO,bN?1:Math.ceil(bR/bL))).replace(/_PAGES_/g,bM.call(bO,bN?1:Math.ceil(bP/bL)))}function i(bR){var bO,bL,bS=bR.iInitDisplayStart;var bN=bR.aoColumns,bQ;var bP=bR.oFeatures;if(!bR.bInitialised){setTimeout(function(){i(bR)},200);return}j(bR);aJ(bR);a2(bR,bR.aoHeader);a2(bR,bR.aoFooter);x(bR,true);if(bP.bAutoWidth){br(bR)}for(bO=0,bL=bN.length;bO<bL;bO++){bQ=bN[bO];if(bQ.sWidth){bQ.nTh.style.width=bE(bQ.sWidth)}}ag(bR);var bM=z(bR);if(bM!="ssp"){if(bM=="ajax"){at(bR,[],function(bU){var bT=bp(bR,bU);for(bO=0;bO<bT.length;bO++){aM(bR,bT[bO])}bR.iInitDisplayStart=bS;ag(bR);x(bR,false);aA(bR,bU)},bR)}else{x(bR,false);aA(bR)}}}function aA(bM,bL){bM._bInitComplete=true;if(bL){aH(bM)}K(bM,"aoInitComplete","init",[bM,bL])}function aS(bM,bN){var bL=parseInt(bN,10);bM._iDisplayLength=bL;bh(bM);K(bM,null,"length",[bM,bL])}function aQ(bQ){var bR=bQ.oClasses,bO=bQ.sTableId,bN=bQ.aLengthMenu,bL=bz.isArray(bN[0]),bP=bL?bN[0]:bN,bT=bL?bN[1]:bN;var bV=bz("<select/>",{name:bO+"_length","aria-controls":bO,"class":bR.sLengthSelect});for(var bS=0,bW=bP.length;bS<bW;bS++){bV[0][bS]=new Option(bT[bS],bP[bS])}var bM=bz("<div><label/></div>").addClass(bR.sLength);if(!bQ.aanFeatures.l){bM[0].id=bO+"_length"}var bU=bQ.oLanguage.sLengthMenu.split(/(_MENU_)/);bM.children().append(bU[0]).append(bV).append(bU[2]);bV.val(bQ._iDisplayLength).bind("change.DT",function(bX){aS(bQ,bz(this).val());aZ(bQ)});bz(bQ.nTable).bind("length",function(bZ,bY,bX){bV.val(bX)});return bM[0]}function ay(bO){var bN=bO.sPaginationType,bQ=M.ext.pager[bN],bM=typeof bQ==="function",bR=function(bS){aZ(bS)},bP=bz("<div/>").addClass(bO.oClasses.sPaging+bN)[0],bL=bO.aanFeatures;if(!bM){bQ.fnInit(bO,bP,bR)}if(!bL.p){bP.id=bO.sTableId+"_paginate";bO.aoDrawCallback.push({fn:function(bV){if(bM){var bS=bV._iDisplayStart,bX=bV._iDisplayLength,bT=bV.fnRecordsDisplay(),b0=bX===-1,bY=b0?0:Math.ceil(bS/bX),bU=b0?1:Math.ceil(bT/bX),bZ=bQ(bY,bU),bW,b1;for(bW=0,b1=bL.p.length;bW<b1;bW++){R(bV,"pageButton")(bV,bL.p[bW],bW,bZ,bY,bU)}}else{bQ.fnUpdate(bV,bR)}},sName:"pagination"})}return bP}function aD(bN,bO,bR){var bQ=bN._iDisplayStart,bL=bN._iDisplayLength,bM=bN.fnRecordsDisplay();if(bM===0||bL===-1){bQ=0}else{if(typeof bO==="number"){bQ=bO*bL;if(bQ>bM){bQ=0}}else{if(bO=="first"){bQ=0}else{if(bO=="previous"){bQ=bL>=0?bQ-bL:0;if(bQ<0){bQ=0}}else{if(bO=="next"){if(bQ+bL<bM){bQ+=bL}}else{if(bO=="last"){bQ=Math.floor((bM-1)/bL)*bL}else{aL(bN,0,"Unknown paging action: "+bO,5)}}}}}}var bP=bN._iDisplayStart!==bQ;bN._iDisplayStart=bQ;K(bN,null,"page",[bN]);if(bR){aZ(bN)}return bP}function bu(bL){return bz("<div/>",{id:!bL.aanFeatures.r?bL.sTableId+"_processing":null,"class":bL.oClasses.sProcessing}).html(bL.oLanguage.sProcessing).insertBefore(bL.nTable)[0]}function x(bM,bL){if(bM.oFeatures.bProcessing){bz(bM.aanFeatures.r).css("visibility",bL?"visible":"hidden")}K(bM,null,"processing",[bM,bL])}function bt(bZ){var bL=bZ.oScroll;if(bL.sX===""&&bL.sY===""){return bZ.nTable}var bT=bL.sX;var bS=bL.sY;var b0=bZ.oClasses;var bY=bz(bZ.nTable);var bX=bY.children("caption");var bM=bX.length?bX[0]._captionSide:null;var bP=bz(bY[0].cloneNode(false));var b2=bz(bY[0].cloneNode(false));var bR=bY.children("tfoot");var bU="<div/>";var bQ=function(b3){return !b3?null:bE(b3)};if(bL.sX&&bY.attr("width")==="100%"){bY.removeAttr("width")}if(!bR.length){bR=null}var bW=bz(bU,{"class":b0.sScrollWrapper}).append(bz(bU,{"class":b0.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:bT?bQ(bT):"100%"}).append(bz(bU,{"class":b0.sScrollHeadInner}).css({"box-sizing":"content-box",width:bL.sXInner||"100%"}).append(bP.removeAttr("id").css("margin-left",0).append(bY.children("thead")))).append(bM==="top"?bX:null)).append(bz(bU,{"class":b0.sScrollBody}).css({overflow:"auto",height:bQ(bS),width:bQ(bT)}).append(bY));if(bR){bW.append(bz(bU,{"class":b0.sScrollFoot}).css({overflow:"hidden",border:0,width:bT?bQ(bT):"100%"}).append(bz(bU,{"class":b0.sScrollFootInner}).append(b2.removeAttr("id").css("margin-left",0).append(bY.children("tfoot")))).append(bM==="bottom"?bX:null))}var bN=bW.children();var bV=bN[0];var b1=bN[1];var bO=bR?bN[2]:null;if(bT){bz(b1).scroll(function(b3){var b4=this.scrollLeft;bV.scrollLeft=b4;if(bR){bO.scrollLeft=b4}})}bZ.nScrollHead=bV;bZ.nScrollBody=b1;bZ.nScrollFoot=bO;bZ.aoDrawCallback.push({fn:m,sName:"scrolling"});return bW[0]}function m(cl){var cg=cl.oScroll,bQ=cg.sX,cb=cg.sXInner,bN=cg.sY,b9=cg.iBarWidth,ce=bz(cl.nScrollHead),b3=ce[0].style,bP=ce.children("div"),bM=bP[0].style,co=bP.children("table"),bW=cl.nScrollBody,b7=bz(bW),b2=bW.style,ch=bz(cl.nScrollFoot),b6=ch.children("div"),b4=b6.children("table"),bU=bz(cl.nTHead),b5=bz(cl.nTable),b8=b5[0],bS=b8.style,b1=cl.nTFoot?bz(cl.nTFoot):null,bT=cl.oBrowser,bY=bT.bScrollOversize,bO,bR,cj,cm,bZ,bX,cd=[],cf=[],ca=[],cn,bV,cp,b0=function(cq){var cr=cq.style;cr.paddingTop="0";cr.paddingBottom="0";cr.borderTopWidth="0";cr.borderBottomWidth="0";cr.height=0};b5.children("thead, tfoot").remove();bZ=bU.clone().prependTo(b5);bO=bU.find("tr");cj=bZ.find("tr");bZ.find("th, td").removeAttr("tabindex");if(b1){bX=b1.clone().prependTo(b5);bR=b1.find("tr");cm=bX.find("tr")}if(!bQ){b2.width="100%";ce[0].style.width="100%"}bz.each(bd(cl,bZ),function(cq,cr){cn=s(cl,cq);cr.style.width=cl.aoColumns[cn].sWidth});if(b1){a4(function(cq){cq.style.width=""},cm)}if(cg.bCollapse&&bN!==""){b2.height=(b7.offsetHeight+bU[0].offsetHeight)+"px"}cp=b5.outerWidth();if(bQ===""){bS.width="100%";if(bY&&(b5.find("tbody").height()>bW.offsetHeight||b7.css("overflow-y")=="scroll")){bS.width=bE(b5.outerWidth()-b9)}}else{if(cb!==""){bS.width=bE(cb)}else{if(cp==b7.width()&&b7.height()<b5.height()){bS.width=bE(cp-b9);if(b5.outerWidth()>cp-b9){bS.width=bE(cp)}}else{bS.width=bE(cp)}}}cp=b5.outerWidth();a4(b0,cj);a4(function(cq){ca.push(cq.innerHTML);cd.push(bE(bz(cq).css("width")))},cj);a4(function(cr,cq){cr.style.width=cd[cq]},bO);bz(cj).height(0);if(b1){a4(b0,cm);a4(function(cq){cf.push(bE(bz(cq).css("width")))},cm);a4(function(cr,cq){cr.style.width=cf[cq]},bR);bz(cm).height(0)}a4(function(cr,cq){cr.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+ca[cq]+"</div>";cr.style.width=cd[cq]},cj);if(b1){a4(function(cr,cq){cr.innerHTML="";cr.style.width=cf[cq]},cm)}if(b5.outerWidth()<cp){bV=((bW.scrollHeight>bW.offsetHeight||b7.css("overflow-y")=="scroll"))?cp+b9:cp;if(bY&&(bW.scrollHeight>bW.offsetHeight||b7.css("overflow-y")=="scroll")){bS.width=bE(bV-b9)}if(bQ===""||cb!==""){aL(cl,1,"Possible column misalignment",6)}}else{bV="100%"}b2.width=bE(bV);b3.width=bE(bV);if(b1){cl.nScrollFoot.style.width=bE(bV)}if(!bN){if(bY){b2.height=bE(b8.offsetHeight+b9)}}if(bN&&cg.bCollapse){b2.height=bE(bN);var ck=(bQ&&b8.offsetWidth>bW.offsetWidth)?b9:0;if(b8.offsetHeight<bW.offsetHeight){b2.height=bE(b8.offsetHeight+ck)}}var bL=b5.outerWidth();co[0].style.width=bE(bL);bM.width=bE(bL);var cc=b5.height()>bW.clientHeight||b7.css("overflow-y")=="scroll";var ci="padding"+(bT.bScrollbarLeft?"Left":"Right");bM[ci]=cc?b9+"px":"0px";if(b1){b4[0].style.width=bE(bL);b6[0].style.width=bE(bL);b6[0].style[ci]=cc?b9+"px":"0px"}b7.scroll();if(cl.bSorted||cl.bFiltered){bW.scrollTop=0}}function a4(bQ,bN,bM){var bO=0,bP=0,bL=bN.length;var bS,bR;while(bP<bL){bS=bN[bP].firstChild;bR=bM?bM[bP].firstChild:null;while(bS){if(bS.nodeType===1){if(bM){bQ(bS,bR,bO)}else{bQ(bS,bO)}bO++}bS=bS.nextSibling;bR=bM?bR.nextSibling:null}bP++}}var aX=/<.*?>/g;function br(bR){var bZ=bR.nTable,bO=bR.aoColumns,bN=bR.oScroll,bW=bN.sY,bX=bN.sX,bQ=bN.sXInner,b3=bO.length,b1=q(bR,"bVisible"),b0=bz("th",bR.nTHead),bU=bZ.getAttribute("width"),bT=bZ.parentNode,b2=false,bY,bP,b4,bV,bL;for(bY=0;bY<b1.length;bY++){bP=bO[b1[bY]];if(bP.sWidth!==null){bP.sWidth=ae(bP.sWidthOrig,bT);b2=true}}if(!b2&&!bX&&!bW&&b3==aP(bR)&&b3==b0.length){for(bY=0;bY<b3;bY++){bO[bY].sWidth=bE(b0.eq(bY).width())}}else{var bS=bz(bZ.cloneNode(false)).css("visibility","hidden").removeAttr("id").append(bz(bR.nTHead).clone(false)).append(bz(bR.nTFoot).clone(false)).append(bz("<tbody><tr/></tbody>"));bS.find("tfoot th, tfoot td").css("width","");var bM=bS.find("tbody tr");b0=bd(bR,bS.find("thead")[0]);for(bY=0;bY<b1.length;bY++){bP=bO[b1[bY]];b0[bY].style.width=bP.sWidthOrig!==null&&bP.sWidthOrig!==""?bE(bP.sWidthOrig):""}if(bR.aoData.length){for(bY=0;bY<b1.length;bY++){b4=b1[bY];bP=bO[b4];bz(aI(bR,b4)).clone(false).append(bP.sContentPadding).appendTo(bM)}}bS.appendTo(bT);if(bX&&bQ){bS.width(bQ)}else{if(bX){bS.css("width","auto");if(bS.width()<bT.offsetWidth){bS.width(bT.offsetWidth)}}else{if(bW){bS.width(bT.offsetWidth)}else{if(bU){bS.width(bU)}}}}ax(bR,bS[0]);if(bX){var b5=0;for(bY=0;bY<b1.length;bY++){bP=bO[b1[bY]];bL=bz(b0[bY]).outerWidth();b5+=bP.sWidthOrig===null?bL:parseInt(bP.sWidth,10)+bL-bz(b0[bY]).width()}bS.width(bE(b5));bZ.style.width=bE(b5)}for(bY=0;bY<b1.length;bY++){bP=bO[b1[bY]];bV=bz(b0[bY]).width();if(bV){bP.sWidth=bE(bV)}}bZ.style.width=bE(bS.css("width"));bS.remove()}if(bU){bZ.style.width=bE(bU)}if((bU||bX)&&!bR._reszEvt){bz(c).bind("resize.DT-"+bR.sInstance,aj(function(){aH(bR)}));bR._reszEvt=true}}function aj(bL,bO){var bN=bO||200,bM,bP;return function(){var bS=this,bR=+new Date(),bQ=arguments;if(bM&&bR<bM+bN){clearTimeout(bP);bP=setTimeout(function(){bM=d;bL.apply(bS,bQ)},bN)}else{if(bM){bM=bR;bL.apply(bS,bQ)}else{bM=bR}}}}function ae(bM,bL){if(!bM){return 0}var bO=bz("<div/>").css("width",bE(bM)).appendTo(bL||b.body);var bN=bO[0].offsetWidth;bO.remove();return bN}function ax(bN,bO){var bL=bN.oScroll;if(bL.sX||bL.sY){var bM=!bL.sX?bL.iBarWidth:0;bO.style.width=bE(bz(bO).outerWidth()-bM)}}function aI(bM,bO){var bL=aa(bM,bO);if(bL<0){return null}var bN=bM.aoData[bL];return !bN.nTr?bz("<td/>").html(bq(bM,bL,bO,"display"))[0]:bN.anCells[bO]}function aa(bQ,bR){var bP,bL=-1,bN=-1;for(var bO=0,bM=bQ.aoData.length;bO<bM;bO++){bP=bq(bQ,bO,bR,"display")+"";bP=bP.replace(aX,"");if(bP.length>bL){bL=bP.length;bN=bO}}return bN}function bE(bL){if(bL===null){return"0px"}if(typeof bL=="number"){return bL<0?"0px":bL+"px"}return bL.match(/\d$/)?bL+"px":bL}function a7(){if(!M.__scrollbarWidth){var bN=bz("<p/>").css({width:"100%",height:200,padding:0})[0];var bO=bz("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(bN).appendTo("body");var bM=bN.offsetWidth;bO.css("overflow","scroll");var bL=bN.offsetWidth;if(bM===bL){bL=bO[0].clientWidth}bO.remove();M.__scrollbarWidth=bM-bL}return M.__scrollbarWidth}function aG(bO){var bT,bN,bQ,bU,bR=[],bW=[],bY=bO.aoColumns,bS,bX,bL,bV,bP=bO.aaSortingFixed,b0=bz.isPlainObject(bP),bM=[],bZ=function(b1){if(b1.length&&!bz.isArray(b1[0])){bM.push(b1)}else{bM.push.apply(bM,b1)}};if(bz.isArray(bP)){bZ(bP)}if(b0&&bP.pre){bZ(bP.pre)}bZ(bO.aaSorting);if(b0&&bP.post){bZ(bP.post)}for(bT=0;bT<bM.length;bT++){bV=bM[bT][0];bS=bY[bV].aDataSort;for(bQ=0,bU=bS.length;bQ<bU;bQ++){bX=bS[bQ];bL=bY[bX].sType||"string";bR.push({src:bV,col:bX,dir:bM[bT][1],index:bM[bT][2],type:bL,formatter:M.ext.type.order[bL+"-pre"]})}}return bR}function y(bQ){var b2,bO,bZ,b1,b3,bY,bL,bV,bR,b7=[],bU=M.ext.type.order,bW=bQ.aoData,b0=bQ.aoColumns,bM,b6,bP,bT,bX,b4=0,bS,bN=bQ.aiDisplayMaster,b5=aG(bQ);w(bQ);for(b2=0,bO=b5.length;b2<bO;b2++){bS=b5[b2];if(bS.formatter){b4++}F(bQ,bS.col)}if(z(bQ)!="ssp"&&b5.length!==0){for(b2=0,bZ=bN.length;b2<bZ;b2++){b7[bN[b2]]=b2}if(b4===b5.length){bN.sort(function(cg,cf){var ch,ce,b8,cd,b9,ca=b5.length,cc=bW[cg]._aSortData,cb=bW[cf]._aSortData;for(b8=0;b8<ca;b8++){b9=b5[b8];ch=cc[b9.col];ce=cb[b9.col];cd=ch<ce?-1:ch>ce?1:0;if(cd!==0){return b9.dir==="asc"?cd:-cd}}ch=b7[cg];ce=b7[cf];return ch<ce?-1:ch>ce?1:0})}else{bN.sort(function(ci,ch){var cj,cg,b9,b8,ce,ca,cf,cb=b5.length,cd=bW[ci]._aSortData,cc=bW[ch]._aSortData;for(b9=0;b9<cb;b9++){ca=b5[b9];cj=cd[ca.col];cg=cc[ca.col];cf=bU[ca.type+"-"+ca.dir]||bU["string-"+ca.dir];ce=cf(cj,cg);if(ce!==0){return ce}}cj=b7[ci];cg=b7[ch];return cj<cg?-1:cj>cg?1:0})}}bQ.bSorted=true}function a9(bP){var bV;var bU;var bQ=bP.aoColumns;var bR=aG(bP);var bS=bP.oLanguage.oAria;for(var bT=0,bN=bQ.length;bT<bN;bT++){var bM=bQ[bT];var bO=bM.asSorting;var bW=bM.sTitle.replace(/<.*?>/g,"");var bL=bM.nTh;bL.removeAttribute("aria-sort");if(bM.bSortable){if(bR.length>0&&bR[0].col==bT){bL.setAttribute("aria-sort",bR[0].dir=="asc"?"ascending":"descending");bU=bO[bR[0].index+1]||bO[0]}else{bU=bO[0]}bV=bW+(bU==="asc"?bS.sSortAscending:bS.sSortDescending)}else{bV=bW}bL.setAttribute("aria-label",bV)}}function bf(bO,bQ,bL,bU){var bM=bO.aoColumns[bQ];var bS=bO.aaSorting;var bP=bM.asSorting;var bT;var bR=function(bW){var bV=bW._idx;if(bV===d){bV=bz.inArray(bW[1],bP)}return bV+1>=bP.length?0:bV+1};if(bL&&bO.oFeatures.bSortMulti){var bN=bz.inArray(bQ,ar(bS,"0"));if(bN!==-1){bT=bR(bS[bN]);bS[bN][1]=bP[bT];bS[bN]._idx=bT}else{bS.push([bQ,bP[0],0]);bS[bS.length-1]._idx=0}}else{if(bS.length&&bS[0][0]==bQ){bT=bR(bS[0]);bS.length=1;bS[0][1]=bP[bT];bS[0]._idx=bT}else{bS.length=0;bS.push([bQ,bP[0]]);bS[0]._idx=0}}ag(bO);if(typeof bU=="function"){bU(bO)}}function B(bN,bM,bP,bO){var bL=bN.aoColumns[bP];a8(bM,{},function(bQ){if(bL.bSortable===false){return}x(bN,true);setTimeout(function(){bf(bN,bP,bQ.shiftKey,bO);if(z(bN)!=="ssp"){x(bN,false)}},0)})}function ac(bQ){var bR=bQ.aLastSort;var bM=bQ.oClasses.sSortColumn;var bO=aG(bQ);var bP=bQ.oFeatures;var bN,bL,bS;if(bP.bSort&&bP.bSortClasses){for(bN=0,bL=bR.length;bN<bL;bN++){bS=bR[bN].src;bz(ar(bQ.aoData,"anCells",bS)).removeClass(bM+(bN<2?bN+1:3))}for(bN=0,bL=bO.length;bN<bL;bN++){bS=bO[bN].src;bz(ar(bQ.aoData,"anCells",bS)).addClass(bM+(bN<2?bN+1:3))}}bQ.aLastSort=bO}function F(bL,bQ){var bM=bL.aoColumns[bQ];var bU=M.ext.order[bM.sSortDataType];var bS;if(bU){bS=bU.call(bL.oInstance,bL,bQ,bC(bL,bQ))}var bT,bO;var bP=M.ext.type.order[bM.sType+"-pre"];for(var bN=0,bR=bL.aoData.length;bN<bR;bN++){bT=bL.aoData[bN];if(!bT._aSortData){bT._aSortData=[]}if(!bT._aSortData[bQ]||bU){bO=bU?bS[bN]:bq(bL,bN,bQ,"sort");bT._aSortData[bQ]=bP?bP(bO):bO}}}function bk(bO){if(!bO.oFeatures.bStateSave||bO.bDestroying){return}var bN,bL;var bM={iCreate:new Date().getTime(),iStart:bO._iDisplayStart,iLength:bO._iDisplayLength,aaSorting:bz.extend(true,[],bO.aaSorting),oSearch:bz.extend(true,{},bO.oPreviousSearch),aoSearchCols:bz.extend(true,[],bO.aoPreSearchCols),abVisCols:[]};for(bN=0,bL=bO.aoColumns.length;bN<bL;bN++){bM.abVisCols.push(bO.aoColumns[bN].bVisible)}K(bO,"aoStateSaveParams","stateSaveParams",[bO,bM]);bO.fnStateSaveCallback.call(bO.oInstance,bO,bM)}function bI(bR,bM){var bO,bL;var bN=bR.aoColumns;if(!bR.oFeatures.bStateSave){return}var bS=bR.fnStateLoadCallback.call(bR.oInstance,bR);if(!bS){return}var bP=K(bR,"aoStateLoadParams","stateLoadParams",[bR,bS]);if(bz.inArray(false,bP)!==-1){return}if(bS.iCreate<new Date().getTime()-(bR.iStateDuration*1000)){return}if(bN.length!==bS.aoSearchCols.length){return}bR.oLoadedState=bz.extend(true,{},bS);bR._iDisplayStart=bS.iStart;bR.iInitDisplayStart=bS.iStart;bR._iDisplayLength=bS.iLength;bR.aaSorting=[];var bQ=bS.aaSorting;for(bO=0,bL=bQ.length;bO<bL;bO++){bR.aaSorting.push(bQ[bO][0]>=bN.length?[0,bQ[bO][1]]:bQ[bO])}bz.extend(bR.oPreviousSearch,bS.oSearch);bz.extend(true,bR.aoPreSearchCols,bS.aoSearchCols);for(bO=0,bL=bS.abVisCols.length;bO<bL;bO++){bN[bO].bVisible=bS.abVisCols[bO]}K(bR,"aoStateLoaded","stateLoaded",[bR,bS])}function al(bN){var bM=M.settings;var bL=bz.inArray(bN,ar(bM,"nTable"));return bL!==-1?bM[bL]:null}function aL(bO,bQ,bP,bL){bP="DataTables warning: "+(bO!==null?"table id="+bO.sTableId+" - ":"")+bP;if(bL){bP+=". For more information about this error, please see http://datatables.net/tn/"+bL}if(!bQ){var bN=M.ext;var bM=bN.sErrMode||bN.errMode;if(bM=="alert"){alert(bP)}else{throw new Error(bP)}}else{if(c.console&&console.log){console.log(bP)}}}function Q(bM,bO,bL,bN){if(bz.isArray(bL)){bz.each(bL,function(bP,bQ){if(bz.isArray(bQ)){Q(bM,bO,bQ[0],bQ[1])}else{Q(bM,bO,bQ)}});return}if(bN===d){bN=bL}if(bO[bL]!==d){bM[bN]=bO[bL]}}function aV(bL,bN,bM){var bO;for(var bP in bN){if(bN.hasOwnProperty(bP)){bO=bN[bP];if(bz.isPlainObject(bO)){if(!bz.isPlainObject(bL[bP])){bL[bP]={}}bz.extend(true,bL[bP],bO)}else{if(bM&&bP!=="data"&&bP!=="aaData"&&bz.isArray(bO)){bL[bP]=bO.slice()}else{bL[bP]=bO}}}}return bL}function a8(bN,bM,bL){bz(bN).bind("click.DT",bM,function(bO){bN.blur();bL(bO)}).bind("keypress.DT",bM,function(bO){if(bO.which===13){bL(bO)}}).bind("selectstart.DT",function(){return false})}function bH(bO,bM,bL,bN){if(bL){bO[bM].push({fn:bL,sName:bN})}}function K(bN,bP,bO,bM){var bL=[];if(bP){bL=bz.map(bN[bP].slice().reverse(),function(bR,bQ){return bR.fn.apply(bN.oInstance,bM)})}if(bO!==null){bz(bN.nTable).trigger(bO+".dt",bM)}return bL}function bh(bN){var bO=bN._iDisplayStart,bM=bN.fnDisplayEnd(),bL=bN._iDisplayLength;if(bM===bN.fnRecordsDisplay()){bO=bM-bL}if(bL===-1||bO<0){bO=0}bN._iDisplayStart=bO}function R(bM,bL){var bO=bM.renderer;var bN=M.ext.renderer[bL];if(bz.isPlainObject(bO)&&bO[bL]){return bN[bO[bL]]||bN._}else{if(typeof bO==="string"){return bN[bO]||bN._}}return bN._}function z(bL){if(bL.oFeatures.bServerSide){return"ssp"}else{if(bL.ajax||bL.sAjaxSource){return"ajax"}}return"dom"}M=function(bN){this.$=function(bR,bQ){return this.api(true).$(bR,bQ)};this._=function(bR,bQ){return this.api(true).rows(bR,bQ).data()};this.api=function(bQ){return bQ?new I(al(this[H.iApiIndex])):new I(this)};this.fnAddData=function(bS,bT){var bQ=this.api(true);var bR=bz.isArray(bS)&&(bz.isArray(bS[0])||bz.isPlainObject(bS[0]))?bQ.rows.add(bS):bQ.row.add(bS);if(bT===d||bT){bQ.draw()}return bR.flatten().toArray()};this.fnAdjustColumnSizing=function(bT){var bS=this.api(true).columns.adjust();var bR=bS.settings()[0];var bQ=bR.oScroll;if(bT===d||bT){bS.draw(false)}else{if(bQ.sX!==""||bQ.sY!==""){m(bR)}}};this.fnClearTable=function(bR){var bQ=this.api(true).clear();if(bR===d||bR){bQ.draw()}};this.fnClose=function(bQ){this.api(true).row(bQ).child.hide()};this.fnDeleteRow=function(bU,bW,bV){var bR=this.api(true);var bT=bR.rows(bU);var bQ=bT.settings()[0];var bS=bQ.aoData[bT[0][0]];bT.remove();if(bW){bW.call(this,bQ,bS)}if(bV===d||bV){bR.draw()}return bS};this.fnDestroy=function(bQ){this.api(true).destroy(bQ)};this.fnDraw=function(bQ){this.api(true).draw(!bQ)};this.fnFilter=function(bU,bR,bS,bW,bV,bQ){var bT=this.api(true);if(bR===null||bR===d){bT.search(bU,bS,bW,bQ)}else{bT.column(bR).search(bU,bS,bW,bQ)}bT.draw()};this.fnGetData=function(bT,bQ){var bS=this.api(true);if(bT!==d){var bR=bT.nodeName?bT.nodeName.toLowerCase():"";return bQ!==d||bR=="td"||bR=="th"?bS.cell(bT,bQ).data():bS.row(bT).data()}return bS.data().toArray()};this.fnGetNodes=function(bR){var bQ=this.api(true);return bR!==d?bQ.row(bR).node():bQ.rows().nodes().toArray()};this.fnGetPosition=function(bS){var bR=this.api(true);var bT=bS.nodeName.toUpperCase();if(bT=="TR"){return bR.row(bS).index()}else{if(bT=="TD"||bT=="TH"){var bQ=bR.cell(bS).index();return[bQ.row,bQ.columnVisible,bQ.column]}}return null};this.fnIsOpen=function(bQ){return this.api(true).row(bQ).child.isShown()};this.fnOpen=function(bR,bQ,bS){return this.api(true).row(bR).child(bQ,bS).show()};this.fnPageChange=function(bQ,bS){var bR=this.api(true).page(bQ);if(bS===d||bS){bR.draw(false)}};this.fnSetColumnVis=function(bR,bQ,bT){var bS=this.api(true).column(bR).visible(bQ);if(bT===d||bT){bS.columns.adjust().draw()}};this.fnSettings=function(){return al(this[H.iApiIndex])};this.fnSort=function(bQ){this.api(true).order(bQ).draw()};this.fnSortListener=function(bR,bQ,bS){this.api(true).order.listener(bR,bQ,bS)};this.fnUpdate=function(bU,bT,bQ,bV,bS){var bR=this.api(true);if(bQ===d||bQ===null){bR.row(bT).data(bU)}else{bR.cell(bT,bQ).data(bU)}if(bS===d||bS){bR.columns.adjust()}if(bV===d||bV){bR.draw()}return 0};this.fnVersionCheck=H.fnVersionCheck;var bO=this;var bM=bN===d;var bL=this.length;if(bM){bN={}}this.oApi=this.internal=H.internal;for(var bP in M.ext.internal){if(bP){this[bP]=af(bP)}}this.each(function(){var b4={};var b2=bL>1?aV(b4,bN,true):bN;var ca=0,b8,b9,cd,b7,bQ;var bY=this.getAttribute("id");var bX=false;var b0=M.defaults;if(this.nodeName.toLowerCase()!="table"){aL(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}a0(b0);W(b0.column);Z(b0,b0,true);Z(b0.column,b0.column,true);Z(b0,b2);var bV=M.settings;for(ca=0,b8=bV.length;ca<b8;ca++){if(bV[ca].nTable==this){var b6=b2.bRetrieve!==d?b2.bRetrieve:b0.bRetrieve;var bZ=b2.bDestroy!==d?b2.bDestroy:b0.bDestroy;if(bM||b6){return bV[ca].oInstance}else{if(bZ){bV[ca].oInstance.fnDestroy();break}else{aL(bV[ca],0,"Cannot reinitialise DataTable",3);return}}}if(bV[ca].sTableId==this.id){bV.splice(ca,1);break}}if(bY===null||bY===""){bY="DataTables_Table_"+(M.ext._unique++);this.id=bY}var bW=bz.extend(true,{},M.models.oSettings,{nTable:this,oApi:bO.internal,oInit:b2,sDestroyWidth:bz(this)[0].style.width,sInstance:bY,sTableId:bY});bV.push(bW);bW.oInstance=(bO.length===1)?bO:bz(this).dataTable();a0(b2);if(b2.oLanguage){aR(b2.oLanguage)}if(b2.aLengthMenu&&!b2.iDisplayLength){b2.iDisplayLength=bz.isArray(b2.aLengthMenu[0])?b2.aLengthMenu[0][0]:b2.aLengthMenu[0]}b2=aV(bz.extend(true,{},b0),b2);Q(bW.oFeatures,b2,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]);Q(bW,b2,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);Q(bW.oScroll,b2,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);Q(bW.oLanguage,b2,"fnInfoCallback");bH(bW,"aoDrawCallback",b2.fnDrawCallback,"user");bH(bW,"aoServerParams",b2.fnServerParams,"user");bH(bW,"aoStateSaveParams",b2.fnStateSaveParams,"user");bH(bW,"aoStateLoadParams",b2.fnStateLoadParams,"user");bH(bW,"aoStateLoaded",b2.fnStateLoaded,"user");bH(bW,"aoRowCallback",b2.fnRowCallback,"user");bH(bW,"aoRowCreatedCallback",b2.fnCreatedRow,"user");bH(bW,"aoHeaderCallback",b2.fnHeaderCallback,"user");bH(bW,"aoFooterCallback",b2.fnFooterCallback,"user");bH(bW,"aoInitComplete",b2.fnInitComplete,"user");bH(bW,"aoPreDrawCallback",b2.fnPreDrawCallback,"user");if(b2.bJQueryUI){bz.extend(bW.oClasses,M.ext.oJUIClasses,b2.oClasses);if(b2.sDom===b0.sDom&&b0.sDom==="lfrtip"){bW.sDom='<"H"lfr>t<"F"ip>'}if(!bW.renderer){bW.renderer="jqueryui"}else{if(bz.isPlainObject(bW.renderer)&&!bW.renderer.header){bW.renderer.header="jqueryui"}}}else{bz.extend(bW.oClasses,M.ext.classes,b2.oClasses)}bz(this).addClass(bW.oClasses.sTable);if(bW.oScroll.sX!==""||bW.oScroll.sY!==""){bW.oScroll.iBarWidth=a7()}if(bW.oScroll.sX===true){bW.oScroll.sX="100%"}if(bW.iInitDisplayStart===d){bW.iInitDisplayStart=b2.iDisplayStart;bW._iDisplayStart=b2.iDisplayStart}if(b2.iDeferLoading!==null){bW.bDeferLoading=true;var ce=bz.isArray(b2.iDeferLoading);bW._iRecordsDisplay=ce?b2.iDeferLoading[0]:b2.iDeferLoading;bW._iRecordsTotal=ce?b2.iDeferLoading[1]:b2.iDeferLoading}if(b2.oLanguage.sUrl!==""){bW.oLanguage.sUrl=b2.oLanguage.sUrl;bz.getJSON(bW.oLanguage.sUrl,null,function(cg){aR(cg);Z(b0.oLanguage,cg);bz.extend(true,bW.oLanguage,b2.oLanguage,cg);i(bW)});bX=true}else{bz.extend(true,bW.oLanguage,b2.oLanguage)}if(b2.asStripeClasses===null){bW.asStripeClasses=[bW.oClasses.sStripeOdd,bW.oClasses.sStripeEven]}var cb=bW.asStripeClasses;var bU=bz("tbody tr:eq(0)",this);if(bz.inArray(true,bz.map(cb,function(ch,cg){return bU.hasClass(ch)}))!==-1){bz("tbody tr",this).removeClass(cb.join(" "));bW.asDestroyStripes=cb.slice()}var b5=[];var bT;var b3=this.getElementsByTagName("thead");if(b3.length!==0){au(bW.aoHeader,b3[0]);b5=bd(bW)}if(b2.aoColumns===null){bT=[];for(ca=0,b8=b5.length;ca<b8;ca++){bT.push(null)}}else{bT=b2.aoColumns}for(ca=0,b8=bT.length;ca<b8;ca++){N(bW,b5?b5[ca]:null)}l(bW,b2.aoColumnDefs,bT,function(ch,cg){aY(bW,ch,cg)});if(bU.length){var cf=function(cg,ch){return cg.getAttribute("data-"+ch)?ch:null};bz.each(bb(bW,bU[0]).cells,function(cj,cg){var ch=bW.aoColumns[cj];if(ch.mData===cj){var ci=cf(cg,"sort")||cf(cg,"order");var ck=cf(cg,"filter")||cf(cg,"search");if(ci!==null||ck!==null){ch.mData={_:cj+".display",sort:ci!==null?cj+".@data-"+ci:d,type:ci!==null?cj+".@data-"+ci:d,filter:ck!==null?cj+".@data-"+ck:d};aY(bW,cj)}}})}if(b2.bStateSave){bW.oFeatures.bStateSave=true;bI(bW,b2);bH(bW,"aoDrawCallback",bk,"state_save")}if(b2.aaSorting===d){for(ca=0,b8=bW.aaSorting.length;ca<b8;ca++){bW.aaSorting[ca][1]=bW.aoColumns[ca].asSorting[0]}}ac(bW);if(bW.oFeatures.bSort){bH(bW,"aoDrawCallback",function(){if(bW.bSorted){var cg=aG(bW);var ch={};bz.each(cg,function(ci,cj){ch[cj.src]=cj.dir});K(bW,null,"order",[bW,cg,ch]);ac(bW);a9(bW)}})}ba(bW);var bS=bz(this).children("caption").each(function(){this._captionSide=bz(this).css("caption-side")});var cc=bz(this).children("thead");if(cc.length===0){cc=bz("<thead/>").appendTo(this)}bW.nTHead=cc[0];var bR=bz(this).children("tbody");if(bR.length===0){bR=bz("<tbody/>").appendTo(this)}bW.nTBody=bR[0];var b1=bz(this).children("tfoot");if(b1.length===0&&bS.length>0&&(bW.oScroll.sX!==""||bW.oScroll.sY!=="")){b1=bz("<tfoot/>").appendTo(this)}if(b1.length===0||b1.children().length===0){bz(this).addClass(bW.oClasses.sNoFooter)}else{if(b1.length>0){bW.nTFoot=b1[0];au(bW.aoFooter,bW.nTFoot)}}if(b2.aaData){for(ca=0;ca<b2.aaData.length;ca++){aM(bW,b2.aaData[ca])}}else{if(bW.bDeferLoading||z(bW)=="dom"){bK(bW,bz(bW.nTBody).children("tr"))}}bW.aiDisplay=bW.aiDisplayMaster.slice();bW.bInitialised=true;if(bX===false){i(bW)}});bO=null;return this};var T=[];var o=Array.prototype;var bJ=function(bN){var bL,bP;var bO=M.settings;var bM=bz.map(bO,function(bR,bQ){return bR.nTable});if(!bN){return[]}else{if(bN.nTable&&bN.oApi){return[bN]}else{if(bN.nodeName&&bN.nodeName.toLowerCase()==="table"){bL=bz.inArray(bN,bM);return bL!==-1?[bO[bL]]:null}else{if(bN&&typeof bN.settings==="function"){return bN.settings()}else{if(typeof bN==="string"){bP=bz(bN)}else{if(bN instanceof bz){bP=bN}}}}}}if(bP){return bP.map(function(bQ){bL=bz.inArray(this,bM);return bL!==-1?bO[bL]:null}).toArray()}};M.Api=I=function(bN,bP){if(!this instanceof I){throw"DT API must be constructed as a new object"}var bO=[];var bQ=function(bS){var bR=bJ(bS);if(bR){bO.push.apply(bO,bR)}};if(bz.isArray(bN)){for(var bM=0,bL=bN.length;bM<bL;bM++){bQ(bN[bM])}}else{bQ(bN)}this.context=aE(bO);if(bP){this.push.apply(this,bP.toArray?bP.toArray():bP)}this.selector={rows:null,cols:null,opts:null};I.extend(this,this,T)};I.prototype={concat:o.concat,context:[],each:function(bN){if(o.forEach){o.forEach.call(this,bN,this)}else{for(var bM=0,bL=this.length;bM<bL;bM++){bN.call(this,this[bM],bM,this)}}return this},eq:function(bL){var bM=this.context;return bM.length>bL?new I(bM[bL],this[bL]):null},filter:function(bO){var bM=[];if(o.filter){bM=o.filter.call(this,bO,this)}else{for(var bN=0,bL=this.length;bN<bL;bN++){if(bO.call(this,this[bN],bN,this)){bM.push(this[bN])}}}return new I(this.context,bM)},flatten:function(){var bL=[];return new I(this.context,bL.concat.apply(bL,this.toArray()))},join:o.join,indexOf:o.indexOf||function(bN,bO){for(var bM=(bO||0),bL=this.length;bM<bL;bM++){if(this[bM]===bN){return bM}}return -1},iterator:function(bM,bV,bW){var bX=[],bT,bR,bY,bQ,bO,bN=this.context,b0,bU,bZ,bP=this.selector;if(typeof bM==="string"){bW=bV;bV=bM;bM=false}for(bR=0,bY=bN.length;bR<bY;bR++){if(bV==="table"){bT=bW(bN[bR],bR);if(bT!==d){bX.push(bT)}}else{if(bV==="columns"||bV==="rows"){bT=bW(bN[bR],this[bR],bR);if(bT!==d){bX.push(bT)}}else{if(bV==="column"||bV==="column-rows"||bV==="row"||bV==="cell"){bU=this[bR];if(bV==="column-rows"){b0=aN(bN[bR],bP.opts)}for(bQ=0,bO=bU.length;bQ<bO;bQ++){bZ=bU[bQ];if(bV==="cell"){bT=bW(bN[bR],bZ.row,bZ.column,bR,bQ)}else{bT=bW(bN[bR],bZ,bR,bQ,b0)}if(bT!==d){bX.push(bT)}}}}}}if(bX.length){var bS=new I(bN,bM?bX.concat.apply([],bX):bX);var bL=bS.selector;bL.rows=bP.rows;bL.cols=bP.cols;bL.opts=bP.opts;return bS}return this},lastIndexOf:o.lastIndexOf||function(bL,bM){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(bO){var bM=[];if(o.map){bM=o.map.call(this,bO,this)}else{for(var bN=0,bL=this.length;bN<bL;bN++){bM.push(bO.call(this,this[bN],bN))}}return new I(this.context,bM)},pluck:function(bL){return this.map(function(bM){return bM[bL]})},pop:o.pop,push:o.push,reduce:o.reduce||function(bO,bQ){var bP,bN=false;if(arguments.length>1){bP=bQ;bN=true}for(var bM=0,bL=this.length;bM<bL;bM++){if(!this.hasOwnProperty(bM)){continue}bP=bN?bO(bP,this[bM],bM,this):this[bM];bN=true}return bP},reduceRight:o.reduceRight||function(bN,bP){var bO,bM=false;if(arguments.length>1){bO=bP;bM=true}for(var bL=this.length-1;bL>=0;bL--){if(!this.hasOwnProperty(bL)){continue}bO=bM?bN(bO,this[bL],bL,this):this[bL];bM=true}return bO},reverse:o.reverse,selector:null,shift:o.shift,sort:o.sort,splice:o.splice,toArray:function(){return o.slice.call(this)},to$:function(){return bz(this)},toJQuery:function(){return bz(this)},unique:function(){return new I(this.context,aE(this))},unshift:o.unshift};I.extend=function(bT,bP,bM){if(!bP||(!(bP instanceof I)&&!bP.__dt_wrapper)){return}var bQ,bS,bO,bL,bN,bU,bR=function(bV,bW){return function(){var bX=bV.apply(bT,arguments);I.extend(bX,bX,bW.methodExt);return bX}};for(bQ=0,bS=bM.length;bQ<bS;bQ++){bN=bM[bQ];bP[bN.name]=typeof bN.val==="function"?bR(bN.val,bN):bN.val;bP[bN.name].__dt_wrapper=true;I.extend(bT,bP[bN.name],bN.propExt)}};I.register=bg=function(bN,bP){if(bz.isArray(bN)){for(var bS=0,bO=bN.length;bS<bO;bS++){I.register(bN[bS],bP)}return}var bT,bW,bQ=bN.split("."),bR=T,bV,bM;var bU=function(b0,bY){for(var bZ=0,bX=b0.length;bZ<bX;bZ++){if(b0[bZ].name===bY){return b0[bZ]}}return null};for(bT=0,bW=bQ.length;bT<bW;bT++){bM=bQ[bT].indexOf("()")!==-1;bV=bM?bQ[bT].replace("()",""):bQ[bT];var bL=bU(bR,bV);if(!bL){bL={name:bV,val:{},methodExt:[],propExt:[]};bR.push(bL)}if(bT===bW-1){bL.val=bP}else{bR=bM?bL.methodExt:bL.propExt}}if(I.ready){M.api.build()}};I.registerPlural=az=function(bL,bN,bM){I.register(bL,bM);I.register(bN,function(){var bO=bM.apply(this,arguments);if(bO===this){return this}else{if(bO instanceof I){return bO.length?bz.isArray(bO[0])?new I(bO.context,bO[0]):bO[0]:d}}return bO})};var e=function(bL,bM){if(typeof bL==="number"){return[bM[bL]]}var bN=bz.map(bM,function(bP,bO){return bP.nTable});return bz(bN).filter(bL).map(function(bP){var bO=bz.inArray(this,bN);return bM[bO]}).toArray()};bg("tables()",function(bL){return bL?new I(e(bL,this.context)):this});bg("table()",function(bL){var bN=this.tables(bL);var bM=bN.context;return bM.length?new I(bM[0]):bN});az("tables().nodes()","table().node()",function(){return this.iterator("table",function(bL){return bL.nTable})});az("tables().body()","table().body()",function(){return this.iterator("table",function(bL){return bL.nTBody})});az("tables().header()","table().header()",function(){return this.iterator("table",function(bL){return bL.nTHead})});az("tables().footer()","table().footer()",function(){return this.iterator("table",function(bL){return bL.nTFoot})});bg("draw()",function(bL){return this.iterator("table",function(bM){ag(bM,bL===false)})});bg("page()",function(bL){if(bL===d){return this.page.info().page}return this.iterator("table",function(bM){aD(bM,bL)})});bg("page.info()",function(bP){if(this.context.length===0){return d}var bO=this.context[0],bQ=bO._iDisplayStart,bL=bO._iDisplayLength,bM=bO.fnRecordsDisplay(),bN=bL===-1;return{page:bN?0:Math.floor(bQ/bL),pages:bN?1:Math.ceil(bM/bL),start:bQ,end:bO.fnDisplayEnd(),length:bL,recordsTotal:bO.fnRecordsTotal(),recordsDisplay:bM}});bg("page.len()",function(bL){if(bL===d){return this.context.length!==0?this.context[0]._iDisplayLength:d}return this.iterator("table",function(bM){aS(bM,bL)})});var G=function(bN,bL,bO){if(z(bN)=="ssp"){ag(bN,bL)}else{at(bN,[],function(bR){be(bN);var bS=bp(bN,bR);for(var bQ=0,bP=bS.length;bQ<bP;bQ++){aM(bN,bS[bQ])}ag(bN,bL)})}if(bO){var bM=new I(bN);bM.one("draw",function(){console.log(bM.ajax.json());bO(bM.ajax.json())})}};bg("ajax.json()",function(){var bL=this.context;if(bL.length>0){return bL[0].json}});bg("ajax.reload()",function(bM,bL){return this.iterator("table",function(bN){G(bN,bL===false,bM)})});bg("ajax.url()",function(bM){var bL=this.context;if(bM===d){if(bL.length===0){return d}bL=bL[0];return bL.ajax?bz.isPlainObject(bL.ajax)?bL.ajax.url:bL.ajax:bL.sAjaxSource}return this.iterator("table",function(bN){if(bz.isPlainObject(bN.ajax)){bN.ajax.url=bM}else{bN.ajax=bM}})});bg("ajax.url().load()",function(bM,bL){return this.iterator("table",function(bN){G(bN,bL===false,bM)})});var an=function(bM,bS){var bN=[],bQ,bR,bP,bT,bO,bL;if(!bz.isArray(bM)){bM=[bM]}for(bP=0,bT=bM.length;bP<bT;bP++){bR=bM[bP]&&bM[bP].split?bM[bP].split(","):[bM[bP]];for(bO=0,bL=bR.length;bO<bL;bO++){bQ=bS(typeof bR[bO]==="string"?bz.trim(bR[bO]):bR[bO]);if(bQ&&bQ.length){bN.push.apply(bN,bQ)}}}return bN};var by=function(bL){if(!bL){bL={}}if(bL.filter&&!bL.search){bL.search=bL.filter}return{search:bL.search||"none",order:bL.order||"current",page:bL.page||"all"}};var A=function(bN){for(var bM=0,bL=bN.length;bM<bL;bM++){if(bN[bM].length>0){bN[0]=bN[bM];bN.length=1;bN.context=[bN.context[bM]];return bN}}bN.length=0;return bN};var aN=function(bN,bL){var bO,bU,bP,bS=[],bT=bN.aiDisplay,bQ=bN.aiDisplayMaster;var bV=bL.search,bM=bL.order,bR=bL.page;if(z(bN)=="ssp"){return bV==="removed"?[]:bc(0,bQ.length)}else{if(bR=="current"){for(bO=bN._iDisplayStart,bU=bN.fnDisplayEnd();bO<bU;bO++){bS.push(bT[bO])}}else{if(bM=="current"||bM=="applied"){bS=bV=="none"?bQ.slice():bV=="applied"?bT.slice():bz.map(bQ,function(bX,bW){return bz.inArray(bX,bT)===-1?bX:null})}else{if(bM=="index"||bM=="original"){for(bO=0,bU=bN.aoData.length;bO<bU;bO++){if(bV=="none"){bS.push(bO)}else{bP=bz.inArray(bO,bT);if((bP===-1&&bV=="removed")||(bP===1&&bV=="applied")){bS.push(bO)}}}}}}}return bS};var D=function(bM,bL,bN){return an(bL,function(bT){var bQ=E(bT);if(bQ!==null&&!bN){return[bQ]}var bS=aN(bM,bN);if(bQ!==null&&bz.inArray(bQ,bS)!==-1){return[bQ]}else{if(!bT){return bS}}var bP=[];for(var bR=0,bO=bS.length;bR<bO;bR++){bP.push(bM.aoData[bS[bR]].nTr)}if(bT.nodeName){if(bz.inArray(bT,bP)!==-1){return[bT._DT_RowIndex]}}return bz(bP).filter(bT).map(function(){return this._DT_RowIndex}).toArray()})};bg("rows()",function(bL,bM){if(bL===d){bL=""}else{if(bz.isPlainObject(bL)){bM=bL;bL=""}}bM=by(bM);var bN=this.iterator("table",function(bO){return D(bO,bL,bM)});bN.selector.rows=bL;bN.selector.opts=bM;return bN});bg("rows().nodes()",function(){return this.iterator("row",function(bL,bM){return bL.aoData[bM].nTr||d})});bg("rows().data()",function(){return this.iterator(true,"rows",function(bL,bM){return u(bL.aoData,bM,"_aData")})});az("rows().cache()","row().cache()",function(bL){return this.iterator("row",function(bM,bO){var bN=bM.aoData[bO];return bL==="search"?bN._aFilterData:bN._aSortData})});az("rows().invalidate()","row().invalidate()",function(bL){return this.iterator("row",function(bM,bN){aF(bM,bN,bL)})});az("rows().indexes()","row().index()",function(){return this.iterator("row",function(bL,bM){return bM})});az("rows().remove()","row().remove()",function(){var bL=this;return this.iterator("row",function(bQ,bS,bP){var bR=bQ.aoData;bR.splice(bS,1);for(var bO=0,bN=bR.length;bO<bN;bO++){if(bR[bO].nTr!==null){bR[bO].nTr._DT_RowIndex=bO}}var bM=bz.inArray(bS,bQ.aiDisplay);a1(bQ.aiDisplayMaster,bS);a1(bQ.aiDisplay,bS);a1(bL[bP],bS,false);bh(bQ)})});bg("rows.add()",function(bN){var bM=this.iterator("table",function(bR){var bS,bQ,bO;var bP=[];for(bQ=0,bO=bN.length;bQ<bO;bQ++){bS=bN[bQ];if(bS.nodeName&&bS.nodeName.toUpperCase()==="TR"){bP.push(bK(bR,bS)[0])}else{bP.push(aM(bR,bS))}}return bP});var bL=this.rows(-1);bL.pop();bL.push.apply(bL,bM.toArray());return bL});bg("row()",function(bL,bM){return A(this.rows(bL,bM))});bg("row().data()",function(bM){var bL=this.context;if(bM===d){return bL.length&&this.length?bL[0].aoData[this[0]]._aData:d}bL[0].aoData[this[0]]._aData=bM;aF(bL[0],this[0],"data");return this});bg("row().node()",function(){var bL=this.context;return bL.length&&this.length?bL[0].aoData[this[0]].nTr||null:null});bg("row.add()",function(bM){if(bM instanceof bz&&bM.length){bM=bM[0]}var bL=this.iterator("table",function(bN){if(bM.nodeName&&bM.nodeName.toUpperCase()==="TR"){return bK(bN,bM)[0]}return aM(bN,bM)});return this.row(bL[0])});var Y=function(bO,bS,bR,bL){var bQ=[];var bN=function(bU,bT){if(!bU.nodeName||bU.nodeName.toUpperCase()!=="tr"){bU=bz("<tr><td></td></tr>").find("td").html(bU).parent()}bz("td",bU).addClass(bT)[0].colSpan=aP(bO);bQ.push(bU[0])};if(bz.isArray(bR)||bR instanceof bz){for(var bP=0,bM=bR.length;bP<bM;bP++){bN(bR[bP],bL)}}else{bN(bR,bL)}if(bS._details){bS._details.remove()}bS._details=bz(bQ);if(bS._detailsShow){bS._details.insertAfter(bS.nTr)}};var a6=function(bM){var bL=this.context;if(bL.length&&this.length){var bN=bL[0].aoData[this[0]];if(bN._details){bN._detailsShow=bM;if(bM){bN._details.insertAfter(bN.nTr)}else{bN._details.remove()}bs(bL[0])}}return this};var bs=function(bP){var bO=new I(bP);var bN=".dt.DT_details";var bM="draw"+bN;var bL="column-visibility"+bN;bO.off(bM+" "+bL);if(ar(bP.aoData,"_details").length>0){bO.on(bM,function(){bO.rows({page:"current"}).eq(0).each(function(bQ){var bR=bP.aoData[bQ];if(bR._detailsShow){bR._details.insertAfter(bR.nTr)}})});bO.on(bL,function(bV,bT,bQ,bU){var bX,bW=aP(bT);for(var bS=0,bR=bT.aoData.length;bS<bR;bS++){bX=bT.aoData[bS];if(bX._details){bX._details.children("td[colspan]").attr("colspan",bW)}}})}};bg("row().child()",function(bN,bL){var bM=this.context;if(bN===d){return bM.length&&this.length?bM[0].aoData[this[0]]._details:d}else{if(bM.length&&this.length){Y(bM[0],bM[0].aoData[this[0]],bN,bL)}}return this});bg(["row().child.show()","row().child().show()"],function(){a6.call(this,true)});bg(["row().child.hide()","row().child().hide()"],function(){a6.call(this,false)});bg("row().child.isShown()",function(){var bL=this.context;if(bL.length&&this.length){return bL[0].aoData[this[0]]._detailsShow||false}return false});var a5=/^(.*):(name|visIdx|visible)$/;var bw=function(bO,bL,bP){var bN=bO.aoColumns,bQ=ar(bN,"sName"),bM=ar(bN,"nTh");return an(bL,function(bV){var bS=E(bV);if(bV===""){return bc(bN.length)}else{if(bS!==null){return[bS>=0?bS:bN.length+bS]}else{var bT=bV.match(a5);if(bT){switch(bT[2]){case"visIdx":case"visible":var bR=parseInt(bT[1],10);if(bR<0){var bU=bz.map(bN,function(bW,bX){return bW.bVisible?bX:null});return[bU[bU.length+bR]]}return[s(bO,bR)];case"name":return bz.map(bQ,function(bW,bX){return bW===bT[1]?bX:null})}}else{return bz(bM).filter(bV).map(function(){return bz.inArray(this,bM)}).toArray()}}}})};var L=function(bN,bO,bL){var bT=bN.aoColumns,bM=bT[bO],bQ=bN.aoData,bW,bV,bP,bU,bS;if(bL===d){return bM.bVisible}if(bM.bVisible===bL){return}if(bL){var bR=bz.inArray(true,ar(bT,"bVisible"),bO+1);for(bP=0,bU=bQ.length;bP<bU;bP++){bS=bQ[bP].nTr;bV=bQ[bP].anCells;if(bS){bS.insertBefore(bV[bO],bV[bR]||null)}}}else{bz(ar(bN.aoData,"anCells",bO)).detach();bM.bVisible=false;a2(bN,bN.aoHeader);a2(bN,bN.aoFooter);bk(bN)}bM.bVisible=bL;a2(bN,bN.aoHeader);a2(bN,bN.aoFooter);aH(bN);if(bN.oScroll.sX||bN.oScroll.sY){m(bN)}K(bN,null,"column-visibility",[bN,bO,bL]);bk(bN)};bg("columns()",function(bL,bM){if(bL===d){bL=""}else{if(bz.isPlainObject(bL)){bM=bL;bL=""}}bM=by(bM);var bN=this.iterator("table",function(bO){return bw(bO,bL,bM)});bN.selector.cols=bL;bN.selector.opts=bM;return bN});az("columns().header()","column().header()",function(bL,bM){return this.iterator("column",function(bO,bN){return bO.aoColumns[bN].nTh})});az("columns().footer()","column().footer()",function(bL,bM){return this.iterator("column",function(bO,bN){return bO.aoColumns[bN].nTf})});az("columns().data()","column().data()",function(){return this.iterator("column-rows",function(bQ,bP,bO,bN,bR){var bM=[];for(var bS=0,bL=bR.length;bS<bL;bS++){bM.push(bq(bQ,bR[bS],bP,""))}return bM})});az("columns().cache()","column().cache()",function(bL){return this.iterator("column-rows",function(bP,bO,bN,bM,bQ){return u(bP.aoData,bQ,bL==="search"?"_aFilterData":"_aSortData",bO)})});az("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(bO,bN,bM,bL,bP){return u(bO.aoData,bP,"anCells",bN)})});az("columns().visible()","column().visible()",function(bL){return this.iterator("column",function(bN,bM){return L(bN,bM,bL)})});az("columns().indexes()","column().index()",function(bL){return this.iterator("column",function(bN,bM){return bL==="visible"?bC(bN,bM):bM})});bg("columns.adjust()",function(){return this.iterator("table",function(bL){aH(bL)})});bg("column.index()",function(bN,bL){if(this.context.length!==0){var bM=this.context[0];if(bN==="fromVisible"||bN==="toData"){return bC(bM,bL)}else{if(bN==="fromData"||bN==="toVisible"){return s(bM,bL)}}}});bg("column()",function(bL,bM){return A(this.columns(bL,bM))});var bm=function(bN,bO,bL){var bR=bN.aoData;var bX=aN(bN,bL);var bV=u(bR,bX,"anCells");var bU=bz([].concat.apply([],bV));var bW;var bM=bN.aoColumns.length;var bS,bQ,bT,bP;return an(bO,function(bY){if(!bY){bS=[];for(bQ=0,bT=bX.length;bQ<bT;bQ++){bW=bX[bQ];for(bP=0;bP<bM;bP++){bS.push({row:bW,column:bP})}}return bS}return bU.filter(bY).map(function(bZ,b0){bW=b0.parentNode._DT_RowIndex;return{row:bW,column:bz.inArray(b0,bR[bW].anCells)}})})};bg("cells()",function(bO,bL,bM){if(bz.isPlainObject(bO)){bM=bO;bO=null}if(bz.isPlainObject(bL)){bM=bL;bL=null}if(bL===null||bL===d){return this.iterator("table",function(bW){return bm(bW,bO,by(bM))})}var bP=this.columns(bL,bM);var bV=this.rows(bO,bM);var bS,bR,bT,bQ,bN;var bU=this.iterator("table",function(bX,bW){bS=[];for(bR=0,bT=bV[bW].length;bR<bT;bR++){for(bQ=0,bN=bP[bW].length;bQ<bN;bQ++){bS.push({row:bV[bW][bR],column:bP[bW][bQ]})}}return bS});bz.extend(bU.selector,{cols:bL,rows:bO,opts:bM});return bU});az("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(bM,bN,bL){return bM.aoData[bN].anCells[bL]})});bg("cells().data()",function(){return this.iterator("cell",function(bM,bN,bL){return bq(bM,bN,bL)})});az("cells().cache()","cell().cache()",function(bL){bL=bL==="search"?"_aFilterData":"_aSortData";return this.iterator("cell",function(bN,bO,bM){return bN.aoData[bO][bL][bM]})});az("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(bM,bN,bL){return{row:bN,column:bL,columnVisible:bC(bM,bL)}})});bg(["cells().invalidate()","cell().invalidate()"],function(bM){var bL=this.selector;this.rows(bL.rows,bL.opts).invalidate(bM);return this});bg("cell()",function(bL,bN,bM){return A(this.cells(bL,bN,bM))});bg("cell().data()",function(bN){var bM=this.context;var bL=this[0];if(bN===d){return bM.length&&bL.length?bq(bM[0],bL[0].row,bL[0].column):d}bi(bM[0],bL[0].row,bL[0].column,bN);aF(bM[0],bL[0].row,"data",bL[0].column);return this});bg("order()",function(bL,bN){var bM=this.context;if(bL===d){return bM.length!==0?bM[0].aaSorting:d}if(typeof bL==="number"){bL=[[bL,bN]]}else{if(!bz.isArray(bL[0])){bL=Array.prototype.slice.call(arguments)}}return this.iterator("table",function(bO){bO.aaSorting=bL.slice()})});bg("order.listener()",function(bM,bL,bN){return this.iterator("table",function(bO){B(bO,bM,bL,bN)})});bg(["columns().order()","column().order()"],function(bL){var bM=this;return this.iterator("table",function(bP,bO){var bN=[];bz.each(bM[bO],function(bR,bQ){bN.push([bQ,bL])});bP.aaSorting=bN})});bg("search()",function(bM,bO,bP,bN){var bL=this.context;if(bM===d){return bL.length!==0?bL[0].oPreviousSearch.sSearch:d}return this.iterator("table",function(bQ){if(!bQ.oFeatures.bFilter){return}v(bQ,bz.extend({},bQ.oPreviousSearch,{sSearch:bM+"",bRegex:bO===null?false:bO,bSmart:bP===null?true:bP,bCaseInsensitive:bN===null?true:bN}),1)})});bg(["columns().search()","column().search()"],function(bL,bN,bO,bM){return this.iterator("column",function(bR,bQ){var bP=bR.aoPreSearchCols;if(bL===d){return bP[bQ].sSearch}if(!bR.oFeatures.bFilter){return}bz.extend(bP[bQ],{sSearch:bL+"",bRegex:bN===null?false:bN,bSmart:bO===null?true:bO,bCaseInsensitive:bM===null?true:bM});v(bR,bR.oPreviousSearch,1)})});M.versionCheck=M.fnVersionCheck=function(bN){var bR=M.version.split(".");var bO=bN.split(".");var bM,bQ;for(var bP=0,bL=bO.length;bP<bL;bP++){bM=parseInt(bR[bP],10)||0;bQ=parseInt(bO[bP],10)||0;if(bM===bQ){continue}return bM>bQ}return true};M.isDataTable=M.fnIsDataTable=function(bN){var bL=bz(bN).get(0);var bM=false;bz.each(M.settings,function(bO,bP){if(bP.nTable===bL||bP.nScrollHead===bL||bP.nScrollFoot===bL){bM=true}});return bM};M.tables=M.fnTables=function(bL){return jQuery.map(M.settings,function(bM){if(!bL||(bL&&bz(bM.nTable).is(":visible"))){return bM.nTable}})};M.camelToHungarian=Z;bg("$()",function(bL,bN){var bO=this.rows(bN).nodes(),bM=bz(bO);return bz([].concat(bM.filter(bL).toArray(),bM.find(bL).toArray()))});bz.each(["on","one","off"],function(bM,bL){bg(bL+"()",function(){var bN=Array.prototype.slice.call(arguments);if(bN[0].indexOf(".dt")===-1){bN[0]+=".dt"}var bO=bz(this.tables().nodes());bO[bL].apply(bO,bN);return this})});bg("clear()",function(){return this.iterator("table",function(bL){be(bL)})});bg("settings()",function(){return new I(this.context,this.context)});bg("data()",function(){return this.iterator("table",function(bL){return ar(bL.aoData,"_aData")}).flatten()});bg("destroy()",function(bL){bL=bL||false;return this.iterator("table",function(bM){var bV=bM.nTableWrapper.parentNode;var bN=bM.oClasses;var bX=bM.nTable;var bQ=bM.nTBody;var bS=bM.nTHead;var bT=bM.nTFoot;var bY=bz(bX);var bP=bz(bQ);var bR=bz(bM.nTableWrapper);var bZ=bz.map(bM.aoData,function(b0){return b0.nTr});var bO,bW;bM.bDestroying=true;K(bM,"aoDestroyCallback","destroy",[bM]);if(!bL){new I(bM).columns().visible(true)}bR.unbind(".DT").find(":not(tbody *)").unbind(".DT");bz(c).unbind(".DT-"+bM.sInstance);if(bX!=bS.parentNode){bY.children("thead").remove();bY.append(bS)}if(bT&&bX!=bT.parentNode){bY.children("tfoot").remove();bY.append(bT)}bY.remove();bR.remove();bM.aaSorting=[];bM.aaSortingFixed=[];ac(bM);bz(bZ).removeClass(bM.asStripeClasses.join(" "));bz("th, td",bS).removeClass(bN.sSortable+" "+bN.sSortableAsc+" "+bN.sSortableDesc+" "+bN.sSortableNone);if(bM.bJUI){bz("th span."+bN.sSortIcon+", td span."+bN.sSortIcon,bS).remove();bz("th, td",bS).each(function(){var b0=bz("div."+bN.sSortJUIWrapper,this);bz(this).append(b0.contents());b0.remove()})}if(!bL){bV.insertBefore(bX,bM.nTableReinsertBefore)}bP.children().detach();bP.append(bZ);bY.css("width",bM.sDestroyWidth).removeClass(bN.sTable);bW=bM.asDestroyStripes.length;if(bW){bP.children().each(function(b0){bz(this).addClass(bM.asDestroyStripes[b0%bW])})}var bU=bz.inArray(bM,M.settings);if(bU!==-1){M.settings.splice(bU,1)}})});M.version="1.10.0-beta.2";M.settings=[];M.models={};M.models.oSearch={bCaseInsensitive:true,sSearch:"",bRegex:false,bSmart:true};M.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null};M.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:false,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};M.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:true,bDeferRender:false,bDestroy:false,bFilter:true,bInfo:true,bJQueryUI:false,bLengthChange:true,bPaginate:true,bProcessing:false,bRetrieve:false,bScrollCollapse:false,bServerSide:false,bSort:true,bSortMulti:true,bSortCellsTop:false,bSortClasses:true,bStateSave:false,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(bL){return bL.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(bL){try{return JSON.parse(localStorage.getItem("DataTables_"+bL.sInstance+"_"+c.location.pathname))}catch(bM){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(bL,bM){try{localStorage.setItem("DataTables_"+bL.sInstance+"_"+c.location.pathname,JSON.stringify(bM))}catch(bN){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:bz.extend({},M.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null};S(M.defaults);M.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:true,bSortable:true,bVisible:true,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};S(M.defaults.column);M.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:false,bScrollbarLeft:false},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:false,bInitialised:false,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:true,jqXHR:null,json:d,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:false,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:false,bSorted:false,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return z(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return z(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var bL=this._iDisplayLength,bQ=this._iDisplayStart,bN=bQ+bL,bM=this.aiDisplay.length,bO=this.oFeatures,bP=bO.bPaginate;if(bO.bServerSide){return bP===false||bL===-1?bQ+bM:Math.min(bQ+bL,this._iRecordsDisplay)}else{return !bP||bN>bM||bL===-1?bM:bN}},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}};M.ext=H={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:M.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:M.version};bz.extend(H,{afnFiltering:H.search,aTypes:H.type.detect,ofnSearch:H.type.search,oSort:H.type.order,afnSortData:H.order,aoFeatures:H.feature,oApi:H.internal,oStdClasses:H.classes,oPagination:H.pager});bz.extend(M.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});(function(){var bM="";bM="";var bN=bM+"ui-state-default";var bO=bM+"css_right ui-icon ui-icon-";var bL=bM+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";bz.extend(M.ext.oJUIClasses,M.ext.classes,{sPageButton:"fg-button ui-button "+bN,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:bN+" sorting_asc",sSortDesc:bN+" sorting_desc",sSortable:bN+" sorting",sSortableAsc:bN+" sorting_asc_disabled",sSortableDesc:bN+" sorting_desc_disabled",sSortableNone:bN+" sorting_disabled",sSortJUIAsc:bO+"triangle-1-n",sSortJUIDesc:bO+"triangle-1-s",sSortJUI:bO+"carat-2-n-s",sSortJUIAscAllowed:bO+"carat-1-n",sSortJUIDescAllowed:bO+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+bN,sScrollFoot:"dataTables_scrollFoot "+bN,sHeaderTH:bN,sFooterTH:bN,sJUIHeader:bL+" ui-corner-tl ui-corner-tr",sJUIFooter:bL+" ui-corner-bl ui-corner-br"})}());var bD=M.ext.pager;function bj(bQ,bL){var bM=[],bO=bD.numbers_length,bP=Math.floor(bO/2),bN=1;if(bL<=bO){bM=bc(0,bL)}else{if(bQ<=bP){bM=bc(0,bO-2);bM.push("ellipsis");bM.push(bL-1)}else{if(bQ>=bL-1-bP){bM=bc(bL-(bO-2),bL);bM.splice(0,0,"ellipsis");bM.splice(0,0,0)}else{bM=bc(bQ-1,bQ+2);bM.push("ellipsis");bM.push(bL-1);bM.splice(0,0,"ellipsis");bM.splice(0,0,0)}}}bM.DT_el="span";return bM}bz.extend(bD,{simple:function(bM,bL){return["previous","next"]},full:function(bM,bL){return["first","previous","next","last"]},simple_numbers:function(bM,bL){return["previous",bj(bM,bL),"next"]},full_numbers:function(bM,bL){return["first","previous",bj(bM,bL),"next","last"]},_numbers:bj,numbers_length:7});bz.extend(true,M.ext.renderer,{pageButton:{_:function(bP,bV,bU,bT,bS,bO){var bQ=bP.oClasses;var bN=bP.oLanguage.oPaginate;var bM,bL;var bR=function(bX,b2){var b0,bW,b1,bZ;var b3=function(b4){aD(bP,b4.data.action,true)};for(b0=0,bW=b2.length;b0<bW;b0++){bZ=b2[b0];if(bz.isArray(bZ)){var bY=bz("<"+(bZ.DT_el||"div")+"/>").appendTo(bX);bR(bY,bZ)}else{bM="";bL="";switch(bZ){case"ellipsis":bX.append("<span>&hellip;</span>");break;case"first":bM=bN.sFirst;bL=bZ+(bS>0?"":" "+bQ.sPageButtonDisabled);break;case"previous":bM=bN.sPrevious;bL=bZ+(bS>0?"":" "+bQ.sPageButtonDisabled);break;case"next":bM=bN.sNext;bL=bZ+(bS<bO-1?"":" "+bQ.sPageButtonDisabled);break;case"last":bM=bN.sLast;bL=bZ+(bS<bO-1?"":" "+bQ.sPageButtonDisabled);break;default:bM=bZ+1;bL=bS===bZ?bQ.sPageButtonActive:"";break}if(bM){b1=bz("<a>",{"class":bQ.sPageButton+" "+bL,"aria-controls":bP.sTableId,tabindex:bP.iTabIndex,id:bU===0&&typeof bZ==="string"?bP.sTableId+"_"+bZ:null}).html(bM).appendTo(bX);a8(b1,{action:bZ},b3)}}}};bR(bz(bV).empty(),bT)}}});var P=function(bO,bL,bN,bM){if(!bO||bO==="-"){return -Infinity}if(bL){bO=bx(bO,bL)}if(bO.replace){if(bN){bO=bO.replace(bN,"")}if(bM){bO=bO.replace(bM,"")}}return bO*1};function bn(bL){bz.each({num:function(bM){return P(bM,bL)},"num-fmt":function(bM){return P(bM,bL,bA)},"html-num":function(bM){return P(bM,bL,aT)},"html-num-fmt":function(bM){return P(bM,bL,aT,bA)}},function(bM,bN){H.type.order[bM+bL+"-pre"]=bN})}bz.extend(H.type.order,{"date-pre":function(bL){return Date.parse(bL)||0},"html-pre":function(bL){return bL.replace?bL.replace(/<.*?>/g,"").toLowerCase():bL+""},"string-pre":function(bL){return typeof bL==="string"?bL.toLowerCase():!bL||!bL.toString?"":bL.toString()},"string-asc":function(bL,bM){return((bL<bM)?-1:((bL>bM)?1:0))},"string-desc":function(bL,bM){return((bL<bM)?1:((bL>bM)?-1:0))}});bn("");bz.extend(M.ext.type.detect,[function(bN,bM){var bL=bM.oLanguage.sDecimal;return ah(bN,bL)?"num"+bL:null},function(bN,bM){if(bN&&!ak.test(bN)){return null}var bL=Date.parse(bN);return(bL!==null&&!isNaN(bL))||bv(bN)?"date":null},function(bN,bM){var bL=bM.oLanguage.sDecimal;return ah(bN,bL,true)?"num-fmt"+bL:null},function(bN,bM){var bL=bM.oLanguage.sDecimal;return k(bN,bL)?"html-num"+bL:null},function(bN,bM){var bL=bM.oLanguage.sDecimal;return k(bN,bL,true)?"html-num-fmt"+bL:null},function(bM,bL){return bv(bM)||(typeof bM==="string"&&bM.indexOf("<")!==-1)?"html":null}]);bz.extend(M.ext.type.search,{html:function(bL){return bv(bL)?"":typeof bL==="string"?bL.replace(V," ").replace(aT,""):""},string:function(bL){return bv(bL)?"":typeof bL==="string"?bL.replace(V," "):bL}});bz.extend(true,M.ext.renderer,{header:{_:function(bO,bL,bN,bM){bz(bO.nTable).on("order.dt",function(bS,bQ,bR,bP){var bT=bN.idx;bL.removeClass(bN.sSortingClass+" "+bM.sSortAsc+" "+bM.sSortDesc).addClass(bP[bT]=="asc"?bM.sSortAsc:bP[bT]=="desc"?bM.sSortDesc:bN.sSortingClass)})},jqueryui:function(bO,bL,bN,bM){var bP=bN.idx;bz("<div/>").addClass(bM.sSortJUIWrapper).append(bL.contents()).append(bz("<span/>").addClass(bM.sSortIcon+" "+bN.sSortingClassJUI)).appendTo(bL);bz(bO.nTable).on("order.dt",function(bT,bR,bS,bQ){bL.removeClass(bM.sSortAsc+" "+bM.sSortDesc).addClass(bQ[bP]=="asc"?bM.sSortAsc:bQ[bP]=="desc"?bM.sSortDesc:bN.sSortingClass);bL.find("span").removeClass(bM.sSortJUIAsc+" "+bM.sSortJUIDesc+" "+bM.sSortJUI+" "+bM.sSortJUIAscAllowed+" "+bM.sSortJUIDescAllowed).addClass(bQ[bP]=="asc"?bM.sSortJUIAsc:bQ[bP]=="desc"?bM.sSortJUIDesc:bN.sSortingClassJUI)})}}});function af(bL){return function(){var bM=[al(this[M.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return M.ext.internal[bL].apply(this,bM)}}bz.extend(M.ext.internal,{_fnExternApiFunc:af,_fnBuildAjax:at,_fnAjaxUpdate:ad,_fnAjaxParameters:bF,_fnAjaxUpdateDraw:U,_fnAjaxDataSrc:bp,_fnAddColumn:N,_fnColumnOptions:aY,_fnAdjustColumnSizing:aH,_fnVisibleToColumnIndex:s,_fnColumnIndexToVisible:bC,_fnVisbleColumns:aP,_fnGetColumns:q,_fnColumnTypes:w,_fnApplyColumnDefs:l,_fnHungarianMap:S,_fnCamelToHungarian:Z,_fnLanguageCompat:aR,_fnBrowserDetect:ba,_fnAddData:aM,_fnAddTr:bK,_fnNodeToDataIndex:bo,_fnNodeToColumnIndex:aW,_fnGetRowData:aO,_fnGetCellData:bq,_fnSetCellData:bi,_fnSplitObjNotation:ai,_fnGetObjectDataFn:am,_fnSetObjectDataFn:av,_fnGetDataMaster:bB,_fnClearTable:be,_fnDeleteIndex:a1,_fnInvalidateRow:aF,_fnGetRowElements:bb,_fnCreateTr:O,_fnBuildHead:aJ,_fnDrawHead:a2,_fnDraw:aZ,_fnReDraw:ag,_fnAddOptionsHtml:j,_fnDetectHeader:au,_fnGetUniqueThs:bd,_fnFeatureHtmlFilter:r,_fnFilterComplete:v,_fnFilterCustom:ap,_fnFilterColumn:X,_fnFilter:aw,_fnFilterCreateSearch:aU,_fnEscapeRegex:n,_fnFilterData:aC,_fnFeatureHtmlInfo:h,_fnUpdateInfo:aq,_fnInfoMacros:bl,_fnInitialise:i,_fnInitComplete:aA,_fnLengthChange:aS,_fnFeatureHtmlLength:aQ,_fnFeatureHtmlPaginate:ay,_fnPageChange:aD,_fnFeatureHtmlProcessing:bu,_fnProcessingDisplay:x,_fnFeatureHtmlTable:bt,_fnScrollDraw:m,_fnApplyToChildren:a4,_fnCalculateColumnWidths:br,_fnThrottle:aj,_fnConvertToWidth:ae,_fnScrollingWidthAdjust:ax,_fnGetWidestNode:aI,_fnGetMaxLenString:aa,_fnStringToCss:bE,_fnScrollBarWidth:a7,_fnSortFlatten:aG,_fnSort:y,_fnSortAria:a9,_fnSortListener:bf,_fnSortAttachListener:B,_fnSortingClasses:ac,_fnSortData:F,_fnSaveState:bk,_fnLoadState:bI,_fnSettingsFromNode:al,_fnLog:aL,_fnMap:Q,_fnBindAction:a8,_fnCallbackReg:bH,_fnCallbackFire:K,_fnLengthOverflow:bh,_fnRenderer:R,_fnDataSource:z,_fnRowAttributes:ab,_fnCalculateEnd:function(){}});bz.fn.dataTable=M;bz.fn.dataTableSettings=M.settings;bz.fn.dataTableExt=M.ext;bz.fn.DataTable=function(bL){return bz(this).dataTable(bL).api()};bz.each(M,function(bM,bL){bz.fn.DataTable[bM]=bL});return bz.fn.dataTable}))}(window,document));$.extend(true,$.fn.dataTable.defaults,{sDom:"<'table-header clearfix'<'table-caption'><'DT-lf-right'<'DT-per-page'l><'DT-search'f>>r>t<'table-footer clearfix'<'DT-label'i><'DT-pagination'p>>",oLanguage:{sLengthMenu:"Per page: _MENU_",sSearch:""}});$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"});if($.fn.dataTable.Api){$.fn.dataTable.defaults.renderer="bootstrap";$.fn.dataTable.ext.renderer.pageButton.bootstrap=function(f,m,l,k,j,e){var i=new $.fn.dataTable.Api(f);var g=f.oClasses;var d=f.oLanguage.oPaginate;var c,b;var h=function(o,u){var r,n,s,q;var v=function(w){w.preventDefault();if(w.data.action!=="ellipsis"){i.page(w.data.action).draw(false)}};for(r=0,n=u.length;r<n;r++){q=u[r];if($.isArray(q)){h(o,q)}else{c="";b="";switch(q){case"ellipsis":c="&hellip;";b="disabled";break;case"first":c=d.sFirst;b=q+(j>0?"":" disabled");break;case"previous":c=d.sPrevious;b=q+(j>0?"":" disabled");break;case"next":c=d.sNext;b=q+(j<e-1?"":" disabled");break;case"last":c=d.sLast;b=q+(j<e-1?"":" disabled");break;default:c=q+1;b=j===q?"active":"";break}if(c){s=$("<li>",{"class":g.sPageButton+" "+b,"aria-controls":f.sTableId,tabindex:f.iTabIndex,id:l===0&&typeof q==="string"?f.sTableId+"_"+q:null}).append($("<a>",{href:"#"}).html(c)).appendTo(o);f.oApi._fnBindAction(s,{action:q},v)}}}};h($(m).empty().html('<ul class="pagination"/>').children("ul"),k)}}else{$.fn.dataTable.defaults.sPaginationType="bootstrap";$.fn.dataTableExt.oApi.fnPagingInfo=function(b){return{iStart:b._iDisplayStart,iEnd:b.fnDisplayEnd(),iLength:b._iDisplayLength,iTotal:b.fnRecordsTotal(),iFilteredTotal:b.fnRecordsDisplay(),iPage:b._iDisplayLength===-1?0:Math.ceil(b._iDisplayStart/b._iDisplayLength),iTotalPages:b._iDisplayLength===-1?0:Math.ceil(b.fnRecordsDisplay()/b._iDisplayLength)}};$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(f,c,e){var b=f.oLanguage.oPaginate;var g=function(h){h.preventDefault();if(f.oApi._fnPageChange(f,h.data.action)){e(f)}};$(c).append('<ul class="pagination"><li class="prev disabled"><a href="#">&larr; '+b.sPrevious+'</a></li><li class="next disabled"><a href="#">'+b.sNext+" &rarr; </a></li></ul>");var d=$("a",c);$(d[0]).bind("click.DT",{action:"previous"},g);$(d[1]).bind("click.DT",{action:"next"},g)},fnUpdate:function(d,l){var m=5;var f=d.oInstance.fnPagingInfo();var k=d.aanFeatures.p;var h,n,g,e,b,o,c=Math.floor(m/2);if(f.iTotalPages<m){b=1;o=f.iTotalPages}else{if(f.iPage<=c){b=1;o=m}else{if(f.iPage>=(f.iTotalPages-c)){b=f.iTotalPages-m+1;o=f.iTotalPages}else{b=f.iPage-c+1;o=b+m-1}}}for(h=0,n=k.length;h<n;h++){$("li:gt(0)",k[h]).filter(":not(:last)").remove();for(g=b;g<=o;g++){e=(g==f.iPage+1)?'class="active"':"";$("<li "+e+'><a href="#">'+g+"</a></li>").insertBefore($("li:last",k[h])[0]).bind("click",function(i){i.preventDefault();d._iDisplayStart=(parseInt($("a",this).text(),10)-1)*f.iLength;l(d)})}if(f.iPage===0){$("li:first",k[h]).addClass("disabled")}else{$("li:first",k[h]).removeClass("disabled")}if(f.iPage===f.iTotalPages-1||f.iTotalPages===0){$("li:last",k[h]).addClass("disabled")}else{$("li:last",k[h]).removeClass("disabled")}}}}})}if($.fn.DataTable.TableTools){$.extend(true,$.fn.DataTable.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info modal"},select:{row:"active"}});$.extend(true,$.fn.DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}})}function Emitter(b){if(b){return mixin(b)}}function mixin(c){for(var b in Emitter.prototype){c[b]=Emitter.prototype[b]}return c}Emitter.prototype.on=function(c,b){this._callbacks=this._callbacks||{};(this._callbacks[c]=this._callbacks[c]||[]).push(b);return this};Emitter.prototype.once=function(e,d){var c=this;this._callbacks=this._callbacks||{};function b(){c.off(e,b);d.apply(this,arguments)}d._off=b;this.on(e,b);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=function(e,c){this._callbacks=this._callbacks||{};var d=this._callbacks[e];if(!d){return this}if(1==arguments.length){delete this._callbacks[e];return this}var b=d.indexOf(c._off||c);if(~b){d.splice(b,1)}return this};Emitter.prototype.emit=function(f){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),e=this._callbacks[f];if(e){e=e.slice(0);for(var d=0,b=e.length;d<b;++d){e[d].apply(this,c)}}return this};Emitter.prototype.listeners=function(b){this._callbacks=this._callbacks||{};return this._callbacks[b]||[]};Emitter.prototype.hasListeners=function(b){return !!this.listeners(b).length};(function(){var i,d,c,f,b,g,l,k,j={}.hasOwnProperty,e=function(q,n){for(var m in n){if(j.call(n,m)){q[m]=n[m]}}function o(){this.constructor=q}o.prototype=n.prototype;q.prototype=new o();q.__super__=n.prototype;return q},h=[].slice;d=typeof Emitter!=="undefined"&&Emitter!==null?Emitter:require("emitter");l=function(){};i=(function(n){var o;e(m,n);m.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"];m.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,addRemoveLinks:false,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(r,q){return q()},init:function(){return l},forceFallback:false,fallback:function(){var w,r,s,v,q,u;this.element.className=""+this.element.className+" dz-browser-not-supported";u=this.element.getElementsByTagName("div");for(v=0,q=u.length;v<q;v++){w=u[v];if(/(^| )dz-message($| )/.test(w.className)){r=w;w.className="dz-message";continue}}if(!r){r=m.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(r)}s=r.getElementsByTagName("span")[0];if(s){s.textContent=this.options.dictFallbackMessage}return this.element.appendChild(this.getFallbackForm())},resize:function(r){var u,s,q;u={srcX:0,srcY:0,srcWidth:r.width,srcHeight:r.height};s=r.width/r.height;q=this.options.thumbnailWidth/this.options.thumbnailHeight;if(r.height<this.options.thumbnailHeight||r.width<this.options.thumbnailWidth){u.trgHeight=u.srcHeight;u.trgWidth=u.srcWidth}else{if(s>q){u.srcHeight=r.height;u.srcWidth=u.srcHeight*q}else{u.srcWidth=r.width;u.srcHeight=u.srcWidth/q}}u.srcX=(r.width-u.srcWidth)/2;u.srcY=(r.height-u.srcHeight)/2;return u},drop:function(q){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(q){return this.element.classList.remove("dz-drag-hover")},dragenter:function(q){return this.element.classList.add("dz-drag-hover")},dragover:function(q){return this.element.classList.add("dz-drag-hover")},dragleave:function(q){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(u){var s,D,E,A,z,w,F,r,q,B,y,v,x,C=this;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}u.previewElement=m.createElement(this.options.previewTemplate.trim());u.previewTemplate=u.previewElement;this.previewsContainer.appendChild(u.previewElement);B=u.previewElement.querySelectorAll("[data-dz-name]");for(A=0,F=B.length;A<F;A++){s=B[A];s.textContent=u.name}y=u.previewElement.querySelectorAll("[data-dz-size]");for(z=0,r=y.length;z<r;z++){s=y[z];s.innerHTML=this.filesize(u.size)}if(this.options.addRemoveLinks){u._removeLink=m.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");u.previewElement.appendChild(u._removeLink)}D=function(G){G.preventDefault();G.stopPropagation();if(u.status===m.UPLOADING){return m.confirm(C.options.dictCancelUploadConfirmation,function(){return C.removeFile(u)})}else{if(C.options.dictRemoveFileConfirmation){return m.confirm(C.options.dictRemoveFileConfirmation,function(){return C.removeFile(u)})}else{return C.removeFile(u)}}};v=u.previewElement.querySelectorAll("[data-dz-remove]");x=[];for(w=0,q=v.length;w<q;w++){E=v[w];x.push(E.addEventListener("click",D))}return x},removedfile:function(q){var r;if((r=q.previewElement)!=null){r.parentNode.removeChild(q.previewElement)}return this._updateMaxFilesReachedClass()},thumbnail:function(u,x){var s,w,r,v,q;u.previewElement.classList.remove("dz-file-preview");u.previewElement.classList.add("dz-image-preview");v=u.previewElement.querySelectorAll("[data-dz-thumbnail]");q=[];for(w=0,r=v.length;w<r;w++){s=v[w];s.alt=u.name;q.push(s.src=x)}return q},error:function(s,v){var u,x,r,w,q;s.previewElement.classList.add("dz-error");if(typeof v!=="String"&&v.error){v=v.error}w=s.previewElement.querySelectorAll("[data-dz-errormessage]");q=[];for(x=0,r=w.length;x<r;x++){u=w[x];q.push(u.textContent=v)}return q},errormultiple:l,processing:function(q){q.previewElement.classList.add("dz-processing");if(q._removeLink){return q._removeLink.textContent=this.options.dictCancelUpload}},processingmultiple:l,uploadprogress:function(v,s,u){var w,y,r,x,q;x=v.previewElement.querySelectorAll("[data-dz-uploadprogress]");q=[];for(y=0,r=x.length;y<r;y++){w=x[y];q.push(w.style.width=""+s+"%")}return q},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(q){return q.previewElement.classList.add("dz-success")},successmultiple:l,canceled:function(q){return this.emit("error",q,"Upload canceled.")},canceledmultiple:l,complete:function(q){if(q._removeLink){return q._removeLink.textContent=this.options.dictRemoveFile}},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>✔</span></div>\n  <div class="dz-error-mark"><span>✘</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'};o=function(){var s,r,v,w,x,u,q;w=arguments[0],v=2<=arguments.length?h.call(arguments,1):[];for(u=0,q=v.length;u<q;u++){r=v[u];for(s in r){x=r[s];w[s]=x}}return w};function m(s,r){var q,v,u;this.element=s;this.version=m.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}m.instances.push(this);this.element.dropzone=this;q=(u=m.optionsForElement(this.element))!=null?u:{};this.options=o({},this.defaultOptions,q,r!=null?r:{});if(this.options.forceFallback||!m.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((v=this.getExistingFallback())&&v.parentNode){v.parentNode.removeChild(v)}if(this.options.previewsContainer){this.previewsContainer=m.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=m.getElements(this.options.clickable,"clickable")}}this.init()}m.prototype.getAcceptedFiles=function(){var s,v,r,u,q;u=this.files;q=[];for(v=0,r=u.length;v<r;v++){s=u[v];if(s.accepted){q.push(s)}}return q};m.prototype.getRejectedFiles=function(){var s,v,r,u,q;u=this.files;q=[];for(v=0,r=u.length;v<r;v++){s=u[v];if(!s.accepted){q.push(s)}}return q};m.prototype.getQueuedFiles=function(){var s,v,r,u,q;u=this.files;q=[];for(v=0,r=u.length;v<r;v++){s=u[v];if(s.status===m.QUEUED){q.push(s)}}return q};m.prototype.getUploadingFiles=function(){var s,v,r,u,q;u=this.files;q=[];for(v=0,r=u.length;v<r;v++){s=u[v];if(s.status===m.UPLOADING){q.push(s)}}return q};m.prototype.init=function(){var s,x,w,v,r,u,q,y=this;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(m.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){w=function(){if(y.hiddenFileInput){document.body.removeChild(y.hiddenFileInput)}y.hiddenFileInput=document.createElement("input");y.hiddenFileInput.setAttribute("type","file");if((y.options.maxFiles==null)||y.options.maxFiles>1){y.hiddenFileInput.setAttribute("multiple","multiple")}if(y.options.acceptedFiles!=null){y.hiddenFileInput.setAttribute("accept",y.options.acceptedFiles)}y.hiddenFileInput.style.visibility="hidden";y.hiddenFileInput.style.position="absolute";y.hiddenFileInput.style.top="0";y.hiddenFileInput.style.left="0";y.hiddenFileInput.style.height="0";y.hiddenFileInput.style.width="0";document.body.appendChild(y.hiddenFileInput);return y.hiddenFileInput.addEventListener("change",function(){var A,B,C,z;B=y.hiddenFileInput.files;if(B.length){for(C=0,z=B.length;C<z;C++){A=B[C];y.addFile(A)}}return w()})};w()}this.URL=(u=window.URL)!=null?u:window.webkitURL;q=this.events;for(v=0,r=q.length;v<r;v++){s=q[v];this.on(s,this.options[s])}this.on("uploadprogress",function(){return y.updateTotalUploadProgress()});this.on("removedfile",function(){return y.updateTotalUploadProgress()});this.on("canceled",function(z){return y.emit("complete",z)});this.on("complete",function(z){if(y.getUploadingFiles().length===0&&y.getQueuedFiles().length===0){return setTimeout((function(){return y.emit("queuecomplete")}),0)}});x=function(z){z.stopPropagation();if(z.preventDefault){return z.preventDefault()}else{return z.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:function(z){return y.emit("dragstart",z)},dragenter:function(z){x(z);return y.emit("dragenter",z)},dragover:function(A){var z;try{z=A.dataTransfer.effectAllowed}catch(B){}A.dataTransfer.dropEffect="move"===z||"linkMove"===z?"move":"copy";x(A);return y.emit("dragover",A)},dragleave:function(z){return y.emit("dragleave",z)},drop:function(z){x(z);return y.drop(z)},dragend:function(z){return y.emit("dragend",z)}}}];this.clickableElements.forEach(function(z){return y.listeners.push({element:z,events:{click:function(A){if((z!==y.element)||(A.target===y.element||m.elementInside(A.target,y.element.querySelector(".dz-message")))){return y.hiddenFileInput.click()}}}})});this.enable();return this.options.init.call(this)};m.prototype.destroy=function(){var q;this.disable();this.removeAllFiles(true);if((q=this.hiddenFileInput)!=null?q.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return m.instances.splice(m.instances.indexOf(this),1)};m.prototype.updateTotalUploadProgress=function(){var r,u,y,q,x,w,s,v;q=0;y=0;r=this.getAcceptedFiles();if(r.length){v=this.getAcceptedFiles();for(w=0,s=v.length;w<s;w++){u=v[w];q+=u.upload.bytesSent;y+=u.upload.total}x=100*q/y}else{x=100}return this.emit("totaluploadprogress",x,y,q)};m.prototype.getFallbackForm=function(){var r,q,u,s;if(r=this.getExistingFallback()){return r}u='<div class="dz-fallback">';if(this.options.dictFallbackText){u+="<p>"+this.options.dictFallbackText+"</p>"}u+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';q=m.createElement(u);if(this.element.tagName!=="FORM"){s=m.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');s.appendChild(q)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return s!=null?s:q};m.prototype.getExistingFallback=function(){var w,s,r,v,q,u;s=function(A){var y,z,x;for(z=0,x=A.length;z<x;z++){y=A[z];if(/(^| )fallback($| )/.test(y.className)){return y}}};u=["div","form"];for(v=0,q=u.length;v<q;v++){r=u[v];if(w=s(this.element.getElementsByTagName(r))){return w}}};m.prototype.setupEventListeners=function(){var u,s,x,w,r,v,q;v=this.listeners;q=[];for(w=0,r=v.length;w<r;w++){u=v[w];q.push((function(){var y,z;y=u.events;z=[];for(s in y){x=y[s];z.push(u.element.addEventListener(s,x,false))}return z})())}return q};m.prototype.removeEventListeners=function(){var u,s,x,w,r,v,q;v=this.listeners;q=[];for(w=0,r=v.length;w<r;w++){u=v[w];q.push((function(){var y,z;y=u.events;z=[];for(s in y){x=y[s];z.push(u.element.removeEventListener(s,x,false))}return z})())}return q};m.prototype.disable=function(){var s,v,r,u,q;this.clickableElements.forEach(function(w){return w.classList.remove("dz-clickable")});this.removeEventListeners();u=this.files;q=[];for(v=0,r=u.length;v<r;v++){s=u[v];q.push(this.cancelUpload(s))}return q};m.prototype.enable=function(){this.clickableElements.forEach(function(q){return q.classList.add("dz-clickable")});return this.setupEventListeners()};m.prototype.filesize=function(r){var q;if(r>=1024*1024*1024*1024/10){r=r/(1024*1024*1024*1024/10);q="TiB"}else{if(r>=1024*1024*1024/10){r=r/(1024*1024*1024/10);q="GiB"}else{if(r>=1024*1024/10){r=r/(1024*1024/10);q="MiB"}else{if(r>=1024/10){r=r/(1024/10);q="KiB"}else{r=r*10;q="b"}}}}return"<strong>"+(Math.round(r)/10)+"</strong> "+q};m.prototype._updateMaxFilesReachedClass=function(){if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};m.prototype.drop=function(s){var r,q;if(!s.dataTransfer){return}this.emit("drop",s);r=s.dataTransfer.files;if(r.length){q=s.dataTransfer.items;if(q&&q.length&&(q[0].webkitGetAsEntry!=null)){this._addFilesFromItems(q)}else{this.handleFiles(r)}}};m.prototype.paste=function(s){var q,r;if((s!=null?(r=s.clipboardData)!=null?r.items:void 0:void 0)==null){return}this.emit("paste",s);q=s.clipboardData.items;if(q.length){return this._addFilesFromItems(q)}};m.prototype.handleFiles=function(u){var s,v,r,q;q=[];for(v=0,r=u.length;v<r;v++){s=u[v];q.push(this.addFile(s))}return q};m.prototype._addFilesFromItems=function(s){var v,u,w,r,q;q=[];for(w=0,r=s.length;w<r;w++){u=s[w];if((u.webkitGetAsEntry!=null)&&(v=u.webkitGetAsEntry())){if(v.isFile){q.push(this.addFile(u.getAsFile()))}else{if(v.isDirectory){q.push(this._addFilesFromDirectory(v,v.name))}else{q.push(void 0)}}}else{if(u.getAsFile!=null){if((u.kind==null)||u.kind==="file"){q.push(this.addFile(u.getAsFile()))}else{q.push(void 0)}}else{q.push(void 0)}}}return q};m.prototype._addFilesFromDirectory=function(q,s){var r,v,u=this;r=q.createReader();v=function(w){var y,z,x;for(z=0,x=w.length;z<x;z++){y=w[z];if(y.isFile){y.file(function(A){if(u.options.ignoreHiddenFiles&&A.name.substring(0,1)==="."){return}A.fullPath=""+s+"/"+A.name;return u.addFile(A)})}else{if(y.isDirectory){u._addFilesFromDirectory(y,""+s+"/"+y.name)}}}};return r.readEntries(v,function(w){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(w):void 0:void 0})};m.prototype.accept=function(r,q){if(r.size>this.options.maxFilesize*1024*1024){return q(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(r.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else{if(!m.isValidFile(r,this.options.acceptedFiles)){return q(this.options.dictInvalidFileType)}else{if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){q(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",r)}else{return this.options.accept.call(this,r,q)}}}};m.prototype.addFile=function(q){var r=this;q.upload={progress:0,total:q.size,bytesSent:0};this.files.push(q);q.status=m.ADDED;this.emit("addedfile",q);this._enqueueThumbnail(q);return this.accept(q,function(s){if(s){q.accepted=false;r._errorProcessing([q],s)}else{r.enqueueFile(q)}return r._updateMaxFilesReachedClass()})};m.prototype.enqueueFiles=function(s){var r,u,q;for(u=0,q=s.length;u<q;u++){r=s[u];this.enqueueFile(r)}return null};m.prototype.enqueueFile=function(q){var r=this;q.accepted=true;if(q.status===m.ADDED){q.status=m.QUEUED;if(this.options.autoProcessQueue){return setTimeout((function(){return r.processQueue()}),0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};m.prototype._thumbnailQueue=[];m.prototype._processingThumbnail=false;m.prototype._enqueueThumbnail=function(q){var r=this;if(this.options.createImageThumbnails&&q.type.match(/image.*/)&&q.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(q);return setTimeout((function(){return r._processThumbnailQueue()}),0)}};m.prototype._processThumbnailQueue=function(){var q=this;if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;return this.createThumbnail(this._thumbnailQueue.shift(),function(){q._processingThumbnail=false;return q._processThumbnailQueue()})};m.prototype.removeFile=function(q){if(q.status===m.UPLOADING){this.cancelUpload(q)}this.files=k(this.files,q);this.emit("removedfile",q);if(this.files.length===0){return this.emit("reset")}};m.prototype.removeAllFiles=function(v){var r,u,q,s;if(v==null){v=false}s=this.files.slice();for(u=0,q=s.length;u<q;u++){r=s[u];if(r.status!==m.UPLOADING||v){this.removeFile(r)}}return null};m.prototype.createThumbnail=function(r,u){var q,s=this;q=new FileReader;q.onload=function(){var v;v=document.createElement("img");v.onload=function(){var y,x,B,D,z,w,C,A;r.width=v.width;r.height=v.height;B=s.options.resize.call(s,r);if(B.trgWidth==null){B.trgWidth=s.options.thumbnailWidth}if(B.trgHeight==null){B.trgHeight=s.options.thumbnailHeight}y=document.createElement("canvas");x=y.getContext("2d");y.width=B.trgWidth;y.height=B.trgHeight;g(x,v,(z=B.srcX)!=null?z:0,(w=B.srcY)!=null?w:0,B.srcWidth,B.srcHeight,(C=B.trgX)!=null?C:0,(A=B.trgY)!=null?A:0,B.trgWidth,B.trgHeight);D=y.toDataURL("image/png");s.emit("thumbnail",r,D);if(u!=null){return u()}};return v.src=q.result};return q.readAsDataURL(r)};m.prototype.processQueue=function(){var r,u,q,s;u=this.options.parallelUploads;q=this.getUploadingFiles().length;r=q;if(q>=u){return}s=this.getQueuedFiles();if(!(s.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(s.slice(0,u-q))}else{while(r<u){if(!s.length){return}this.processFile(s.shift());r++}}};m.prototype.processFile=function(q){return this.processFiles([q])};m.prototype.processFiles=function(s){var r,u,q;for(u=0,q=s.length;u<q;u++){r=s[u];r.processing=true;r.status=m.UPLOADING;this.emit("processing",r)}if(this.options.uploadMultiple){this.emit("processingmultiple",s)}return this.uploadFiles(s)};m.prototype._getFilesWithXhr=function(s){var q,r;return r=(function(){var x,v,w,u;w=this.files;u=[];for(x=0,v=w.length;x<v;x++){q=w[x];if(q.xhr===s){u.push(q)}}return u}).call(this)};m.prototype.cancelUpload=function(v){var s,u,y,w,r,q,x;if(v.status===m.UPLOADING){u=this._getFilesWithXhr(v.xhr);for(y=0,r=u.length;y<r;y++){s=u[y];s.status=m.CANCELED}v.xhr.abort();for(w=0,q=u.length;w<q;w++){s=u[w];this.emit("canceled",s)}if(this.options.uploadMultiple){this.emit("canceledmultiple",u)}}else{if((x=v.status)===m.ADDED||x===m.QUEUED){v.status=m.CANCELED;this.emit("canceled",v);if(this.options.uploadMultiple){this.emit("canceledmultiple",[v])}}}if(this.options.autoProcessQueue){return this.processQueue()}};m.prototype.uploadFile=function(q){return this.uploadFiles([q])};m.prototype.uploadFiles=function(C){var R,Q,H,M,E,z,K,G,N,X,L,D,s,I,O,F,y,w,u,r,U,W,V,T,S,q,J,B,A,x,v,P=this;F=new XMLHttpRequest();for(y=0,U=C.length;y<U;y++){R=C[y];R.xhr=F}F.open(this.options.method,this.options.url,true);F.withCredentials=!!this.options.withCredentials;s=null;H=function(){var aa,Z,Y;Y=[];for(aa=0,Z=C.length;aa<Z;aa++){R=C[aa];Y.push(P._errorProcessing(C,s||P.options.dictResponseError.replace("{{statusCode}}",F.status),F))}return Y};I=function(ah){var ac,Z,ag,ae,ad,ab,aa,Y,af;if(ah!=null){Z=100*ah.loaded/ah.total;for(ag=0,ab=C.length;ag<ab;ag++){R=C[ag];R.upload={progress:Z,total:ah.total,bytesSent:ah.loaded}}}else{ac=true;Z=100;for(ae=0,aa=C.length;ae<aa;ae++){R=C[ae];if(!(R.upload.progress===100&&R.upload.bytesSent===R.upload.total)){ac=false}R.upload.progress=Z;R.upload.bytesSent=R.upload.total}if(ac){return}}af=[];for(ad=0,Y=C.length;ad<Y;ad++){R=C[ad];af.push(P.emit("uploadprogress",R,Z,R.upload.bytesSent))}return af};F.onload=function(Z){var Y;if(C[0].status===m.CANCELED){return}if(F.readyState!==4){return}s=F.responseText;if(F.getResponseHeader("content-type")&&~F.getResponseHeader("content-type").indexOf("application/json")){try{s=JSON.parse(s)}catch(aa){Z=aa;s="Invalid JSON response from server."}}I();if(!((200<=(Y=F.status)&&Y<300))){return H()}else{return P._finished(C,s,Z)}};F.onerror=function(){if(C[0].status===m.CANCELED){return}return H()};D=(J=F.upload)!=null?J:F;D.onprogress=I;z={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){o(z,this.options.headers)}for(M in z){E=z[M];F.setRequestHeader(M,E)}Q=new FormData();if(this.options.params){B=this.options.params;for(X in B){O=B[X];Q.append(X,O)}}for(w=0,W=C.length;w<W;w++){R=C[w];this.emit("sending",R,F,Q)}if(this.options.uploadMultiple){this.emit("sendingmultiple",C,F,Q)}if(this.element.tagName==="FORM"){A=this.element.querySelectorAll("input, textarea, select, button");for(u=0,V=A.length;u<V;u++){K=A[u];G=K.getAttribute("name");N=K.getAttribute("type");if(K.tagName==="SELECT"&&K.hasAttribute("multiple")){x=K.options;for(r=0,T=x.length;r<T;r++){L=x[r];if(L.selected){Q.append(G,L.value)}}}else{if(!N||((v=N.toLowerCase())!=="checkbox"&&v!=="radio")||K.checked){Q.append(G,K.value)}}}}for(q=0,S=C.length;q<S;q++){R=C[q];Q.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),R,R.name)}return F.send(Q)};m.prototype._finished=function(s,v,w){var r,u,q;for(u=0,q=s.length;u<q;u++){r=s[u];r.status=m.SUCCESS;this.emit("success",r,v,w);this.emit("complete",r)}if(this.options.uploadMultiple){this.emit("successmultiple",s,v,w);this.emit("completemultiple",s)}if(this.options.autoProcessQueue){return this.processQueue()}};m.prototype._errorProcessing=function(u,s,w){var r,v,q;for(v=0,q=u.length;v<q;v++){r=u[v];r.status=m.ERROR;this.emit("error",r,s,w);this.emit("complete",r)}if(this.options.uploadMultiple){this.emit("errormultiple",u,s,w);this.emit("completemultiple",u)}if(this.options.autoProcessQueue){return this.processQueue()}};return m})(d);i.version="3.8.4";i.options={};i.optionsForElement=function(m){if(m.getAttribute("id")){return i.options[c(m.getAttribute("id"))]}else{return void 0}};i.instances=[];i.forElement=function(m){if(typeof m==="string"){m=document.querySelector(m)}if((m!=null?m.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return m.dropzone};i.autoDiscover=true;i.discover=function(){var s,o,q,r,n,m;if(document.querySelectorAll){q=document.querySelectorAll(".dropzone")}else{q=[];s=function(y){var w,x,v,u;u=[];for(x=0,v=y.length;x<v;x++){w=y[x];if(/(^| )dropzone($| )/.test(w.className)){u.push(q.push(w))}else{u.push(void 0)}}return u};s(document.getElementsByTagName("div"));s(document.getElementsByTagName("form"))}m=[];for(r=0,n=q.length;r<n;r++){o=q[r];if(i.optionsForElement(o)!==false){m.push(new i(o))}else{m.push(void 0)}}return m};i.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];i.isBrowserSupported=function(){var n,o,r,m,q;n=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList" in document.createElement("a"))){n=false}else{q=i.blacklistedBrowsers;for(r=0,m=q.length;r<m;r++){o=q[r];if(o.test(navigator.userAgent)){n=false;continue}}}}else{n=false}return n};k=function(s,o){var q,r,n,m;m=[];for(r=0,n=s.length;r<n;r++){q=s[r];if(q!==o){m.push(q)}}return m};c=function(m){return m.replace(/[\-_](\w)/g,function(n){return n[1].toUpperCase()})};i.createElement=function(m){var n;n=document.createElement("div");n.innerHTML=m;return n.childNodes[0]};i.elementInside=function(n,m){if(n===m){return true}while(n=n.parentNode){if(n===m){return true}}return false};i.getElement=function(o,m){var n;if(typeof o==="string"){n=document.querySelector(o)}else{if(o.nodeType!=null){n=o}}if(n==null){throw new Error("Invalid `"+m+"` option provided. Please provide a CSS selector or a plain HTML element.")}return n};i.getElements=function(u,n){var w,q,m,s,r,x,o,v;if(u instanceof Array){m=[];try{for(s=0,x=u.length;s<x;s++){q=u[s];m.push(this.getElement(q,n))}}catch(y){w=y;m=null}}else{if(typeof u==="string"){m=[];v=document.querySelectorAll(u);for(r=0,o=v.length;r<o;r++){q=v[r];m.push(q)}}else{if(u.nodeType!=null){m=[u]}}}if(!((m!=null)&&m.length)){throw new Error("Invalid `"+n+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return m};i.confirm=function(m,o,n){if(window.confirm(m)){return o()}else{if(n!=null){return n()}}};i.isValidFile=function(q,m){var o,u,r,s,n;if(!m){return true}m=m.split(",");u=q.type;o=u.replace(/\/.*$/,"");for(s=0,n=m.length;s<n;s++){r=m[s];r=r.trim();if(r.charAt(0)==="."){if(q.name.toLowerCase().indexOf(r.toLowerCase(),q.name.length-r.length)!==-1){return true}}else{if(/\/\*$/.test(r)){if(o===r.replace(/\/.*$/,"")){return true}}else{if(u===r){return true}}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(m){return this.each(function(){return new i(this,m)})}}if(typeof module!=="undefined"&&module!==null){module.exports=i}else{window.Dropzone=i}i.ADDED="added";i.QUEUED="queued";i.ACCEPTED=i.QUEUED;i.UPLOADING="uploading";i.PROCESSING=i.UPLOADING;i.CANCELED="canceled";i.ERROR="error";i.SUCCESS="success";b=function(r){var o,m,y,q,s,x,n,w,u,v;n=r.naturalWidth;x=r.naturalHeight;m=document.createElement("canvas");m.width=1;m.height=x;y=m.getContext("2d");y.drawImage(r,0,0);q=y.getImageData(0,0,1,x).data;v=0;s=x;w=x;while(w>v){o=q[(w-1)*4+3];if(o===0){s=w}else{v=w}w=(s+v)>>1}u=w/x;if(u===0){return 1}else{return u}};g=function(w,n,u,s,v,o,y,x,m,r){var q;q=b(n);return w.drawImage(n,u,s,v,o,y,x,m,r/q)};f=function(o,u){var z,v,n,y,q,m,x,s,r;n=false;r=true;v=o.document;s=v.documentElement;z=(v.addEventListener?"addEventListener":"attachEvent");x=(v.addEventListener?"removeEventListener":"detachEvent");m=(v.addEventListener?"":"on");y=function(A){if(A.type==="readystatechange"&&v.readyState!=="complete"){return}(A.type==="load"?o:v)[x](m+A.type,y,false);if(!n&&(n=true)){return u.call(o,A.type||A)}};q=function(){var A;try{s.doScroll("left")}catch(B){A=B;setTimeout(q,50);return}return y("poll")};if(v.readyState!=="complete"){if(v.createEventObject&&s.doScroll){try{r=!o.frameElement}catch(w){}if(r){q()}}v[z](m+"DOMContentLoaded",y,false);v[z](m+"readystatechange",y,false);return o[z](m+"load",y,false)}};i._autoDiscoverFunction=function(){if(i.autoDiscover){return i.discover()}};f(window,i._autoDiscoverFunction)}).call(this);(function(){var i,d,c,f,b,g,l,k,j={}.hasOwnProperty,e=function(q,n){for(var m in n){if(j.call(n,m)){q[m]=n[m]}}function o(){this.constructor=q}o.prototype=n.prototype;q.prototype=new o();q.__super__=n.prototype;return q},h=[].slice;d=typeof Emitter!=="undefined"&&Emitter!==null?Emitter:require("emitter");l=function(){};i=(function(n){var o;e(m,n);m.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"];m.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,addRemoveLinks:false,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(r,q){return q()},init:function(){return l},forceFallback:false,fallback:function(){var w,r,s,v,q,u;this.element.className=""+this.element.className+" dz-browser-not-supported";u=this.element.getElementsByTagName("div");for(v=0,q=u.length;v<q;v++){w=u[v];if(/(^| )dz-message($| )/.test(w.className)){r=w;w.className="dz-message";continue}}if(!r){r=m.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(r)}s=r.getElementsByTagName("span")[0];if(s){s.textContent=this.options.dictFallbackMessage}return this.element.appendChild(this.getFallbackForm())},resize:function(r){var u,s,q;u={srcX:0,srcY:0,srcWidth:r.width,srcHeight:r.height};s=r.width/r.height;q=this.options.thumbnailWidth/this.options.thumbnailHeight;if(r.height<this.options.thumbnailHeight||r.width<this.options.thumbnailWidth){u.trgHeight=u.srcHeight;u.trgWidth=u.srcWidth}else{if(s>q){u.srcHeight=r.height;u.srcWidth=u.srcHeight*q}else{u.srcWidth=r.width;u.srcHeight=u.srcWidth/q}}u.srcX=(r.width-u.srcWidth)/2;u.srcY=(r.height-u.srcHeight)/2;return u},drop:function(q){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(q){return this.element.classList.remove("dz-drag-hover")},dragenter:function(q){return this.element.classList.add("dz-drag-hover")},dragover:function(q){return this.element.classList.add("dz-drag-hover")},dragleave:function(q){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(u){var s,D,E,A,z,w,F,r,q,B,y,v,x,C=this;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}u.previewElement=m.createElement(this.options.previewTemplate.trim());u.previewTemplate=u.previewElement;this.previewsContainer.appendChild(u.previewElement);B=u.previewElement.querySelectorAll("[data-dz-name]");for(A=0,F=B.length;A<F;A++){s=B[A];s.textContent=u.name}y=u.previewElement.querySelectorAll("[data-dz-size]");for(z=0,r=y.length;z<r;z++){s=y[z];s.innerHTML=this.filesize(u.size)}if(this.options.addRemoveLinks){u._removeLink=m.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");u.previewElement.appendChild(u._removeLink)}D=function(G){G.preventDefault();G.stopPropagation();if(u.status===m.UPLOADING){return m.confirm(C.options.dictCancelUploadConfirmation,function(){return C.removeFile(u)})}else{if(C.options.dictRemoveFileConfirmation){return m.confirm(C.options.dictRemoveFileConfirmation,function(){return C.removeFile(u)})}else{return C.removeFile(u)}}};v=u.previewElement.querySelectorAll("[data-dz-remove]");x=[];for(w=0,q=v.length;w<q;w++){E=v[w];x.push(E.addEventListener("click",D))}return x},removedfile:function(q){var r;if((r=q.previewElement)!=null){r.parentNode.removeChild(q.previewElement)}return this._updateMaxFilesReachedClass()},thumbnail:function(u,x){var s,w,r,v,q;u.previewElement.classList.remove("dz-file-preview");u.previewElement.classList.add("dz-image-preview");v=u.previewElement.querySelectorAll("[data-dz-thumbnail]");q=[];for(w=0,r=v.length;w<r;w++){s=v[w];s.alt=u.name;q.push(s.src=x)}return q},error:function(s,v){var u,x,r,w,q;s.previewElement.classList.add("dz-error");if(typeof v!=="String"&&v.error){v=v.error}w=s.previewElement.querySelectorAll("[data-dz-errormessage]");q=[];for(x=0,r=w.length;x<r;x++){u=w[x];q.push(u.textContent=v)}return q},errormultiple:l,processing:function(q){q.previewElement.classList.add("dz-processing");if(q._removeLink){return q._removeLink.textContent=this.options.dictCancelUpload}},processingmultiple:l,uploadprogress:function(v,s,u){var w,y,r,x,q;x=v.previewElement.querySelectorAll("[data-dz-uploadprogress]");q=[];for(y=0,r=x.length;y<r;y++){w=x[y];q.push(w.style.width=""+s+"%")}return q},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(q){return q.previewElement.classList.add("dz-success")},successmultiple:l,canceled:function(q){return this.emit("error",q,"Upload canceled.")},canceledmultiple:l,complete:function(q){if(q._removeLink){return q._removeLink.textContent=this.options.dictRemoveFile}},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>✔</span></div>\n  <div class="dz-error-mark"><span>✘</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'};o=function(){var s,r,v,w,x,u,q;w=arguments[0],v=2<=arguments.length?h.call(arguments,1):[];for(u=0,q=v.length;u<q;u++){r=v[u];for(s in r){x=r[s];w[s]=x}}return w};function m(s,r){var q,v,u;this.element=s;this.version=m.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}m.instances.push(this);this.element.dropzone=this;q=(u=m.optionsForElement(this.element))!=null?u:{};this.options=o({},this.defaultOptions,q,r!=null?r:{});if(this.options.forceFallback||!m.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((v=this.getExistingFallback())&&v.parentNode){v.parentNode.removeChild(v)}if(this.options.previewsContainer){this.previewsContainer=m.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=m.getElements(this.options.clickable,"clickable")}}this.init()}m.prototype.getAcceptedFiles=function(){var s,v,r,u,q;u=this.files;q=[];for(v=0,r=u.length;v<r;v++){s=u[v];if(s.accepted){q.push(s)}}return q};m.prototype.getRejectedFiles=function(){var s,v,r,u,q;u=this.files;q=[];for(v=0,r=u.length;v<r;v++){s=u[v];if(!s.accepted){q.push(s)}}return q};m.prototype.getQueuedFiles=function(){var s,v,r,u,q;u=this.files;q=[];for(v=0,r=u.length;v<r;v++){s=u[v];if(s.status===m.QUEUED){q.push(s)}}return q};m.prototype.getUploadingFiles=function(){var s,v,r,u,q;u=this.files;q=[];for(v=0,r=u.length;v<r;v++){s=u[v];if(s.status===m.UPLOADING){q.push(s)}}return q};m.prototype.init=function(){var s,x,w,v,r,u,q,y=this;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(m.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){w=function(){if(y.hiddenFileInput){document.body.removeChild(y.hiddenFileInput)}y.hiddenFileInput=document.createElement("input");y.hiddenFileInput.setAttribute("type","file");if((y.options.maxFiles==null)||y.options.maxFiles>1){y.hiddenFileInput.setAttribute("multiple","multiple")}if(y.options.acceptedFiles!=null){y.hiddenFileInput.setAttribute("accept",y.options.acceptedFiles)}y.hiddenFileInput.style.visibility="hidden";y.hiddenFileInput.style.position="absolute";y.hiddenFileInput.style.top="0";y.hiddenFileInput.style.left="0";y.hiddenFileInput.style.height="0";y.hiddenFileInput.style.width="0";document.body.appendChild(y.hiddenFileInput);return y.hiddenFileInput.addEventListener("change",function(){var A,B,C,z;B=y.hiddenFileInput.files;if(B.length){for(C=0,z=B.length;C<z;C++){A=B[C];y.addFile(A)}}return w()})};w()}this.URL=(u=window.URL)!=null?u:window.webkitURL;q=this.events;for(v=0,r=q.length;v<r;v++){s=q[v];this.on(s,this.options[s])}this.on("uploadprogress",function(){return y.updateTotalUploadProgress()});this.on("removedfile",function(){return y.updateTotalUploadProgress()});this.on("canceled",function(z){return y.emit("complete",z)});this.on("complete",function(z){if(y.getUploadingFiles().length===0&&y.getQueuedFiles().length===0){return setTimeout((function(){return y.emit("queuecomplete")}),0)}});x=function(z){z.stopPropagation();if(z.preventDefault){return z.preventDefault()}else{return z.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:function(z){return y.emit("dragstart",z)},dragenter:function(z){x(z);return y.emit("dragenter",z)},dragover:function(A){var z;try{z=A.dataTransfer.effectAllowed}catch(B){}A.dataTransfer.dropEffect="move"===z||"linkMove"===z?"move":"copy";x(A);return y.emit("dragover",A)},dragleave:function(z){return y.emit("dragleave",z)},drop:function(z){x(z);return y.drop(z)},dragend:function(z){return y.emit("dragend",z)}}}];this.clickableElements.forEach(function(z){return y.listeners.push({element:z,events:{click:function(A){if((z!==y.element)||(A.target===y.element||m.elementInside(A.target,y.element.querySelector(".dz-message")))){return y.hiddenFileInput.click()}}}})});this.enable();return this.options.init.call(this)};m.prototype.destroy=function(){var q;this.disable();this.removeAllFiles(true);if((q=this.hiddenFileInput)!=null?q.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return m.instances.splice(m.instances.indexOf(this),1)};m.prototype.updateTotalUploadProgress=function(){var r,u,y,q,x,w,s,v;q=0;y=0;r=this.getAcceptedFiles();if(r.length){v=this.getAcceptedFiles();for(w=0,s=v.length;w<s;w++){u=v[w];q+=u.upload.bytesSent;y+=u.upload.total}x=100*q/y}else{x=100}return this.emit("totaluploadprogress",x,y,q)};m.prototype.getFallbackForm=function(){var r,q,u,s;if(r=this.getExistingFallback()){return r}u='<div class="dz-fallback">';if(this.options.dictFallbackText){u+="<p>"+this.options.dictFallbackText+"</p>"}u+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';q=m.createElement(u);if(this.element.tagName!=="FORM"){s=m.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');s.appendChild(q)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return s!=null?s:q};m.prototype.getExistingFallback=function(){var w,s,r,v,q,u;s=function(A){var y,z,x;for(z=0,x=A.length;z<x;z++){y=A[z];if(/(^| )fallback($| )/.test(y.className)){return y}}};u=["div","form"];for(v=0,q=u.length;v<q;v++){r=u[v];if(w=s(this.element.getElementsByTagName(r))){return w}}};m.prototype.setupEventListeners=function(){var u,s,x,w,r,v,q;v=this.listeners;q=[];for(w=0,r=v.length;w<r;w++){u=v[w];q.push((function(){var y,z;y=u.events;z=[];for(s in y){x=y[s];z.push(u.element.addEventListener(s,x,false))}return z})())}return q};m.prototype.removeEventListeners=function(){var u,s,x,w,r,v,q;v=this.listeners;q=[];for(w=0,r=v.length;w<r;w++){u=v[w];q.push((function(){var y,z;y=u.events;z=[];for(s in y){x=y[s];z.push(u.element.removeEventListener(s,x,false))}return z})())}return q};m.prototype.disable=function(){var s,v,r,u,q;this.clickableElements.forEach(function(w){return w.classList.remove("dz-clickable")});this.removeEventListeners();u=this.files;q=[];for(v=0,r=u.length;v<r;v++){s=u[v];q.push(this.cancelUpload(s))}return q};m.prototype.enable=function(){this.clickableElements.forEach(function(q){return q.classList.add("dz-clickable")});return this.setupEventListeners()};m.prototype.filesize=function(r){var q;if(r>=1024*1024*1024*1024/10){r=r/(1024*1024*1024*1024/10);q="TiB"}else{if(r>=1024*1024*1024/10){r=r/(1024*1024*1024/10);q="GiB"}else{if(r>=1024*1024/10){r=r/(1024*1024/10);q="MiB"}else{if(r>=1024/10){r=r/(1024/10);q="KiB"}else{r=r*10;q="b"}}}}return"<strong>"+(Math.round(r)/10)+"</strong> "+q};m.prototype._updateMaxFilesReachedClass=function(){if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};m.prototype.drop=function(s){var r,q;if(!s.dataTransfer){return}this.emit("drop",s);r=s.dataTransfer.files;if(r.length){q=s.dataTransfer.items;if(q&&q.length&&(q[0].webkitGetAsEntry!=null)){this._addFilesFromItems(q)}else{this.handleFiles(r)}}};m.prototype.paste=function(s){var q,r;if((s!=null?(r=s.clipboardData)!=null?r.items:void 0:void 0)==null){return}this.emit("paste",s);q=s.clipboardData.items;if(q.length){return this._addFilesFromItems(q)}};m.prototype.handleFiles=function(u){var s,v,r,q;q=[];for(v=0,r=u.length;v<r;v++){s=u[v];q.push(this.addFile(s))}return q};m.prototype._addFilesFromItems=function(s){var v,u,w,r,q;q=[];for(w=0,r=s.length;w<r;w++){u=s[w];if((u.webkitGetAsEntry!=null)&&(v=u.webkitGetAsEntry())){if(v.isFile){q.push(this.addFile(u.getAsFile()))}else{if(v.isDirectory){q.push(this._addFilesFromDirectory(v,v.name))}else{q.push(void 0)}}}else{if(u.getAsFile!=null){if((u.kind==null)||u.kind==="file"){q.push(this.addFile(u.getAsFile()))}else{q.push(void 0)}}else{q.push(void 0)}}}return q};m.prototype._addFilesFromDirectory=function(q,s){var r,v,u=this;r=q.createReader();v=function(w){var y,z,x;for(z=0,x=w.length;z<x;z++){y=w[z];if(y.isFile){y.file(function(A){if(u.options.ignoreHiddenFiles&&A.name.substring(0,1)==="."){return}A.fullPath=""+s+"/"+A.name;return u.addFile(A)})}else{if(y.isDirectory){u._addFilesFromDirectory(y,""+s+"/"+y.name)}}}};return r.readEntries(v,function(w){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(w):void 0:void 0})};m.prototype.accept=function(r,q){if(r.size>this.options.maxFilesize*1024*1024){return q(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(r.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else{if(!m.isValidFile(r,this.options.acceptedFiles)){return q(this.options.dictInvalidFileType)}else{if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){q(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",r)}else{return this.options.accept.call(this,r,q)}}}};m.prototype.addFile=function(q){var r=this;q.upload={progress:0,total:q.size,bytesSent:0};this.files.push(q);q.status=m.ADDED;this.emit("addedfile",q);this._enqueueThumbnail(q);return this.accept(q,function(s){if(s){q.accepted=false;r._errorProcessing([q],s)}else{r.enqueueFile(q)}return r._updateMaxFilesReachedClass()})};m.prototype.enqueueFiles=function(s){var r,u,q;for(u=0,q=s.length;u<q;u++){r=s[u];this.enqueueFile(r)}return null};m.prototype.enqueueFile=function(q){var r=this;q.accepted=true;if(q.status===m.ADDED){q.status=m.QUEUED;if(this.options.autoProcessQueue){return setTimeout((function(){return r.processQueue()}),0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};m.prototype._thumbnailQueue=[];m.prototype._processingThumbnail=false;m.prototype._enqueueThumbnail=function(q){var r=this;if(this.options.createImageThumbnails&&q.type.match(/image.*/)&&q.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(q);return setTimeout((function(){return r._processThumbnailQueue()}),0)}};m.prototype._processThumbnailQueue=function(){var q=this;if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;return this.createThumbnail(this._thumbnailQueue.shift(),function(){q._processingThumbnail=false;return q._processThumbnailQueue()})};m.prototype.removeFile=function(q){if(q.status===m.UPLOADING){this.cancelUpload(q)}this.files=k(this.files,q);this.emit("removedfile",q);if(this.files.length===0){return this.emit("reset")}};m.prototype.removeAllFiles=function(v){var r,u,q,s;if(v==null){v=false}s=this.files.slice();for(u=0,q=s.length;u<q;u++){r=s[u];if(r.status!==m.UPLOADING||v){this.removeFile(r)}}return null};m.prototype.createThumbnail=function(r,u){var q,s=this;q=new FileReader;q.onload=function(){var v;v=document.createElement("img");v.onload=function(){var y,x,B,D,z,w,C,A;r.width=v.width;r.height=v.height;B=s.options.resize.call(s,r);if(B.trgWidth==null){B.trgWidth=s.options.thumbnailWidth}if(B.trgHeight==null){B.trgHeight=s.options.thumbnailHeight}y=document.createElement("canvas");x=y.getContext("2d");y.width=B.trgWidth;y.height=B.trgHeight;g(x,v,(z=B.srcX)!=null?z:0,(w=B.srcY)!=null?w:0,B.srcWidth,B.srcHeight,(C=B.trgX)!=null?C:0,(A=B.trgY)!=null?A:0,B.trgWidth,B.trgHeight);D=y.toDataURL("image/png");s.emit("thumbnail",r,D);if(u!=null){return u()}};return v.src=q.result};return q.readAsDataURL(r)};m.prototype.processQueue=function(){var r,u,q,s;u=this.options.parallelUploads;q=this.getUploadingFiles().length;r=q;if(q>=u){return}s=this.getQueuedFiles();if(!(s.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(s.slice(0,u-q))}else{while(r<u){if(!s.length){return}this.processFile(s.shift());r++}}};m.prototype.processFile=function(q){return this.processFiles([q])};m.prototype.processFiles=function(s){var r,u,q;for(u=0,q=s.length;u<q;u++){r=s[u];r.processing=true;r.status=m.UPLOADING;this.emit("processing",r)}if(this.options.uploadMultiple){this.emit("processingmultiple",s)}return this.uploadFiles(s)};m.prototype._getFilesWithXhr=function(s){var q,r;return r=(function(){var x,v,w,u;w=this.files;u=[];for(x=0,v=w.length;x<v;x++){q=w[x];if(q.xhr===s){u.push(q)}}return u}).call(this)};m.prototype.cancelUpload=function(v){var s,u,y,w,r,q,x;if(v.status===m.UPLOADING){u=this._getFilesWithXhr(v.xhr);for(y=0,r=u.length;y<r;y++){s=u[y];s.status=m.CANCELED}v.xhr.abort();for(w=0,q=u.length;w<q;w++){s=u[w];this.emit("canceled",s)}if(this.options.uploadMultiple){this.emit("canceledmultiple",u)}}else{if((x=v.status)===m.ADDED||x===m.QUEUED){v.status=m.CANCELED;this.emit("canceled",v);if(this.options.uploadMultiple){this.emit("canceledmultiple",[v])}}}if(this.options.autoProcessQueue){return this.processQueue()}};m.prototype.uploadFile=function(q){return this.uploadFiles([q])};m.prototype.uploadFiles=function(C){var R,Q,H,M,E,z,K,G,N,X,L,D,s,I,O,F,y,w,u,r,U,W,V,T,S,q,J,B,A,x,v,P=this;F=new XMLHttpRequest();for(y=0,U=C.length;y<U;y++){R=C[y];R.xhr=F}F.open(this.options.method,this.options.url,true);F.withCredentials=!!this.options.withCredentials;s=null;H=function(){var aa,Z,Y;Y=[];for(aa=0,Z=C.length;aa<Z;aa++){R=C[aa];Y.push(P._errorProcessing(C,s||P.options.dictResponseError.replace("{{statusCode}}",F.status),F))}return Y};I=function(ah){var ac,Z,ag,ae,ad,ab,aa,Y,af;if(ah!=null){Z=100*ah.loaded/ah.total;for(ag=0,ab=C.length;ag<ab;ag++){R=C[ag];R.upload={progress:Z,total:ah.total,bytesSent:ah.loaded}}}else{ac=true;Z=100;for(ae=0,aa=C.length;ae<aa;ae++){R=C[ae];if(!(R.upload.progress===100&&R.upload.bytesSent===R.upload.total)){ac=false}R.upload.progress=Z;R.upload.bytesSent=R.upload.total}if(ac){return}}af=[];for(ad=0,Y=C.length;ad<Y;ad++){R=C[ad];af.push(P.emit("uploadprogress",R,Z,R.upload.bytesSent))}return af};F.onload=function(Z){var Y;if(C[0].status===m.CANCELED){return}if(F.readyState!==4){return}s=F.responseText;if(F.getResponseHeader("content-type")&&~F.getResponseHeader("content-type").indexOf("application/json")){try{s=JSON.parse(s)}catch(aa){Z=aa;s="Invalid JSON response from server."}}I();if(!((200<=(Y=F.status)&&Y<300))){return H()}else{return P._finished(C,s,Z)}};F.onerror=function(){if(C[0].status===m.CANCELED){return}return H()};D=(J=F.upload)!=null?J:F;D.onprogress=I;z={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){o(z,this.options.headers)}for(M in z){E=z[M];F.setRequestHeader(M,E)}Q=new FormData();if(this.options.params){B=this.options.params;for(X in B){O=B[X];Q.append(X,O)}}for(w=0,W=C.length;w<W;w++){R=C[w];this.emit("sending",R,F,Q)}if(this.options.uploadMultiple){this.emit("sendingmultiple",C,F,Q)}if(this.element.tagName==="FORM"){A=this.element.querySelectorAll("input, textarea, select, button");for(u=0,V=A.length;u<V;u++){K=A[u];G=K.getAttribute("name");N=K.getAttribute("type");if(K.tagName==="SELECT"&&K.hasAttribute("multiple")){x=K.options;for(r=0,T=x.length;r<T;r++){L=x[r];if(L.selected){Q.append(G,L.value)}}}else{if(!N||((v=N.toLowerCase())!=="checkbox"&&v!=="radio")||K.checked){Q.append(G,K.value)}}}}for(q=0,S=C.length;q<S;q++){R=C[q];Q.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),R,R.name)}return F.send(Q)};m.prototype._finished=function(s,v,w){var r,u,q;for(u=0,q=s.length;u<q;u++){r=s[u];r.status=m.SUCCESS;this.emit("success",r,v,w);this.emit("complete",r)}if(this.options.uploadMultiple){this.emit("successmultiple",s,v,w);this.emit("completemultiple",s)}if(this.options.autoProcessQueue){return this.processQueue()}};m.prototype._errorProcessing=function(u,s,w){var r,v,q;for(v=0,q=u.length;v<q;v++){r=u[v];r.status=m.ERROR;this.emit("error",r,s,w);this.emit("complete",r)}if(this.options.uploadMultiple){this.emit("errormultiple",u,s,w);this.emit("completemultiple",u)}if(this.options.autoProcessQueue){return this.processQueue()}};return m})(d);i.version="3.8.4";i.options={};i.optionsForElement=function(m){if(m.getAttribute("id")){return i.options[c(m.getAttribute("id"))]}else{return void 0}};i.instances=[];i.forElement=function(m){if(typeof m==="string"){m=document.querySelector(m)}if((m!=null?m.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return m.dropzone};i.autoDiscover=true;i.discover=function(){var s,o,q,r,n,m;if(document.querySelectorAll){q=document.querySelectorAll(".dropzone")}else{q=[];s=function(y){var w,x,v,u;u=[];for(x=0,v=y.length;x<v;x++){w=y[x];if(/(^| )dropzone($| )/.test(w.className)){u.push(q.push(w))}else{u.push(void 0)}}return u};s(document.getElementsByTagName("div"));s(document.getElementsByTagName("form"))}m=[];for(r=0,n=q.length;r<n;r++){o=q[r];if(i.optionsForElement(o)!==false){m.push(new i(o))}else{m.push(void 0)}}return m};i.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];i.isBrowserSupported=function(){var n,o,r,m,q;n=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList" in document.createElement("a"))){n=false}else{q=i.blacklistedBrowsers;for(r=0,m=q.length;r<m;r++){o=q[r];if(o.test(navigator.userAgent)){n=false;continue}}}}else{n=false}return n};k=function(s,o){var q,r,n,m;m=[];for(r=0,n=s.length;r<n;r++){q=s[r];if(q!==o){m.push(q)}}return m};c=function(m){return m.replace(/[\-_](\w)/g,function(n){return n[1].toUpperCase()})};i.createElement=function(m){var n;n=document.createElement("div");n.innerHTML=m;return n.childNodes[0]};i.elementInside=function(n,m){if(n===m){return true}while(n=n.parentNode){if(n===m){return true}}return false};i.getElement=function(o,m){var n;if(typeof o==="string"){n=document.querySelector(o)}else{if(o.nodeType!=null){n=o}}if(n==null){throw new Error("Invalid `"+m+"` option provided. Please provide a CSS selector or a plain HTML element.")}return n};i.getElements=function(u,n){var w,q,m,s,r,x,o,v;if(u instanceof Array){m=[];try{for(s=0,x=u.length;s<x;s++){q=u[s];m.push(this.getElement(q,n))}}catch(y){w=y;m=null}}else{if(typeof u==="string"){m=[];v=document.querySelectorAll(u);for(r=0,o=v.length;r<o;r++){q=v[r];m.push(q)}}else{if(u.nodeType!=null){m=[u]}}}if(!((m!=null)&&m.length)){throw new Error("Invalid `"+n+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return m};i.confirm=function(m,o,n){if(window.confirm(m)){return o()}else{if(n!=null){return n()}}};i.isValidFile=function(q,m){var o,u,r,s,n;if(!m){return true}m=m.split(",");u=q.type;o=u.replace(/\/.*$/,"");for(s=0,n=m.length;s<n;s++){r=m[s];r=r.trim();if(r.charAt(0)==="."){if(q.name.toLowerCase().indexOf(r.toLowerCase(),q.name.length-r.length)!==-1){return true}}else{if(/\/\*$/.test(r)){if(o===r.replace(/\/.*$/,"")){return true}}else{if(u===r){return true}}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(m){return this.each(function(){return new i(this,m)})}}if(typeof module!=="undefined"&&module!==null){module.exports=i}else{window.Dropzone=i}i.ADDED="added";i.QUEUED="queued";i.ACCEPTED=i.QUEUED;i.UPLOADING="uploading";i.PROCESSING=i.UPLOADING;i.CANCELED="canceled";i.ERROR="error";i.SUCCESS="success";b=function(r){var o,m,y,q,s,x,n,w,u,v;n=r.naturalWidth;x=r.naturalHeight;m=document.createElement("canvas");m.width=1;m.height=x;y=m.getContext("2d");y.drawImage(r,0,0);q=y.getImageData(0,0,1,x).data;v=0;s=x;w=x;while(w>v){o=q[(w-1)*4+3];if(o===0){s=w}else{v=w}w=(s+v)>>1}u=w/x;if(u===0){return 1}else{return u}};g=function(w,n,u,s,v,o,y,x,m,r){var q;q=b(n);return w.drawImage(n,u,s,v,o,y,x,m,r/q)};f=function(o,u){var z,v,n,y,q,m,x,s,r;n=false;r=true;v=o.document;s=v.documentElement;z=(v.addEventListener?"addEventListener":"attachEvent");x=(v.addEventListener?"removeEventListener":"detachEvent");m=(v.addEventListener?"":"on");y=function(A){if(A.type==="readystatechange"&&v.readyState!=="complete"){return}(A.type==="load"?o:v)[x](m+A.type,y,false);if(!n&&(n=true)){return u.call(o,A.type||A)}};q=function(){var A;try{s.doScroll("left")}catch(B){A=B;setTimeout(q,50);return}return y("poll")};if(v.readyState!=="complete"){if(v.createEventObject&&s.doScroll){try{r=!o.frameElement}catch(w){}if(r){q()}}v[z](m+"DOMContentLoaded",y,false);v[z](m+"readystatechange",y,false);return o[z](m+"load",y,false)}};i._autoDiscoverFunction=function(){if(i.autoDiscover){return i.discover()}};f(window,i._autoDiscoverFunction)}).call(this);(function(b){if(typeof define==="function"&&define.amd){define(["jquery","codemirror"],b)}else{b(window.jQuery,window.CodeMirror)}}(function(g,q){if("function"!==typeof Array.prototype.reduce){Array.prototype.reduce=function(E,D){var z,B,A=this.length>>>0,C=false;if(1<arguments.length){B=D;C=true}for(z=0;A>z;++z){if(this.hasOwnProperty(z)){if(C){B=E(B,this[z],z,this)}else{B=this[z];C=true}}}if(!C){throw new TypeError("Reduce of empty array with no initial value")}return B}}var c={bMac:navigator.appVersion.indexOf("Mac")>-1,bMSIE:navigator.userAgent.indexOf("MSIE")>-1,bFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(g.fn.jquery),bCodeMirror:!!q};var j=(function(){var z=function(F){return function(G){return F===G}};var C=function(G,F){return G===F};var D=function(){return true};var A=function(){return false};var E=function(F){return function(){return !F.apply(F,arguments)}};var B=function(F){return F};return{eq:z,eq2:C,ok:D,fail:A,not:E,self:B}})();var w=(function(){var G=function(J){return J[0]};var I=function(J){return J[J.length-1]};var D=function(J){return J.slice(0,J.length-1)};var E=function(J){return J.slice(1)};var B=function(L,K){var J=L.indexOf(K);if(J===-1){return null}return L[J+1]};var z=function(L,K){var J=L.indexOf(K);if(J===-1){return null}return L[J-1]};var C=function(K,J){J=J||j.self;return K.reduce(function(M,L){return M+J(L)},0)};var H=function(M){var K=[],J=-1,L=M.length;while(++J<L){K[J]=M[J]}return K};var A=function(L,J){if(L.length===0){return[]}var K=E(L);return K.reduce(function(O,N){var M=I(O);if(J(I(M),N)){M[M.length]=N}else{O[O.length]=[N]}return O},[[G(L)]])};var F=function(M){var L=[];for(var J=0,K=M.length;J<K;J++){if(M[J]){L.push(M[J])}}return L};return{head:G,last:I,initial:D,tail:E,prev:z,next:B,sum:C,from:H,compact:F,clusterBy:A}})();var s=(function(){var K=function(Y){return Y&&g(Y).hasClass("note-editable")};var L=function(Y){return Y&&g(Y).hasClass("note-control-sizing")};var U=function(Y){var Z=function(aa){return function(){return Y.find(aa)}};return{editor:function(){return Y},dropzone:Z(".note-dropzone"),toolbar:Z(".note-toolbar"),editable:Z(".note-editable"),codable:Z(".note-codable"),statusbar:Z(".note-statusbar"),popover:Z(".note-popover"),handle:Z(".note-handle"),dialog:Z(".note-dialog")}};var A=function(Y){return function(Z){return Z&&Z.nodeName===Y}};var B=function(Y){return Y&&/^DIV|^P|^LI|^H[1-7]/.test(Y.nodeName)};var R=function(Y){return Y&&/^UL|^OL/.test(Y.nodeName)};var C=function(Y){return Y&&/^TD|^TH/.test(Y.nodeName)};var S=function(Z,Y){while(Z){if(Y(Z)){return Z}if(K(Z)){break}Z=Z.parentNode}return null};var X=function(aa,Y){Y=Y||j.fail;var Z=[];S(aa,function(ab){Z.push(ab);return Y(ab)});return Z};var H=function(aa,Z){var Y=X(aa);for(var ab=Z;ab;ab=ab.parentNode){if(g.inArray(ab,Y)>-1){return ab}}return null};var E=function(ad,aa){var Z=[];var ac=false,Y=false;(function ab(af){if(!af){return}if(af===ad){ac=true}if(ac&&!Y){Z.push(af)}if(af===aa){Y=true;return}for(var ae=0,ag=af.childNodes.length;ae<ag;ae++){ab(af.childNodes[ae])}})(H(ad,aa));return Z};var F=function(aa,Z){Z=Z||j.fail;var Y=[];while(aa){Y.push(aa);if(Z(aa)){break}aa=aa.previousSibling}return Y};var G=function(aa,Z){Z=Z||j.fail;var Y=[];while(aa){Y.push(aa);if(Z(aa)){break}aa=aa.nextSibling}return Y};var T=function(aa,Y){var Z=[];Y=Y||j.ok;(function ab(ae){if(aa!==ae&&Y(ae)){Z.push(ae)}for(var ac=0,ad=ae.childNodes.length;ac<ad;ac++){ab(ae.childNodes[ac])}})(aa);return Z};var P=function(ab,aa){var Z=aa.nextSibling,Y=aa.parentNode;if(Z){Y.insertBefore(ab,Z)}else{Y.appendChild(ab)}return ab};var z=function(Y,Z){g.each(Z,function(aa,ab){Y.appendChild(ab)});return Y};var N=A("#text");var D=function(Y){if(N(Y)){return Y.nodeValue.length}return Y.childNodes.length};var W=function(Y){var Z=0;while((Y=Y.previousSibling)){Z+=1}return Z};var I=function(Z,aa){var Y=w.initial(X(aa,j.eq(Z)));return g.map(Y,W).reverse()};var M=function(Z,aa){var ac=Z;for(var Y=0,ab=aa.length;Y<ab;Y++){ac=ac.childNodes[aa[Y]]}return ac};var Q=function(Y,Z){if(Z===0){return Y}if(Z>=D(Y)){return Y.nextSibling}if(N(Y)){return Y.splitText(Z)}var aa=Y.childNodes[Z];Y=P(Y.cloneNode(false),Y);return z(Y,G(aa))};var O=function(Z,Y,ab){var aa=X(Y,j.eq(Z));if(aa.length===1){return Q(Y,ab)}return aa.reduce(function(ad,ac){var ae=ac.cloneNode(false);P(ae,ac);if(ad===Y){ad=Q(ad,ab)}z(ae,G(ad));return ae})};var V=function(ac,Z){if(!ac||!ac.parentNode){return}if(ac.removeNode){return ac.removeNode(Z)}var ab=ac.parentNode;if(!Z){var Y=[];var aa,ad;for(aa=0,ad=ac.childNodes.length;aa<ad;aa++){Y.push(ac.childNodes[aa])}for(aa=0,ad=Y.length;aa<ad;aa++){ab.insertBefore(Y[aa],ac)}}ab.removeChild(ac)};var J=function(Y){return s.isTextarea(Y[0])?Y.val():Y.html()};return{blank:c.bMSIE?"&nbsp;":"<br/>",emptyPara:"<p><br/></p>",isEditable:K,isControlSizing:L,buildLayoutInfo:U,isText:N,isPara:B,isList:R,isTable:A("TABLE"),isCell:C,isAnchor:A("A"),isDiv:A("DIV"),isLi:A("LI"),isSpan:A("SPAN"),isB:A("B"),isU:A("U"),isS:A("S"),isI:A("I"),isImg:A("IMG"),isTextarea:A("TEXTAREA"),ancestor:S,listAncestor:X,listNext:G,listPrev:F,listDescendant:T,commonAncestor:H,listBetween:E,insertAfter:P,position:W,makeOffsetPath:I,fromOffsetPath:M,split:O,remove:V,html:J}})();var x={version:"0.5.1",options:{width:null,height:null,focus:false,tabsize:null,styleWithSpan:true,disableLinkTarget:false,disableDragAndDrop:false,codemirror:null,lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview"]],["help",["help"]]],oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strike",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, or DailyMotion)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"BackColor",foreground:"FontColor",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}};var i=(function(){var z=function(B){return g.Deferred(function(C){g.extend(new FileReader(),{onload:function(E){var D=E.target.result;C.resolve(D)},onerror:function(){C.reject(this)}}).readAsDataURL(B)}).promise()};var A=function(B){return g.Deferred(function(C){g.extend(new Image(),{detachEvents:function(){this.onload=null;this.onerror=null;this.onabort=null},onload:function(){this.detachEvents();C.resolve(this)},onerror:function(){this.detachEvents();C.reject(this)},onabort:function(){this.detachEvents();C.reject(this)}}).src=B}).promise()};return{readFileAsDataURL:z,loadImage:A}})();var y={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,NUM0:48,NUM1:49,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLACH:220,RIGHTBRACKET:221};var b=function(){var z=function(C,B){if(c.jqueryVersion<1.9){var A={};g.each(B,function(D,E){A[E]=C.css(E)});return A}return C.css.call(C,B)};this.stylePara=function(B,A){g.each(B.nodes(s.isPara),function(C,D){g(D).css(A)})};this.current=function(A,B){var G=g(s.isText(A.sc)?A.sc.parentNode:A.sc);var D=["font-family","font-size","text-align","list-style-type","line-height"];var H=z(G,D)||{};H["font-size"]=parseInt(H["font-size"]);H["font-bold"]=document.queryCommandState("bold")?"bold":"normal";H["font-italic"]=document.queryCommandState("italic")?"italic":"normal";H["font-underline"]=document.queryCommandState("underline")?"underline":"normal";if(!A.isOnList()){H["list-style"]="none"}else{var C=["circle","disc","disc-leading-zero","square"];var F=g.inArray(H["list-style-type"],C)>-1;H["list-style"]=F?"unordered":"ordered"}var I=s.ancestor(A.sc,s.isPara);if(I&&I.style["line-height"]){H["line-height"]=I.style.lineHeight}else{var E=parseInt(H["line-height"])/parseInt(H["font-size"]);H["line-height"]=E.toFixed(1)}H.image=s.isImg(B)&&B;H.anchor=A.isOnAnchor()&&s.ancestor(A.sc,s.isAnchor);H.aAncestor=s.listAncestor(A.sc,s.isEditable);return H}};var l=(function(){var A=!!document.createRange;var C=function(N,M){var L=N.parentElement(),E;var K=document.body.createTextRange(),J;var H=w.from(L.childNodes);for(E=0;E<H.length;E++){if(s.isText(H[E])){continue}K.moveToElementText(H[E]);if(K.compareEndPoints("StartToStart",N)>=0){break}J=H[E]}if(E!==0&&s.isText(H[E-1])){var O=document.body.createTextRange(),I=null;O.moveToElementText(J||L);O.collapse(!J);I=J?J.nextSibling:L.firstChild;var D=N.duplicate();D.setEndPoint("StartToStart",O);var G=D.text.replace(/[\r\n]/g,"").length;while(G>I.nodeValue.length&&I.nextSibling){G-=I.nodeValue.length;I=I.nextSibling}var F=I.nodeValue;if(M&&I.nextSibling&&s.isText(I.nextSibling)&&G===I.nodeValue.length){G-=I.nodeValue.length;I=I.nextSibling}L=I;E=G}return{cont:L,offset:E}};var B=function(E){var G=function(K,M){var H,L;if(s.isText(K)){var I=s.listPrev(K,j.not(s.isText));var J=w.last(I).previousSibling;H=J||K.parentNode;M+=w.sum(w.tail(I),s.length);L=!J}else{H=K.childNodes[M]||K;if(s.isText(H)){return G(H,M)}M=0;L=false}return{cont:H,collapseToStart:L,offset:M}};var D=document.body.createTextRange();var F=G(E.cont,E.offset);D.moveToElementText(F.cont);D.collapse(F.collapseToStart);D.moveStart("character",F.offset);return D};var z=function(I,H,E,D){this.sc=I;this.so=H;this.ec=E;this.eo=D;var G=function(){if(A){var J=document.createRange();J.setStart(I,H);J.setEnd(E,D);return J}else{var K=B({cont:I,offset:H});K.setEndPoint("EndToEnd",B({cont:E,offset:D}));return K}};this.select=function(){var K=G();if(A){var J=document.getSelection();if(J.rangeCount>0){J.removeAllRanges()}J.addRange(K)}else{K.select()}};this.nodes=function(K){var J=s.listBetween(I,E);var L=w.compact(g.map(J,function(M){return s.ancestor(M,K)}));return g.map(w.clusterBy(L,j.eq2),w.head)};this.commonAncestor=function(){return s.commonAncestor(I,E)};var F=function(J){return function(){var K=s.ancestor(I,J);return !!K&&(K===s.ancestor(E,J))}};this.isOnEditable=F(s.isEditable);this.isOnList=F(s.isList);this.isOnAnchor=F(s.isAnchor);this.isOnCell=F(s.isCell);this.isCollapsed=function(){return I===E&&H===D};this.insertNode=function(J){var K=G();if(A){K.insertNode(J)}else{K.pasteHTML(J.outerHTML)}};this.toString=function(){var J=G();return A?J.toString():J.text};this.bookmark=function(J){return{s:{path:s.makeOffsetPath(J,I),offset:H},e:{path:s.makeOffsetPath(J,E),offset:D}}}};return{create:function(J,E,H,D){if(arguments.length===0){if(A){var L=document.getSelection();if(L.rangeCount===0){return null}var K=L.getRangeAt(0);J=K.startContainer;E=K.startOffset;H=K.endContainer;D=K.endOffset}else{var N=document.selection.createRange();var F=N.duplicate();F.collapse(false);var M=N;M.collapse(true);var G=C(M,true),I=C(F,false);J=G.cont;E=G.offset;H=I.cont;D=I.offset}}else{if(arguments.length===2){H=J;D=E}}return new z(J,E,H,D)},createFromNode:function(D){return this.create(D,0,D,1)},createFromBookmark:function(F,G){var I=s.fromOffsetPath(F,G.s.path);var H=G.s.offset;var E=s.fromOffsetPath(F,G.e.path);var D=G.e.offset;return new z(I,H,E,D)}}})();var f=function(){this.tab=function(A,E){var D=s.ancestor(A.commonAncestor(),s.isCell);var B=s.ancestor(D,s.isTable);var C=s.listDescendant(B,s.isCell);var z=w[E?"prev":"next"](C,D);if(z){l.create(z,0).select()}};this.createTable=function(E,C){var G=[],F;for(var D=0;D<E;D++){G.push("<td>"+s.blank+"</td>")}F=G.join("");var B=[],z;for(var A=0;A<C;A++){B.push("<tr>"+F+"</tr>")}z=B.join("");var H='<table class="table table-bordered">'+z+"</table>";return g(H)[0]}};var n=function(){var B=new b();var D=new f();this.saveRange=function(G){G.data("range",l.create())};this.restoreRange=function(H){var G=H.data("range");if(G){G.select()}};this.currentStyle=function(H){var G=l.create();return G&&G.isOnEditable()&&B.current(G,H)};this.undo=function(G){G.data("NoteHistory").undo(G)};this.redo=function(G){G.data("NoteHistory").redo(G)};var C=this.recordUndo=function(G){G.data("NoteHistory").recordUndo(G)};var F=["bold","italic","underline","strikethrough","justifyLeft","justifyCenter","justifyRight","justifyFull","insertOrderedList","insertUnorderedList","indent","outdent","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"];for(var A=0,z=F.length;A<z;A++){this[F[A]]=(function(G){return function(H,I){C(H);document.execCommand(G,false,I)}})(F[A])}var E=function(I,H,G){C(I);var J=new Array(G+1).join("&nbsp;");H.insertNode(g('<span id="noteTab">'+J+"</span>")[0]);var K=g("#noteTab").removeAttr("id");H=l.create(K[0],1);H.select();s.remove(K[0])};this.tab=function(I,G,J){var H=l.create();if(H.isCollapsed()&&H.isOnCell()){D.tab(H,J)}else{E(I,H,G)}};this.insertImage=function(G,H){i.loadImage(H).done(function(J){C(G);var I=g("<img>").attr("src",H);I.css("width",Math.min(G.width(),J.width));l.create().insertNode(I[0])}).fail(function(){var I=G.data("callbacks");if(I.onImageUploadError){I.onImageUploadError()}})};this.insertVideo=function(T,K){C(T);var J=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;var O=K.match(J);var Q=/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/;var P=K.match(Q);var R=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/;var N=K.match(R);var L=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/;var M=K.match(L);var I=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/;var S=K.match(I);var H;if(O&&O[2].length===11){var G=O[2];H=g("<iframe>").attr("src","//www.youtube.com/embed/"+G).attr("width","640").attr("height","360")}else{if(P&&P[0].length>0){H=g("<iframe>").attr("src",P[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true")}else{if(N&&N[0].length>0){H=g("<iframe>").attr("src",N[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed")}else{if(M&&M[3].length>0){H=g("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+M[3]).attr("width","640").attr("height","360")}else{if(S&&S[2].length>0){H=g("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+S[2]).attr("width","640").attr("height","360")}else{}}}}}if(H){H.attr("frameborder",0);l.create().insertNode(H[0])}};this.formatBlock=function(H,G){C(H);G=c.bMSIE?"<"+G+">":G;document.execCommand("FormatBlock",false,G)};this.fontSize=function(G,H){C(G);document.execCommand("fontSize",false,3);if(c.bFF){G.find("font[size=3]").removeAttr("size").css("font-size",H+"px")}else{G.find("span").filter(function(){return this.style.fontSize==="medium"}).css("font-size",H+"px")}};this.lineHeight=function(G,H){C(G);B.stylePara(l.create(),{lineHeight:H})};this.unlink=function(H){var G=l.create();if(G.isOnAnchor()){C(H);var I=s.ancestor(G.sc,s.isAnchor);G=l.createFromNode(I);G.select();document.execCommand("unlink")}};this.createLink=function(J,H,L){var I=l.create();C(J);var G=H;if(H.indexOf("@")!==-1&&H.indexOf(":")===-1){G="mailto:"+H}else{if(H.indexOf("://")===-1){G="http://"+H}}if((c.bMSIE||c.bFF)&&I.isCollapsed()){I.insertNode(g('<A id="linkAnchor">'+H+"</A>")[0]);var K=g("#linkAnchor").attr("href",G).removeAttr("id");I=l.createFromNode(K[0]);I.select()}else{document.execCommand("createlink",false,G);I=l.create()}g.each(I.nodes(s.isAnchor),function(M,N){if(L){g(N).attr("target","_blank")}else{g(N).removeAttr("target")}})};this.setLinkDialog=function(J,I){var G=l.create(),L=true;if(G.isOnAnchor()){var K=s.ancestor(G.sc,s.isAnchor);G=l.createFromNode(K);L=g(K).attr("target")==="_blank"}var H=this;I({text:G.toString(),url:G.isOnAnchor()?s.ancestor(G.sc,s.isAnchor).href:"",newWindow:L},function(M,N){G.select();H.createLink(J,M,N)})};this.setVideoDialog=function(J,I){var G=l.create();if(G.isOnAnchor()){var K=s.ancestor(G.sc,s.isAnchor);G=l.createFromNode(K)}var H=this;I({text:G.toString()},function(L){G.select();H.insertVideo(J,L)})};this.color=function(H,I){var K=JSON.parse(I);var J=K.foreColor,G=K.backColor;C(H);if(J){document.execCommand("foreColor",false,J)}if(G){document.execCommand("backColor",false,G)}};this.insertTable=function(H,G){C(H);var I=G.split("x");l.create().insertNode(D.createTable(I[0],I[1]))};this.floatMe=function(H,I,G){C(H);G.css("float",I)};this.resize=function(H,I,G){C(H);G.css({width:H.width()*I+"px",height:""})};this.resizeTo=function(L,H,I){var G;if(I){var K=L.y/L.x;var J=H.data("ratio");G={width:J>K?L.x:L.y/J,height:J>K?L.x*J:L.y}}else{G={width:L.x,height:L.y}}H.css(G)};this.removeMedia=function(H,I,G){C(H);G.detach()}};var e=function(){var B=[],C=[];var A=function(E){var F=E[0],D=l.create();return{contents:E.html(),bookmark:D.bookmark(F),scrollTop:E.scrollTop()}};var z=function(D,E){D.html(E.contents).scrollTop(E.scrollTop);l.createFromBookmark(D[0],E.bookmark).select()};this.undo=function(D){var E=A(D);if(B.length===0){return}z(D,B.pop());C.push(E)};this.redo=function(D){var E=A(D);if(C.length===0){return}z(D,C.pop());B.push(E)};this.recordUndo=function(D){C=[];B.push(A(D))}};var d=function(){this.update=function(B,z){var G=function(I,H){I.find(".dropdown-menu li a").each(function(){var J=(g(this).data("value")+"")===(H+"");this.className=J?"checked":""})};var F=function(J,H){var I=B.find(J);I.toggleClass("active",H())};var D=B.find(".note-fontname");if(D.length>0){var A=z["font-family"];if(!!A){A=w.head(A.split(","));A=A.replace(/\'/g,"");D.find(".note-current-fontname").text(A);G(D,A)}}var E=B.find(".note-fontsize");E.find(".note-current-fontsize").text(z["font-size"]);G(E,parseFloat(z["font-size"]));var C=B.find(".note-height");G(C,parseFloat(z["line-height"]));F('button[data-event="bold"]',function(){return z["font-bold"]==="bold"});F('button[data-event="italic"]',function(){return z["font-italic"]==="italic"});F('button[data-event="underline"]',function(){return z["font-underline"]==="underline"});F('button[data-event="justifyLeft"]',function(){return z["text-align"]==="left"||z["text-align"]==="start"});F('button[data-event="justifyCenter"]',function(){return z["text-align"]==="center"});F('button[data-event="justifyRight"]',function(){return z["text-align"]==="right"});F('button[data-event="justifyFull"]',function(){return z["text-align"]==="justify"});F('button[data-event="insertUnorderedList"]',function(){return z["list-style"]==="unordered"});F('button[data-event="insertOrderedList"]',function(){return z["list-style"]==="ordered"})};this.updateRecentColor=function(B,D,F){var E=g(B).closest(".note-color");var z=E.find(".note-recent-color");var C=JSON.parse(z.attr("data-value"));C[D]=F;z.attr("data-value",JSON.stringify(C));var A=D==="backColor"?"background-color":"color";z.find("i").css(A,F)};this.updateFullscreen=function(z,B){var A=z.find('button[data-event="fullscreen"]');A.toggleClass("active",B)};this.updateCodeview=function(z,A){var B=z.find('button[data-event="codeview"]');B.toggleClass("active",A)};this.activate=function(z){z.find("button").not('button[data-event="codeview"]').removeClass("disabled")};this.deactivate=function(z){z.find("button").not('button[data-event="codeview"]').addClass("disabled")}};var v=function(){var z=function(D,C){var B=g(C);var E=B.position(),A=B.height();D.css({display:"block",left:E.left,top:E.top+A})};this.update=function(E,B){var A=E.find(".note-link-popover");if(B.anchor){var D=A.find("a");D.attr("href",B.anchor.href).html(B.anchor.href);z(A,B.anchor)}else{A.hide()}var C=E.find(".note-image-popover");if(B.image){z(C,B.image)}else{C.hide()}};this.hide=function(A){A.children().hide()}};var u=function(){this.update=function(F,B){var A=F.find(".note-control-selection");if(B.image){var D=g(B.image);var E=D.position();var z={w:D.width(),h:D.height()};A.css({display:"block",left:E.left,top:E.top,width:z.w,height:z.h}).data("target",B.image);var C=z.w+"x"+z.h;A.find(".note-control-selection-info").text(C)}else{A.hide()}};this.hide=function(z){z.children().hide()}};var h=function(){var z=function(B,A){if(A){B.removeClass("disabled").attr("disabled",false)}else{B.addClass("disabled").attr("disabled",true)}};this.showImageDialog=function(C,F,E,D){var H=F.find(".note-image-dialog");var G=F.find(".note-image-input"),A=F.find(".note-image-url"),B=F.find(".note-image-btn");H.one("shown.bs.modal",function(I){I.stopPropagation();G.on("change",function(){E(this.files);g(this).val("");H.modal("hide")});B.click(function(J){H.modal("hide");D(A.val());J.preventDefault()});A.keyup(function(){z(B,A.val())}).val("").focus()}).one("hidden.bs.modal",function(I){C.focus();G.off("change");A.off("keyup");B.off("click")}).modal("show")};this.showVideoDialog=function(B,E,F,G){var A=E.find(".note-video-dialog");var C=A.find(".note-video-url"),D=A.find(".note-video-btn");A.one("shown.bs.modal",function(H){H.stopPropagation();C.val(F.text).keyup(function(){z(D,C.val())}).trigger("keyup").trigger("focus");D.click(function(I){A.modal("hide");G(C.val());I.preventDefault()})}).one("hidden.bs.modal",function(H){B.focus();C.off("keyup");D.off("click")}).modal("show")};this.showLinkDialog=function(G,D,F,H){var E=D.find(".note-link-dialog");var I=E.find(".note-link-text"),B=E.find(".note-link-url"),C=E.find(".note-link-btn"),A=E.find("input[type=checkbox]");E.one("shown.bs.modal",function(J){J.stopPropagation();I.val(F.text);B.val(F.url).keyup(function(){z(C,B.val());if(!F.text){I.val(B.val())}}).trigger("focus");A.prop("checked",F.newWindow);C.click(function(K){E.modal("hide");H(B.val(),A.is(":checked"));K.preventDefault()})}).one("hidden.bs.modal",function(J){G.focus();B.off("keyup");C.off("click")}).modal("show")};this.showHelpDialog=function(A,C){var B=C.find(".note-help-dialog");B.one("hidden.bs.modal",function(D){A.focus()}).modal("show")}};var k=function(){var C=new n();var I=new d(),E=new v();var S=new u(),Q=new h();var D=function(T){var U=g(T).closest(".note-editor");return U.length>0&&s.buildLayoutInfo(U)};var A=function(T,V){C.restoreRange(T);var U=T.data("callbacks");if(U.onImageUpload){U.onImageUpload(V,C,T)}else{g.each(V,function(W,X){i.readFileAsDataURL(X).done(function(Y){C.insertImage(T,Y)}).fail(function(){if(U.onImageUploadError){U.onImageUploadError()}})})}};var z=function(X){var W=c.bMac?X.metaKey:X.ctrlKey,aa=X.shiftKey,Y=X.keyCode;var U=(W||aa||Y===y.TAB);var Z=(U)?D(X.target):null;if(Y===y.TAB){var T=Z.editor().data("options").tabsize;C.tab(Z.editable(),T,aa)}else{if(W&&((aa&&Y===y.Z)||Y===y.Y)){C.redo(Z.editable())}else{if(W&&Y===y.Z){C.undo(Z.editable())}else{if(W&&Y===y.B){C.bold(Z.editable())}else{if(W&&Y===y.I){C.italic(Z.editable())}else{if(W&&Y===y.U){C.underline(Z.editable())}else{if(W&&aa&&Y===y.S){C.strikethrough(Z.editable())}else{if(W&&Y===y.BACKSLACH){C.removeFormat(Z.editable())}else{if(W&&Y===y.K){C.setLinkDialog(Z.editable(),function(ac,ab){Q.showLinkDialog(Z.editable(),Z.dialog(),ac,ab)})}else{if(W&&Y===y.SLASH){Q.showHelpDialog(Z.editable(),Z.dialog())}else{if(W&&aa&&Y===y.L){C.justifyLeft(Z.editable())}else{if(W&&aa&&Y===y.E){C.justifyCenter(Z.editable())}else{if(W&&aa&&Y===y.R){C.justifyRight(Z.editable())}else{if(W&&aa&&Y===y.J){C.justifyFull(Z.editable())}else{if(W&&aa&&Y===y.NUM7){C.insertUnorderedList(Z.editable())}else{if(W&&aa&&Y===y.NUM8){C.insertOrderedList(Z.editable())}else{if(W&&Y===y.LEFTBRACKET){C.outdent(Z.editable())}else{if(W&&Y===y.RIGHTBRACKET){C.indent(Z.editable())}else{if(W&&Y===y.NUM0){C.formatBlock(Z.editable(),"P")}else{if(W&&(y.NUM1<=Y&&Y<=y.NUM6)){var V="H"+String.fromCharCode(Y);C.formatBlock(Z.editable(),V)}else{if(W&&Y===y.ENTER){C.insertHorizontalRule(Z.editable())}else{if(Y===y.BACKSPACE||Y===y.ENTER||Y===y.SPACE){C.recordUndo(D(X.target).editable())}return}}}}}}}}}}}}}}}}}}}}}X.preventDefault()};var J=function(T){var U=T.originalEvent.dataTransfer;if(U&&U.files){var V=D(T.currentTarget||T.target);V.editable().focus();A(V.editable(),U.files)}T.preventDefault()};var H=function(T){if(s.isImg(T.target)){T.preventDefault()}};var K=function(U){var V=D(U.currentTarget||U.target);var T=C.currentStyle(U.target);if(!T){return}I.update(V.toolbar(),T);E.update(V.popover(),T);S.update(V.handle(),T)};var P=function(T){var U=D(T.currentTarget||T.target);E.hide(U.popover());S.hide(U.handle())};var F=function(U){if(s.isControlSizing(U.target)){var T=D(U.target),V=T.handle(),ab=T.popover(),ac=T.editable(),W=T.editor();var Y=V.find(".note-control-selection").data("target"),Z=g(Y);var aa=Z.offset(),X=g(document).scrollTop();W.on("mousemove",function(ad){C.resizeTo({x:ad.clientX-aa.left,y:ad.clientY-(aa.top-X)},Z,!ad.shiftKey);S.update(V,{image:Y});E.update(ab,{image:Y})}).one("mouseup",function(){W.off("mousemove")});if(!Z.data("ratio")){Z.data("ratio",Z.height()/Z.width())}C.recordUndo(ac);U.stopPropagation();U.preventDefault()}};var O=function(U){var T=g(U.target).closest("[data-event]");if(T.length>0){U.preventDefault()}};var R=function(aj){var ai=g(aj.target).closest("[data-event]");if(ai.length>0){var W=ai.attr("data-event"),T=ai.attr("data-value");var aa=D(aj.target);var ab=aa.editor(),aq=aa.toolbar(),ao=aa.dialog(),ap=aa.editable(),Z=aa.codable();var ag;var ad;var Y=ab.data("options");var X;if(g.inArray(W,["resize","floatMe","removeMedia"])!==-1){var U=aa.handle();var ak=U.find(".note-control-selection");X=g(ak.data("target"))}if(C[W]){ap.trigger("focus");C[W](ap,T,X)}if(g.inArray(W,["backColor","foreColor"])!==-1){I.updateRecentColor(ai[0],W,T)}else{if(W==="showLinkDialog"){ap.focus();C.setLinkDialog(ap,function(at,ar){Q.showLinkDialog(ap,ao,at,ar)})}else{if(W==="showImageDialog"){ap.focus();Q.showImageDialog(ap,ao,function(ar){A(ap,ar)},function(ar){C.restoreRange(ap);C.insertImage(ap,ar)})}else{if(W==="showVideoDialog"){ap.focus();C.setVideoDialog(ap,function(at,ar){Q.showVideoDialog(ap,ao,at,ar)})}else{if(W==="showHelpDialog"){Q.showHelpDialog(ap,ao)}else{if(W==="fullscreen"){ab.toggleClass("fullscreen");var V=function(){var at=g(window).width();ab.css("width",at);var ar=g(window).height()-aq.outerHeight();ap.css("height",ar);Z.css("height",ar);var au=Z.data("cmEditor");if(au){au.setSize(null,ar)}};var al=g("html, body");var am=ab.hasClass("fullscreen");if(am){ab.data("orgWidth",ab.width());ap.data("orgHeight",ap.css("height"));g(window).on("resize",V).trigger("resize");al.css("overflow","hidden")}else{var ae=ab.data("orgWidth");var ac=ae===g(window).width()?"auto":ae;ab.css("width",ac);var ah=ap.data("orgHeight");ap.css("height",ah);Z.css("height",ah);ad=Z.data("cmEditor");if(ad){ad.setSize(null,ah)}al.css("overflow","auto");g(window).off("resize")}I.updateFullscreen(aq,am)}else{if(W==="codeview"){ab.toggleClass("codeview");var an=ab.hasClass("codeview");if(an){Z.val(ap.html());Z.height(ap.height());I.deactivate(aq);Z.focus();if(c.bCodeMirror){ad=q.fromTextArea(Z[0],g.extend({mode:"text/html",lineNumbers:true},Y.codemirror));var af=ab.data("options").codemirror.tern||false;if(af){ag=new q.TernServer(af);ad.ternServer=ag;ad.on("cursorActivity",function(ar){ag.updateArgHints(ar)})}ad.setSize(null,ap.outerHeight());if(ad.autoFormatRange){ad.autoFormatRange({line:0,ch:0},{line:ad.lineCount(),ch:ad.getTextArea().value.length})}Z.data("cmEditor",ad)}}else{if(c.bCodeMirror){ad=Z.data("cmEditor");Z.val(ad.getValue());ad.toTextArea()}ap.html(Z.val()||s.emptyPara);ap.height(Y.height?Z.height():"auto");I.activate(aq);ap.focus()}I.updateCodeview(aa.toolbar(),an)}}}}}}}K(aj)}};var M=24;var G=function(U){var W=g(document);var T=D(U.target).editable();var V=T.offset().top-W.scrollTop();W.on("mousemove",function(Y){var X=Y.clientY-(V+M);T.height(X)}).one("mouseup",function(){W.off("mousemove")});U.stopPropagation();U.preventDefault()};var L=18;var N=function(U){var W=g(U.target.parentNode);var V=W.next();var ab=W.find(".note-dimension-picker-mousecatcher");var X=W.find(".note-dimension-picker-highlighted");var Y=W.find(".note-dimension-picker-unhighlighted");var aa;if(U.offsetX===undefined){var T=g(U.target).offset();aa={x:U.pageX-T.left,y:U.pageY-T.top}}else{aa={x:U.offsetX,y:U.offsetY}}var Z={c:Math.ceil(aa.x/L)||1,r:Math.ceil(aa.y/L)||1};X.css({width:Z.c+"em",height:Z.r+"em"});ab.attr("data-value",Z.c+"x"+Z.r);if(3<Z.c&&Z.c<10){Y.css({width:Z.c+1+"em"})}if(3<Z.r&&Z.r<10){Y.css({height:Z.r+1+"em"})}V.html(Z.c+" x "+Z.r)};var B=function(W){var U=g(),V=W.dropzone,T=W.dropzone.find(".note-dropzone-message");g(document).on("dragenter",function(Y){var X=W.editor.hasClass("codeview");if(!X&&U.length===0){W.editor.addClass("dragover");V.width(W.editor.width());V.height(W.editor.height());T.text("Drag Image Here")}U=U.add(Y.target)}).on("dragleave",function(X){U=U.not(X.target);if(U.length===0){W.editor.removeClass("dragover")}}).on("drop",function(){U=g();W.editor.removeClass("dragover")});V.on("dragenter",function(){V.addClass("hover");T.text("Drop Image")}).on("dragleave",function(){V.removeClass("hover");T.text("Drag Image Here")});V.on("drop",function(X){J(X)}).on("dragover",false)};this.attach=function(W,U){W.editable.on("keydown",z);W.editable.on("mousedown",H);W.editable.on("keyup mouseup",K);W.editable.on("scroll",P);if(!U.disableDragAndDrop){B(W)}W.handle.on("mousedown",F);W.toolbar.on("click",R);W.popover.on("click",R);W.toolbar.on("mousedown",O);W.popover.on("mousedown",O);W.statusbar.on("mousedown",G);var T=W.toolbar;var V=T.find(".note-dimension-picker-mousecatcher");V.on("mousemove",N);W.editable.on("blur",function(){C.saveRange(W.editable)});W.editor.data("options",U);if(U.styleWithSpan&&!c.bMSIE){setTimeout(function(){document.execCommand("styleWithCSS",0,true)})}W.editable.data("NoteHistory",new e());if(U.onenter){W.editable.keypress(function(X){if(X.keyCode===y.ENTER){U.onenter(X)}})}if(U.onfocus){W.editable.focus(U.onfocus)}if(U.onblur){W.editable.blur(U.onblur)}if(U.onkeyup){W.editable.keyup(U.onkeyup)}if(U.onkeydown){W.editable.keydown(U.onkeydown)}if(U.onToolbarClick){W.toolbar.click(U.onToolbarClick)}W.editable.data("callbacks",{onChange:U.onChange,onAutoSave:U.onAutoSave,onPasteBefore:U.onPasteBefore,onPasteAfter:U.onPasteAfter,onImageUpload:U.onImageUpload,onImageUploadError:U.onImageUpload,onFileUpload:U.onFileUpload,onFileUploadError:U.onFileUpload})};this.dettach=function(T){T.editable.off();T.toolbar.off();T.handle.off();T.popover.off()}};var o=function(){var M,B,D,E,K;M={picture:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+O.image.image+'" data-event="showImageDialog" tabindex="-1"><i class="fa fa-picture-o icon-picture"></i></button>'},link:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+O.link.link+'" data-event="showLinkDialog" data-shortcut="Ctrl+K" data-mac-shortcut="⌘+K" tabindex="-1"><i class="fa fa-link icon-link"></i></button>'},video:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+O.video.video+'" data-event="showVideoDialog" tabindex="-1"><i class="fa fa-youtube-play icon-play"></i></button>'},table:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+O.table.table+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-table icon-table"></i> <span class="caret"></span></button><ul class="dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>'},style:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+O.style.style+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-magic icon-magic"></i> <span class="caret"></span></button><ul class="dropdown-menu"><li><a data-event="formatBlock" data-value="p">'+O.style.normal+'</a></li><li><a data-event="formatBlock" data-value="blockquote"><blockquote>'+O.style.blockquote+'</blockquote></a></li><li><a data-event="formatBlock" data-value="pre">'+O.style.pre+'</a></li><li><a data-event="formatBlock" data-value="h1"><h1>'+O.style.h1+'</h1></a></li><li><a data-event="formatBlock" data-value="h2"><h2>'+O.style.h2+'</h2></a></li><li><a data-event="formatBlock" data-value="h3"><h3>'+O.style.h3+'</h3></a></li><li><a data-event="formatBlock" data-value="h4"><h4>'+O.style.h4+'</h4></a></li><li><a data-event="formatBlock" data-value="h5"><h5>'+O.style.h5+'</h5></a></li><li><a data-event="formatBlock" data-value="h6"><h6>'+O.style.h6+"</h6></a></li></ul>"},fontname:function(R){var Q=["Serif","Sans","Arial","Arial Black","Courier","Courier New","Comic Sans MS","Helvetica","Impact","Lucida Grande","Lucida Sans","Tahoma","Times","Times New Roman","Verdana"];var P='<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+R.font.name+'" tabindex="-1"><span class="note-current-fontname">Arial</span> <b class="caret"></b></button>';P+='<ul class="dropdown-menu">';for(var O=0;O<Q.length;O++){P+='<li><a data-event="fontName" data-value="'+Q[O]+'"><i class="fa fa-check icon-ok"></i> '+Q[O]+"</a></li>"}P+="</ul>";return P},fontsize:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+O.font.size+'" tabindex="-1"><span class="note-current-fontsize">11</span> <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="fontSize" data-value="8"><i class="fa fa-check icon-ok"></i> 8</a></li><li><a data-event="fontSize" data-value="9"><i class="fa fa-check icon-ok"></i> 9</a></li><li><a data-event="fontSize" data-value="10"><i class="fa fa-check icon-ok"></i> 10</a></li><li><a data-event="fontSize" data-value="11"><i class="fa fa-check icon-ok"></i> 11</a></li><li><a data-event="fontSize" data-value="12"><i class="fa fa-check icon-ok"></i> 12</a></li><li><a data-event="fontSize" data-value="14"><i class="fa fa-check icon-ok"></i> 14</a></li><li><a data-event="fontSize" data-value="18"><i class="fa fa-check icon-ok"></i> 18</a></li><li><a data-event="fontSize" data-value="24"><i class="fa fa-check icon-ok"></i> 24</a></li><li><a data-event="fontSize" data-value="36"><i class="fa fa-check icon-ok"></i> 36</a></li></ul>'},color:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small note-recent-color" title="'+O.color.recent+'" data-event="color" data-value=\'{"backColor":"yellow"}\' tabindex="-1"><i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i></button><button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+O.color.more+'" data-toggle="dropdown" tabindex="-1"><span class="caret"></span></button><ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+O.color.background+'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+O.color.transparent+'">'+O.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+O.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+O.color.reset+'">'+O.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>'},bold:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+O.font.bold+'" data-shortcut="Ctrl+B" data-mac-shortcut="⌘+B" data-event="bold" tabindex="-1"><i class="fa fa-bold icon-bold"></i></button>'},italic:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+O.font.italic+'" data-shortcut="Ctrl+I" data-mac-shortcut="⌘+I" data-event="italic" tabindex="-1"><i class="fa fa-italic icon-italic"></i></button>'},underline:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+O.font.underline+'" data-shortcut="Ctrl+U" data-mac-shortcut="⌘+U" data-event="underline" tabindex="-1"><i class="fa fa-underline icon-underline"></i></button>'},clear:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+O.font.clear+'" data-shortcut="Ctrl+\\" data-mac-shortcut="⌘+\\" data-event="removeFormat" tabindex="-1"><i class="fa fa-eraser icon-eraser"></i></button>'},ul:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+O.lists.unordered+'" data-shortcut="Ctrl+Shift+8" data-mac-shortcut="⌘+⇧+7" data-event="insertUnorderedList" tabindex="-1"><i class="fa fa-list-ul icon-list-ul"></i></button>'},ol:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+O.lists.ordered+'" data-shortcut="Ctrl+Shift+7" data-mac-shortcut="⌘+⇧+8" data-event="insertOrderedList" tabindex="-1"><i class="fa fa-list-ol icon-list-ol"></i></button>'},paragraph:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+O.paragraph.paragraph+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i>  <span class="caret"></span></button><div class="dropdown-menu"><div class="note-align btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.paragraph.left+'" data-shortcut="Ctrl+Shift+L" data-mac-shortcut="⌘+⇧+L" data-event="justifyLeft" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.paragraph.center+'" data-shortcut="Ctrl+Shift+E" data-mac-shortcut="⌘+⇧+E" data-event="justifyCenter" tabindex="-1"><i class="fa fa-align-center icon-align-center"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.paragraph.right+'" data-shortcut="Ctrl+Shift+R" data-mac-shortcut="⌘+⇧+R" data-event="justifyRight" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.paragraph.justify+'" data-shortcut="Ctrl+Shift+J" data-mac-shortcut="⌘+⇧+J" data-event="justifyFull" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="note-list btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.paragraph.outdent+'" data-shortcut="Ctrl+[" data-mac-shortcut="⌘+[" data-event="outdent" tabindex="-1"><i class="fa fa-outdent icon-indent-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.paragraph.indent+'" data-shortcut="Ctrl+]" data-mac-shortcut="⌘+]" data-event="indent" tabindex="-1"><i class="fa fa-indent icon-indent-right"></i></button></div></div>'},height:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+O.font.height+'" tabindex="-1"><i class="fa fa-text-height icon-text-height"></i>&nbsp; <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="lineHeight" data-value="1.0"><i class="fa fa-check icon-ok"></i> 1.0</a></li><li><a data-event="lineHeight" data-value="1.2"><i class="fa fa-check icon-ok"></i> 1.2</a></li><li><a data-event="lineHeight" data-value="1.4"><i class="fa fa-check icon-ok"></i> 1.4</a></li><li><a data-event="lineHeight" data-value="1.5"><i class="fa fa-check icon-ok"></i> 1.5</a></li><li><a data-event="lineHeight" data-value="1.6"><i class="fa fa-check icon-ok"></i> 1.6</a></li><li><a data-event="lineHeight" data-value="1.8"><i class="fa fa-check icon-ok"></i> 1.8</a></li><li><a data-event="lineHeight" data-value="2.0"><i class="fa fa-check icon-ok"></i> 2.0</a></li><li><a data-event="lineHeight" data-value="3.0"><i class="fa fa-check icon-ok"></i> 3.0</a></li></ul>'},help:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+O.options.help+'" data-shortcut="Ctrl+/" data-mac-shortcut="⌘+/" data-event="showHelpDialog" tabindex="-1"><i class="fa fa-question icon-question"></i></button>'},fullscreen:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+O.options.fullscreen+'" data-event="fullscreen" tabindex="-1"><i class="fa fa-arrows-alt icon-fullscreen"></i></button>'},codeview:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+O.options.codeview+'" data-event="codeview" tabindex="-1"><i class="fa fa-code icon-code"></i></button>'},undo:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+O.history.undo+'" data-event="undo" tabindex="-1"><i class="fa fa-undo icon-undo"></i></button>'},redo:function(O){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+O.history.redo+'" data-event="redo" tabindex="-1"><i class="fa fa-repeat icon-repeat"></i></button>'}};B=function(O){return'<div class="note-popover"><div class="note-link-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-link-content"><a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.link.edit+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-edit icon-edit"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.link.unlink+'" data-event="unlink" tabindex="-1"><i class="fa fa-unlink icon-unlink"></i></button></div></div></div><div class="note-image-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-image-content"><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.image.resizeFull+'" data-event="resize" data-value="1" tabindex="-1"><span class="note-fontsize-10">100%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.image.resizeHalf+'" data-event="resize" data-value="0.5" tabindex="-1"><span class="note-fontsize-10">50%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.image.resizeQuarter+'" data-event="resize" data-value="0.25" tabindex="-1"><span class="note-fontsize-10">25%</span> </button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.image.floatLeft+'" data-event="floatMe" data-value="left" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.image.floatRight+'" data-event="floatMe" data-value="right" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.image.floatNone+'" data-event="floatMe" data-value="none" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+O.image.remove+'" data-event="removeMedia" data-value="none" tabindex="-1"><i class="fa fa-trash-o icon-trash"></i></button></div></div></div></div>'};var D=function(){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>'};var A=function(P,O){return'<table class="note-shortcut"><thead><tr><th></th><th>'+P.shortcut.textFormatting+"</th></tr></thead><tbody><tr><td>⌘ + B</td><td>"+P.font.bold+"</td></tr><tr><td>⌘ + I</td><td>"+P.font.italic+"</td></tr><tr><td>⌘ + U</td><td>"+P.font.underline+"</td></tr><tr><td>⌘ + ⇧ + S</td><td>"+P.font.strike+"</td></tr><tr><td>⌘ + \\</td><td>"+P.font.clear+"</td></tr></tr></tbody></table>"};var F=function(P,O){return'<table class="note-shortcut"><thead><tr><th></th><th>'+P.shortcut.action+"</th></tr></thead><tbody><tr><td>⌘ + Z</td><td>"+P.history.undo+"</td></tr><tr><td>⌘ + ⇧ + Z</td><td>"+P.history.redo+"</td></tr><tr><td>⌘ + ]</td><td>"+P.paragraph.indent+"</td></tr><tr><td>⌘ + [</td><td>"+P.paragraph.outdent+"</td></tr><tr><td>⌘ + K</td><td>"+P.link.insert+"</td></tr><tr><td>⌘ + ENTER</td><td>"+P.hr.insert+"</td></tr></tbody></table>"};var G=function(R,O){var Q='<table class="note-shortcut"><thead><tr><th></th><th>'+R.shortcut.extraKeys+"</th></tr></thead><tbody>";for(var P in O.extraKeys){if(!O.extraKeys.hasOwnProperty(P)){continue}Q+="<tr><td>"+P+"</td><td>"+O.extraKeys[P]+"</td></tr>"}Q+="</tbody></table>";return Q};var C=function(P,O){return'<table class="note-shortcut"><thead><tr><th></th><th>'+P.shortcut.paragraphFormatting+"</th></tr></thead><tbody><tr><td>⌘ + ⇧ + L</td><td>"+P.paragraph.left+"</td></tr><tr><td>⌘ + ⇧ + E</td><td>"+P.paragraph.center+"</td></tr><tr><td>⌘ + ⇧ + R</td><td>"+P.paragraph.right+"</td></tr><tr><td>⌘ + ⇧ + J</td><td>"+P.paragraph.justify+"</td></tr><tr><td>⌘ + ⇧ + NUM7</td><td>"+P.lists.ordered+"</td></tr><tr><td>⌘ + ⇧ + NUM8</td><td>"+P.lists.unordered+"</td></tr></tbody></table>"};var L=function(P,O){return'<table class="note-shortcut"><thead><tr><th></th><th>'+P.shortcut.documentStyle+"</th></tr></thead><tbody><tr><td>⌘ + NUM0</td><td>"+P.style.normal+"</td></tr><tr><td>⌘ + NUM1</td><td>"+P.style.h1+"</td></tr><tr><td>⌘ + NUM2</td><td>"+P.style.h2+"</td></tr><tr><td>⌘ + NUM3</td><td>"+P.style.h3+"</td></tr><tr><td>⌘ + NUM4</td><td>"+P.style.h4+"</td></tr><tr><td>⌘ + NUM5</td><td>"+P.style.h5+"</td></tr><tr><td>⌘ + NUM6</td><td>"+P.style.h6+"</td></tr></tbody></table>"};var J=function(Q,O){var P='<table class="note-shortcut-layout"><tbody><tr><td>'+F(Q,O)+"</td><td>"+A(Q,O)+"</td></tr><tr><td>"+L(Q,O)+"</td><td>"+C(Q,O)+"</td></tr>";if(O.extraKeys){P+='<tr><td colspan="2">'+G(Q,O)+"</td></tr>"}P+="</tbody</table>";return P};var I=function(O){return O.replace(/⌘/g,"Ctrl").replace(/⇧/g,"Shift")};E=function(T,O){var R=function(){return'<div class="note-image-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+T.image.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><h5>'+T.image.selectFromFiles+'</h5><input class="note-image-input" type="file" name="files" accept="image/*" /><h5>'+T.image.url+'</h5><input class="note-image-url form-control span12" type="text" /></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-image-btn disabled" disabled="disabled">'+T.image.insert+"</button></div></div></div></div>"};var P=function(){return'<div class="note-link-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+T.link.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+T.link.textToDisplay+'</label><input class="note-link-text form-control span12" disabled type="text" /></div><div class="form-group"><label>'+T.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(!O.disableLinkTarget?'<div class="checkbox"><label><input type="checkbox" checked> '+T.link.openInNewWindow+"</label></div>":"")+'</div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-link-btn disabled" disabled="disabled">'+T.link.insert+"</button></div></div></div></div>"};var Q=function(){return'<div class="note-video-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+T.video.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+T.video.url+'</label>&nbsp;<small class="text-muted">'+T.video.providers+'</small><input class="note-video-url form-control span12" type="text" /></div></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-video-btn disabled" disabled="disabled">'+T.video.insert+"</button></div></div></div></div>"};var S=function(){return'<div class="note-help-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+T.shortcut.close+'</a><div class="title">'+T.shortcut.shortcuts+"</div>"+(c.bMac?J(T,O):I(J(T,O)))+'<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.1</a> · <a href="//github.com/HackerWins/summernote" target="_blank">Project</a> · <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a></p></div></div></div></div>'};return'<div class="note-dialog">'+R()+P()+Q()+S()+"</div>"};K=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'};var N=function(P,O){P.find("button").each(function(Q,S){var R=g(S);var T=R.attr(c.bMac?"data-mac-shortcut":"data-shortcut");if(T){R.attr("title",function(V,U){return U+" ("+T+")"})}}).tooltip({container:"body",trigger:"hover",placement:O||"top"}).on("click",function(){g(this).tooltip("hide")})};var H=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]];var z=function(O){O.find(".note-color-palette").each(function(){var W=g(this),P=W.attr("data-target-event");var U=[];for(var Y=0,Q=H.length;Y<Q;Y++){var X=H[Y];var S=[];for(var R=0,V=X.length;R<V;R++){var T=X[R];S.push(['<button type="button" class="note-color-btn" style="background-color:',T,';" data-event="',P,'" data-value="',T,'" title="',T,'" data-toggle="button" tabindex="-1"></button>'].join(""))}U.push("<div>"+S.join("")+"</div>")}W.html(U.join(""))})};this.createLayout=function(R,ad){var U=R.next();if(U&&U.hasClass("note-editor")){return}var O=g('<div class="note-editor"></div>');if(ad.width){O.width(ad.width)}if(ad.height>0){g('<div class="note-statusbar">'+K()+"</div>").prependTo(O)}var ac=!R.is(":disabled");var ab=g('<div class="note-editable" contentEditable="'+ac+'"></div>').prependTo(O);if(ad.height){ab.height(ad.height)}if(ad.direction){ab.attr("dir",ad.direction)}ab.html(s.html(R)||s.emptyPara);g('<textarea class="note-codable"></textarea>').prependTo(O);var W=g.summernote.lang[ad.lang];var Y="";for(var Z=0,X=ad.toolbar.length;Z<X;Z++){var aa=ad.toolbar[Z];Y+='<div class="note-'+aa[0]+' btn-group">';for(var T=0,V=aa[1].length;T<V;T++){Y+=M[aa[1][T]](W)}Y+="</div>"}Y='<div class="note-toolbar btn-toolbar">'+Y+"</div>";var Q=g(Y).prependTo(O);z(Q);N(Q,"bottom");var S=g(B(W)).prependTo(O);N(S);g(D()).prependTo(O);var P=g(E(W,ad)).prependTo(O);P.find("button.close, a.modal-close").click(function(){g(this).closest(".modal").modal("hide")});g('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(O);O.insertAfter(R);R.hide()};this.layoutInfoFromHolder=function(P){var R=P.next();if(!R.hasClass("note-editor")){return}var Q=s.buildLayoutInfo(R);for(var O in Q){if(Q.hasOwnProperty(O)){Q[O]=Q[O].call()}}return Q};this.removeLayout=function(O){var P=this.layoutInfoFromHolder(O);if(!P){return}O.html(P.editable.html());P.editor.remove();O.show()}};g.summernote=g.summernote||{};g.extend(g.summernote,x);var m=new o();var r=new k();g.fn.extend({summernote:function(z){z=g.extend({},g.summernote.options,z);this.each(function(B,C){var D=g(C);m.createLayout(D,z);var E=m.layoutInfoFromHolder(D);r.attach(E,z);if(s.isTextarea(D[0])){D.closest("form").submit(function(){D.html(D.code())})}});if(this.first()&&z.focus){var A=m.layoutInfoFromHolder(this.first());A.editable.focus()}if(this.length>0&&z.oninit){z.oninit()}return this},code:function(A){if(A===undefined){var B=this.first();if(B.length===0){return}var C=m.layoutInfoFromHolder(B);if(!!(C&&C.editable)){var z=C.editor.hasClass("codeview");if(z&&c.bCodeMirror){C.codable.data("cmEditor").save()}return z?C.codable.val():C.editable.html()}return B.html()}this.each(function(D,E){var F=m.layoutInfoFromHolder(g(E));if(F&&F.editable){F.editable.html(A)}});return this},destroy:function(){this.each(function(z,A){var B=g(A);var C=m.layoutInfoFromHolder(B);if(!C||!C.editable){return}r.dettach(C);m.removeLayout(B)});return this}})}));(function(L){var e=L.Markdown=function e(S){switch(typeof S){case"undefined":this.dialect=e.dialects.Gruber;break;case"object":this.dialect=S;break;default:if(S in e.dialects){this.dialect=e.dialects[S]}else{throw new Error("Unknown Markdown dialect '"+String(S)+"'")}break}this.em_state=[];this.strong_state=[];this.debug_indent=""};L.parse=function(U,S){var T=new e(S);return T.toTree(U)};L.toHTML=function v(V,U,T){var S=L.toHTMLTree(V,U,T);return L.renderJsonML(S)};L.toHTMLTree=function x(T,X,V){if(typeof T==="string"){T=this.parse(T,X)}var U=D(T),S={};if(U&&U.references){S=U.references}var W=i(T,S,V);q(W);return W};function f(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function I(){var S=require("util");return"Markdown.mk_block( "+S.inspect(this.toString())+", "+S.inspect(this.trailing)+", "+S.inspect(this.lineNumber)+" )"}var g=e.mk_block=function(V,T,S){if(arguments.length==1){T="\n\n"}var U=new String(V);U.trailing=T;U.inspect=I;U.toSource=f;if(S!=undefined){U.lineNumber=S}return U};function H(T){var U=0,S=-1;while((S=T.indexOf("\n",S+1))!==-1){U++}return U}e.prototype.split_blocks=function A(U,X){var V=/([\s\S]+?)($|\n(?:\s*\n|$)+)/g,W=[],S;var T=1;if((S=/^(\s*\n)/.exec(U))!=null){T+=H(S[0]);V.lastIndex=S[0].length}while((S=V.exec(U))!==null){W.push(g(S[1],S[2],T));T+=H(S[0])}return W};e.prototype.processBlock=function N(X,W){var T=this.dialect.block,S=T.__order__;if("__call__" in T){return T.__call__.call(this,X,W)}for(var V=0;V<S.length;V++){var U=T[S[V]].call(this,X,W);if(U){if(!B(U)||(U.length>0&&!(B(U[0])))){this.debug(S[V],"didn't return a proper array")}return U}}return[]};e.prototype.processInline=function h(S){return this.dialect.inline.__call__.call(this,String(S))};e.prototype.toTree=function J(U,T){var V=U instanceof Array?U:this.split_blocks(U);var W=this.tree;try{this.tree=T||this.tree||["markdown"];V:while(V.length){var S=this.processBlock(V.shift(),V);if(!S.length){continue V}this.tree.push.apply(this.tree,S)}return this.tree}finally{if(T){this.tree=W}}};e.prototype.debug=function(){var S=Array.prototype.slice.call(arguments);S.unshift(this.debug_indent);if(typeof print!=="undefined"){print.apply(print,S)}if(typeof console!=="undefined"&&typeof console.log!=="undefined"){console.log.apply(null,S)}};e.prototype.loop_re_over_block=function(V,W,U){var T,S=W.valueOf();while(S.length&&(T=V.exec(S))!=null){S=S.substr(T[0].length);U.call(this,T)}return S};e.dialects={};e.dialects.Gruber={block:{atxHeader:function s(U,T){var S=U.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(!S){return undefined}var V=["header",{level:S[1].length}];Array.prototype.push.apply(V,this.processInline(S[2]));if(S[0].length<U.length){T.unshift(g(U.substr(S[0].length),U.trailing,U.lineNumber+2))}return[V]},setextHeader:function y(U,T){var S=U.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(!S){return undefined}var W=(S[2]==="=")?1:2;var V=["header",{level:W},S[1]];if(S[0].length<U.length){T.unshift(g(U.substr(S[0].length),U.trailing,U.lineNumber+2))}return[V]},code:function l(X,W){var U=[],V=/^(?: {0,3}\t| {4})(.*)\n?/,T;if(!X.match(V)){return undefined}block_search:do{var S=this.loop_re_over_block(V,X.valueOf(),function(Y){U.push(Y[1])});if(S.length){W.unshift(g(S,X.trailing));break block_search}else{if(W.length){if(!W[0].match(V)){break block_search}U.push(X.trailing.replace(/[^\n]/g,"").substring(2));X=W.shift()}else{break block_search}}}while(true);return[["code_block",U.join("\n")]]},horizRule:function Q(U,T){var S=U.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(!S){return undefined}var V=[["hr"]];if(S[1]){V.unshift.apply(V,this.processBlock(S[1],[]))}if(S[3]){T.unshift(g(S[3]))}return V},lists:(function(){var V="[*+-]|\\d+\\.",T=/[*+-]/,ab=/\d+\./,Z=new RegExp("^( {0,3})("+V+")[ \t]+"),U="(?: {0,3}\\t| {4})";function W(ac){return new RegExp("(?:^("+U+"{0,"+ac+"} {0,3})("+V+")\\s+)|(^"+U+"{0,"+(ac-1)+"}[ ]{0,4})")}function S(ac){return ac.replace(/ {0,3}\t/g,"    ")}function aa(ad,aj,ai,ae){if(aj){ad.push(["para"].concat(ai));return}var ac=ad[ad.length-1] instanceof Array&&ad[ad.length-1][0]=="para"?ad[ad.length-1]:ad;if(ae&&ad.length>1){ai.unshift(ae)}for(var ag=0;ag<ai.length;ag++){var ah=ai[ag],af=typeof ah=="string";if(af&&ac.length>1&&typeof ac[ac.length-1]=="string"){ac[ac.length-1]+=ah}else{ac.push(ah)}}}function X(ai,ah){var ag=new RegExp("^("+U+"{"+ai+"}.*?\\n?)*$"),af=new RegExp("^"+U+"{"+ai+"}","gm"),ae=[];while(ah.length>0){if(ag.exec(ah[0])){var ad=ah.shift(),ac=ad.replace(af,"");ae.push(g(ac,ad.trailing,ad.lineNumber))}break}return ae}function Y(af,ae,ac){var ah=af.list;var ag=ah[ah.length-1];if(ag[1] instanceof Array&&ag[1][0]=="para"){return}if(ae+1==ac.length){ag.push(["para"].concat(ag.splice(1)))}else{var ad=ag.pop();ag.push(["para"].concat(ag.splice(1)),ad)}}return function(ah,an){var ao=ah.match(Z);if(!ao){return undefined}function af(ay){var az=T.exec(ay[2])?["bulletlist"]:["numberlist"];ag.push({list:az,indent:ay[1]});return az}var ag=[],at=af(ao),ae,am=false,ax=[ag[0].list],aq;loose_search:while(true){var ac=ah.split(/(?=\n)/);var au="";tight_search:for(var av=0;av<ac.length;av++){var ad="",ap=ac[av].replace(/^\n/,function(ay){ad=ay;return""});var ak=W(ag.length);ao=ap.match(ak);if(ao[1]!==undefined){if(au.length){aa(ae,am,this.processInline(au),ad);am=false;au=""}ao[1]=S(ao[1]);var ai=Math.floor(ao[1].length/4)+1;if(ai>ag.length){at=af(ao);ae.push(at);ae=at[1]=["listitem"]}else{var al=false;for(aq=0;aq<ag.length;aq++){if(ag[aq].indent!=ao[1]){continue}at=ag[aq].list;ag.splice(aq+1);al=true;break}if(!al){ai++;if(ai<=ag.length){ag.splice(ai);at=ag[ai-1].list}else{at=af(ao);ae.push(at)}}ae=["listitem"];at.push(ae)}ad=""}if(ap.length>ao[0].length){au+=ad+ap.substr(ao[0].length)}}if(au.length){aa(ae,am,this.processInline(au),ad);am=false;au=""}var ar=X(ag.length,an);if(ar.length>0){c(ag,Y,this);ae.push.apply(ae,this.toTree(ar,[]))}var aj=an[0]&&an[0].valueOf()||"";if(aj.match(Z)||aj.match(/^ /)){ah=an.shift();var aw=this.dialect.block.horizRule(ah,an);if(aw){ax.push.apply(ax,aw);break}c(ag,Y,this);am=true;continue loose_search}break}return ax}})(),blockquote:function M(X,V){if(!X.match(/^>/m)){return undefined}var Z=[];if(X[0]!=">"){var T=X.split(/\n/),W=[];while(T.length&&T[0][0]!=">"){W.push(T.shift())}X=T.join("\n");Z.push.apply(Z,this.processBlock(W.join("\n"),[]))}while(V.length&&V[0][0]==">"){var S=V.shift();X=new String(X+X.trailing+S);X.trailing=S.trailing}var U=X.replace(/^> ?/gm,""),Y=this.tree;Z.push(this.toTree(U,["blockquote"]));return Z},referenceDefn:function K(W,V){var U=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(!W.match(U)){return undefined}if(!D(this.tree)){this.tree.splice(1,0,{})}var T=D(this.tree);if(T.references===undefined){T.references={}}var S=this.loop_re_over_block(U,W,function(X){if(X[2]&&X[2][0]=="<"&&X[2][X[2].length-1]==">"){X[2]=X[2].substring(1,X[2].length-1)}var Y=T.references[X[1].toLowerCase()]={href:X[2]};if(X[4]!==undefined){Y.title=X[4]}else{if(X[5]!==undefined){Y.title=X[5]}}});if(S.length){V.unshift(g(S,W.trailing))}return[]},para:function E(T,S){return[["para"].concat(this.processInline(T))]}}};e.dialects.Gruber.inline={__oneElement__:function d(X,T,W){var S,U,Y=0;T=T||this.dialect.inline.__patterns__;var V=new RegExp("([\\s\\S]*?)("+(T.source||T)+")");S=V.exec(X);if(!S){return[X.length,X]}else{if(S[1]){return[S[1].length,S[1]]}}var U;if(S[2] in this.dialect.inline){U=this.dialect.inline[S[2]].call(this,X.substr(S.index),S,W||[])}U=U||[S[2].length,S[2]];return U},__call__:function r(W,U){var S=[],T;function V(X){if(typeof X=="string"&&typeof S[S.length-1]=="string"){S[S.length-1]+=X}else{S.push(X)}}while(W.length>0){T=this.dialect.inline.__oneElement__.call(this,W,U,S);W=W.substr(T.shift());c(T,V)}return S},"]":function(){},"}":function(){},"\\":function u(S){if(S.match(/^\\[\\`\*_{}\[\]()#\+.!\-]/)){return[2,S[1]]}else{return[1,"\\"]}},"![":function m(U){var S=U.match(/^!\[(.*?)\][ \t]*\([ \t]*(\S*)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(S){if(S[2]&&S[2][0]=="<"&&S[2][S[2].length-1]==">"){S[2]=S[2].substring(1,S[2].length-1)}S[2]=this.dialect.inline.__call__.call(this,S[2],/\\/)[0];var T={alt:S[1],href:S[2]||""};if(S[4]!==undefined){T.title=S[4]}return[S[0].length,["img",T]]}S=U.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/);if(S){return[S[0].length,["img_ref",{alt:S[1],ref:S[2].toLowerCase(),original:S[0]}]]}return[2,"!["]},"[":function n(ac){var Z=String(ac);var X=e.DialectHelpers.inline_until_char.call(this,ac.substr(1),"]");if(!X){return[1,"["]}var aa=1+X[0],T=X[1],Y,ab;ac=ac.substr(aa);var V=ac.match(/^\s*\([ \t]*(\S+)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(V){var S=V[1];aa+=V[0].length;if(S&&S[0]=="<"&&S[S.length-1]==">"){S=S.substring(1,S.length-1)}if(!V[3]){var U=1;for(var W=0;W<S.length;W++){switch(S[W]){case"(":U++;break;case")":if(--U==0){aa-=S.length-W;S=S.substring(0,W)}break}}}S=this.dialect.inline.__call__.call(this,S,/\\/)[0];ab={href:S||""};if(V[3]!==undefined){ab.title=V[3]}Y=["link",ab].concat(T);return[aa,Y]}V=ac.match(/^\s*\[(.*?)\]/);if(V){aa+=V[0].length;ab={ref:(V[1]||String(T)).toLowerCase(),original:Z.substr(0,aa)};Y=["link_ref",ab].concat(T);return[aa,Y]}if(T.length==1&&typeof T[0]=="string"){ab={ref:T[0].toLowerCase(),original:Z.substr(0,aa)};Y=["link_ref",ab,T[0]];return[aa,Y]}return[1,"["]},"<":function w(T){var S;if((S=T.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))!=null){if(S[3]){return[S[0].length,["link",{href:"mailto:"+S[3]},S[3]]]}else{if(S[2]=="mailto"){return[S[0].length,["link",{href:S[1]},S[1].substr("mailto:".length)]]}else{return[S[0].length,["link",{href:S[1]},S[1]]]}}}return[1,"<"]},"`":function z(T){var S=T.match(/(`+)(([\s\S]*?)\1)/);if(S&&S[2]){return[S[1].length+S[2].length,["inlinecode",S[3]]]}else{return[1,"`"]}},"  \n":function P(S){return[3,["linebreak"]]}};function G(S,V){var U=S+"_state",W=S=="strong"?"em_state":"strong_state";function T(X){this.len_after=X;this.name="close_"+V}return function(ae,ad){if(this[U][0]==V){this[U].shift();return[ae.length,new T(ae.length-V.length)]}else{var X=this[W].slice(),ac=this[U].slice();this[U].unshift(V);var Z=this.processInline(ae.substr(V.length));var aa=Z[Z.length-1];var Y=this[U].shift();if(aa instanceof T){Z.pop();var ab=ae.length-aa.len_after;return[ab,[S].concat(Z)]}else{this[W]=X;this[U]=ac;return[V.length,V]}}}}e.dialects.Gruber.inline["**"]=G("strong","**");e.dialects.Gruber.inline.__=G("strong","__");e.dialects.Gruber.inline["*"]=G("em","*");e.dialects.Gruber.inline._=G("em","_");e.buildBlockOrder=function(U){var S=[];for(var T in U){if(T=="__order__"||T=="__call__"){continue}S.push(T)}U.__order__=S};e.buildInlinePatterns=function(W){var V=[];for(var T in W){if(T.match(/^__.*__$/)){continue}var S=T.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");V.push(T.length==1?S:"(?:"+S+")")}V=V.join("|");W.__patterns__=V;var U=W.__call__;W.__call__=function(Y,X){if(X!=undefined){return U.call(this,Y,X)}else{return U.call(this,Y,V)}}};e.DialectHelpers={};e.DialectHelpers.inline_until_char=function(W,V){var U=0,S=[];while(true){if(W[U]==V){U++;return[U,S]}if(U>=W.length){return null}var T=this.dialect.inline.__oneElement__.call(this,W.substr(U));U+=T[0];S.push.apply(S,T.slice(1))}};e.subclassDialect=function(U){function S(){}S.prototype=U.block;function T(){}T.prototype=U.inline;return{block:new S(),inline:new T()}};e.buildBlockOrder(e.dialects.Gruber.block);e.buildInlinePatterns(e.dialects.Gruber.inline);e.dialects.Maruku=e.subclassDialect(e.dialects.Gruber);e.dialects.Maruku.processMetaHash=function k(V){var W=o(V),S={};for(var T=0;T<W.length;++T){if(/^#/.test(W[T])){S.id=W[T].substring(1)}else{if(/^\./.test(W[T])){if(S["class"]){S["class"]=S["class"]+W[T].replace(/./," ")}else{S["class"]=W[T].substring(1)}}else{if(/\=/.test(W[T])){var U=W[T].split(/\=/);S[U[0]]=U[1]}}}}return S};function o(U){var W=U.split(""),V=[""],S=false;while(W.length){var T=W.shift();switch(T){case" ":if(S){V[V.length-1]+=T}else{V.push("")}break;case"'":case'"':S=!S;break;case"\\":T=W.shift();default:V[V.length-1]+=T;break}}return V}e.dialects.Maruku.block.document_meta=function j(X,U){if(X.lineNumber>1){return undefined}if(!X.match(/^(?:\w+:.*\n)*\w+:.*$/)){return undefined}if(!D(this.tree)){this.tree.splice(1,0,{})}var W=X.split(/\n/);for(p in W){var S=W[p].match(/(\w+):\s*(.*)$/),T=S[1].toLowerCase(),V=S[2];this.tree[1][T]=V}return[]};e.dialects.Maruku.block.block_meta=function F(Z,W){var V=Z.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(!V){return undefined}var U=this.dialect.processMetaHash(V[2]);var Y;if(V[1]===""){var X=this.tree[this.tree.length-1];Y=D(X);if(typeof X==="string"){return undefined}if(!Y){Y={};X.splice(1,0,Y)}for(a in U){Y[a]=U[a]}return[]}var T=Z.replace(/\n.*$/,""),S=this.processBlock(T,[]);Y=D(S[0]);if(!Y){Y={};S[0].splice(1,0,Y)}for(a in U){Y[a]=U[a]}return S};e.dialects.Maruku.block.definition_list=function O(U,X){var Z=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,Y=["dl"],W;if((T=U.match(Z))){var S=[U];while(X.length&&Z.exec(X[0])){S.push(X.shift())}for(var aa=0;aa<S.length;++aa){var T=S[aa].match(Z),V=T[1].replace(/\n$/,"").split(/\n/),ab=T[2].split(/\n:\s+/);for(W=0;W<V.length;++W){Y.push(["dt",V[W]])}for(W=0;W<ab.length;++W){Y.push(["dd"].concat(this.processInline(ab[W].replace(/(\n)\s+/,"$1"))))}}}else{return undefined}return[Y]};e.dialects.Maruku.inline["{:"]=function C(Z,X,V){if(!V.length){return[2,"{:"]}var W=V[V.length-1];if(typeof W==="string"){return[2,"{:"]}var T=Z.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!T){return[2,"{:"]}var Y=this.dialect.processMetaHash(T[1]),S=D(W);if(!S){S={};W.splice(1,0,S)}for(var U in Y){S[U]=Y[U]}return[T[0].length,""]};e.buildBlockOrder(e.dialects.Maruku.block);e.buildInlinePatterns(e.dialects.Maruku.inline);var B=Array.isArray||function(S){return Object.prototype.toString.call(S)=="[object Array]"};var c;if(Array.prototype.forEach){c=function(T,S,U){return T.forEach(S,U)}}else{c=function(T,S,V){for(var U=0;U<T.length;U++){S.call(V||T,T[U],U,T)}}}function D(S){return B(S)&&S.length>1&&typeof S[1]==="object"&&!(B(S[1]))?S[1]:undefined}L.renderJsonML=function(U,S){S=S||{};S.root=S.root||false;var T=[];if(S.root){T.push(R(U))}else{U.shift();if(U.length&&typeof U[0]==="object"&&!(U[0] instanceof Array)){U.shift()}while(U.length){T.push(R(U.shift()))}}return T.join("\n\n")};function b(S){return S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function R(X){if(typeof X==="string"){return b(X)}var S=X.shift(),U={},V=[];if(X.length&&typeof X[0]==="object"&&!(X[0] instanceof Array)){U=X.shift()}while(X.length){V.push(arguments.callee(X.shift()))}var W="";for(var T in U){W+=" "+T+'="'+b(U[T])+'"'}if(S=="img"||S=="br"||S=="hr"){return"<"+S+W+"/>"}else{return"<"+S+W+">"+V.join("")+"</"+S+">"}}function i(aa,X,Z){var U;Z=Z||{};var W=aa.slice(0);if(typeof Z.preprocessTreeNode==="function"){W=Z.preprocessTreeNode(W,X)}var Y=D(W);if(Y){W[1]={};for(U in Y){W[1][U]=Y[U]}Y=W[1]}if(typeof W==="string"){return W}switch(W[0]){case"header":W[0]="h"+W[1].level;delete W[1].level;break;case"bulletlist":W[0]="ul";break;case"numberlist":W[0]="ol";break;case"listitem":W[0]="li";break;case"para":W[0]="p";break;case"markdown":W[0]="html";if(Y){delete Y.references}break;case"code_block":W[0]="pre";U=Y?2:1;var S=["code"];S.push.apply(S,W.splice(U));W[U]=S;break;case"inlinecode":W[0]="code";break;case"img":W[1].src=W[1].href;delete W[1].href;break;case"linebreak":W[0]="br";break;case"link":W[0]="a";break;case"link_ref":W[0]="a";var T=X[Y.ref];if(T){delete Y.ref;Y.href=T.href;if(T.title){Y.title=T.title}delete Y.original}else{return Y.original}break;case"img_ref":W[0]="img";var T=X[Y.ref];if(T){delete Y.ref;Y.src=T.href;if(T.title){Y.title=T.title}delete Y.original}else{return Y.original}break}U=1;if(Y){for(var V in W[1]){U=2}if(U===1){W.splice(U,1)}}for(;U<W.length;++U){W[U]=arguments.callee(W[U],X,Z)}return W}function q(T){var S=D(T)?2:1;while(S<T.length){if(typeof T[S]==="string"){if(S+1<T.length&&typeof T[S+1]==="string"){T[S]+=T.splice(S+1,1)[0]}else{++S}}else{arguments.callee(T[S]);++S}}}})((function(){if(typeof exports==="undefined"){window.markdown={};return window.markdown}else{return exports}})());var toMarkdown=function(m){var k=[{patterns:"p",replacement:function(j,i,r){return r?"\n\n"+r+"\n":""}},{patterns:"br",type:"void",replacement:"\n"},{patterns:"h([1-6])",replacement:function(v,j,s,w){var r="";for(var u=0;u<j;u++){r+="#"}return"\n\n"+r+" "+w+"\n"}},{patterns:"hr",type:"void",replacement:"\n\n* * *\n"},{patterns:"a",replacement:function(s,j,u){var i=j.match(o("href")),r=j.match(o("title"));return i?"["+u+"]("+i[1]+(r&&r[1]?' "'+r[1]+'"':"")+")":s}},{patterns:["b","strong"],replacement:function(j,i,r){return r?"**"+r+"**":""}},{patterns:["i","em"],replacement:function(j,i,r){return r?"_"+r+"_":""}},{patterns:"code",replacement:function(j,i,r){return r?"`"+r+"`":""}},{patterns:"img",type:"void",replacement:function(u,i,v){var s=i.match(o("src")),j=i.match(o("alt")),r=i.match(o("title"));return"!["+(j&&j[1]?j[1]:"")+"]("+s[1]+(r&&r[1]?' "'+r[1]+'"':"")+")"}}];for(var l=0,n=k.length;l<n;l++){if(typeof k[l].patterns==="string"){m=f(m,{tag:k[l].patterns,replacement:k[l].replacement,type:k[l].type})}else{for(var g=0,h=k[l].patterns.length;g<h;g++){m=f(m,{tag:k[l].patterns[g],replacement:k[l].replacement,type:k[l].type})}}}function f(j,s){var u=s.type==="void"?"<"+s.tag+"\\b([^>]*)\\/?>":"<"+s.tag+"\\b([^>]*)>([\\s\\S]*?)<\\/"+s.tag+">",r=new RegExp(u,"gi"),i="";if(typeof s.replacement==="string"){i=j.replace(r,s.replacement)}else{i=j.replace(r,function(y,x,w,v){return s.replacement.call(this,y,x,w,v)})}return i}function o(i){return new RegExp(i+"\\s*=\\s*[\"']?([^\"']*)[\"']?","i")}m=m.replace(/<pre\b[^>]*>`([\s\S]*)`<\/pre>/gi,function(i,j){j=j.replace(/^\t+/g,"  ");j=j.replace(/\n/g,"\n    ");return"\n\n    "+j+"\n"});m=m.replace(/^(\s{0,3}\d+)\. /g,"$1\\. ");var q=/<(ul|ol)\b[^>]*>(?:(?!<ul|<ol)[\s\S])*?<\/\1>/gi;while(m.match(q)){m=m.replace(q,function(i){return d(i)})}function d(i){i=i.replace(/<(ul|ol)\b[^>]*>([\s\S]*?)<\/\1>/gi,function(u,r,v){var j=v.split("</li>");j.splice(j.length-1,1);for(l=0,n=j.length;l<n;l++){if(j[l]){var s=(r==="ol")?(l+1)+".  ":"*   ";j[l]=j[l].replace(/\s*<li[^>]*>([\s\S]*)/i,function(w,x){x=x.replace(/^\s+/,"");x=x.replace(/\n\n/g,"\n\n    ");x=x.replace(/\n([ ]*)+(\*|\d+\.) /g,"\n$1    $2 ");return s+x})}}return j.join("\n")});return"\n\n"+i.replace(/[ \t]+\n|\s+$/g,"")}var c=/<blockquote\b[^>]*>((?:(?!<blockquote)[\s\S])*?)<\/blockquote>/gi;while(m.match(c)){m=m.replace(c,function(i){return b(i)})}function b(i){i=i.replace(/<blockquote\b[^>]*>([\s\S]*?)<\/blockquote>/gi,function(r,j){j=j.replace(/^\s+|\s+$/g,"");j=e(j);j=j.replace(/^/gm,"> ");j=j.replace(/^(>([ \t]{2,}>)+)/gm,"> >");return j});return i}function e(i){i=i.replace(/^[\t\r\n]+|[\t\r\n]+$/g,"");i=i.replace(/\n\s+\n/g,"\n\n");i=i.replace(/\n{3,}/g,"\n\n");return i}return e(m)};if(typeof exports==="object"){exports.toMarkdown=toMarkdown}!function(f){var d=function(h,g){this.$ns="bootstrap-markdown";this.$element=f(h);this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null};this.$options=f.extend(true,{},f.fn.markdown.defaults,g);this.$oldContent=null;this.$isPreview=false;this.$editor=null;this.$textarea=null;this.$handler=[];this.$callback=[];this.$nextTab=[];this.showEditor()};d.prototype={constructor:d,__alterButtons:function(i,h){var j=this.$handler,g=(i=="all"),k=this;f.each(j,function(m,l){var n=true;if(g){n=false}else{n=l.indexOf(i)<0}if(n==false){h(k.$editor.find('button[data-handler="'+l+'"]'))}})},__buildButtons:function(w,v){var A,C=this.$ns,j=this.$handler,l=this.$callback;for(A=0;A<w.length;A++){var r,m=w[A];for(r=0;r<m.length;r++){var q,B=m[r].data,u=f("<div/>",{"class":"btn-group"});for(q=0;q<B.length;q++){var h=B[q],s="",x=C+"-"+h.name,o=h.icon instanceof Object?h.icon[this.$options.iconlibrary]:h.icon,g=h.btnText?h.btnText:"",n=h.btnClass?h.btnClass:"btn",k=h.tabIndex?h.tabIndex:"-1";if(h.toggle==true){s=' data-toggle="button"'}u.append('<button type="button" class="'+n+' btn-default btn-sm" title="'+h.title+'" tabindex="'+k+'" data-provider="'+C+'" data-handler="'+x+'"'+s+'><span class="'+o+'"></span> '+g+"</button>");j.push(x);l.push(h.callback)}v.append(u)}}return v},__setListener:function(){var h=typeof this.$textarea.attr("rows")!="undefined",g=this.$textarea.val().split("\n").length>5?this.$textarea.val().split("\n").length:"5",i=h?this.$textarea.attr("rows"):g;this.$textarea.attr("rows",i);this.$textarea.css("resize","none");this.$textarea.on("focus",f.proxy(this.focus,this)).on("keypress",f.proxy(this.keypress,this)).on("keyup",f.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$textarea.on("keydown",f.proxy(this.keydown,this))}this.$textarea.data("markdown",this)},__handle:function(k){var j=f(k.currentTarget),i=this.$handler,m=this.$callback,h=j.attr("data-handler"),l=i.indexOf(h),g=m[l];f(k.currentTarget).focus();g(this);if(h.indexOf("cmdSave")<0){this.$textarea.focus()}k.preventDefault()},showEditor:function(){var u=this,s,q=this.$ns,g=this.$element,r=g.css("height"),i=g.css("width"),k=this.$editable,w=this.$handler,v=this.$callback,x=this.$options,m=f("<div/>",{"class":"md-editor",click:function(){u.focus()}});if(this.$editor==null){var h=f("<div/>",{"class":"md-header btn-toolbar"});if(x.buttons.length>0){h=this.__buildButtons(x.buttons,h)}if(x.additionalButtons.length>0){h=this.__buildButtons(x.additionalButtons,h)}m.append(h);if(g.is("textarea")){g.before(m);s=g;s.addClass("md-input");m.append(s)}else{var n=(typeof toMarkdown=="function")?toMarkdown(g.html()):g.html(),o=f.trim(n);s=f("<textarea/>",{"class":"md-input",val:o});m.append(s);k.el=g;k.type=g.prop("tagName").toLowerCase();k.content=g.html();f(g[0].attributes).each(function(){k.attrKeys.push(this.nodeName);k.attrValues.push(this.nodeValue)});g.replaceWith(m)}if(x.savable){var l=f("<div/>",{"class":"md-footer"}),j="cmdSave";w.push(j);v.push(x.onSave);l.append('<button class="btn btn-success" data-provider="'+q+'" data-handler="'+j+'"><i class="icon icon-white icon-ok"></i> Save</button>');m.append(l)}f.each(["height","width"],function(z,y){if(x[y]!="inherit"){if(jQuery.isNumeric(x[y])){m.css(y,x[y]+"px")}else{m.addClass(x[y])}}});this.$editor=m;this.$textarea=s;this.$editable=k;this.$oldContent=this.getContent();this.__setListener();this.$editor.attr("id",(new Date).getTime());this.$editor.on("click",'[data-provider="bootstrap-markdown"]',f.proxy(this.__handle,this))}else{this.$editor.show()}if(x.autofocus){this.$textarea.focus();this.$editor.addClass("active")}x.onShow(this);return this},showPreview:function(){var i=this.$options,j=i.onPreview(this),g=this.$textarea,l=g.next(),h=f("<div/>",{"class":"md-preview","data-provider":"markdown-preview"}),k;this.$isPreview=true;this.disableButtons("all").enableButtons("cmdPreview");if(typeof j=="string"){k=j}else{var m=g.val();if(typeof markdown=="object"){k=markdown.toHTML(m)}else{if(typeof marked=="function"){k=marked(m)}else{k=m}}}h.html(k);if(l&&l.attr("class")=="md-footer"){h.insertBefore(l)}else{g.parent().append(h)}g.hide();h.data("markdown",this);return this},hidePreview:function(){this.$isPreview=false;var g=this.$editor.find('div[data-provider="markdown-preview"]');g.remove();this.enableButtons("all");this.$textarea.show();this.__setListener();return this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(g){this.$textarea.val(g);return this},findSelection:function(h){var k=this.getContent(),j;if(j=k.indexOf(h),j>=0&&h.length>0){var g=this.getSelection(),i;this.setSelection(j,j+h.length);i=this.getSelection();this.setSelection(g.start,g.end);return i}else{return null}},getSelection:function(){var g=this.$textarea[0];return(("selectionStart" in g&&function(){var h=g.selectionEnd-g.selectionStart;return{start:g.selectionStart,end:g.selectionEnd,length:h,text:g.value.substr(g.selectionStart,h)}})||function(){return null})()},setSelection:function(i,g){var h=this.$textarea[0];return(("selectionStart" in h&&function(){h.selectionStart=i;h.selectionEnd=g;return})||function(){return null})()},replaceSelection:function(h){var g=this.$textarea[0];return(("selectionStart" in g&&function(){g.value=g.value.substr(0,g.selectionStart)+h+g.value.substr(g.selectionEnd,g.value.length);g.selectionStart=g.value.length;return this})||function(){g.value+=h;return jQuery(g)})()},getNextTab:function(){if(this.$nextTab.length==0){return null}else{var g,h=this.$nextTab.shift();if(typeof h=="function"){g=h()}else{if(typeof h=="object"&&h.length>0){g=h}}return g}},setNextTab:function(j,h){if(typeof j=="string"){var i=this;this.$nextTab.push(function(){return i.findSelection(j)})}else{if(typeof j=="numeric"&&typeof h=="numeric"){var g=this.getSelection();this.setSelection(j,h);this.$nextTab.push(this.getSelection());this.setSelection(g.start,g.end)}}return},enableButtons:function(h){var g=function(i){i.removeAttr("disabled")};this.__alterButtons(h,g);return this},disableButtons:function(h){var g=function(i){i.attr("disabled","disabled")};this.__alterButtons(h,g);return this},eventSupported:function(g){var h=g in this.$element;if(!h){this.$element.setAttribute(g,"return;");h=typeof this.$element[g]==="function"}return h},keydown:function(g){this.suppressKeyPressRepeat=~f.inArray(g.keyCode,[40,38,9,13,27]);this.keyup(g)},keypress:function(g){if(this.suppressKeyPressRepeat){return}this.keyup(g)},keyup:function(j){var h=false;switch(j.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:var g;if(g=this.getNextTab(),g!=null){var i=this;setTimeout(function(){i.setSelection(g.start,g.end)},500);h=true}else{var k=this.getSelection();if(k.start==k.end&&k.end==this.getContent().length){h=false}else{this.setSelection(this.getContent().length,this.getContent().length);h=true}}break;case 13:case 27:h=false;break;default:h=false}if(h){j.stopPropagation();j.preventDefault()}},focus:function(j){var g=this.$options,i=g.hideable,h=this.$editor;h.addClass("active");f(document).find(".md-editor").each(function(){if(f(this).attr("id")!=h.attr("id")){var k;if(k=f(this).find("textarea").data("markdown"),k==null){k=f(this).find('div[data-provider="markdown-preview"]').data("markdown")}if(k){k.blur()}}});g.onFocus(this);return this},blur:function(n){var h=this.$options,m=h.hideable,k=this.$editor,i=this.$editable;if(k.hasClass("active")||this.$element.parent().length==0){k.removeClass("active");if(m){if(i.el!=null){var g=f("<"+i.type+"/>"),l=this.getContent(),j=(typeof markdown=="object")?markdown.toHTML(l):l;f(i.attrKeys).each(function(q,o){g.attr(i.attrKeys[q],i.attrValues[q])});g.html(j);k.replaceWith(g)}else{k.hide()}}h.onBlur(this)}return this}};var b=f.fn.markdown;f.fn.markdown=function(g){return this.each(function(){var j=f(this),i=j.data("markdown"),h=typeof g=="object"&&g;if(!i){j.data("markdown",(i=new d(this,h)))}})};f.fn.markdown.defaults={autofocus:false,hideable:false,savable:false,width:"inherit",height:"inherit",iconlibrary:"glyph",buttons:[[{name:"groupFont",data:[{name:"cmdBold",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold"},callback:function(j){var g,k,h=j.getSelection(),i=j.getContent();if(h.length==0){g="strong text"}else{g=h.text}if(i.substr(h.start-2,2)=="**"&&i.substr(h.end,2)=="**"){j.setSelection(h.start-2,h.end+2);j.replaceSelection(g);k=h.start-2}else{j.replaceSelection("**"+g+"**");k=h.start+2}j.setSelection(k,k+g.length)}},{name:"cmdItalic",title:"Italic",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic"},callback:function(j){var g,k,h=j.getSelection(),i=j.getContent();if(h.length==0){g="emphasized text"}else{g=h.text}if(i.substr(h.start-1,1)=="*"&&i.substr(h.end,1)=="*"){j.setSelection(h.start-1,h.end+1);j.replaceSelection(g);k=h.start-1}else{j.replaceSelection("*"+g+"*");k=h.start+1}j.setSelection(k,k+g.length)}},{name:"cmdHeading",title:"Heading",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-font"},callback:function(j){var g,l,h=j.getSelection(),i=j.getContent(),k,m;if(h.length==0){g="heading text"}else{g=h.text+"\n"}if((k=4,i.substr(h.start-k,k)=="### ")||(k=3,i.substr(h.start-k,k)=="###")){j.setSelection(h.start-k,h.end);j.replaceSelection(g);l=h.start-k}else{if(h.start>0&&(m=i.substr(h.start-1,1),!!m&&m!="\n")){j.replaceSelection("\n\n### "+g);l=h.start+6}else{j.replaceSelection("### "+g);l=h.start+4}}j.setSelection(l,l+g.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",icon:{glyph:"glyphicon glyphicon-globe",fa:"fa fa-globe"},callback:function(k){var g,l,h=k.getSelection(),j=k.getContent(),i;if(h.length==0){g="enter link description here"}else{g=h.text}i=prompt("Insert Hyperlink","http://");if(i!=null&&i!=""&&i!="http://"){k.replaceSelection("["+g+"]("+i+")");l=h.start+1;k.setSelection(l,l+g.length)}}},{name:"cmdImage",title:"Image",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o"},callback:function(k){var g,l,h=k.getSelection(),j=k.getContent(),i;if(h.length==0){g="enter image description here"}else{g=h.text}i=prompt("Insert Image Hyperlink","http://");if(i!=null){k.replaceSelection("!["+g+"]("+i+' "enter image title here")');l=h.start+2;k.setNextTab("enter image title here");k.setSelection(l,l+g.length)}}}]},{name:"groupMisc",data:[{name:"cmdList",title:"List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list"},callback:function(k){var g,l,h=k.getSelection(),i=k.getContent();if(h.length==0){g="list text here";k.replaceSelection("- "+g);l=h.start+2}else{if(h.text.indexOf("\n")<0){g=h.text;k.replaceSelection("- "+g);l=h.start+2}else{var j=[];j=h.text.split("\n");g=j[0];f.each(j,function(n,m){j[n]="- "+m});k.replaceSelection("\n\n"+j.join("\n"));l=h.start+4}}k.setSelection(l,l+g.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:true,title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search"},callback:function(i){var g=i.$isPreview,h;if(g==false){i.showPreview()}else{i.hidePreview()}}}]}]],additionalButtons:[],onShow:function(g){},onPreview:function(g){},onSave:function(g){},onBlur:function(g){},onFocus:function(g){}};f.fn.markdown.Constructor=d;f.fn.markdown.noConflict=function(){f.fn.markdown=b;return this};var e=function(g){var h=g;if(h.data("markdown")){h.data("markdown").showEditor();return}h.markdown(h.data())};var c=function(i){var j=false,h,g=f(i.currentTarget);if((i.type=="focusin"||i.type=="click")&&g.length==1&&typeof g[0]=="object"){h=g[0].activeElement;if(!f(h).data("markdown")){if(typeof f(h).parent().parent().parent().attr("class")=="undefined"||f(h).parent().parent().parent().attr("class").indexOf("md-editor")<0){if(typeof f(h).parent().parent().attr("class")=="undefined"||f(h).parent().parent().attr("class").indexOf("md-editor")<0){j=true}}else{j=false}}if(j){f(document).find(".md-editor").each(function(){var l=f(h).parent();if(f(this).attr("id")!=l.attr("id")){var k;if(k=f(this).find("textarea").data("markdown"),k==null){k=f(this).find('div[data-provider="markdown-preview"]').data("markdown")}if(k){k.blur()}}})}i.stopPropagation()}};f(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(g){e(f(this));g.preventDefault()}).on("click",function(g){c(g)}).on("focusin",function(g){c(g)}).ready(function(){f('textarea[data-provide="markdown"]').each(function(){e(f(this))})})}(window.jQuery);!function(x){var w,v,u="0.4.2",s="hasOwnProperty",r=/[\.\/]/,q="*",o=function(){},n=function(d,c){return d-c},m={n:{}},l=function(G,F){G=String(G);var E,D=v,C=Array.prototype.slice.call(arguments,2),B=l.listeners(G),A=0,z=[],y={},k=[],i=w;w=G,v=0;for(var c=0,b=B.length;b>c;c++){"zIndex" in B[c]&&(z.push(B[c].zIndex),B[c].zIndex<0&&(y[B[c].zIndex]=B[c]))}for(z.sort(n);z[A]<0;){if(E=y[z[A++]],k.push(E.apply(F,C)),v){return v=D,k}}for(c=0;b>c;c++){if(E=B[c],"zIndex" in E){if(E.zIndex==z[A]){if(k.push(E.apply(F,C)),v){break}do{if(A++,E=y[z[A]],E&&k.push(E.apply(F,C)),v){break}}while(E)}else{y[E.zIndex]=E}}else{if(k.push(E.apply(F,C)),v){break}}}return v=D,w=i,k.length?k:null};l._events=m,l.listeners=function(H){var G,F,E,D,C,B,A,z,y=H.split(r),j=m,g=[j],f=[];for(D=0,C=y.length;C>D;D++){for(z=[],B=0,A=g.length;A>B;B++){for(j=g[B].n,F=[j[y[D]],j[q]],E=2;E--;){G=F[E],G&&(z.push(G),f=f.concat(G.f||[]))}}g=z}return f},l.on=function(h,f){if(h=String(h),"function"!=typeof f){return function(){}}for(var y=h.split(r),k=m,j=0,i=y.length;i>j;j++){k=k.n,k=k.hasOwnProperty(y[j])&&k[y[j]]||(k[y[j]]={n:{}})}for(k.f=k.f||[],j=0,i=k.f.length;i>j;j++){if(k.f[j]==f){return o}}return k.f.push(f),function(b){+b==+b&&(f.zIndex=+b)}},l.f=function(d){var c=[].slice.call(arguments,1);return function(){l.apply(null,[d,null].concat(c).concat([].slice.call(arguments,0)))}},l.stop=function(){v=1},l.nt=function(b){return b?new RegExp("(?:\\.|\\/|^)"+b+"(?:\\.|\\/|$)").test(w):w},l.nts=function(){return w.split(r)},l.off=l.unbind=function(E,D){if(!E){return l._events=m={n:{}},void 0}var C,B,A,z,y,k,j,g=E.split(r),f=[m];for(z=0,y=g.length;y>z;z++){for(k=0;k<f.length;k+=A.length-2){if(A=[k,1],C=f[k].n,g[z]!=q){C[g[z]]&&A.push(C[g[z]])}else{for(B in C){C[s](B)&&A.push(C[B])}}f.splice.apply(f,A)}}for(z=0,y=f.length;y>z;z++){for(C=f[z];C.n;){if(D){if(C.f){for(k=0,j=C.f.length;j>k;k++){if(C.f[k]==D){C.f.splice(k,1);break}}!C.f.length&&delete C.f}for(B in C.n){if(C.n[s](B)&&C.n[B].f){var e=C.n[B].f;for(k=0,j=e.length;j>k;k++){if(e[k]==D){e.splice(k,1);break}}!e.length&&delete C.n[B].f}}}else{delete C.f;for(B in C.n){C.n[s](B)&&C.n[B].f&&delete C.n[B].f}}C=C.n}}},l.once=function(e,d){var f=function(){return l.unbind(e,f),d.apply(this,arguments)};return l.on(e,f)},l.version=u,l.toString=function(){return"You are running Eve "+u},"undefined"!=typeof module&&module.exports?module.exports=l:"undefined"!=typeof define?define("eve",[],function(){return l}):x.eve=l}(window||this),function(d,c){"function"==typeof define&&define.amd?define(["eve"],function(b){return c(d,b)}):c(d,d.eve)}(this,function(a8,a7){function a6(b){if(a6.is(b,"function")){return aG?b():a7.on("raphael.DOMload",b)}if(a6.is(b,bj)){return a6._engine.create[bK](a6,b.splice(0,3+a6.is(b[0],bl))).add(b)}var f=Array.prototype.slice.call(arguments,0);if(a6.is(f[f.length-1],"function")){var c=f.pop();return aG?c.call(a6._engine.create[bK](a6,f)):a7.on("raphael.DOMload",function(){c.call(a6._engine.create[bK](a6,f))})}return a6._engine.create[bK](a6,arguments)}function a5(e){if("function"==typeof e||Object(e)!==e){return e}var d=new e.constructor;for(var f in e){e[aA](f)&&(d[f]=a5(e[f]))}return d}function a2(f,e){for(var h=0,g=f.length;g>h;h++){if(f[h]===e){return f.push(f.splice(h,1)[0])}}}function a1(f,e,h){function g(){var j=Array.prototype.slice.call(arguments,0),d=j.join("␀"),c=g.cache=g.cache||{},b=g.count=g.count||[];return c[aA](d)?(a2(b,d),h?h(c[d]):c[d]):(b.length>=1000&&delete c[b.shift()],b.push(d),c[d]=f[bK](e,j),h?h(c[d]):c[d])}return g}function aZ(){return this.hex}function aY(h,g){for(var l=[],k=0,j=h.length;j-2*!g>k;k+=2){var i=[{x:+h[k-2],y:+h[k-1]},{x:+h[k],y:+h[k+1]},{x:+h[k+2],y:+h[k+3]},{x:+h[k+4],y:+h[k+5]}];g?k?j-4==k?i[3]={x:+h[0],y:+h[1]}:j-2==k&&(i[2]={x:+h[0],y:+h[1]},i[3]={x:+h[2],y:+h[3]}):i[0]={x:+h[j-2],y:+h[j-1]}:j-4==k?i[3]=i[2]:k||(i[0]={x:+h[k],y:+h[k+1]}),l.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return l}function aX(i,h,n,m,l){var k=-3*h+9*n-9*m+3*l,j=i*k+6*h-12*n+6*m;return i*j-3*h+3*n}function aU(L,K,J,I,H,G,F,E,D){null==D&&(D=1),D=D>1?1:0>D?0:D;for(var C=D/2,B=12,A=[-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],z=[0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],y=0,x=0;B>x;x++){var w=C*A[x]+C,v=aX(w,L,J,H,F),u=aX(w,K,I,G,E),i=v*v+u*u;y+=z[x]*bt.sqrt(i)}return C*y}function aT(D,C,B,A,z,y,x,w,v){if(!(0>v||aU(D,C,B,A,z,y,x,w)<v)){var u,s=1,r=s/2,q=s-r,j=0.01;for(u=aU(D,C,B,A,z,y,x,w,q);bp(u-v)>j;){r/=2,q+=(v>u?1:-1)*r,u=aU(D,C,B,A,z,y,x,w,q)}return q}}function aR(F,E,D,C,B,A,z,y){if(!(bs(F,D)<br(B,z)||br(F,D)>bs(B,z)||bs(E,C)<br(A,y)||br(E,C)>bs(A,y))){var x=(F*C-E*D)*(B-z)-(F-D)*(B*y-A*z),w=(F*C-E*D)*(A-y)-(E-C)*(B*y-A*z),v=(F-D)*(A-y)-(E-C)*(B-z);if(v){var u=x/v,s=w/v,r=+u.toFixed(2),q=+s.toFixed(2);if(!(r<+br(F,D).toFixed(2)||r>+bs(F,D).toFixed(2)||r<+br(B,z).toFixed(2)||r>+bs(B,z).toFixed(2)||q<+br(E,C).toFixed(2)||q>+bs(E,C).toFixed(2)||q<+br(A,y).toFixed(2)||q>+bs(A,y).toFixed(2))){return{x:u,y:s}}}}}function aQ(X,W,V){var U=a6.bezierBBox(X),T=a6.bezierBBox(W);if(!a6.isBBoxIntersect(U,T)){return V?0:[]}for(var S=aU.apply(0,X),R=aU.apply(0,W),Q=bs(~~(S/5),1),P=bs(~~(R/5),1),O=[],N=[],M={},L=V?0:[],J=0;Q+1>J;J++){var H=a6.findDotsAtSegment.apply(a6,X.concat(J/Q));O.push({x:H.x,y:H.y,t:J/Q})}for(J=0;P+1>J;J++){H=a6.findDotsAtSegment.apply(a6,W.concat(J/P)),N.push({x:H.x,y:H.y,t:J/P})}for(J=0;Q>J;J++){for(var G=0;P>G;G++){var F=O[J],E=O[J+1],D=N[G],C=N[G+1],l=bp(E.x-F.x)<0.001?"y":"x",j=bp(C.x-D.x)<0.001?"y":"x",c=aR(F.x,F.y,E.x,E.y,D.x,D.y,C.x,C.y);if(c){if(M[c.x.toFixed(4)]==c.y.toFixed(4)){continue}M[c.x.toFixed(4)]=c.y.toFixed(4);var K=F.t+bp((c[l]-F[l])/(E[l]-F[l]))*(E.t-F.t),I=D.t+bp((c[j]-D[j])/(C[j]-D[j]))*(C.t-D.t);K>=0&&1.001>=K&&I>=0&&1.001>=I&&(V?L++:L.push({x:c.x,y:c.y,t1:br(K,1),t2:br(I,1)}))}}}return L}function aP(T,S,R){T=a6._path2curve(T),S=a6._path2curve(S);for(var Q,P,O,N,M,L,K,J,I,H,G=R?0:[],F=0,E=T.length;E>F;F++){var D=T[F];if("M"==D[0]){Q=M=D[1],P=L=D[2]}else{"C"==D[0]?(I=[Q,P].concat(D.slice(1)),Q=I[6],P=I[7]):(I=[Q,P,Q,P,M,L,M,L],Q=M,P=L);for(var C=0,B=S.length;B>C;C++){var A=S[C];if("M"==A[0]){O=K=A[1],N=J=A[2]}else{"C"==A[0]?(H=[O,N].concat(A.slice(1)),O=H[6],N=H[7]):(H=[O,N,O,N,K,J,K,J],O=K,N=J);var z=aQ(I,H,R);if(R){G+=z}else{for(var m=0,c=z.length;c>m;m++){z[m].segment1=F,z[m].segment2=C,z[m].bez1=I,z[m].bez2=H}G=G.concat(z)}}}}}return G}function aN(h,g,l,k,j,i){null!=h?(this.a=+h,this.b=+g,this.c=+l,this.d=+k,this.e=+j,this.f=+i):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function aM(){return this.x+bC+this.y+bC+this.width+" × "+this.height}function aK(F,E,D,C,B,A){function z(b){return((u*b+v)*b+w)*b}function y(e,d){var f=x(e,d);return((q*f+r)*f+s)*f}function x(j,g){var G,o,n,m,l,k;for(n=j,k=0;8>k;k++){if(m=z(n)-j,bp(m)<g){return n}if(l=(3*u*n+2*v)*n+w,bp(l)<0.000001){break}n-=m/l}if(G=0,o=1,n=j,G>n){return G}if(n>o){return o}for(;o>G;){if(m=z(n),bp(m-j)<g){return n}j>m?G=n:o=n,n=(o-G)/2+G}return n}var w=3*E,v=3*(C-E)-w,u=1-w-v,s=3*D,r=3*(B-D)-s,q=1-s-r;return y(F,1/(200*A))}function aJ(g,f){var j=[],i={};if(this.ms=f,this.times=1,g){for(var h in g){g[aA](h)&&(i[bd(h)]=g[h],j.push(bd(h)))}j.sort(ca)}this.anim=i,this.top=j[j.length-1],this.percents=j}function aI(cp,co,cn,cm,cl,ck){cn=bd(cn);var cj,ci,ch,cg,cc,cb,bc=cp.ms,ab={},Y={},W={};if(cm){for(T=0,J=aS.length;J>T;T++){var V=aS[T];if(V.el.id==co.id&&V.anim==cp){V.percent!=cn?(aS.splice(T,1),ch=1):ci=V,co.attr(V.totalOrigin);break}}}else{cm=+Y}for(var T=0,J=cp.percents.length;J>T;T++){if(cp.percents[T]==cn||cp.percents[T]>cm*cp.top){cn=cp.percents[T],cc=cp.percents[T-1]||0,bc=bc/cp.top*(cn-cc),cg=cp.percents[T+1],cj=cp.anim[cn];break}cm&&co.attr(cp.anim[cp.percents[T]])}if(cj){if(ci){ci.initstatus=cm,ci.start=new Date-ci.ms*cm}else{for(var I in cj){if(cj[aA](I)&&(ar[aA](I)||co.paper.customAttributes[aA](I))){switch(ab[I]=co.attr(I),null==ab[I]&&(ab[I]=aO[I]),Y[I]=cj[I],ar[I]){case bl:W[I]=(Y[I]-ab[I])/bc;break;case"colour":ab[I]=a6.getRGB(ab[I]);var bb=a6.getRGB(Y[I]);W[I]={r:(bb.r-ab[I].r)/bc,g:(bb.g-ab[I].g)/bc,b:(bb.b-ab[I].b)/bc};break;case"path":var ac=ax(ab[I],Y[I]),Z=ac[1];for(ab[I]=ac[0],W[I]=[],T=0,J=ab[I].length;J>T;T++){W[I][T]=[0];for(var X=1,U=ab[I][T].length;U>X;X++){W[I][T][X]=(Z[T][X]-ab[I][T][X])/bc}}break;case"transform":var S=co._,R=ba(S[I],Y[I]);if(R){for(ab[I]=R.from,Y[I]=R.to,W[I]=[],W[I].real=!0,T=0,J=ab[I].length;J>T;T++){for(W[I][T]=[ab[I][T][0]],X=1,U=ab[I][T].length;U>X;X++){W[I][T][X]=(Y[I][T][X]-ab[I][T][X])/bc}}}else{var E=co.matrix||new aN,z={_:{transform:S.transform},getBBox:function(){return co.getBBox(1)}};ab[I]=[E.a,E.b,E.c,E.d,E.e,E.f],b2(z,Y[I]),Y[I]=z._.transform,W[I]=[(z.matrix.a-E.a)/bc,(z.matrix.b-E.b)/bc,(z.matrix.c-E.c)/bc,(z.matrix.d-E.d)/bc,(z.matrix.e-E.e)/bc,(z.matrix.f-E.f)/bc]}break;case"csv":var w=bB(cj[I])[bA](aE),q=bB(ab[I])[bA](aE);if("clip-rect"==I){for(ab[I]=q,W[I]=[],T=q.length;T--;){W[I][T]=(w[T]-ab[I][T])/bc}}Y[I]=w;break;default:for(w=[][bI](cj[I]),q=[][bI](ab[I]),W[I]=[],T=co.paper.customAttributes[I].length;T--;){W[I][T]=((w[T]||0)-(q[T]||0))/bc}}}}var o=cj.easing,c=a6.easing_formulas[o];if(!c){if(c=bB(o).match(bf),c&&5==c.length){var b=c;c=function(d){return aK(d,+b[1],+b[2],+b[3],+b[4],bc)}}else{c=bG}}if(cb=cj.start||cp.start||+new Date,V={anim:cp,percent:cn,timestamp:cb,start:cb+(cp.del||0),status:0,initstatus:cm||0,stop:!1,ms:bc,easing:c,from:ab,diff:W,to:Y,el:co,callback:cj.callback,prev:cc,next:cg,repeat:ck||cp.times,origin:co.attr(),totalOrigin:cl},aS.push(V),cm&&!ci&&!ch&&(V.stop=!0,V.start=new Date-bc*cm,1==aS.length)){return ai()}ch&&(V.start=new Date-V.ms*cm),1==aS.length&&at(ai)}a7("raphael.anim.start."+co.id,co,cp)}}function aH(d){for(var c=0;c<aS.length;c++){aS[c].el.paper==d&&aS.splice(c--,1)}}a6.version="2.1.2",a6.eve=a7;var aG,aF,aE=/[, ]+/,aD={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},aC=/\{(\d+)\}/g,aA="hasOwnProperty",bO={doc:document,win:a8},bM={was:Object.prototype[aA].call(bO.win,"Raphael"),is:bO.win.Raphael},bL=function(){this.ca=this.customAttributes={}},bK="apply",bI="concat",bF="ontouchstart" in bO.win||bO.win.DocumentTouch&&bO.doc instanceof DocumentTouch,bE="",bC=" ",bB=String,bA="split",bx="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[bA](bC),bw={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},bu=bB.prototype.toLowerCase,bt=Math,bs=bt.max,br=bt.min,bp=bt.abs,bn=bt.pow,bm=bt.PI,bl="number",bk="string",bj="array",bi=Object.prototype.toString,bh=(a6._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),bg={NaN:1,Infinity:1,"-Infinity":1},bf=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,b0=bt.round,bd=parseFloat,bT=parseInt,bq=bB.prototype.toUpperCase,aO=a6._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ar=a6._availableAnimAttrs={blur:bl,"clip-rect":"csv",cx:bl,cy:bl,fill:"colour","fill-opacity":bl,"font-size":bl,height:bl,opacity:bl,path:"path",r:bl,rx:bl,ry:bl,stroke:"colour","stroke-opacity":bl,"stroke-width":bl,transform:"transform",width:bl,x:bl,y:bl},ah=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,b7={hs:1,rg:1},bV=/,?([achlmqrstvxz]),?/gi,by=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,aV=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,au=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,aj=(a6._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ca=function(d,c){return bd(d)-bd(c)},bY=function(){},bG=function(b){return b},a3=a6._rectPath=function(g,f,j,i,h){return h?[["M",g+h,f],["l",j-2*h,0],["a",h,h,0,0,1,h,h],["l",0,i-2*h],["a",h,h,0,0,1,-h,h],["l",2*h-j,0],["a",h,h,0,0,1,-h,-h],["l",0,2*h-i],["a",h,h,0,0,1,h,-h],["z"]]:[["M",g,f],["l",j,0],["l",0,i],["l",-j,0],["z"]]},aw=function(f,e,h,g){return null==g&&(g=h),[["M",f,e],["m",0,-g],["a",h,g,0,1,1,0,2*g],["a",h,g,0,1,1,0,-2*g],["z"]]},al=a6._getPath={path:function(b){return b.attr("path")},circle:function(d){var c=d.attrs;return aw(c.cx,c.cy,c.r)},ellipse:function(d){var c=d.attrs;return aw(c.cx,c.cy,c.rx,c.ry)},rect:function(d){var c=d.attrs;return a3(c.x,c.y,c.width,c.height,c.r)},image:function(d){var c=d.attrs;return a3(c.x,c.y,c.width,c.height)},text:function(d){var c=d._getBBox();return a3(c.x,c.y,c.width,c.height)},set:function(d){var c=d._getBBox();return a3(c.x,c.y,c.width,c.height)}},ce=a6.mapPath=function(s,r){if(!r){return s}var q,o,n,m,l,k,j;for(s=ax(s),n=0,l=s.length;l>n;n++){for(j=s[n],m=1,k=j.length;k>m;m+=2){q=r.x(j[m],j[m+1]),o=r.y(j[m],j[m+1]),j[m]=q,j[m+1]=o}}return s};if(a6._g=bO,a6.type=bO.win.SVGAngle||bO.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==a6.type){var b1,bN=bO.doc.createElement("div");if(bN.innerHTML='<v:shape adj="1"/>',b1=bN.firstChild,b1.style.behavior="url(#default#VML)",!b1||"object"!=typeof b1.adj){return a6.type=bE}bN=null}a6.svg=!(a6.vml="VML"==a6.type),a6._Paper=bL,a6.fn=aF=bL.prototype=a6.prototype,a6._id=0,a6._oid=0,a6.is=function(d,c){return c=bu.call(c),"finite"==c?!bg[aA](+d):"array"==c?d instanceof Array:"null"==c&&null===d||c==typeof d&&null!==d||"object"==c&&d===Object(d)||"array"==c&&Array.isArray&&Array.isArray(d)||bi.call(d).slice(8,-1).toLowerCase()==c},a6.angle=function(j,c,q,o,n,m){if(null==n){var l=j-q,k=c-o;return l||k?(180+180*bt.atan2(-k,-l)/bm+360)%360:0}return a6.angle(j,c,n,m)-a6.angle(q,o,n,m)},a6.rad=function(b){return b%360*bm/180},a6.deg=function(b){return 180*b/bm%360},a6.snapTo=function(g,c,j){if(j=a6.is(j,"finite")?j:10,a6.is(g,bj)){for(var i=g.length;i--;){if(bp(g[i]-c)<=j){return g[i]}}}else{g=+g;var h=c%g;if(j>h){return c-h}if(h>g-j){return c-h+g}}return c};a6.createUUID=function(d,c){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(d,c).toUpperCase()}}(/[xy]/g,function(e){var d=16*bt.random()|0,f="x"==e?d:3&d|8;return f.toString(16)});a6.setWindow=function(b){a7("raphael.setWindow",a6,bO.win,b),bO.win=b,bO.doc=bO.win.document,a6._engine.initWin&&a6._engine.initWin(bO.win)};var a9=function(f){if(a6.vml){var c,n=/^\s+|\s+$/g;try{var m=new ActiveXObject("htmlfile");m.write("<body>"),m.close(),c=m.body}catch(l){c=createPopup().document.body}var k=c.createTextRange();a9=a1(function(b){try{c.style.color=bB(b).replace(n,bE);var g=k.queryCommandValue("ForeColor");return g=(255&g)<<16|65280&g|(16711680&g)>>>16,"#"+("000000"+g.toString(16)).slice(-6)}catch(d){return"none"}})}else{var j=bO.doc.createElement("i");j.title="Raphaël Colour Picker",j.style.display="none",bO.doc.body.appendChild(j),a9=a1(function(b){return j.style.color=b,bO.doc.defaultView.getComputedStyle(j,bE).getPropertyValue("color")})}return a9(f)},ay=function(){return"hsb("+[this.h,this.s,this.b]+")"},an=function(){return"hsl("+[this.h,this.s,this.l]+")"},aa=function(){return this.hex},b3=function(f,c,h){if(null==c&&a6.is(f,"object")&&"r" in f&&"g" in f&&"b" in f&&(h=f.b,c=f.g,f=f.r),null==c&&a6.is(f,bk)){var g=a6.getRGB(f);f=g.r,c=g.g,h=g.b}return(f>1||c>1||h>1)&&(f/=255,c/=255,h/=255),[f,c,h]},bQ=function(g,c,j,i){g*=255,c*=255,j*=255;var h={r:g,g:c,b:j,hex:a6.rgb(g,c,j),toString:aa};return a6.is(i,"finite")&&(h.opacity=i),h};a6.color=function(d){var c;return a6.is(d,"object")&&"h" in d&&"s" in d&&"b" in d?(c=a6.hsb2rgb(d),d.r=c.r,d.g=c.g,d.b=c.b,d.hex=c.hex):a6.is(d,"object")&&"h" in d&&"s" in d&&"l" in d?(c=a6.hsl2rgb(d),d.r=c.r,d.g=c.g,d.b=c.b,d.hex=c.hex):(a6.is(d,"string")&&(d=a6.getRGB(d)),a6.is(d,"object")&&"r" in d&&"g" in d&&"b" in d?(c=a6.rgb2hsl(d),d.h=c.h,d.s=c.s,d.l=c.l,c=a6.rgb2hsb(d),d.v=c.b):(d={hex:"none"},d.r=d.g=d.b=d.h=d.s=d.v=d.l=-1)),d.toString=aa,d},a6.hsb2rgb=function(s,r,q,o){this.is(s,"object")&&"h" in s&&"s" in s&&"b" in s&&(q=s.b,r=s.s,s=s.h,o=s.o),s*=360;var n,m,l,k,j;return s=s%360/60,j=q*r,k=j*(1-bp(s%2-1)),n=m=l=q-j,s=~~s,n+=[j,k,0,0,k,j][s],m+=[k,j,j,k,0,0][s],l+=[0,0,k,j,j,k][s],bQ(n,m,l,o)},a6.hsl2rgb=function(s,r,q,o){this.is(s,"object")&&"h" in s&&"s" in s&&"l" in s&&(q=s.l,r=s.s,s=s.h),(s>1||r>1||q>1)&&(s/=360,r/=100,q/=100),s*=360;var n,m,l,k,j;return s=s%360/60,j=2*r*(0.5>q?q:1-q),k=j*(1-bp(s%2-1)),n=m=l=q-j/2,s=~~s,n+=[j,k,0,0,k,j][s],m+=[k,j,j,k,0,0][s],l+=[0,0,k,j,j,k][s],bQ(n,m,l,o)},a6.rgb2hsb=function(i,h,n){n=b3(i,h,n),i=n[0],h=n[1],n=n[2];var m,l,k,j;return k=bs(i,h,n),j=k-br(i,h,n),m=0==j?null:k==i?(h-n)/j:k==h?(n-i)/j+2:(i-h)/j+4,m=(m+360)%6*60/360,l=0==j?0:j/k,{h:m,s:l,b:k,toString:ay}},a6.rgb2hsl=function(s,r,q){q=b3(s,r,q),s=q[0],r=q[1],q=q[2];var o,n,m,l,k,j;return l=bs(s,r,q),k=br(s,r,q),j=l-k,o=0==j?null:l==s?(r-q)/j:l==r?(q-s)/j+2:(s-r)/j+4,o=(o+360)%6*60/360,m=(l+k)/2,n=0==j?0:0.5>m?j/(2*m):j/(2-2*m),{h:o,s:n,l:m,toString:an}},a6._path2string=function(){return this.join(",").replace(bV,"$1")};a6._preload=function(e,d){var f=bO.doc.createElement("img");f.style.cssText="position:absolute;left:-9999em;top:-9999em",f.onload=function(){d.call(this),this.onload=null,bO.doc.body.removeChild(this)},f.onerror=function(){bO.doc.body.removeChild(this)},bO.doc.body.appendChild(f),f.src=e};a6.getRGB=a1(function(g){if(!g||(g=bB(g)).indexOf("-")+1){return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:aZ}}if("none"==g){return{r:-1,g:-1,b:-1,hex:"none",toString:aZ}}!(b7[aA](g.toLowerCase().substring(0,2))||"#"==g.charAt())&&(g=a9(g));var c,q,o,n,m,l,k=g.match(bh);return k?(k[2]&&(o=bT(k[2].substring(5),16),q=bT(k[2].substring(3,5),16),c=bT(k[2].substring(1,3),16)),k[3]&&(o=bT((m=k[3].charAt(3))+m,16),q=bT((m=k[3].charAt(2))+m,16),c=bT((m=k[3].charAt(1))+m,16)),k[4]&&(l=k[4][bA](ah),c=bd(l[0]),"%"==l[0].slice(-1)&&(c*=2.55),q=bd(l[1]),"%"==l[1].slice(-1)&&(q*=2.55),o=bd(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),"rgba"==k[1].toLowerCase().slice(0,4)&&(n=bd(l[3])),l[3]&&"%"==l[3].slice(-1)&&(n/=100)),k[5]?(l=k[5][bA](ah),c=bd(l[0]),"%"==l[0].slice(-1)&&(c*=2.55),q=bd(l[1]),"%"==l[1].slice(-1)&&(q*=2.55),o=bd(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(c/=360),"hsba"==k[1].toLowerCase().slice(0,4)&&(n=bd(l[3])),l[3]&&"%"==l[3].slice(-1)&&(n/=100),a6.hsb2rgb(c,q,o,n)):k[6]?(l=k[6][bA](ah),c=bd(l[0]),"%"==l[0].slice(-1)&&(c*=2.55),q=bd(l[1]),"%"==l[1].slice(-1)&&(q*=2.55),o=bd(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(c/=360),"hsla"==k[1].toLowerCase().slice(0,4)&&(n=bd(l[3])),l[3]&&"%"==l[3].slice(-1)&&(n/=100),a6.hsl2rgb(c,q,o,n)):(k={r:c,g:q,b:o,toString:aZ},k.hex="#"+(16777216|o|q<<8|c<<16).toString(16).slice(1),a6.is(n,"finite")&&(k.opacity=n),k)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:aZ}},a6),a6.hsb=a1(function(e,c,f){return a6.hsb2rgb(e,c,f).hex}),a6.hsl=a1(function(e,c,f){return a6.hsl2rgb(e,c,f).hex}),a6.rgb=a1(function(e,d,f){return"#"+(16777216|f|d<<8|e<<16).toString(16).slice(1)}),a6.getColor=function(e){var d=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||0.75},f=this.hsb2rgb(d.h,d.s,d.b);return d.h+=0.075,d.h>1&&(d.h=0,d.s-=0.2,d.s<=0&&(this.getColor.start={h:0,s:1,b:d.b})),f.hex},a6.getColor.reset=function(){delete this.start},a6.parsePathString=function(f){if(!f){return null}var c=b8(f);if(c.arr){return bz(c.arr)}var h={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},g=[];return a6.is(f,bj)&&a6.is(f[0],bj)&&(g=bz(f)),g.length||bB(f).replace(by,function(e,d,k){var j=[],i=d.toLowerCase();if(k.replace(au,function(m,l){l&&j.push(+l)}),"m"==i&&j.length>2&&(g.push([d][bI](j.splice(0,2))),i="l",d="m"==d?"l":"L"),"r"==i){g.push([d][bI](j))}else{for(;j.length>=h[i]&&(g.push([d][bI](j.splice(0,h[i]))),h[i]);){}}}),g.toString=a6._path2string,c.arr=bz(g),g},a6.parseTransformString=a1(function(d){if(!d){return null}var c=[];return a6.is(d,bj)&&a6.is(d[0],bj)&&(c=bz(d)),c.length||bB(d).replace(aV,function(b,h,g){var f=[];bu.call(h);g.replace(au,function(i,e){e&&f.push(+e)}),c.push([h][bI](f))}),c.toString=a6._path2string,c});var b8=function(d){var c=b8.ps=b8.ps||{};return c[d]?c[d].sleep=100:c[d]={sleep:100},setTimeout(function(){for(var b in c){c[aA](b)&&b!=d&&(c[b].sleep--,!c[b].sleep&&delete c[b])}}),c[d]};a6.findDotsAtSegment=function(X,W,V,U,T,S,R,Q,P){var O=1-P,N=bn(O,3),M=bn(O,2),L=P*P,K=L*P,J=N*X+3*M*P*V+3*O*P*P*T+K*R,I=N*W+3*M*P*U+3*O*P*P*S+K*Q,H=X+2*P*(V-X)+L*(T-2*V+X),G=W+2*P*(U-W)+L*(S-2*U+W),F=V+2*P*(T-V)+L*(R-2*T+V),E=U+2*P*(S-U)+L*(Q-2*S+U),D=O*X+P*V,C=O*W+P*U,B=O*T+P*R,A=O*S+P*Q,z=90-180*bt.atan2(H-F,G-E)/bm;return(H>F||E>G)&&(z+=180),{x:J,y:I,m:{x:H,y:G},n:{x:F,y:E},start:{x:D,y:C},end:{x:B,y:A},alpha:z}},a6.bezierBBox=function(s,r,q,o,n,m,l,k){a6.is(s,"array")||(s=[s,r,q,o,n,m,l,k]);var c=a4.apply(null,s);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},a6.isPointInsideBBox=function(e,d,f){return d>=e.x&&d<=e.x2&&f>=e.y&&f<=e.y2},a6.isBBoxIntersect=function(e,c){var f=a6.isPointInsideBBox;return f(c,e.x,e.y)||f(c,e.x2,e.y)||f(c,e.x,e.y2)||f(c,e.x2,e.y2)||f(e,c.x,c.y)||f(e,c.x2,c.y)||f(e,c.x,c.y2)||f(e,c.x2,c.y2)||(e.x<c.x2&&e.x>c.x||c.x<e.x2&&c.x>e.x)&&(e.y<c.y2&&e.y>c.y||c.y<e.y2&&c.y>e.y)},a6.pathIntersection=function(d,c){return aP(d,c)},a6.pathIntersectionNumber=function(d,c){return aP(d,c,1)},a6.isPointInsidePath=function(f,c,h){var g=a6.pathBBox(f);return a6.isPointInsideBBox(g,c,h)&&aP(f,[["M",c,h],["H",g.x2+10]],1)%2==1},a6._removedFactory=function(b){return function(){a7("raphael.log",null,"Raphaël: you are calling to method “"+b+"” of removed object",b)}};var bW=a6.pathBBox=function(I){var H=b8(I);if(H.bbox){return a5(H.bbox)}if(!I){return{x:0,y:0,width:0,height:0,x2:0,y2:0}}I=ax(I);for(var G,F=0,E=0,D=[],C=[],B=0,A=I.length;A>B;B++){if(G=I[B],"M"==G[0]){F=G[1],E=G[2],D.push(F),C.push(E)}else{var z=a4(F,E,G[1],G[2],G[3],G[4],G[5],G[6]);D=D[bI](z.min.x,z.max.x),C=C[bI](z.min.y,z.max.y),F=G[5],E=G[6]}}var y=br[bK](0,D),x=br[bK](0,C),w=bs[bK](0,D),v=bs[bK](0,C),u=w-y,s=v-x,d={x:y,y:x,x2:w,y2:v,width:u,height:s,cx:y+u/2,cy:x+s/2};return H.bbox=a5(d),d},bz=function(d){var c=a5(d);return c.toString=a6._path2string,c},aW=a6._pathToRelative=function(I){var H=b8(I);if(H.rel){return bz(H.rel)}a6.is(I,bj)&&a6.is(I&&I[0],bj)||(I=a6.parsePathString(I));var G=[],F=0,E=0,D=0,C=0,B=0;"M"==I[0][0]&&(F=I[0][1],E=I[0][2],D=F,C=E,B++,G.push(["M",F,E]));for(var A=B,z=I.length;z>A;A++){var y=G[A]=[],x=I[A];if(x[0]!=bu.call(x[0])){switch(y[0]=bu.call(x[0]),y[0]){case"a":y[1]=x[1],y[2]=x[2],y[3]=x[3],y[4]=x[4],y[5]=x[5],y[6]=+(x[6]-F).toFixed(3),y[7]=+(x[7]-E).toFixed(3);break;case"v":y[1]=+(x[1]-E).toFixed(3);break;case"m":D=x[1],C=x[2];default:for(var w=1,v=x.length;v>w;w++){y[w]=+(x[w]-(w%2?F:E)).toFixed(3)}}}else{y=G[A]=[],"m"==x[0]&&(D=x[1]+F,C=x[2]+E);for(var u=0,s=x.length;s>u;u++){G[A][u]=x[u]}}var c=G[A].length;switch(G[A][0]){case"z":F=D,E=C;break;case"h":F+=+G[A][c-1];break;case"v":E+=+G[A][c-1];break;default:F+=+G[A][c-2],E+=+G[A][c-1]}}return G.toString=a6._path2string,H.rel=bz(G),G},av=a6._pathToAbsolute=function(J){var I=b8(J);if(I.abs){return bz(I.abs)}if(a6.is(J,bj)&&a6.is(J&&J[0],bj)||(J=a6.parsePathString(J)),!J||!J.length){return[["M",0,0]]}var H=[],G=0,F=0,E=0,D=0,C=0;"M"==J[0][0]&&(G=+J[0][1],F=+J[0][2],E=G,D=F,C++,H[0]=["M",G,F]);for(var B,A,z=3==J.length&&"M"==J[0][0]&&"R"==J[1][0].toUpperCase()&&"Z"==J[2][0].toUpperCase(),y=C,x=J.length;x>y;y++){if(H.push(B=[]),A=J[y],A[0]!=bq.call(A[0])){switch(B[0]=bq.call(A[0]),B[0]){case"A":B[1]=A[1],B[2]=A[2],B[3]=A[3],B[4]=A[4],B[5]=A[5],B[6]=+(A[6]+G),B[7]=+(A[7]+F);break;case"V":B[1]=+A[1]+F;break;case"H":B[1]=+A[1]+G;break;case"R":for(var w=[G,F][bI](A.slice(1)),v=2,u=w.length;u>v;v++){w[v]=+w[v]+G,w[++v]=+w[v]+F}H.pop(),H=H[bI](aY(w,z));break;case"M":E=+A[1]+G,D=+A[2]+F;default:for(v=1,u=A.length;u>v;v++){B[v]=+A[v]+(v%2?G:F)}}}else{if("R"==A[0]){w=[G,F][bI](A.slice(1)),H.pop(),H=H[bI](aY(w,z)),B=["R"][bI](A.slice(-2))}else{for(var h=0,c=A.length;c>h;h++){B[h]=A[h]}}}switch(B[0]){case"Z":G=E,F=D;break;case"H":G=B[1];break;case"V":F=B[1];break;case"M":E=B[B.length-2],D=B[B.length-1];default:G=B[B.length-2],F=B[B.length-1]}}return H.toString=a6._path2string,I.abs=bz(H),H},ak=function(f,e,h,g){return[f,e,h,g,h,g]},cd=function(j,i,q,o,n,m){var l=1/3,k=2/3;return[l*j+k*q,l*i+k*o,l*n+k*q,l*m+k*o,n,m]},bZ=function(cH,cG,cF,cE,cD,cC,cB,cA,cz,cy){var cx,cw=120*bm/180,cv=bm/180*(+cD||0),cu=[],ct=a1(function(h,g,k){var j=h*bt.cos(k)-g*bt.sin(k),i=h*bt.sin(k)+g*bt.cos(k);return{x:j,y:i}});if(cy){ck=cy[0],cj=cy[1],cm=cy[2],cl=cy[3]}else{cx=ct(cH,cG,-cv),cH=cx.x,cG=cx.y,cx=ct(cA,cz,-cv),cA=cx.x,cz=cx.y;var cs=(bt.cos(bm/180*cD),bt.sin(bm/180*cD),(cH-cA)/2),cr=(cG-cz)/2,cq=cs*cs/(cF*cF)+cr*cr/(cE*cE);cq>1&&(cq=bt.sqrt(cq),cF=cq*cF,cE=cq*cE);var cp=cF*cF,co=cE*cE,cn=(cC==cB?-1:1)*bt.sqrt(bp((cp*co-cp*cr*cr-co*cs*cs)/(cp*cr*cr+co*cs*cs))),cm=cn*cF*cr/cE+(cH+cA)/2,cl=cn*-cE*cs/cF+(cG+cz)/2,ck=bt.asin(((cG-cl)/cE).toFixed(9)),cj=bt.asin(((cz-cl)/cE).toFixed(9));ck=cm>cH?bm-ck:ck,cj=cm>cA?bm-cj:cj,0>ck&&(ck=2*bm+ck),0>cj&&(cj=2*bm+cj),cB&&ck>cj&&(ck-=2*bm),!cB&&cj>ck&&(cj-=2*bm)}var ci=cj-ck;if(bp(ci)>cw){var ch=cj,cg=cA,cc=cz;cj=ck+cw*(cB&&cj>ck?1:-1),cA=cm+cF*bt.cos(cj),cz=cl+cE*bt.sin(cj),cu=bZ(cA,cz,cF,cE,cD,0,cB,cg,cc,[cj,ch,cm,cl])}ci=cj-ck;var cb=bt.cos(ck),bc=bt.sin(ck),bb=bt.cos(cj),ac=bt.sin(cj),ab=bt.tan(ci/4),Z=4/3*cF*ab,Y=4/3*cE*ab,X=[cH,cG],S=[cH+Z*bc,cG-Y*cb],Q=[cA+Z*ac,cz-Y*bb],N=[cA,cz];if(S[0]=2*X[0]-S[0],S[1]=2*X[1]-S[1],cy){return[S,Q,N][bI](cu)}cu=[S,Q,N][bI](cu).join()[bA](",");for(var J=[],E=0,f=cu.length;f>E;E++){J[E]=E%2?ct(cu[E-1],cu[E],cv).y:ct(cu[E],cu[E+1],cv).x}return J},bH=function(v,u,s,r,q,o,n,m,l){var k=1-l;return{x:bn(k,3)*v+3*bn(k,2)*l*s+3*k*l*l*q+bn(l,3)*n,y:bn(k,3)*u+3*bn(k,2)*l*r+3*k*l*l*o+bn(l,3)*m}},a4=a1(function(G,F,E,D,C,B,A,z){var y,x=C-2*E+G-(A-2*C+E),w=2*(E-G)-2*(C-E),v=G-E,u=(-w+bt.sqrt(w*w-4*x*v))/2/x,s=(-w-bt.sqrt(w*w-4*x*v))/2/x,r=[F,z],q=[G,A];return bp(u)>"1e12"&&(u=0.5),bp(s)>"1e12"&&(s=0.5),u>0&&1>u&&(y=bH(G,F,E,D,C,B,A,z,u),q.push(y.x),r.push(y.y)),s>0&&1>s&&(y=bH(G,F,E,D,C,B,A,z,s),q.push(y.x),r.push(y.y)),x=B-2*D+F-(z-2*B+D),w=2*(D-F)-2*(B-D),v=F-D,u=(-w+bt.sqrt(w*w-4*x*v))/2/x,s=(-w-bt.sqrt(w*w-4*x*v))/2/x,bp(u)>"1e12"&&(u=0.5),bp(s)>"1e12"&&(s=0.5),u>0&&1>u&&(y=bH(G,F,E,D,C,B,A,z,u),q.push(y.x),r.push(y.y)),s>0&&1>s&&(y=bH(G,F,E,D,C,B,A,z,s),q.push(y.x),r.push(y.y)),{min:{x:br[bK](0,q),y:br[bK](0,r)},max:{x:bs[bK](0,q),y:bs[bK](0,r)}}}),ax=a6._path2curve=a1(function(G,F){var E=!F&&b8(G);if(!F&&E.curve){return bz(E.curve)}for(var D=av(G),C=F&&av(F),B={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},A={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},z=(function(h,g,l){var k,j,i={T:1,Q:1};if(!h){return["C",g.x,g.y,g.x,g.y,g.x,g.y]}switch(!(h[0] in i)&&(g.qx=g.qy=null),h[0]){case"M":g.X=h[1],g.Y=h[2];break;case"A":h=["C"][bI](bZ[bK](0,[g.x,g.y][bI](h.slice(1))));break;case"S":"C"==l||"S"==l?(k=2*g.x-g.bx,j=2*g.y-g.by):(k=g.x,j=g.y),h=["C",k,j][bI](h.slice(1));break;case"T":"Q"==l||"T"==l?(g.qx=2*g.x-g.qx,g.qy=2*g.y-g.qy):(g.qx=g.x,g.qy=g.y),h=["C"][bI](cd(g.x,g.y,g.qx,g.qy,h[1],h[2]));break;case"Q":g.qx=h[1],g.qy=h[2],h=["C"][bI](cd(g.x,g.y,h[1],h[2],h[3],h[4]));break;case"L":h=["C"][bI](ak(g.x,g.y,h[1],h[2]));break;case"H":h=["C"][bI](ak(g.x,g.y,h[1],g.y));break;case"V":h=["C"][bI](ak(g.x,g.y,g.x,h[1]));break;case"Z":h=["C"][bI](ak(g.x,g.y,g.X,g.Y))}return h}),y=function(e,d){if(e[d].length>7){e[d].shift();for(var f=e[d];f.length;){e.splice(d++,0,["C"][bI](f.splice(0,6)))}e.splice(d,1),v=bs(D.length,C&&C.length||0)}},x=function(e,d,j,i,h){e&&d&&"M"==e[h][0]&&"M"!=d[h][0]&&(d.splice(h,0,["M",i.x,i.y]),j.bx=0,j.by=0,j.x=e[h][1],j.y=e[h][2],v=bs(D.length,C&&C.length||0))},w=0,v=bs(D.length,C&&C.length||0);v>w;w++){D[w]=z(D[w],B),y(D,w),C&&(C[w]=z(C[w],A)),C&&y(C,w),x(D,C,B,A,w),x(C,D,A,B,w);var u=D[w],s=C&&C[w],r=u.length,q=C&&s.length;B.x=u[r-2],B.y=u[r-1],B.bx=bd(u[r-4])||B.x,B.by=bd(u[r-3])||B.y,A.bx=C&&(bd(s[q-4])||A.x),A.by=C&&(bd(s[q-3])||A.y),A.x=C&&s[q-2],A.y=C&&s[q-1]}return C||(E.curve=bz(D)),C?[D,C]:D},null,bz),am=(a6._parseDots=a1(function(v){for(var u=[],s=0,r=v.length;r>s;s++){var q={},o=v[s].match(/^([^:]*):?([\d\.]*)/);if(q.color=a6.getRGB(o[1]),q.color.error){return null}q.color=q.color.hex,o[2]&&(q.offset=o[2]+"%"),u.push(q)}for(s=1,r=u.length-1;r>s;s++){if(!u[s].offset){for(var n=bd(u[s-1].offset||0),m=0,l=s+1;r>l;l++){if(u[l].offset){m=u[l].offset;break}}m||(m=100,l=r),m=bd(m);for(var c=(m-n)/(l-s+1);l>s;s++){n+=c,u[s].offset=n+"%"}}}return u}),a6._tear=function(d,c){d==c.top&&(c.top=d.prev),d==c.bottom&&(c.bottom=d.next),d.next&&(d.next.prev=d.prev),d.prev&&(d.prev.next=d.next)}),cf=(a6._tofront=function(d,c){c.top!==d&&(am(d,c),d.next=null,d.prev=c.top,c.top.next=d,c.top=d)},a6._toback=function(d,c){c.bottom!==d&&(am(d,c),d.next=c.bottom,d.prev=null,c.bottom.prev=d,c.bottom=d)},a6._insertafter=function(e,d,f){am(e,f),d==f.top&&(f.top=e),d.next&&(d.next.prev=e),e.next=d.next,e.prev=d,d.next=e},a6._insertbefore=function(e,d,f){am(e,f),d==f.bottom&&(f.bottom=e),d.prev&&(d.prev.next=e),e.prev=d.prev,d.prev=e,e.next=d},a6.toMatrix=function(f,e){var h=bW(f),g={_:{transform:bE},getBBox:function(){return h}};return b2(g,e),g.matrix}),b2=(a6.transformPath=function(d,c){return ce(d,cf(d,c))},a6._extractTransform=function(R,Q){if(null==Q){return R._.transform}Q=bB(Q).replace(/\.{3}|\u2026/g,R._.transform||bE);var P=a6.parseTransformString(Q),O=0,N=0,M=0,L=1,K=1,J=R._,I=new aN;if(J.transform=P||[],P){for(var H=0,G=P.length;G>H;H++){var F,E,D,C,B,A=P[H],z=A.length,y=bB(A[0]).toLowerCase(),o=A[0]!=y,c=o?I.invert():0;"t"==y&&3==z?o?(F=c.x(0,0),E=c.y(0,0),D=c.x(A[1],A[2]),C=c.y(A[1],A[2]),I.translate(D-F,C-E)):I.translate(A[1],A[2]):"r"==y?2==z?(B=B||R.getBBox(1),I.rotate(A[1],B.x+B.width/2,B.y+B.height/2),O+=A[1]):4==z&&(o?(D=c.x(A[2],A[3]),C=c.y(A[2],A[3]),I.rotate(A[1],D,C)):I.rotate(A[1],A[2],A[3]),O+=A[1]):"s"==y?2==z||3==z?(B=B||R.getBBox(1),I.scale(A[1],A[z-1],B.x+B.width/2,B.y+B.height/2),L*=A[1],K*=A[z-1]):5==z&&(o?(D=c.x(A[3],A[4]),C=c.y(A[3],A[4]),I.scale(A[1],A[2],D,C)):I.scale(A[1],A[2],A[3],A[4]),L*=A[1],K*=A[2]):"m"==y&&7==z&&I.add(A[1],A[2],A[3],A[4],A[5],A[6]),J.dirtyT=1,R.matrix=I}}R.matrix=I,J.sx=L,J.sy=K,J.deg=O,J.dx=N=I.e,J.dy=M=I.f,1==L&&1==K&&!O&&J.bbox?(J.bbox.x+=+N,J.bbox.y+=+M):J.dirtyT=1}),bP=function(d){var c=d[0];switch(c.toLowerCase()){case"t":return[c,0,0];case"m":return[c,1,0,0,1,0,0];case"r":return 4==d.length?[c,0,d[2],d[3]]:[c,0];case"s":return 5==d.length?[c,1,1,d[3],d[4]]:3==d.length?[c,1,1]:[c,1]}},ba=a6._equaliseTransform=function(v,u){u=bB(u).replace(/\.{3}|\u2026/g,v),v=a6.parseTransformString(v)||[],u=a6.parseTransformString(u)||[];for(var s,r,q,o,n=bs(v.length,u.length),m=[],l=[],c=0;n>c;c++){if(q=v[c]||bP(u[c]),o=u[c]||bP(q),q[0]!=o[0]||"r"==q[0].toLowerCase()&&(q[2]!=o[2]||q[3]!=o[3])||"s"==q[0].toLowerCase()&&(q[3]!=o[3]||q[4]!=o[4])){return}for(m[c]=[],l[c]=[],s=0,r=bs(q.length,o.length);r>s;s++){s in q&&(m[c][s]=q[s]),s in o&&(l[c][s]=o[s])}}return{from:m,to:l}};a6._getContainer=function(g,c,j,i){var h;return h=null!=i||a6.is(g,"object")?g:bO.doc.getElementById(g),null!=h?h.tagName?null==c?{container:h,width:h.style.pixelWidth||h.offsetWidth,height:h.style.pixelHeight||h.offsetHeight}:{container:h,width:c,height:j}:{container:1,x:g,y:c,width:j,height:i}:void 0},a6.pathToRelative=aW,a6._engine={},a6.path2curve=ax,a6.matrix=function(h,g,l,k,j,i){return new aN(h,g,l,k,j,i)},function(e){function c(b){return b[0]*b[0]+b[1]*b[1]}function f(b){var d=bt.sqrt(c(b));b[0]&&(b[0]/=d),b[1]&&(b[1]/=d)}e.add=function(B,A,z,y,x,w){var v,u,s,r,q=[[],[],[]],o=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],n=[[B,z,x],[A,y,w],[0,0,1]];for(B&&B instanceof aN&&(n=[[B.a,B.c,B.e],[B.b,B.d,B.f],[0,0,1]]),v=0;3>v;v++){for(u=0;3>u;u++){for(r=0,s=0;3>s;s++){r+=o[v][s]*n[s][u]}q[v][u]=r}}this.a=q[0][0],this.b=q[1][0],this.c=q[0][1],this.d=q[1][1],this.e=q[0][2],this.f=q[1][2]},e.invert=function(){var g=this,d=g.a*g.d-g.b*g.c;return new aN(g.d/d,-g.b/d,-g.c/d,g.a/d,(g.c*g.f-g.d*g.e)/d,(g.b*g.e-g.a*g.f)/d)},e.clone=function(){return new aN(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(g,d){this.add(1,0,0,1,g,d)},e.scale=function(h,g,j,i){null==g&&(g=h),(j||i)&&this.add(1,0,0,1,j,i),this.add(h,0,0,g,0,0),(j||i)&&this.add(1,0,0,1,-j,-i)},e.rotate=function(h,g,k){h=a6.rad(h),g=g||0,k=k||0;var j=+bt.cos(h).toFixed(9),i=+bt.sin(h).toFixed(9);this.add(j,i,-i,j,g,k),this.add(1,0,0,1,-g,-k)},e.x=function(g,d){return g*this.a+d*this.c+this.e},e.y=function(g,d){return g*this.b+d*this.d+this.f},e.get=function(b){return +this[bB.fromCharCode(97+b)].toFixed(4)},e.toString=function(){return a6.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var b={};b.dx=this.e,b.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];b.scalex=bt.sqrt(c(i[0])),f(i[0]),b.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*b.shear,i[1][1]-i[0][1]*b.shear],b.scaley=bt.sqrt(c(i[1])),f(i[1]),b.shear/=b.scaley;var h=-i[0][1],d=i[1][1];return 0>d?(b.rotate=a6.deg(bt.acos(d)),0>h&&(b.rotate=360-b.rotate)):b.rotate=a6.deg(bt.asin(h)),b.isSimple=!(+b.shear.toFixed(9)||b.scalex.toFixed(9)!=b.scaley.toFixed(9)&&b.rotate),b.isSuperSimple=!+b.shear.toFixed(9)&&b.scalex.toFixed(9)==b.scaley.toFixed(9)&&!b.rotate,b.noRotation=!+b.shear.toFixed(9)&&!b.rotate,b},e.toTransformString=function(g){var d=g||this[bA]();return d.isSimple?(d.scalex=+d.scalex.toFixed(4),d.scaley=+d.scaley.toFixed(4),d.rotate=+d.rotate.toFixed(4),(d.dx||d.dy?"t"+[d.dx,d.dy]:bE)+(1!=d.scalex||1!=d.scaley?"s"+[d.scalex,d.scaley,0,0]:bE)+(d.rotate?"r"+[d.rotate,0,0]:bE)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(aN.prototype);var az=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);aF.safari="Apple Computer, Inc."==navigator.vendor&&(az&&az[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&az&&az[1]<8?function(){var b=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){b.remove()})}:bY;for(var ao=function(){this.returnValue=!1},ad=function(){return this.originalEvent.preventDefault()},b4=function(){this.cancelBubble=!0},bR=function(){return this.originalEvent.stopPropagation()},be=function(e){var d=bO.doc.documentElement.scrollTop||bO.doc.body.scrollTop,f=bO.doc.documentElement.scrollLeft||bO.doc.body.scrollLeft;return{x:e.clientX+f,y:e.clientY+d}},aB=function(){return bO.doc.addEventListener?function(h,g,l,k){var j=function(d){var c=be(d);return l.call(k,d,c.x,c.y)};if(h.addEventListener(g,j,!1),bF&&bw[g]){var i=function(c){for(var o=be(c),n=c,m=0,d=c.targetTouches&&c.targetTouches.length;d>m;m++){if(c.targetTouches[m].target==h){c=c.targetTouches[m],c.originalEvent=n,c.preventDefault=ad,c.stopPropagation=bR;break}}return l.call(k,c,o.x,o.y)};h.addEventListener(bw[g],i,!1)}return function(){return h.removeEventListener(g,j,!1),bF&&bw[g]&&h.removeEventListener(bw[g],j,!1),!0}}:bO.doc.attachEvent?function(h,g,l,k){var j=function(d){d=d||bO.win.event;var c=bO.doc.documentElement.scrollTop||bO.doc.body.scrollTop,o=bO.doc.documentElement.scrollLeft||bO.doc.body.scrollLeft,n=d.clientX+o,m=d.clientY+c;return d.preventDefault=d.preventDefault||ao,d.stopPropagation=d.stopPropagation||b4,l.call(k,d,n,m)};h.attachEvent("on"+g,j);var i=function(){return h.detachEvent("on"+g,j),!0};return i}:void 0}(),ap=[],ae=function(D){for(var C,B=D.clientX,A=D.clientY,z=bO.doc.documentElement.scrollTop||bO.doc.body.scrollTop,y=bO.doc.documentElement.scrollLeft||bO.doc.body.scrollLeft,x=ap.length;x--;){if(C=ap[x],bF&&D.touches){for(var w,v=D.touches.length;v--;){if(w=D.touches[v],w.identifier==C.el._drag.id){B=w.clientX,A=w.clientY,(D.originalEvent?D.originalEvent:D).preventDefault();break}}}else{D.preventDefault()}var u,s=C.el.node,r=s.nextSibling,q=s.parentNode,b=s.style.display;bO.win.opera&&q.removeChild(s),s.style.display="none",u=C.el.paper.getElementByPoint(B,A),s.style.display=b,bO.win.opera&&(r?q.insertBefore(s,r):q.appendChild(s)),u&&a7("raphael.drag.over."+C.el.id,C.el,u),B+=y,A+=z,a7("raphael.drag.move."+C.el.id,C.move_scope||C.el,B-C.el._drag.x,A-C.el._drag.y,B,A,D)}},b5=function(b){a6.unmousemove(ae).unmouseup(b5);for(var f,c=ap.length;c--;){f=ap[c],f.el._drag={},a7("raphael.drag.end."+f.el.id,f.end_scope||f.start_scope||f.move_scope||f.el,b)}ap=[]},bJ=a6.el={},af=bx.length;af--;){!function(b){a6[b]=bJ[b]=function(c,e){return a6.is(c,"function")&&(this.events=this.events||[],this.events.push({name:b,f:c,unbind:aB(this.shape||this.node||bO.doc,b,c,e||this)})),this},a6["un"+b]=bJ["un"+b]=function(c){for(var g=this.events||[],f=g.length;f--;){g[f].name!=b||!a6.is(c,"undefined")&&g[f].f!=c||(g[f].unbind(),g.splice(f,1),!g.length&&delete this.events)}return this}}(bx[af])}bJ.data=function(b,h){var g=aj[this.id]=aj[this.id]||{};if(0==arguments.length){return g}if(1==arguments.length){if(a6.is(b,"object")){for(var c in b){b[aA](c)&&this.data(c,b[c])}return this}return a7("raphael.data.get."+this.id,this,g[b],b),g[b]}return g[b]=h,a7("raphael.data.set."+this.id,this,h,b),this},bJ.removeData=function(b){return null==b?aj[this.id]={}:aj[this.id]&&delete aj[this.id][b],this},bJ.getData=function(){return a5(aj[this.id]||{})},bJ.hover=function(f,e,h,g){return this.mouseover(f,h).mouseout(e,g||h)},bJ.unhover=function(d,c){return this.unmouseover(d).unmouseout(c)};var bS=[];bJ.drag=function(b,n,m,l,k,j){function c(h){(h.originalEvent||h).preventDefault();var g=h.clientX,f=h.clientY,e=bO.doc.documentElement.scrollTop||bO.doc.body.scrollTop,d=bO.doc.documentElement.scrollLeft||bO.doc.body.scrollLeft;if(this._drag.id=h.identifier,bF&&h.touches){for(var r,q=h.touches.length;q--;){if(r=h.touches[q],this._drag.id=r.identifier,r.identifier==this._drag.id){g=r.clientX,f=r.clientY;break}}}this._drag.x=g+d,this._drag.y=f+e,!ap.length&&a6.mousemove(ae).mouseup(b5),ap.push({el:this,move_scope:l,start_scope:k,end_scope:j}),n&&a7.on("raphael.drag.start."+this.id,n),b&&a7.on("raphael.drag.move."+this.id,b),m&&a7.on("raphael.drag.end."+this.id,m),a7("raphael.drag.start."+this.id,k||l||this,h.clientX+d,h.clientY+e,h)}return this._drag={},bS.push({el:this,start:c}),this.mousedown(c),this},bJ.onDragOver=function(b){b?a7.on("raphael.drag.over."+this.id,b):a7.unbind("raphael.drag.over."+this.id)},bJ.undrag=function(){for(var b=bS.length;b--;){bS[b].el==this&&(this.unmousedown(bS[b].start),bS.splice(b,1),a7.unbind("raphael.drag.*."+this.id))}!bS.length&&a6.unmousemove(ae).unmouseup(b5),ap=[]},aF.circle=function(f,c,h){var g=a6._engine.circle(this,f||0,c||0,h||0);return this.__set__&&this.__set__.push(g),g},aF.rect=function(h,c,l,k,j){var i=a6._engine.rect(this,h||0,c||0,l||0,k||0,j||0);return this.__set__&&this.__set__.push(i),i},aF.ellipse=function(g,c,j,i){var h=a6._engine.ellipse(this,g||0,c||0,j||0,i||0);return this.__set__&&this.__set__.push(h),h},aF.path=function(d){d&&!a6.is(d,bk)&&!a6.is(d[0],bj)&&(d+=bE);var c=a6._engine.path(a6.format[bK](a6,arguments),this);return this.__set__&&this.__set__.push(c),c},aF.image=function(h,c,l,k,j){var i=a6._engine.image(this,h||"about:blank",c||0,l||0,k||0,j||0);return this.__set__&&this.__set__.push(i),i},aF.text=function(f,c,h){var g=a6._engine.text(this,f||0,c||0,bB(h));return this.__set__&&this.__set__.push(g),g},aF.set=function(d){!a6.is(d,"array")&&(d=Array.prototype.splice.call(arguments,0,arguments.length));var c=new bX(d);return this.__set__&&this.__set__.push(c),c.paper=this,c.type="set",c},aF.setStart=function(b){this.__set__=b||this.set()},aF.setFinish=function(){var b=this.__set__;return delete this.__set__,b},aF.setSize=function(d,c){return a6._engine.setSize.call(this,d,c)},aF.setViewBox=function(g,c,j,i,h){return a6._engine.setViewBox.call(this,g,c,j,i,h)},aF.top=aF.bottom=null,aF.raphael=a6;var bo=function(s){var r=s.getBoundingClientRect(),q=s.ownerDocument,o=q.body,n=q.documentElement,m=n.clientTop||o.clientTop||0,l=n.clientLeft||o.clientLeft||0,k=r.top+(bO.win.pageYOffset||n.scrollTop||o.scrollTop)-m,j=r.left+(bO.win.pageXOffset||n.scrollLeft||o.scrollLeft)-l;return{y:k,x:j}};aF.getElementByPoint=function(j,i){var q=this,o=q.canvas,n=bO.doc.elementFromPoint(j,i);if(bO.win.opera&&"svg"==n.tagName){var m=bo(o),l=o.createSVGRect();l.x=j-m.x,l.y=i-m.y,l.width=l.height=1;var k=o.getIntersectionList(l,null);k.length&&(n=k[k.length-1])}if(!n){return null}for(;n.parentNode&&n!=o.parentNode&&!n.raphael;){n=n.parentNode}return n==q.canvas.parentNode&&(n=o),n=n&&n.raphael?q.getById(n.raphaelid):null},aF.getElementsByBBox=function(d){var c=this.set();return this.forEach(function(b){a6.isBBoxIntersect(b.getBBox(),d)&&c.push(b)}),c},aF.getById=function(d){for(var c=this.bottom;c;){if(c.id==d){return c}c=c.next}return null},aF.forEach=function(e,d){for(var f=this.bottom;f;){if(e.call(d,f)===!1){return this}f=f.next}return this},aF.getElementsByPoint=function(e,d){var f=this.set();return this.forEach(function(b){b.isPointInside(e,d)&&f.push(b)}),f},bJ.isPointInside=function(e,c){var f=this.realPath=al[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(f=a6.transformPath(f,this.attr("transform"))),a6.isPointInsidePath(f,e,c)},bJ.getBBox=function(d){if(this.removed){return{}}var c=this._;return d?((c.dirty||!c.bboxwt)&&(this.realPath=al[this.type](this),c.bboxwt=bW(this.realPath),c.bboxwt.toString=aM,c.dirty=0),c.bboxwt):((c.dirty||c.dirtyT||!c.bbox)&&((c.dirty||!this.realPath)&&(c.bboxwt=0,this.realPath=al[this.type](this)),c.bbox=bW(ce(this.realPath,this.matrix)),c.bbox.toString=aM,c.dirty=c.dirtyT=0),c.bbox)},bJ.clone=function(){if(this.removed){return null}var b=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(b),b},bJ.glow=function(i){if("text"==this.type){return null}i=i||{};var h={width:(i.width||10)+(+this.attr("stroke-width")||1),fill:i.fill||!1,opacity:i.opacity||0.5,offsetx:i.offsetx||0,offsety:i.offsety||0,color:i.color||"#000"},n=h.width/2,m=this.paper,l=m.set(),k=this.realPath||al[this.type](this);k=this.matrix?ce(k,this.matrix):k;for(var j=1;n+1>j;j++){l.push(m.path(k).attr({stroke:h.color,fill:h.fill?h.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(h.width/n*j).toFixed(3),opacity:+(h.opacity/n).toFixed(3)}))}return l.insertBefore(this).translate(h.offsetx,h.offsety)};var aL=function(s,r,q,o,n,m,k,j,c){return null==c?aU(s,r,q,o,n,m,k,j):a6.findDotsAtSegment(s,r,q,o,n,m,k,j,aT(s,r,q,o,n,m,k,j,c))},aq=function(d,c){return function(C,B,A){C=ax(C);for(var z,y,x,w,v,u="",s={},r=0,q=0,b=C.length;b>q;q++){if(x=C[q],"M"==x[0]){z=+x[1],y=+x[2]}else{if(w=aL(z,y,x[1],x[2],x[3],x[4],x[5],x[6]),r+w>B){if(c&&!s.start){if(v=aL(z,y,x[1],x[2],x[3],x[4],x[5],x[6],B-r),u+=["C"+v.start.x,v.start.y,v.m.x,v.m.y,v.x,v.y],A){return u}s.start=u,u=["M"+v.x,v.y+"C"+v.n.x,v.n.y,v.end.x,v.end.y,x[5],x[6]].join(),r+=w,z=+x[5],y=+x[6];continue}if(!d&&!c){return v=aL(z,y,x[1],x[2],x[3],x[4],x[5],x[6],B-r),{x:v.x,y:v.y,alpha:v.alpha}}}r+=w,z=+x[5],y=+x[6]}u+=x.shift()+x}return s.end=u,v=d?r:c?s:a6.findDotsAtSegment(z,y,x[0],x[1],x[2],x[3],x[4],x[5],1),v.alpha&&(v={x:v.x,y:v.y,alpha:v.alpha}),v}},ag=aq(1),b6=aq(),bU=aq(0,1);a6.getTotalLength=ag,a6.getPointAtLength=b6,a6.getSubpath=function(f,e,h){if(this.getTotalLength(f)-h<0.000001){return bU(f,e).end}var g=bU(f,h,1);return e?bU(g,e).end:g},bJ.getTotalLength=function(){var b=this.getPath();if(b){return this.node.getTotalLength?this.node.getTotalLength():ag(b)}},bJ.getPointAtLength=function(d){var c=this.getPath();if(c){return b6(c,d)}},bJ.getPath=function(){var d,c=a6._getPath[this.type];if("text"!=this.type&&"set"!=this.type){return c&&(d=c(this)),d}},bJ.getSubpath=function(e,c){var f=this.getPath();if(f){return a6.getSubpath(f,e,c)}};var bv=a6.easing_formulas={linear:function(b){return b},"<":function(b){return bn(b,1.7)},">":function(b){return bn(b,0.48)},"<>":function(j){var i=0.48-j/1.04,q=bt.sqrt(0.1734+i*i),o=q-i,n=bn(bp(o),1/3)*(0>o?-1:1),m=-q-i,l=bn(bp(m),1/3)*(0>m?-1:1),k=n+l+0.5;return 3*(1-k)*k*k+k*k*k},backIn:function(d){var c=1.70158;return d*d*((c+1)*d-c)},backOut:function(d){d-=1;var c=1.70158;return d*d*((c+1)*d+c)+1},elastic:function(b){return b==!!b?b:bn(2,-10*b)*bt.sin(2*(b-0.075)*bm/0.3)+1},bounce:function(f){var e,h=7.5625,g=2.75;return 1/g>f?e=h*f*f:2/g>f?(f-=1.5/g,e=h*f*f+0.75):2.5/g>f?(f-=2.25/g,e=h*f*f+0.9375):(f-=2.625/g,e=h*f*f+0.984375),e}};bv.easeIn=bv["ease-in"]=bv["<"],bv.easeOut=bv["ease-out"]=bv[">"],bv.easeInOut=bv["ease-in-out"]=bv["<>"],bv["back-in"]=bv.backIn,bv["back-out"]=bv.backOut;var aS=[],at=a8.requestAnimationFrame||a8.webkitRequestAnimationFrame||a8.mozRequestAnimationFrame||a8.oRequestAnimationFrame||a8.msRequestAnimationFrame||function(b){setTimeout(b,16)},ai=function(){for(var R=+new Date,Q=0;Q<aS.length;Q++){var P=aS[Q];if(!P.el.removed&&!P.paused){var O,N,M=R-P.start,L=P.ms,K=P.easing,J=P.from,I=P.diff,H=P.to,G=(P.t,P.el),F={},E={};if(P.initstatus?(M=(P.initstatus*P.anim.top-P.prev)/(P.percent-P.prev)*L,P.status=P.initstatus,delete P.initstatus,P.stop&&aS.splice(Q--,1)):P.status=(P.prev+(P.percent-P.prev)*(M/L))/P.anim.top,!(0>M)){if(L>M){var D=K(M/L);for(var C in J){if(J[aA](C)){switch(ar[C]){case bl:O=+J[C]+D*L*I[C];break;case"colour":O="rgb("+[b9(b0(J[C].r+D*L*I[C].r)),b9(b0(J[C].g+D*L*I[C].g)),b9(b0(J[C].b+D*L*I[C].b))].join(",")+")";break;case"path":O=[];for(var B=0,A=J[C].length;A>B;B++){O[B]=[J[C][B][0]];for(var z=1,s=J[C][B].length;s>z;z++){O[B][z]=+J[C][B][z]+D*L*I[C][B][z]}O[B]=O[B].join(bC)}O=O.join(bC);break;case"transform":if(I[C].real){for(O=[],B=0,A=J[C].length;A>B;B++){for(O[B]=[J[C][B][0]],z=1,s=J[C][B].length;s>z;z++){O[B][z]=J[C][B][z]+D*L*I[C][B][z]}}}else{var c=function(d){return +J[C][d]+D*L*I[C][d]};O=[["m",c(0),c(1),c(2),c(3),c(4),c(5)]]}break;case"csv":if("clip-rect"==C){for(O=[],B=4;B--;){O[B]=+J[C][B]+D*L*I[C][B]}}break;default:var b=[][bI](J[C]);for(O=[],B=G.paper.customAttributes[C].length;B--;){O[B]=+b[B]+D*L*I[C][B]}}F[C]=O}}G.attr(F),function(e,g,f){setTimeout(function(){a7("raphael.anim.frame."+e,g,f)})}(G.id,G,P.anim)}else{if(function(f,h,g){setTimeout(function(){a7("raphael.anim.frame."+h.id,h,g),a7("raphael.anim.finish."+h.id,h,g),a6.is(f,"function")&&f.call(h)})}(P.callback,G,P.anim),G.attr(H),aS.splice(Q--,1),P.repeat>1&&!P.next){for(N in H){H[aA](N)&&(E[N]=P.totalOrigin[N])}P.el.attr(E),aI(P.anim,P.el,P.anim.percents[0],null,P.totalOrigin,P.repeat-1)}P.next&&!P.stop&&aI(P.anim,P.el,P.next,null,P.totalOrigin,P.repeat)}}}}a6.svg&&G&&G.paper&&G.paper.safari(),aS.length&&at(ai)},b9=function(b){return b>255?255:0>b?0:b};bJ.animateWith=function(v,u,s,r,q,o){var n=this;if(n.removed){return o&&o.call(n),n}var m=s instanceof aJ?s:a6.animation(s,r,q,o);aI(m,n,m.percents[0],null,n.attr());for(var l=0,c=aS.length;c>l;l++){if(aS[l].anim==u&&aS[l].el==v){aS[c-1].start=aS[l].start;break}}return n},bJ.onAnimation=function(b){return b?a7.on("raphael.anim.frame."+this.id,b):a7.unbind("raphael.anim.frame."+this.id),this},aJ.prototype.delay=function(d){var c=new aJ(this.anim,this.ms);return c.times=this.times,c.del=+d||0,c},aJ.prototype.repeat=function(d){var c=new aJ(this.anim,this.ms);return c.del=this.del,c.times=bt.floor(bs(d,0))||1,c},a6.animation=function(i,c,n,m){if(i instanceof aJ){return i}(a6.is(n,"function")||!n)&&(m=m||n||null,n=null),i=Object(i),c=+c||0;var l,k,j={};for(k in i){i[aA](k)&&bd(k)!=k&&bd(k)+"%"!=k&&(l=!0,j[k]=i[k])}return l?(n&&(j.easing=n),m&&(j.callback=m),new aJ({100:j},c)):new aJ(i,c)},bJ.animate=function(h,c,l,k){var j=this;if(j.removed){return k&&k.call(j),j}var i=h instanceof aJ?h:a6.animation(h,c,l,k);return aI(i,j,i.percents[0],null,j.attr()),j},bJ.setTime=function(d,c){return d&&null!=c&&this.status(d,br(c,d.ms)/d.ms),this},bJ.status=function(h,g){var l,k,j=[],i=0;if(null!=g){return aI(h,this,-1,br(g,1)),this}for(l=aS.length;l>i;i++){if(k=aS[i],k.el.id==this.id&&(!h||k.anim==h)){if(h){return k.status}j.push({anim:k.anim,status:k.status})}}return h?0:j},bJ.pause=function(b){for(var d=0;d<aS.length;d++){aS[d].el.id!=this.id||b&&aS[d].anim!=b||a7("raphael.anim.pause."+this.id,this,aS[d].anim)!==!1&&(aS[d].paused=!0)}return this},bJ.resume=function(b){for(var f=0;f<aS.length;f++){if(aS[f].el.id==this.id&&(!b||aS[f].anim==b)){var e=aS[f];a7("raphael.anim.resume."+this.id,this,e.anim)!==!1&&(delete e.paused,this.status(e.anim,e.status))}}return this},bJ.stop=function(b){for(var d=0;d<aS.length;d++){aS[d].el.id!=this.id||b&&aS[d].anim!=b||a7("raphael.anim.stop."+this.id,this,aS[d].anim)!==!1&&aS.splice(d--,1)}return this},a7.on("raphael.remove",aH),a7.on("raphael.clear",aH),bJ.toString=function(){return"Raphaël’s object"};var bX=function(e){if(this.items=[],this.length=0,this.type="set",e){for(var d=0,f=e.length;f>d;d++){!e[d]||e[d].constructor!=bJ.constructor&&e[d].constructor!=bX||(this[this.items.length]=this.items[this.items.length]=e[d],this.length++)}}},bD=bX.prototype;bD.push=function(){for(var f,e,h=0,g=arguments.length;g>h;h++){f=arguments[h],!f||f.constructor!=bJ.constructor&&f.constructor!=bX||(e=this.items.length,this[e]=this.items[e]=f,this.length++)}return this},bD.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},bD.forEach=function(f,e){for(var h=0,g=this.items.length;g>h;h++){if(f.call(e,this.items[h],h)===!1){return this}}return this};for(var a0 in bJ){bJ[aA](a0)&&(bD[a0]=function(b){return function(){var c=arguments;return this.forEach(function(d){d[b][bK](d,c)})}}(a0))}return bD.attr=function(h,c){if(h&&a6.is(h,bj)&&a6.is(h[0],"object")){for(var l=0,k=h.length;k>l;l++){this.items[l].attr(h[l])}}else{for(var j=0,i=this.items.length;i>j;j++){this.items[j].attr(h,c)}}return this},bD.clear=function(){for(;this.length;){this.pop()}},bD.splice=function(i,h){i=0>i?bs(this.length+i,0):i,h=bs(0,br(this.length-i,h));var n,m=[],l=[],k=[];for(n=2;n<arguments.length;n++){k.push(arguments[n])}for(n=0;h>n;n++){l.push(this[i+n])}for(;n<this.length-i;n++){m.push(this[i+n])}var j=k.length;for(n=0;n<j+m.length;n++){this.items[i+n]=this[i+n]=j>n?k[n]:m[n-j]}for(n=this.items.length=this.length-=h-j;this[n];){delete this[n++]}return new bX(l)},bD.exclude=function(e){for(var d=0,f=this.length;f>d;d++){if(this[d]==e){return this.splice(d,1),!0}}},bD.animate=function(v,u,s,r){(a6.is(s,"function")||!s)&&(r=s||null);var q,o,n=this.items.length,m=n,l=this;if(!n){return this}r&&(o=function(){!--n&&r.call(l)}),s=a6.is(s,bk)?s:o;var c=a6.animation(v,u,s,o);for(q=this.items[--m].animate(c);m--;){this.items[m]&&!this.items[m].removed&&this.items[m].animateWith(q,c,c),this.items[m]&&!this.items[m].removed||n--}return this},bD.insertAfter=function(d){for(var c=this.items.length;c--;){this.items[c].insertAfter(d)}return this},bD.getBBox=function(){for(var h=[],g=[],l=[],k=[],j=this.items.length;j--;){if(!this.items[j].removed){var i=this.items[j].getBBox();h.push(i.x),g.push(i.y),l.push(i.x+i.width),k.push(i.y+i.height)}}return h=br[bK](0,h),g=br[bK](0,g),l=bs[bK](0,l),k=bs[bK](0,k),{x:h,y:g,x2:l,y2:k,width:l-h,height:k-g}},bD.clone=function(e){e=this.paper.set();for(var d=0,f=this.items.length;f>d;d++){e.push(this.items[d].clone())}return e},bD.toString=function(){return"Raphaël‘s set"},bD.glow=function(d){var c=this.paper.set();return this.forEach(function(e){var b=e.glow(d);null!=b&&b.forEach(function(f){c.push(f)})}),c},bD.isPointInside=function(e,d){var f=!1;return this.forEach(function(b){return b.isPointInside(e,d)?(console.log("runned"),f=!0,!1):void 0}),f},a6.registerFont=function(i){if(!i.face){return i}this.fonts=this.fonts||{};var h={w:i.w,face:{},glyphs:{}},n=i.face["font-family"];for(var m in i.face){i.face[aA](m)&&(h.face[m]=i.face[m])}if(this.fonts[n]?this.fonts[n].push(h):this.fonts[n]=[h],!i.svg){h.face["units-per-em"]=bT(i.face["units-per-em"],10);for(var l in i.glyphs){if(i.glyphs[aA](l)){var k=i.glyphs[l];if(h.glyphs[l]={w:k.w,k:{},d:k.d&&"M"+k.d.replace(/[mlcxtrv]/g,function(b){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[b]||"M"})+"z"},k.k){for(var j in k.k){k[aA](j)&&(h.glyphs[l].k[j]=k.k[j])}}}}}return i},aF.getFont=function(v,u,s,r){if(r=r||"normal",s=s||"normal",u=+u||{normal:400,bold:700,lighter:300,bolder:800}[u]||400,a6.fonts){var q=a6.fonts[v];if(!q){var o=new RegExp("(^|\\s)"+v.replace(/[^\w\d\s+!~.:_-]/g,bE)+"(\\s|$)","i");for(var n in a6.fonts){if(a6.fonts[aA](n)&&o.test(n)){q=a6.fonts[n];break}}}var m;if(q){for(var l=0,c=q.length;c>l&&(m=q[l],m.face["font-weight"]!=u||m.face["font-style"]!=s&&m.face["font-style"]||m.face["font-stretch"]!=r);l++){}}return m}},aF.print=function(R,Q,P,O,N,M,L,K){M=M||"middle",L=bs(br(L||0,1),-1),K=bs(br(K||1,3),1);var J,I=bB(P)[bA](bE),H=0,G=0,F=bE;if(a6.is(O,"string")&&(O=this.getFont(O)),O){J=(N||16)/O.face["units-per-em"];for(var E=O.face.bbox[bA](aE),D=+E[0],C=E[3]-E[1],B=0,A=+E[1]+("baseline"==M?C+ +O.face.descent:C/2),z=0,y=I.length;y>z;z++){if("\n"==I[z]){H=0,c=0,G=0,B+=C*K}else{var w=G&&O.glyphs[I[z-1]]||{},c=O.glyphs[I[z]];H+=G?(w.w||O.w)+(w.k&&w.k[I[z]]||0)+O.w*L:0,G=1}c&&c.d&&(F+=a6.transformPath(c.d,["t",H*J,B*J,"s",J,J,D,A,"t",(R-D)/J,(Q-A)/J]))}}return this.path(F).attr({fill:"#000",stroke:"none"})},aF.add=function(g){if(a6.is(g,"array")){for(var c,j=this.set(),i=0,h=g.length;h>i;i++){c=g[i]||{},aD[aA](c.type)&&j.push(this[c.type]().attr(c))}}return j},a6.format=function(e,c){var f=a6.is(c,bj)?[0][bI](c):arguments;return e&&a6.is(e,bk)&&f.length-1&&(e=e.replace(aC,function(g,d){return null==f[++d]?bE:f[d]})),e||bE},a6.fullfill=function(){var e=/\{([^\}]+)\}/g,d=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,f=function(b,i,h){var g=h;return i.replace(d,function(k,j,n,m,l){j=j||m,g&&(j in g&&(g=g[j]),"function"==typeof g&&l&&(g=g()))}),g=(null==g||g==h?b:g)+""};return function(c,g){return String(c).replace(e,function(i,h){return f(i,h,g)})}}(),a6.ninja=function(){return bM.was?bO.win.Raphael=bM.is:delete Raphael,a6},a6.st=bD,function(f,c,h){function g(){/in/.test(f.readyState)?setTimeout(g,9):a6.eve("raphael.DOMload")}null==f.readyState&&f.addEventListener&&(f.addEventListener(c,h=function(){f.removeEventListener(c,h,!1),f.readyState="complete"},!1),f.readyState="loading"),g()}(document,"DOMContentLoaded"),a7.on("raphael.DOMload",function(){aG=!0}),function(){if(a6.svg){var bc="hasOwnProperty",bb=String,ac=parseFloat,ab=parseInt,Z=Math,Y=Z.max,X=Z.abs,W=Z.pow,V=/[, ]+/,U=a6.eve,T="",S=" ",R="http://www.w3.org/1999/xlink",Q={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},P={};a6.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var N=function(h,g){if(g){"string"==typeof h&&(h=N(h));for(var b in g){g[bc](b)&&("xlink:"==b.substring(0,6)?h.setAttributeNS(R,b.substring(6),bb(g[b])):h.setAttribute(b,bb(g[b])))}}else{h=a6._g.doc.createElementNS("http://www.w3.org/2000/svg",h),h.style&&(h.style.webkitTapHighlightColor="rgba(0,0,0,0)")}return h},L=function(B,q){var l="linear",i=B.id+q,h=0.5,g=0.5,f=B.node,d=B.paper,b=f.style,ch=a6._g.doc.getElementById(i);if(!ch){if(q=bb(q).replace(a6._radial_gradient,function(k,j,n){if(l="radial",j&&n){h=ac(j),g=ac(n);var m=2*(g>0.5)-1;W(h-0.5,2)+W(g-0.5,2)>0.25&&(g=Z.sqrt(0.25-W(h-0.5,2))*m+0.5)&&0.5!=g&&(g=g.toFixed(5)-0.00001*m)}return T}),q=q.split(/\s*\-\s*/),"linear"==l){var cg=q.shift();if(cg=-ac(cg),isNaN(cg)){return null}var cc=[0,0,Z.cos(a6.rad(cg)),Z.sin(a6.rad(cg))],cb=1/(Y(X(cc[2]),X(cc[3]))||1);cc[2]*=cb,cc[3]*=cb,cc[2]<0&&(cc[0]=-cc[2],cc[2]=0),cc[3]<0&&(cc[1]=-cc[3],cc[3]=0)}var C=a6._parseDots(q);if(!C){return null}if(i=i.replace(/[\(\)\s,\xb0#]/g,"_"),B.gradient&&i!=B.gradient.id&&(d.defs.removeChild(B.gradient),delete B.gradient),!B.gradient){ch=N(l+"Gradient",{id:i}),B.gradient=ch,N(ch,"radial"==l?{fx:h,fy:g}:{x1:cc[0],y1:cc[1],x2:cc[2],y2:cc[3],gradientTransform:B.matrix.invert()}),d.defs.appendChild(ch);for(var A=0,z=C.length;z>A;A++){ch.appendChild(N("stop",{offset:C[A].offset?C[A].offset:A?"100%":"0%","stop-color":C[A].color||"#fff"}))}}}return N(f,{fill:"url(#"+i+")",opacity:1,"fill-opacity":1}),b.fill=T,b.opacity=1,b.fillOpacity=1,1},J=function(e){var d=e.getBBox(1);N(e.pattern,{patternTransform:e.matrix.invert()+" translate("+d.x+","+d.y+")"})},I=function(cy,cx,cw){if("path"==cy.type){for(var cv,cu,ct,cs,cr,cq=bb(cx).toLowerCase().split("-"),cp=cy.paper,cm=cw?"end":"start",ck=cy.node,ci=cy.attrs,cg=ci["stroke-width"],cb=cq.length,q="classic",o=3,l=3,b=5;cb--;){switch(cq[cb]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":q=cq[cb];break;case"wide":l=5;break;case"narrow":l=2;break;case"long":o=5;break;case"short":o=2}}if("open"==q?(o+=2,l+=2,b+=2,ct=1,cs=cw?4:1,cr={fill:"none",stroke:ci.stroke}):(cs=ct=o/2,cr={fill:ci.stroke,stroke:"none"}),cy._.arrows?cw?(cy._.arrows.endPath&&P[cy._.arrows.endPath]--,cy._.arrows.endMarker&&P[cy._.arrows.endMarker]--):(cy._.arrows.startPath&&P[cy._.arrows.startPath]--,cy._.arrows.startMarker&&P[cy._.arrows.startMarker]--):cy._.arrows={},"none"!=q){var co="raphael-marker-"+q,cn="raphael-marker-"+cm+q+o+l;a6._g.doc.getElementById(co)?P[co]++:(cp.defs.appendChild(N(N("path"),{"stroke-linecap":"round",d:Q[q],id:co})),P[co]=1);var cl,cj=a6._g.doc.getElementById(cn);cj?(P[cn]++,cl=cj.getElementsByTagName("use")[0]):(cj=N(N("marker"),{id:cn,markerHeight:l,markerWidth:o,orient:"auto",refX:cs,refY:l/2}),cl=N(N("use"),{"xlink:href":"#"+co,transform:(cw?"rotate(180 "+o/2+" "+l/2+") ":T)+"scale("+o/b+","+l/b+")","stroke-width":(1/((o/b+l/b)/2)).toFixed(4)}),cj.appendChild(cl),cp.defs.appendChild(cj),P[cn]=1),N(cl,cr);var ch=ct*("diamond"!=q&&"oval"!=q);cw?(cv=cy._.arrows.startdx*cg||0,cu=a6.getTotalLength(ci.path)-ch*cg):(cv=ch*cg,cu=a6.getTotalLength(ci.path)-(cy._.arrows.enddx*cg||0)),cr={},cr["marker-"+cm]="url(#"+cn+")",(cu||cv)&&(cr.d=a6.getSubpath(ci.path,cv,cu)),N(ck,cr),cy._.arrows[cm+"Path"]=co,cy._.arrows[cm+"Marker"]=cn,cy._.arrows[cm+"dx"]=ch,cy._.arrows[cm+"Type"]=q,cy._.arrows[cm+"String"]=cx}else{cw?(cv=cy._.arrows.startdx*cg||0,cu=a6.getTotalLength(ci.path)-cv):(cv=0,cu=a6.getTotalLength(ci.path)-(cy._.arrows.enddx*cg||0)),cy._.arrows[cm+"Path"]&&N(ck,{d:a6.getSubpath(ci.path,cv,cu)}),delete cy._.arrows[cm+"Path"],delete cy._.arrows[cm+"Marker"],delete cy._.arrows[cm+"dx"],delete cy._.arrows[cm+"Type"],delete cy._.arrows[cm+"String"]}for(cr in P){if(P[bc](cr)&&!P[cr]){var cc=a6._g.doc.getElementById(cr);cc&&cc.parentNode.removeChild(cc)}}}},H={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},G=function(b,n,m){if(n=H[bb(n).toLowerCase()]){for(var l=b.attrs["stroke-width"]||"1",k={round:l,square:l,butt:0}[b.attrs["stroke-linecap"]||m["stroke-linecap"]]||0,j=[],i=n.length;i--;){j[i]=n[i]*l+(i%2?1:-1)*k}N(b.node,{"stroke-dasharray":j.join(",")})}},F=function(cm,cl){var ck=cm.node,cj=cm.attrs,ci=ck.style.visibility;ck.style.visibility="hidden";for(var ch in cl){if(cl[bc](ch)){if(!a6._availableAttrs[bc](ch)){continue}var cg=cl[ch];switch(cj[ch]=cg,ch){case"blur":cm.blur(cg);break;case"href":case"title":var r=N("title"),l=a6._g.doc.createTextNode(cg);r.appendChild(l),ck.appendChild(r);break;case"target":var h=ck.parentNode;if("a"!=h.tagName.toLowerCase()){var r=N("a");h.insertBefore(r,ck),r.appendChild(ck),h=r}"target"==ch?h.setAttributeNS(R,"show","blank"==cg?"new":cg):h.setAttributeNS(R,ch,cg);break;case"cursor":ck.style.cursor=cg;break;case"transform":cm.transform(cg);break;case"arrow-start":I(cm,cg);break;case"arrow-end":I(cm,cg,1);break;case"clip-rect":var b=bb(cg).split(V);if(4==b.length){cm.clip&&cm.clip.parentNode.parentNode.removeChild(cm.clip.parentNode);var cc=N("clipPath"),cb=N("rect");cc.id=a6.createUUID(),N(cb,{x:b[0],y:b[1],width:b[2],height:b[3]}),cc.appendChild(cb),cm.paper.defs.appendChild(cc),N(ck,{"clip-path":"url(#"+cc.id+")"}),cm.clip=cb}if(!cg){var y=ck.getAttribute("clip-path");if(y){var v=a6._g.doc.getElementById(y.replace(/(^url\(#|\)$)/g,T));v&&v.parentNode.removeChild(v),N(ck,{"clip-path":T}),delete cm.clip}}break;case"path":"path"==cm.type&&(N(ck,{d:cg?cj.path=a6._pathToAbsolute(cg):"M0,0"}),cm._.dirty=1,cm._.arrows&&("startString" in cm._.arrows&&I(cm,cm._.arrows.startString),"endString" in cm._.arrows&&I(cm,cm._.arrows.endString,1)));break;case"width":if(ck.setAttribute(ch,cg),cm._.dirty=1,!cj.fx){break}ch="x",cg=cj.x;case"x":cj.fx&&(cg=-cj.x-(cj.width||0));case"rx":if("rx"==ch&&"rect"==cm.type){break}case"cx":ck.setAttribute(ch,cg),cm.pattern&&J(cm),cm._.dirty=1;break;case"height":if(ck.setAttribute(ch,cg),cm._.dirty=1,!cj.fy){break}ch="y",cg=cj.y;case"y":cj.fy&&(cg=-cj.y-(cj.height||0));case"ry":if("ry"==ch&&"rect"==cm.type){break}case"cy":ck.setAttribute(ch,cg),cm.pattern&&J(cm),cm._.dirty=1;break;case"r":"rect"==cm.type?N(ck,{rx:cg,ry:cg}):ck.setAttribute(ch,cg),cm._.dirty=1;break;case"src":"image"==cm.type&&ck.setAttributeNS(R,"href",cg);break;case"stroke-width":(1!=cm._.sx||1!=cm._.sy)&&(cg/=Y(X(cm._.sx),X(cm._.sy))||1),cm.paper._vbSize&&(cg*=cm.paper._vbSize),ck.setAttribute(ch,cg),cj["stroke-dasharray"]&&G(cm,cj["stroke-dasharray"],cl),cm._.arrows&&("startString" in cm._.arrows&&I(cm,cm._.arrows.startString),"endString" in cm._.arrows&&I(cm,cm._.arrows.endString,1));break;case"stroke-dasharray":G(cm,cg,cl);break;case"fill":var s=bb(cg).match(a6._ISURL);if(s){cc=N("pattern");var q=N("image");cc.id=a6.createUUID(),N(cc,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),N(q,{x:0,y:0,"xlink:href":s[1]}),cc.appendChild(q),function(d){a6._preload(s[1],function(){var f=this.offsetWidth,i=this.offsetHeight;N(d,{width:f,height:i}),N(q,{width:f,height:i}),cm.paper.safari()})}(cc),cm.paper.defs.appendChild(cc),N(ck,{fill:"url(#"+cc.id+")"}),cm.pattern=cc,cm.pattern&&J(cm);break}var n=a6.getRGB(cg);if(n.error){if(("circle"==cm.type||"ellipse"==cm.type||"r"!=bb(cg).charAt())&&L(cm,cg)){if("opacity" in cj||"fill-opacity" in cj){var j=a6._g.doc.getElementById(ck.getAttribute("fill").replace(/^url\(#|\)$/g,T));if(j){var g=j.getElementsByTagName("stop");N(g[g.length-1],{"stop-opacity":("opacity" in cj?cj.opacity:1)*("fill-opacity" in cj?cj["fill-opacity"]:1)})}}cj.gradient=cg,cj.fill="none";break}}else{delete cl.gradient,delete cj.gradient,!a6.is(cj.opacity,"undefined")&&a6.is(cl.opacity,"undefined")&&N(ck,{opacity:cj.opacity}),!a6.is(cj["fill-opacity"],"undefined")&&a6.is(cl["fill-opacity"],"undefined")&&N(ck,{"fill-opacity":cj["fill-opacity"]})}n[bc]("opacity")&&N(ck,{"fill-opacity":n.opacity>1?n.opacity/100:n.opacity});case"stroke":n=a6.getRGB(cg),ck.setAttribute(ch,n.hex),"stroke"==ch&&n[bc]("opacity")&&N(ck,{"stroke-opacity":n.opacity>1?n.opacity/100:n.opacity}),"stroke"==ch&&cm._.arrows&&("startString" in cm._.arrows&&I(cm,cm._.arrows.startString),"endString" in cm._.arrows&&I(cm,cm._.arrows.endString,1));break;case"gradient":("circle"==cm.type||"ellipse"==cm.type||"r"!=bb(cg).charAt())&&L(cm,cg);break;case"opacity":cj.gradient&&!cj[bc]("stroke-opacity")&&N(ck,{"stroke-opacity":cg>1?cg/100:cg});case"fill-opacity":if(cj.gradient){j=a6._g.doc.getElementById(ck.getAttribute("fill").replace(/^url\(#|\)$/g,T)),j&&(g=j.getElementsByTagName("stop"),N(g[g.length-1],{"stop-opacity":cg}));break}default:"font-size"==ch&&(cg=ab(cg,10)+"px");var e=ch.replace(/(\-.)/g,function(d){return d.substring(1).toUpperCase()});ck.style[e]=cg,cm._.dirty=1,ck.setAttribute(ch,cg)}}}D(cm,cl),ck.style.visibility=ci},E=1.2,D=function(A,z){if("text"==A.type&&(z[bc]("text")||z[bc]("font")||z[bc]("font-size")||z[bc]("x")||z[bc]("y"))){var y=A.attrs,x=A.node,w=x.firstChild?ab(a6._g.doc.defaultView.getComputedStyle(x.firstChild,T).getPropertyValue("font-size"),10):10;if(z[bc]("text")){for(y.text=z.text;x.firstChild;){x.removeChild(x.firstChild)}for(var v,u=bb(z.text).split("\n"),s=[],q=0,l=u.length;l>q;q++){v=N("tspan"),q&&N(v,{dy:w*E,x:y.x}),v.appendChild(a6._g.doc.createTextNode(u[q])),x.appendChild(v),s[q]=v}}else{for(s=x.getElementsByTagName("tspan"),q=0,l=s.length;l>q;q++){q?N(s[q],{dy:w*E,x:y.x}):N(s[0],{dy:0})}}N(x,{x:y.x,y:y.y}),A._.dirty=1;var e=A._getBBox(),b=y.y-(e.y+e.height/2);b&&a6.is(b,"finite")&&N(s[0],{dy:b})}},c=function(e,d){this[0]=this.node=e,e.raphael=!0,this.id=a6._oid++,e.raphaelid=this.id,this.matrix=a6.matrix(),this.realPath=null,this.paper=d,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!d.bottom&&(d.bottom=this),this.prev=d.top,d.top&&(d.top.next=this),d.top=this,this.next=null},O=a6.el;c.prototype=O,O.constructor=c,a6._engine.path=function(f,e){var h=N("path");e.canvas&&e.canvas.appendChild(h);var g=new c(h,e);return g.type="path",F(g,{fill:"none",stroke:"#000",path:f}),g},O.rotate=function(b,h,g){if(this.removed){return this}if(b=bb(b).split(V),b.length-1&&(h=ac(b[1]),g=ac(b[2])),b=ac(b[0]),null==g&&(h=g),null==h||null==g){var d=this.getBBox(1);h=d.x+d.width/2,g=d.y+d.height/2}return this.transform(this._.transform.concat([["r",b,h,g]])),this},O.scale=function(b,j,i,h){if(this.removed){return this}if(b=bb(b).split(V),b.length-1&&(j=ac(b[1]),i=ac(b[2]),h=ac(b[3])),b=ac(b[0]),null==j&&(j=b),null==h&&(i=h),null==i||null==h){var d=this.getBBox(1)}return i=null==i?d.x+d.width/2:i,h=null==h?d.y+d.height/2:h,this.transform(this._.transform.concat([["s",b,j,i,h]])),this},O.translate=function(b,d){return this.removed?this:(b=bb(b).split(V),b.length-1&&(d=ac(b[1])),b=ac(b[0])||0,d=+d||0,this.transform(this._.transform.concat([["t",b,d]])),this)},O.transform=function(f){var h=this._;if(null==f){return h.transform}if(a6._extractTransform(this,f),this.clip&&N(this.clip,{transform:this.matrix.invert()}),this.pattern&&J(this),this.node&&N(this.node,{transform:this.matrix}),1!=h.sx||1!=h.sy){var g=this.attrs[bc]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":g})}return this},O.hide=function(){return !this.removed&&this.paper.safari(this.node.style.display="none"),this},O.show=function(){return !this.removed&&this.paper.safari(this.node.style.display=""),this},O.remove=function(){if(!this.removed&&this.node.parentNode){var e=this.paper;e.__set__&&e.__set__.exclude(this),U.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),a6._tear(this,e),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var d in this){this[d]="function"==typeof this[d]?a6._removedFactory(d):null}this.removed=!0}},O._getBBox=function(){if("none"==this.node.style.display){this.show();var e=!0}var d={};try{d=this.node.getBBox()}catch(f){}finally{d=d||{}}return e&&this.hide(),d},O.attr=function(A,z){if(this.removed){return this}if(null==A){var y={};for(var x in this.attrs){this.attrs[bc](x)&&(y[x]=this.attrs[x])}return y.gradient&&"none"==y.fill&&(y.fill=y.gradient)&&delete y.gradient,y.transform=this._.transform,y}if(null==z&&a6.is(A,"string")){if("fill"==A&&"none"==this.attrs.fill&&this.attrs.gradient){return this.attrs.gradient}if("transform"==A){return this._.transform}for(var w=A.split(V),v={},u=0,s=w.length;s>u;u++){A=w[u],v[A]=A in this.attrs?this.attrs[A]:a6.is(this.paper.customAttributes[A],"function")?this.paper.customAttributes[A].def:a6._availableAttrs[A]}return s-1?v:v[w[0]]}if(null==z&&a6.is(A,"array")){for(v={},u=0,s=A.length;s>u;u++){v[A[u]]=this.attr(A[u])}return v}if(null!=z){var r={};r[A]=z}else{null!=A&&a6.is(A,"object")&&(r=A)}for(var q in r){U("raphael.attr."+q+"."+this.id,this,r[q])}for(q in this.paper.customAttributes){if(this.paper.customAttributes[bc](q)&&r[bc](q)&&a6.is(this.paper.customAttributes[q],"function")){var k=this.paper.customAttributes[q].apply(this,[].concat(r[q]));this.attrs[q]=r[q];for(var j in k){k[bc](j)&&(r[j]=k[j])}}}return F(this,r),this},O.toFront=function(){if(this.removed){return this}"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var b=this.paper;return b.top!=this&&a6._tofront(this,b),this},O.toBack=function(){if(this.removed){return this}var b=this.node.parentNode;"a"==b.tagName.toLowerCase()?b.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):b.firstChild!=this.node&&b.insertBefore(this.node,this.node.parentNode.firstChild),a6._toback(this,this.paper);this.paper;return this},O.insertAfter=function(e){if(this.removed){return this}var d=e.node||e[e.length-1].node;return d.nextSibling?d.parentNode.insertBefore(this.node,d.nextSibling):d.parentNode.appendChild(this.node),a6._insertafter(this,e,this.paper),this},O.insertBefore=function(e){if(this.removed){return this}var d=e.node||e[0].node;return d.parentNode.insertBefore(this.node,d),a6._insertbefore(this,e,this.paper),this},O.blur=function(g){var f=this;if(0!==+g){var i=N("filter"),h=N("feGaussianBlur");f.attrs.blur=g,i.id=a6.createUUID(),N(h,{stdDeviation:+g||1.5}),i.appendChild(h),f.paper.defs.appendChild(i),f._blur=i,N(f.node,{filter:"url(#"+i.id+")"})}else{f._blur&&(f._blur.parentNode.removeChild(f._blur),delete f._blur,delete f.attrs.blur),f.node.removeAttribute("filter")}return f},a6._engine.circle=function(h,g,l,k){var j=N("circle");h.canvas&&h.canvas.appendChild(j);var i=new c(j,h);return i.attrs={cx:g,cy:l,r:k,fill:"none",stroke:"#000"},i.type="circle",N(j,i.attrs),i},a6._engine.rect=function(j,i,q,o,n,m){var l=N("rect");j.canvas&&j.canvas.appendChild(l);var k=new c(l,j);return k.attrs={x:i,y:q,width:o,height:n,r:m||0,rx:m||0,ry:m||0,fill:"none",stroke:"#000"},k.type="rect",N(l,k.attrs),k},a6._engine.ellipse=function(i,h,n,m,l){var k=N("ellipse");i.canvas&&i.canvas.appendChild(k);var j=new c(k,i);return j.attrs={cx:h,cy:n,rx:m,ry:l,fill:"none",stroke:"#000"},j.type="ellipse",N(k,j.attrs),j},a6._engine.image=function(j,i,q,o,n,m){var l=N("image");N(l,{x:q,y:o,width:n,height:m,preserveAspectRatio:"none"}),l.setAttributeNS(R,"href",i),j.canvas&&j.canvas.appendChild(l);var k=new c(l,j);return k.attrs={x:q,y:o,width:n,height:m,src:i},k.type="image",k},a6._engine.text=function(i,h,m,l){var k=N("text");i.canvas&&i.canvas.appendChild(k);var j=new c(k,i);return j.attrs={x:h,y:m,"text-anchor":"middle",text:l,font:a6._availableAttrs.font,stroke:"none",fill:"#000"},j.type="text",F(j,j.attrs),j},a6._engine.setSize=function(e,d){return this.width=e||this.width,this.height=d||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},a6._engine.create=function(){var u=a6._getContainer.apply(0,arguments),s=u&&u.container,r=u.x,q=u.y,o=u.width,n=u.height;if(!s){throw new Error("SVG container not found.")}var m,l=N("svg"),k="overflow:hidden;";return r=r||0,q=q||0,o=o||512,n=n||342,N(l,{height:n,version:1.1,width:o,xmlns:"http://www.w3.org/2000/svg"}),1==s?(l.style.cssText=k+"position:absolute;left:"+r+"px;top:"+q+"px",a6._g.doc.body.appendChild(l),m=1):(l.style.cssText=k+"position:relative",s.firstChild?s.insertBefore(l,s.firstChild):s.appendChild(l)),s=new a6._Paper,s.width=o,s.height=n,s.canvas=l,s.clear(),s._left=s._top=0,m&&(s.renderfix=function(){}),s.renderfix(),s},a6._engine.setViewBox=function(v,u,s,r,q){U("raphael.setViewBox",this,this._viewBox,[v,u,s,r,q]);var o,n,m=Y(s/this.width,r/this.height),k=this.top,g=q?"meet":"xMinYMin";for(null==v?(this._vbSize&&(m=1),delete this._vbSize,o="0 0 "+this.width+S+this.height):(this._vbSize=m,o=v+S+u+S+s+S+r),N(this.canvas,{viewBox:o,preserveAspectRatio:g});m&&k;){n="stroke-width" in k.attrs?k.attrs["stroke-width"]:1,k.attr({"stroke-width":n}),k._.dirty=1,k._.dirtyT=1,k=k.prev}return this._viewBox=[v,u,s,r,!!q],this},a6.prototype.renderfix=function(){var h,g=this.canvas,l=g.style;try{h=g.getScreenCTM()||g.createSVGMatrix()}catch(k){h=g.createSVGMatrix()}var j=-h.e%1,i=-h.f%1;(j||i)&&(j&&(this._left=(this._left+j)%1,l.left=this._left+"px"),i&&(this._top=(this._top+i)%1,l.top=this._top+"px"))},a6.prototype.clear=function(){a6.eve("raphael.clear",this);for(var b=this.canvas;b.firstChild;){b.removeChild(b.firstChild)}this.bottom=this.top=null,(this.desc=N("desc")).appendChild(a6._g.doc.createTextNode("Created with Raphaël "+a6.version)),b.appendChild(this.desc),b.appendChild(this.defs=N("defs"))},a6.prototype.remove=function(){U("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this){this[b]="function"==typeof this[b]?a6._removedFactory(b):null}};var M=a6.st;for(var K in O){O[bc](K)&&!M[bc](K)&&(M[K]=function(b){return function(){var d=arguments;return this.forEach(function(e){e[b].apply(e,d)})}}(K))}}}(),function(){if(a6.vml){var cn="hasOwnProperty",cm=String,cl=parseFloat,ck=Math,cj=ck.round,ci=ck.max,ch=ck.min,cg=ck.abs,cc="fill",cb=/[, ]+/,bc=a6.eve,bb=" progid:DXImageTransform.Microsoft",ac=" ",ab="",Z={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},X=/([clmz]),?([^clmz]*)/gi,V=/ progid:\S+Blur\([^\)]+\)/g,T=/-?[^,\s-]+/g,R="position:absolute;left:0;top:0;width:1px;height:1px",P=21600,N={path:1,rect:1,image:1},L={circle:1,ellipse:1},J=function(y){var x=/[ahqstv]/gi,w=a6._pathToAbsolute;if(cm(y).match(x)&&(w=a6._path2curve),x=/[clmz]/g,w==a6._pathToAbsolute&&!cm(y).match(x)){var v=cm(y).replace(X,function(i,h,m){var l=[],k="m"==h.toLowerCase(),j=Z[h];return m.replace(T,function(d){k&&2==l.length&&(j+=l+Z["m"==h?"l":"L"],l=[]),l.push(cj(d*P))}),j+l});return v}var u,s,q=w(y);v=[];for(var o=0,n=q.length;n>o;o++){u=q[o],s=q[o][0].toLowerCase(),"z"==s&&(s="x");for(var f=1,b=u.length;b>f;f++){s+=cj(u[f]*P)+(f!=b-1?",":ab)}v.push(s)}return v.join(ac)},I=function(g,f,i){var h=a6.matrix();return h.rotate(-g,0.5,0.5),{dx:h.x(f,i),dy:h.y(f,i)}},c=function(F,E,D,C,B,A){var z=F._,y=F.matrix,x=z.fillpos,w=F.node,v=w.style,u=1,n="",j=P/E,i=P/D;if(v.visibility="hidden",E&&D){if(w.coordsize=cg(j)+ac+cg(i),v.rotation=A*(0>E*D?-1:1),A){var H=I(A,C,B);C=H.dx,B=H.dy}if(0>E&&(n+="x"),0>D&&(n+=" y")&&(u=-1),v.flip=n,w.coordorigin=C*-j+ac+B*-i,x||z.fillsize){var G=w.getElementsByTagName(cc);G=G&&G[0],w.removeChild(G),x&&(H=I(A,y.x(x[0],x[1]),y.y(x[0],x[1])),G.position=H.dx*u+ac+H.dy*u),z.fillsize&&(G.size=z.fillsize[0]*cg(E)+ac+z.fillsize[1]*cg(D)),w.appendChild(G)}v.visibility="visible"}};a6.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var Y=function(v,u,s){for(var r=cm(u).toLowerCase().split("-"),q=s?"end":"start",o=r.length,n="classic",m="medium",l="medium";o--;){switch(r[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":n=r[o];break;case"wide":case"narrow":l=r[o];break;case"long":case"short":m=r[o]}}var b=v.node.getElementsByTagName("stroke")[0];b[q+"arrow"]=n,b[q+"arrowlength"]=m,b[q+"arrowwidth"]=l},W=function(cE,cD){cE.attrs=cE.attrs||{};var cC=cE.node,cB=cE.attrs,cA=cC.style,cz=N[cE.type]&&(cD.x!=cB.x||cD.y!=cB.y||cD.width!=cB.width||cD.height!=cB.height||cD.cx!=cB.cx||cD.cy!=cB.cy||cD.rx!=cB.rx||cD.ry!=cB.ry||cD.r!=cB.r),cx=L[cE.type]&&(cB.cx!=cD.cx||cB.cy!=cD.cy||cB.r!=cD.r||cB.rx!=cD.rx||cB.ry!=cD.ry),cv=cE;for(var cu in cD){cD[cn](cu)&&(cB[cu]=cD[cu])}if(cz&&(cB.path=a6._getPath[cE.type](cE),cE._.dirty=1),cD.href&&(cC.href=cD.href),cD.title&&(cC.title=cD.title),cD.target&&(cC.target=cD.target),cD.cursor&&(cA.cursor=cD.cursor),"blur" in cD&&cE.blur(cD.blur),(cD.path&&"path"==cE.type||cz)&&(cC.path=J(~cm(cB.path).toLowerCase().indexOf("r")?a6._pathToAbsolute(cB.path):cB.path),"image"==cE.type&&(cE._.fillpos=[cB.x,cB.y],cE._.fillsize=[cB.width,cB.height],c(cE,1,1,0,0,0))),"transform" in cD&&cE.transform(cD.transform),cx){var cp=+cB.cx,cy=+cB.cy,cw=+cB.rx||+cB.r||0,ct=+cB.ry||+cB.r||0;cC.path=a6.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",cj((cp-cw)*P),cj((cy-ct)*P),cj((cp+cw)*P),cj((cy+ct)*P),cj(cp*P)),cE._.dirty=1}if("clip-rect" in cD){var cs=cm(cD["clip-rect"]).split(cb);if(4==cs.length){cs[2]=+cs[2]+ +cs[0],cs[3]=+cs[3]+ +cs[1];var cr=cC.clipRect||a6._g.doc.createElement("div"),cq=cr.style;cq.clip=a6.format("rect({1}px {2}px {3}px {0}px)",cs),cC.clipRect||(cq.position="absolute",cq.top=0,cq.left=0,cq.width=cE.paper.width+"px",cq.height=cE.paper.height+"px",cC.parentNode.insertBefore(cr,cC),cr.appendChild(cC),cC.clipRect=cr)}cD["clip-rect"]||cC.clipRect&&(cC.clipRect.style.clip="auto")}if(cE.textpath){var co=cE.textpath.style;cD.font&&(co.font=cD.font),cD["font-family"]&&(co.fontFamily='"'+cD["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,ab)+'"'),cD["font-size"]&&(co.fontSize=cD["font-size"]),cD["font-weight"]&&(co.fontWeight=cD["font-weight"]),cD["font-style"]&&(co.fontStyle=cD["font-style"])}if("arrow-start" in cD&&Y(cv,cD["arrow-start"]),"arrow-end" in cD&&Y(cv,cD["arrow-end"],1),null!=cD.opacity||null!=cD["stroke-width"]||null!=cD.fill||null!=cD.src||null!=cD.stroke||null!=cD["stroke-width"]||null!=cD["stroke-opacity"]||null!=cD["fill-opacity"]||null!=cD["stroke-dasharray"]||null!=cD["stroke-miterlimit"]||null!=cD["stroke-linejoin"]||null!=cD["stroke-linecap"]){var F=cC.getElementsByTagName(cc),C=!1;if(F=F&&F[0],!F&&(C=F=O(cc)),"image"==cE.type&&cD.src&&(F.src=cD.src),cD.fill&&(F.on=!0),(null==F.on||"none"==cD.fill||null===cD.fill)&&(F.on=!1),F.on&&cD.fill){var A=cm(cD.fill).match(a6._ISURL);if(A){F.parentNode==cC&&cC.removeChild(F),F.rotate=!0,F.src=A[1],F.type="tile";var z=cE.getBBox(1);F.position=z.x+ac+z.y,cE._.fillpos=[z.x,z.y],a6._preload(A[1],function(){cE._.fillsize=[this.offsetWidth,this.offsetHeight]})}else{F.color=a6.getRGB(cD.fill).hex,F.src=ab,F.type="solid",a6.getRGB(cD.fill).error&&(cv.type in {circle:1,ellipse:1}||"r"!=cm(cD.fill).charAt())&&U(cv,cD.fill,F)&&(cB.fill="none",cB.gradient=cD.fill,F.rotate=!1)}}if("fill-opacity" in cD||"opacity" in cD){var x=((+cB["fill-opacity"]+1||2)-1)*((+cB.opacity+1||2)-1)*((+a6.getRGB(cD.fill).o+1||2)-1);x=ch(ci(x,0),1),F.opacity=x,F.src&&(F.color="none")}cC.appendChild(F);var w=cC.getElementsByTagName("stroke")&&cC.getElementsByTagName("stroke")[0],v=!1;!w&&(v=w=O("stroke")),(cD.stroke&&"none"!=cD.stroke||cD["stroke-width"]||null!=cD["stroke-opacity"]||cD["stroke-dasharray"]||cD["stroke-miterlimit"]||cD["stroke-linejoin"]||cD["stroke-linecap"])&&(w.on=!0),("none"==cD.stroke||null===cD.stroke||null==w.on||0==cD.stroke||0==cD["stroke-width"])&&(w.on=!1);var u=a6.getRGB(cD.stroke);w.on&&cD.stroke&&(w.color=u.hex),x=((+cB["stroke-opacity"]+1||2)-1)*((+cB.opacity+1||2)-1)*((+u.o+1||2)-1);var o=0.75*(cl(cD["stroke-width"])||1);if(x=ch(ci(x,0),1),null==cD["stroke-width"]&&(o=cB["stroke-width"]),cD["stroke-width"]&&(w.weight=o),o&&1>o&&(x*=o)&&(w.weight=1),w.opacity=x,cD["stroke-linejoin"]&&(w.joinstyle=cD["stroke-linejoin"]||"miter"),w.miterlimit=cD["stroke-miterlimit"]||8,cD["stroke-linecap"]&&(w.endcap="butt"==cD["stroke-linecap"]?"flat":"square"==cD["stroke-linecap"]?"square":"round"),"stroke-dasharray" in cD){var k={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};w.dashstyle=k[cn](cD["stroke-dasharray"])?k[cD["stroke-dasharray"]]:ab}v&&cC.appendChild(w)}if("text"==cv.type){cv.paper.canvas.style.display=ab;var j=cv.paper.span,h=100,g=cB.font&&cB.font.match(/\d+(?:\.\d*)?(?=px)/);cA=j.style,cB.font&&(cA.font=cB.font),cB["font-family"]&&(cA.fontFamily=cB["font-family"]),cB["font-weight"]&&(cA.fontWeight=cB["font-weight"]),cB["font-style"]&&(cA.fontStyle=cB["font-style"]),g=cl(cB["font-size"]||g&&g[0])||10,cA.fontSize=g*h+"px",cv.textpath.string&&(j.innerHTML=cm(cv.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var f=j.getBoundingClientRect();cv.W=cB.w=(f.right-f.left)/h,cv.H=cB.h=(f.bottom-f.top)/h,cv.X=cB.x,cv.Y=cB.y+cv.H/2,("x" in cD||"y" in cD)&&(cv.path.v=a6.format("m{0},{1}l{2},{1}",cj(cB.x*P),cj(cB.y*P),cj(cB.x*P)+1));for(var d=["x","y","text","font","font-family","font-weight","font-style","font-size"],b=0,n=d.length;n>b;b++){if(d[b] in cD){cv._.dirty=1;break}}switch(cB["text-anchor"]){case"start":cv.textpath.style["v-text-align"]="left",cv.bbx=cv.W/2;break;case"end":cv.textpath.style["v-text-align"]="right",cv.bbx=-cv.W/2;break;default:cv.textpath.style["v-text-align"]="center",cv.bbx=0}cv.textpath.style["v-text-kern"]=!0}},U=function(x,w,v){x.attrs=x.attrs||{};var u=(x.attrs,Math.pow),s="linear",r=".5 .5";if(x.attrs.gradient=w,w=cm(w).replace(a6._radial_gradient,function(g,f,h){return s="radial",f&&h&&(f=cl(f),h=cl(h),u(f-0.5,2)+u(h-0.5,2)>0.25&&(h=ck.sqrt(0.25-u(f-0.5,2))*(2*(h>0.5)-1)+0.5),r=f+ac+h),ab}),w=w.split(/\s*\-\s*/),"linear"==s){var o=w.shift();if(o=-cl(o),isNaN(o)){return null}}var n=a6._parseDots(w);if(!n){return null}if(x=x.shape||x.node,n.length){x.removeChild(v),v.on=!0,v.method="none",v.color=n[0].color,v.color2=n[n.length-1].color;for(var e=[],d=0,b=n.length;b>d;d++){n[d].offset&&e.push(n[d].offset+ac+n[d].color)}v.colors=e.length?e.join():"0% "+v.color,"radial"==s?(v.type="gradientTitle",v.focus="100%",v.focussize="0 0",v.focusposition=r,v.angle=0):(v.type="gradient",v.angle=(270-o)%360),x.appendChild(v)}return 1},S=function(e,d){this[0]=this.node=e,e.raphael=!0,this.id=a6._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=d,this.matrix=a6.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!d.bottom&&(d.bottom=this),this.prev=d.top,d.top&&(d.top.next=this),d.top=this,this.next=null},Q=a6.el;S.prototype=Q,Q.constructor=S,Q.transform=function(D){if(null==D){return this._.transform}var C,B=this.paper._viewBoxShift,A=B?"s"+[B.scale,B.scale]+"-1-1t"+[B.dx,B.dy]:ab;B&&(C=D=cm(D).replace(/\.{3}|\u2026/g,this._.transform||ab)),a6._extractTransform(this,A+D);var z,y=this.matrix.clone(),x=this.skew,w=this.node,v=~cm(this.attrs.fill).indexOf("-"),u=!cm(this.attrs.fill).indexOf("url(");if(y.translate(1,1),u||v||"image"==this.type){if(x.matrix="1 0 0 1",x.offset="0 0",z=y.split(),v&&z.noRotation||!z.isSimple){w.style.filter=y.toFilter();var s=this.getBBox(),o=this.getBBox(1),n=s.x-o.x,b=s.y-o.y;w.coordorigin=n*-P+ac+b*-P,c(this,1,1,n,b,0)}else{w.style.filter=ab,c(this,z.scalex,z.scaley,z.dx,z.dy,z.rotate)}}else{w.style.filter=ab,x.matrix=cm(y),x.offset=y.offset()}return C&&(this._.transform=C),this},Q.rotate=function(b,h,g){if(this.removed){return this}if(null!=b){if(b=cm(b).split(cb),b.length-1&&(h=cl(b[1]),g=cl(b[2])),b=cl(b[0]),null==g&&(h=g),null==h||null==g){var d=this.getBBox(1);h=d.x+d.width/2,g=d.y+d.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",b,h,g]])),this}},Q.translate=function(b,d){return this.removed?this:(b=cm(b).split(cb),b.length-1&&(d=cl(b[1])),b=cl(b[0])||0,d=+d||0,this._.bbox&&(this._.bbox.x+=b,this._.bbox.y+=d),this.transform(this._.transform.concat([["t",b,d]])),this)},Q.scale=function(b,j,i,h){if(this.removed){return this}if(b=cm(b).split(cb),b.length-1&&(j=cl(b[1]),i=cl(b[2]),h=cl(b[3]),isNaN(i)&&(i=null),isNaN(h)&&(h=null)),b=cl(b[0]),null==j&&(j=b),null==h&&(i=h),null==i||null==h){var d=this.getBBox(1)}return i=null==i?d.x+d.width/2:i,h=null==h?d.y+d.height/2:h,this.transform(this._.transform.concat([["s",b,j,i,h]])),this._.dirtyT=1,this},Q.hide=function(){return !this.removed&&(this.node.style.display="none"),this},Q.show=function(){return !this.removed&&(this.node.style.display=ab),this},Q._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},Q.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),a6.eve.unbind("raphael.*.*."+this.id),a6._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this){this[b]="function"==typeof this[b]?a6._removedFactory(b):null}this.removed=!0}},Q.attr=function(A,z){if(this.removed){return this}if(null==A){var y={};for(var x in this.attrs){this.attrs[cn](x)&&(y[x]=this.attrs[x])}return y.gradient&&"none"==y.fill&&(y.fill=y.gradient)&&delete y.gradient,y.transform=this._.transform,y}if(null==z&&a6.is(A,"string")){if(A==cc&&"none"==this.attrs.fill&&this.attrs.gradient){return this.attrs.gradient}for(var w=A.split(cb),v={},u=0,s=w.length;s>u;u++){A=w[u],v[A]=A in this.attrs?this.attrs[A]:a6.is(this.paper.customAttributes[A],"function")?this.paper.customAttributes[A].def:a6._availableAttrs[A]}return s-1?v:v[w[0]]}if(this.attrs&&null==z&&a6.is(A,"array")){for(v={},u=0,s=A.length;s>u;u++){v[A[u]]=this.attr(A[u])}return v}var r;null!=z&&(r={},r[A]=z),null==z&&a6.is(A,"object")&&(r=A);for(var l in r){bc("raphael.attr."+l+"."+this.id,this,r[l])}if(r){for(l in this.paper.customAttributes){if(this.paper.customAttributes[cn](l)&&r[cn](l)&&a6.is(this.paper.customAttributes[l],"function")){var k=this.paper.customAttributes[l].apply(this,[].concat(r[l]));this.attrs[l]=r[l];for(var j in k){k[cn](j)&&(r[j]=k[j])}}}r.text&&"text"==this.type&&(this.textpath.string=r.text),W(this,r)}return this},Q.toFront=function(){return !this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&a6._tofront(this,this.paper),this},Q.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),a6._toback(this,this.paper)),this)},Q.insertAfter=function(b){return this.removed?this:(b.constructor==a6.st.constructor&&(b=b[b.length-1]),b.node.nextSibling?b.node.parentNode.insertBefore(this.node,b.node.nextSibling):b.node.parentNode.appendChild(this.node),a6._insertafter(this,b,this.paper),this)},Q.insertBefore=function(b){return this.removed?this:(b.constructor==a6.st.constructor&&(b=b[0]),b.node.parentNode.insertBefore(this.node,b.node),a6._insertbefore(this,b,this.paper),this)},Q.blur=function(f){var e=this.node.runtimeStyle,g=e.filter;return g=g.replace(V,ab),0!==+f?(this.attrs.blur=f,e.filter=g+ac+bb+".Blur(pixelradius="+(+f||1.5)+")",e.margin=a6.format("-{0}px 0 0 -{0}px",cj(+f||1.5))):(e.filter=g,e.margin=0,delete this.attrs.blur),this},a6._engine.path=function(h,g){var l=O("shape");l.style.cssText=R,l.coordsize=P+ac+P,l.coordorigin=g.coordorigin;var k=new S(l,g),j={fill:"none",stroke:"#000"};h&&(j.path=h),k.type="path",k.path=[],k.Path=ab,W(k,j),g.canvas.appendChild(l);var i=O("skew");return i.on=!0,l.appendChild(i),k.skew=i,k.transform(ab),k},a6._engine.rect=function(u,s,r,q,o,n){var m=a6._rectPath(s,r,q,o,n),l=u.path(m),k=l.attrs;return l.X=k.x=s,l.Y=k.y=r,l.W=k.width=q,l.H=k.height=o,k.r=n,k.path=m,l.type="rect",l},a6._engine.ellipse=function(h,g,l,k,j){var i=h.path();i.attrs;return i.X=g-k,i.Y=l-j,i.W=2*k,i.H=2*j,i.type="ellipse",W(i,{cx:g,cy:l,rx:k,ry:j}),i},a6._engine.circle=function(g,f,j,i){var h=g.path();h.attrs;return h.X=f-i,h.Y=j-i,h.W=h.H=2*i,h.type="circle",W(h,{cx:f,cy:j,r:i}),h},a6._engine.image=function(y,x,w,v,u,s){var r=a6._rectPath(w,v,u,s),q=y.path(r).attr({stroke:"none"}),o=q.attrs,n=q.node,j=n.getElementsByTagName(cc)[0];return o.src=x,q.X=o.x=w,q.Y=o.y=v,q.W=o.width=u,q.H=o.height=s,o.path=r,q.type="image",j.parentNode==n&&n.removeChild(j),j.rotate=!0,j.src=x,j.type="tile",q._.fillpos=[w,v],q._.fillsize=[u,s],n.appendChild(j),c(q,1,1,0,0,0),q},a6._engine.text=function(w,v,u,s){var r=O("shape"),q=O("path"),o=O("textpath");v=v||0,u=u||0,s=s||"",q.v=a6.format("m{0},{1}l{2},{1}",cj(v*P),cj(u*P),cj(v*P)+1),q.textpathok=!0,o.string=cm(s),o.on=!0,r.style.cssText=R,r.coordsize=P+ac+P,r.coordorigin="0 0";var n=new S(r,w),f={fill:"#000",stroke:"none",font:a6._availableAttrs.font,text:s};n.shape=r,n.path=q,n.textpath=o,n.type="text",n.attrs.text=cm(s),n.attrs.x=v,n.attrs.y=u,n.attrs.w=1,n.attrs.h=1,W(n,f),r.appendChild(o),r.appendChild(q),w.canvas.appendChild(r);var b=O("skew");return b.on=!0,r.appendChild(b),n.skew=b,n.transform(ab),n},a6._engine.setSize=function(f,e){var g=this.canvas.style;return this.width=f,this.height=e,f==+f&&(f+="px"),e==+e&&(e+="px"),g.width=f,g.height=e,g.clip="rect(0 "+f+" "+e+" 0)",this._viewBox&&a6._engine.setViewBox.apply(this,this._viewBox),this},a6._engine.setViewBox=function(w,v,u,s,r){a6.eve("raphael.setViewBox",this,this._viewBox,[w,v,u,s,r]);var q,o,n=this.width,m=this.height,g=1/ci(u/n,s/m);return r&&(q=m/s,o=n/u,n>u*q&&(w-=(n-u*q)/2/q),m>s*o&&(v-=(m-s*o)/2/o)),this._viewBox=[w,v,u,s,!!r],this._viewBoxShift={dx:-w,dy:-v,scale:g},this.forEach(function(b){b.transform("...")}),this};var O;a6._engine.initWin=function(e){var d=e.document;d.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!d.namespaces.rvml&&d.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),O=function(b){return d.createElement("<rvml:"+b+' class="rvml">')}}catch(f){O=function(b){return d.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},a6._engine.initWin(a6._g.win),a6._engine.create=function(){var u=a6._getContainer.apply(0,arguments),s=u.container,r=u.height,q=u.width,o=u.x,n=u.y;if(!s){throw new Error("VML container not found.")}var m=new a6._Paper,l=m.canvas=a6._g.doc.createElement("div"),k=l.style;return o=o||0,n=n||0,q=q||512,r=r||342,m.width=q,m.height=r,q==+q&&(q+="px"),r==+r&&(r+="px"),m.coordsize=1000*P+ac+1000*P,m.coordorigin="0 0",m.span=a6._g.doc.createElement("span"),m.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(m.span),k.cssText=a6.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",q,r),1==s?(a6._g.doc.body.appendChild(l),k.left=o+"px",k.top=n+"px",k.position="absolute"):s.firstChild?s.insertBefore(l,s.firstChild):s.appendChild(l),m.renderfix=function(){},m},a6.prototype.clear=function(){a6.eve("raphael.clear",this),this.canvas.innerHTML=ab,this.span=a6._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},a6.prototype.remove=function(){a6.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var b in this){this[b]="function"==typeof this[b]?a6._removedFactory(b):null}return !0};var M=a6.st;for(var K in Q){Q[cn](K)&&!M[cn](K)&&(M[K]=function(b){return function(){var d=arguments;return this.forEach(function(e){e[b].apply(e,d)})}}(K))}}}(),bM.was?bO.win.Raphael=a6:Raphael=a6,a6});(function(){var d,f,b,i,e=[].slice,g=function(k,l){return function(){return k.apply(l,arguments)}},h={}.hasOwnProperty,c=function(n,l){for(var k in l){if(h.call(l,k)){n[k]=l[k]}}function m(){this.constructor=n}m.prototype=l.prototype;n.prototype=new m();n.__super__=l.prototype;return n},j=[].indexOf||function(n){for(var m=0,k=this.length;m<k;m++){if(m in this&&this[m]===n){return m}}return -1};f=window.Morris={};d=jQuery;f.EventEmitter=(function(){function k(){}k.prototype.on=function(l,m){if(this.handlers==null){this.handlers={}}if(this.handlers[l]==null){this.handlers[l]=[]}this.handlers[l].push(m);return this};k.prototype.fire=function(){var o,q,n,s,m,r,l;n=arguments[0],o=2<=arguments.length?e.call(arguments,1):[];if((this.handlers!=null)&&(this.handlers[n]!=null)){r=this.handlers[n];l=[];for(s=0,m=r.length;s<m;s++){q=r[s];l.push(q.apply(null,o))}return l}};return k})();f.commas=function(m){var n,l,k,o;if(m!=null){k=m<0?"-":"";n=Math.abs(m);l=Math.floor(n).toFixed(0);k+=l.replace(/(?=(?:\d{3})+$)(?!^)/g,",");o=n.toString();if(o.length>l.length){k+=o.slice(l.length)}return k}else{return"-"}};f.pad2=function(k){return(k<10?"0":"")+k};f.Grid=(function(l){c(k,l);function k(m){this.resizeHandler=g(this.resizeHandler,this);var n=this;if(typeof m.element==="string"){this.el=d(document.getElementById(m.element))}else{this.el=d(m.element)}if((this.el==null)||this.el.length===0){throw new Error("Graph container element not found")}if(this.el.css("position")==="static"){this.el.css("position","relative")}this.options=d.extend({},this.gridDefaults,this.defaults||{},m);if(typeof this.options.units==="string"){this.options.postUnits=m.units}this.raphael=new Raphael(this.el[0]);this.elementWidth=null;this.elementHeight=null;this.dirty=false;this.selectFrom=null;if(this.init){this.init()}this.setData(this.options.data);this.el.bind("mousemove",function(q){var u,v,r,s,o;v=n.el.offset();o=q.pageX-v.left;if(n.selectFrom){u=n.data[n.hitTest(Math.min(o,n.selectFrom))]._x;r=n.data[n.hitTest(Math.max(o,n.selectFrom))]._x;s=r-u;return n.selectionRect.attr({x:u,width:s})}else{return n.fire("hovermove",o,q.pageY-v.top)}});this.el.bind("mouseleave",function(o){if(n.selectFrom){n.selectionRect.hide();n.selectFrom=null}return n.fire("hoverout")});this.el.bind("touchstart touchmove touchend",function(o){var q,r;r=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];q=n.el.offset();n.fire("hover",r.pageX-q.left,r.pageY-q.top);return r});this.el.bind("click",function(o){var q;q=n.el.offset();return n.fire("gridclick",o.pageX-q.left,o.pageY-q.top)});if(this.options.rangeSelect){this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:false}).toBack().hide();this.el.bind("mousedown",function(o){var q;q=n.el.offset();return n.startRange(o.pageX-q.left)});this.el.bind("mouseup",function(o){var q;q=n.el.offset();n.endRange(o.pageX-q.left);return n.fire("hovermove",o.pageX-q.left,o.pageY-q.top)})}if(this.options.resize){d(window).bind("resize",function(o){if(n.timeoutId!=null){window.clearTimeout(n.timeoutId)}return n.timeoutId=window.setTimeout(n.resizeHandler,100)})}if(this.postInit){this.postInit()}}k.prototype.gridDefaults={dateFormat:null,axes:true,grid:true,gridLineColor:"#aaa",gridStrokeWidth:0.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:false,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:true,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:false};k.prototype.setData=function(r,D){var u,C,s,x,E,v,F,n,A,z,o,m,B,w,q;if(D==null){D=true}this.options.data=r;if((r==null)||r.length===0){this.data=[];this.raphael.clear();if(this.hover!=null){this.hover.hide()}return}m=this.cumulative?0:null;B=this.cumulative?0:null;if(this.options.goals.length>0){E=Math.min.apply(Math,this.options.goals);x=Math.max.apply(Math,this.options.goals);B=B!=null?Math.min(B,E):E;m=m!=null?Math.max(m,x):x}this.data=(function(){var H,G,y;y=[];for(s=H=0,G=r.length;H<G;s=++H){F=r[s];v={src:F};v.label=F[this.options.xkey];if(this.options.parseTime){v.x=f.parseDate(v.label);if(this.options.dateFormat){v.label=this.options.dateFormat(v.x)}else{if(typeof v.label==="number"){v.label=new Date(v.label).toString()}}}else{v.x=s;if(this.options.xLabelFormat){v.label=this.options.xLabelFormat(v)}}A=0;v.y=(function(){var K,I,L,J;L=this.options.ykeys;J=[];for(C=K=0,I=L.length;K<I;C=++K){o=L[C];w=F[o];if(typeof w==="string"){w=parseFloat(w)}if((w!=null)&&typeof w!=="number"){w=null}if(w!=null){if(this.cumulative){A+=w}else{if(m!=null){m=Math.max(w,m);B=Math.min(w,B)}else{m=B=w}}}if(this.cumulative&&(A!=null)){m=Math.max(A,m);B=Math.min(A,B)}J.push(w)}return J}).call(this);y.push(v)}return y}).call(this);if(this.options.parseTime){this.data=this.data.sort(function(G,y){return(G.x>y.x)-(y.x>G.x)})}this.xmin=this.data[0].x;this.xmax=this.data[this.data.length-1].x;this.events=[];if(this.options.events.length>0){if(this.options.parseTime){this.events=(function(){var I,G,H,y;H=this.options.events;y=[];for(I=0,G=H.length;I<G;I++){u=H[I];y.push(f.parseDate(u))}return y}).call(this)}else{this.events=this.options.events}this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events));this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))}if(this.xmin===this.xmax){this.xmin-=1;this.xmax+=1}this.ymin=this.yboundary("min",B);this.ymax=this.yboundary("max",m);if(this.ymin===this.ymax){if(B){this.ymin-=1}this.ymax+=1}if(((q=this.options.axes)===true||q==="both"||q==="y")||this.options.grid===true){if(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin){this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines);this.ymin=Math.min(this.ymin,this.grid[0]);this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])}else{n=(this.ymax-this.ymin)/(this.options.numLines-1);this.grid=(function(){var H,y,I,G;G=[];for(z=H=y=this.ymin,I=this.ymax;n>0?H<=I:H>=I;z=H+=n){G.push(z)}return G}).call(this)}}this.dirty=true;if(D){return this.redraw()}};k.prototype.yboundary=function(q,n){var o,m;o=this.options["y"+q];if(typeof o==="string"){if(o.slice(0,4)==="auto"){if(o.length>5){m=parseInt(o.slice(5),10);if(n==null){return m}return Math[q](n,m)}else{if(n!=null){return n}else{return 0}}}else{return parseInt(o,10)}}else{return o}};k.prototype.autoGridLines=function(x,n,u){var z,r,m,q,w,o,v,s,A;w=n-x;A=Math.floor(Math.log(w)/Math.log(10));v=Math.pow(10,A);r=Math.floor(x/v)*v;z=Math.ceil(n/v)*v;o=(z-r)/(u-1);if(v===1&&o>1&&Math.ceil(o)!==o){o=Math.ceil(o);z=r+o*(u-1)}if(r<0&&z>0){r=Math.floor(x/o)*o;z=Math.ceil(n/o)*o}if(o<1){q=Math.floor(Math.log(o)/Math.log(10));m=(function(){var B,y;y=[];for(s=B=r;o>0?B<=z:B>=z;s=B+=o){y.push(parseFloat(s.toFixed(1-q)))}return y})()}else{m=(function(){var B,y;y=[];for(s=B=r;o>0?B<=z:B>=z;s=B+=o){y.push(s)}return y})()}return m};k.prototype._calc=function(){var v,u,r,q,n,o,s,m;n=this.el.width();r=this.el.height();if(this.elementWidth!==n||this.elementHeight!==r||this.dirty){this.elementWidth=n;this.elementHeight=r;this.dirty=false;this.left=this.options.padding;this.right=this.elementWidth-this.options.padding;this.top=this.options.padding;this.bottom=this.elementHeight-this.options.padding;if((s=this.options.axes)===true||s==="both"||s==="y"){o=(function(){var z,y,w,x;w=this.grid;x=[];for(z=0,y=w.length;z<y;z++){u=w[z];x.push(this.measureText(this.yAxisFormat(u)).width)}return x}).call(this);this.left+=Math.max.apply(Math,o)}if((m=this.options.axes)===true||m==="both"||m==="x"){v=(function(){var x,y,w;w=[];for(q=x=0,y=this.data.length;0<=y?x<y:x>y;q=0<=y?++x:--x){w.push(this.measureText(this.data[q].text,-this.options.xLabelAngle).height)}return w}).call(this);this.bottom-=Math.max.apply(Math,v)}this.width=Math.max(1,this.right-this.left);this.height=Math.max(1,this.bottom-this.top);this.dx=this.width/(this.xmax-this.xmin);this.dy=this.height/(this.ymax-this.ymin);if(this.calc){return this.calc()}}};k.prototype.transY=function(m){return this.bottom-(m-this.ymin)*this.dy};k.prototype.transX=function(m){if(this.data.length===1){return(this.left+this.right)/2}else{return this.left+(m-this.xmin)*this.dx}};k.prototype.redraw=function(){this.raphael.clear();this._calc();this.drawGrid();this.drawGoals();this.drawEvents();if(this.draw){return this.draw()}};k.prototype.measureText=function(q,o){var m,n;if(o==null){o=0}n=this.raphael.text(100,100,q).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(o);m=n.getBBox();n.remove();return m};k.prototype.yAxisFormat=function(m){return this.yLabelFormat(m)};k.prototype.yLabelFormat=function(m){if(typeof this.options.yLabelFormat==="function"){return this.options.yLabelFormat(m)}else{return""+this.options.preUnits+(f.commas(m))+this.options.postUnits}};k.prototype.drawGrid=function(){var q,v,s,o,r,m,u,n;if(this.options.grid===false&&((r=this.options.axes)!==true&&r!=="both"&&r!=="y")){return}m=this.grid;n=[];for(s=0,o=m.length;s<o;s++){q=m[s];v=this.transY(q);if((u=this.options.axes)===true||u==="both"||u==="y"){this.drawYAxisLabel(this.left-this.options.padding/2,v,this.yAxisFormat(q))}if(this.options.grid){n.push(this.drawGridLine("M"+this.left+","+v+"H"+(this.left+this.width)))}else{n.push(void 0)}}return n};k.prototype.drawGoals=function(){var o,q,r,u,n,s,m;s=this.options.goals;m=[];for(r=u=0,n=s.length;u<n;r=++u){q=s[r];o=this.options.goalLineColors[r%this.options.goalLineColors.length];m.push(this.drawGoal(q,o))}return m};k.prototype.drawEvents=function(){var o,r,q,u,n,s,m;s=this.events;m=[];for(q=u=0,n=s.length;u<n;q=++u){r=s[q];o=this.options.eventLineColors[q%this.options.eventLineColors.length];m.push(this.drawEvent(r,o))}return m};k.prototype.drawGoal=function(n,m){return this.raphael.path("M"+this.left+","+(this.transY(n))+"H"+this.right).attr("stroke",m).attr("stroke-width",this.options.goalStrokeWidth)};k.prototype.drawEvent=function(n,m){return this.raphael.path("M"+(this.transX(n))+","+this.bottom+"V"+this.top).attr("stroke",m).attr("stroke-width",this.options.eventStrokeWidth)};k.prototype.drawYAxisLabel=function(o,m,n){return this.raphael.text(o,m,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")};k.prototype.drawGridLine=function(m){return this.raphael.path(m).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)};k.prototype.startRange=function(m){this.hover.hide();this.selectFrom=m;return this.selectionRect.attr({x:m,width:0}).show()};k.prototype.endRange=function(m){var n,o;if(this.selectFrom){o=Math.min(this.selectFrom,m);n=Math.max(this.selectFrom,m);this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(o)].x,end:this.data[this.hitTest(n)].x});return this.selectFrom=null}};k.prototype.resizeHandler=function(){this.timeoutId=null;this.raphael.setSize(this.el.width(),this.el.height());return this.redraw()};return k})(f.EventEmitter);f.parseDate=function(x){var z,y,l,w,v,C,u,s,k,B,A;if(typeof x==="number"){return x}y=x.match(/^(\d+) Q(\d)$/);w=x.match(/^(\d+)-(\d+)$/);v=x.match(/^(\d+)-(\d+)-(\d+)$/);u=x.match(/^(\d+) W(\d+)$/);s=x.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/);k=x.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/);if(y){return new Date(parseInt(y[1],10),parseInt(y[2],10)*3-1,1).getTime()}else{if(w){return new Date(parseInt(w[1],10),parseInt(w[2],10)-1,1).getTime()}else{if(v){return new Date(parseInt(v[1],10),parseInt(v[2],10)-1,parseInt(v[3],10)).getTime()}else{if(u){B=new Date(parseInt(u[1],10),0,1);if(B.getDay()!==4){B.setMonth(0,1+((4-B.getDay())+7)%7)}return B.getTime()+parseInt(u[2],10)*604800000}else{if(s){if(!s[6]){return new Date(parseInt(s[1],10),parseInt(s[2],10)-1,parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10)).getTime()}else{C=0;if(s[6]!=="Z"){C=parseInt(s[8],10)*60+parseInt(s[9],10);if(s[7]==="+"){C=0-C}}return Date.UTC(parseInt(s[1],10),parseInt(s[2],10)-1,parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10)+C)}}else{if(k){A=parseFloat(k[6]);z=Math.floor(A);l=Math.round((A-z)*1000);if(!k[8]){return new Date(parseInt(k[1],10),parseInt(k[2],10)-1,parseInt(k[3],10),parseInt(k[4],10),parseInt(k[5],10),z,l).getTime()}else{C=0;if(k[8]!=="Z"){C=parseInt(k[10],10)*60+parseInt(k[11],10);if(k[9]==="+"){C=0-C}}return Date.UTC(parseInt(k[1],10),parseInt(k[2],10)-1,parseInt(k[3],10),parseInt(k[4],10),parseInt(k[5],10)+C,z,l)}}else{return new Date(parseInt(x,10),0,1).getTime()}}}}}}};f.Hover=(function(){k.defaults={"class":"morris-hover morris-default-style"};function k(l){if(l==null){l={}}this.options=d.extend({},f.Hover.defaults,l);this.el=d("<div class='"+this.options["class"]+"'></div>");this.el.hide();this.options.parent.append(this.el)}k.prototype.update=function(m,l,n){this.html(m);this.show();return this.moveTo(l,n)};k.prototype.html=function(l){return this.el.html(l)};k.prototype.moveTo=function(m,u){var l,q,s,n,o,r;o=this.options.parent.innerWidth();n=this.options.parent.innerHeight();q=this.el.outerWidth();l=this.el.outerHeight();s=Math.min(Math.max(0,m-q/2),o-q);if(u!=null){r=u-l-10;if(r<0){r=u+10;if(r+l>n){r=n/2-l/2}}}else{r=n/2-l/2}return this.el.css({left:s+"px",top:parseInt(r)+"px"})};k.prototype.show=function(){return this.el.show()};k.prototype.hide=function(){return this.el.hide()};return k})();f.Line=(function(k){c(l,k);function l(m){this.hilight=g(this.hilight,this);this.onHoverOut=g(this.onHoverOut,this);this.onHoverMove=g(this.onHoverMove,this);this.onGridClick=g(this.onGridClick,this);if(!(this instanceof f.Line)){return new f.Line(m)}l.__super__.constructor.call(this,m)}l.prototype.init=function(){if(this.options.hideHover!=="always"){this.hover=new f.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}};l.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:true,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,continuousLine:true,hideHover:false};l.prototype.calc=function(){this.calcPoints();return this.generatePaths()};l.prototype.calcPoints=function(){var r,s,q,n,o,m;o=this.data;m=[];for(q=0,n=o.length;q<n;q++){r=o[q];r._x=this.transX(r.x);r._y=(function(){var x,v,u,w;u=r.y;w=[];for(x=0,v=u.length;x<v;x++){s=u[x];if(s!=null){w.push(this.transY(s))}else{w.push(s)}}return w}).call(this);m.push(r._ymax=Math.min.apply(Math,[this.bottom].concat((function(){var x,v,u,w;u=r._y;w=[];for(x=0,v=u.length;x<v;x++){s=u[x];if(s!=null){w.push(s)}}return w})())))}return m};l.prototype.hitTest=function(m){var o,q,u,n,s;if(this.data.length===0){return null}s=this.data.slice(1);for(o=u=0,n=s.length;u<n;o=++u){q=s[o];if(m<(q._x+this.data[o]._x)/2){break}}return o};l.prototype.onGridClick=function(m,o){var n;n=this.hitTest(m);return this.fire("click",n,this.data[n].src,m,o)};l.prototype.onHoverMove=function(m,o){var n;n=this.hitTest(m);return this.displayHoverForRow(n)};l.prototype.onHoverOut=function(){if(this.options.hideHover!==false){return this.displayHoverForRow(null)}};l.prototype.displayHoverForRow=function(m){var n;if(m!=null){(n=this.hover).update.apply(n,this.hoverContentForRow(m));return this.hilight(m)}else{this.hover.hide();return this.hilight()}};l.prototype.hoverContentForRow=function(o){var q,n,u,v,s,m,r;u=this.data[o];q="<div class='morris-hover-row-label'>"+u.label+"</div>";r=u.y;for(n=s=0,m=r.length;s<m;n=++s){v=r[n];q+="<div class='morris-hover-point' style='color: "+(this.colorFor(u,n,"label"))+"'>\n  "+this.options.labels[n]+":\n  "+(this.yLabelFormat(v))+"\n</div>"}if(typeof this.options.hoverCallback==="function"){q=this.options.hoverCallback(o,this.options,q,u.src)}return[q,u._x,u._ymax]};l.prototype.generatePaths=function(){var s,q,n,o,m;return this.paths=(function(){var w,v,r,u;u=[];for(n=w=0,v=this.options.ykeys.length;0<=v?w<v:w>v;n=0<=v?++w:--w){m=typeof this.options.smooth==="boolean"?this.options.smooth:(r=this.options.ykeys[n],j.call(this.options.smooth,r)>=0);q=(function(){var z,x,A,y;A=this.data;y=[];for(z=0,x=A.length;z<x;z++){o=A[z];if(o._y[n]!==void 0){y.push({x:o._x,y:o._y[n]})}}return y}).call(this);if(this.options.continuousLine){q=(function(){var z,x,y;y=[];for(z=0,x=q.length;z<x;z++){s=q[z];if(s.y!==null){y.push(s)}}return y})()}if(q.length>1){u.push(f.Line.createPath(q,m,this.bottom))}else{u.push(null)}}return u}).call(this)};l.prototype.draw=function(){var m;if((m=this.options.axes)===true||m==="both"||m==="x"){this.drawXAxis()}this.drawSeries();if(this.options.hideHover===false){return this.displayHoverForRow(this.data.length-1)}};l.prototype.drawXAxis=function(){var w,o,s,m,v,y,n,r,x,q,u=this;n=this.bottom+this.options.padding/2;v=null;m=null;w=function(C,z){var A,B,D,F,E;A=u.drawXAxisLabel(u.transX(z),n,C);E=A.getBBox();A.transform("r"+(-u.options.xLabelAngle));B=A.getBBox();A.transform("t0,"+(B.height/2)+"...");if(u.options.xLabelAngle!==0){F=-0.5*E.width*Math.cos(u.options.xLabelAngle*Math.PI/180);A.transform("t"+F+",0...")}B=A.getBBox();if(((v==null)||v>=B.x+B.width||(m!=null)&&m>=B.x)&&B.x>=0&&(B.x+B.width)<u.el.width()){if(u.options.xLabelAngle!==0){D=1.25*u.options.gridTextSize/Math.sin(u.options.xLabelAngle*Math.PI/180);m=B.x-D}return v=B.x-u.options.xLabelMargin}else{return A.remove()}};if(this.options.parseTime){if(this.data.length===1&&this.options.xLabels==="auto"){s=[[this.data[0].label,this.data[0].x]]}else{s=f.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat)}}else{s=(function(){var C,A,B,z;B=this.data;z=[];for(C=0,A=B.length;C<A;C++){y=B[C];z.push([y.label,y.x])}return z}).call(this)}s.reverse();q=[];for(r=0,x=s.length;r<x;r++){o=s[r];q.push(w(o[0],o[1]))}return q};l.prototype.drawSeries=function(){var o,s,q,r,m,n;this.seriesPoints=[];for(o=s=r=this.options.ykeys.length-1;r<=0?s<=0:s>=0;o=r<=0?++s:--s){this._drawLineFor(o)}n=[];for(o=q=m=this.options.ykeys.length-1;m<=0?q<=0:q>=0;o=m<=0?++q:--q){n.push(this._drawPointFor(o))}return n};l.prototype._drawPointFor=function(o){var s,u,r,n,q,m;this.seriesPoints[o]=[];q=this.data;m=[];for(r=0,n=q.length;r<n;r++){u=q[r];s=null;if(u._y[o]!=null){s=this.drawLinePoint(u._x,u._y[o],this.colorFor(u,o,"point"),o)}m.push(this.seriesPoints[o].push(s))}return m};l.prototype._drawLineFor=function(m){var n;n=this.paths[m];if(n!==null){return this.drawLinePath(n,this.colorFor(null,m,"line"),m)}};l.createPath=function(C,o,m){var x,w,y,v,r,D,E,s,q,n,B,z,u,A;E="";if(o){y=f.Line.gradients(C)}s={y:null};for(v=u=0,A=C.length;u<A;v=++u){x=C[v];if(x.y!=null){if(s.y!=null){if(o){w=y[v];D=y[v-1];r=(x.x-s.x)/4;q=s.x+r;B=Math.min(m,s.y+r*D);n=x.x-r;z=Math.min(m,x.y-r*w);E+="C"+q+","+B+","+n+","+z+","+x.x+","+x.y}else{E+="L"+x.x+","+x.y}}else{if(!o||(y[v]!=null)){E+="M"+x.x+","+x.y}}}s=x}return E};l.gradients=function(u){var s,w,q,r,m,o,v,n;w=function(y,x){return(y.y-x.y)/(y.x-x.x)};n=[];for(q=o=0,v=u.length;o<v;q=++o){s=u[q];if(s.y!=null){r=u[q+1]||{y:null};m=u[q-1]||{y:null};if((m.y!=null)&&(r.y!=null)){n.push(w(m,r))}else{if(m.y!=null){n.push(w(m,s))}else{if(r.y!=null){n.push(w(s,r))}else{n.push(null)}}}}else{n.push(null)}}return n};l.prototype.hilight=function(n){var o,s,q,r,m;if(this.prevHilight!==null&&this.prevHilight!==n){for(o=s=0,r=this.seriesPoints.length-1;0<=r?s<=r:s>=r;o=0<=r?++s:--s){if(this.seriesPoints[o][this.prevHilight]){this.seriesPoints[o][this.prevHilight].animate(this.pointShrinkSeries(o))}}}if(n!==null&&this.prevHilight!==n){for(o=q=0,m=this.seriesPoints.length-1;0<=m?q<=m:q>=m;o=0<=m?++q:--q){if(this.seriesPoints[o][n]){this.seriesPoints[o][n].animate(this.pointGrowSeries(o))}}}return this.prevHilight=n};l.prototype.colorFor=function(o,n,m){if(typeof this.options.lineColors==="function"){return this.options.lineColors.call(this,o,n,m)}else{if(m==="point"){return this.options.pointFillColors[n%this.options.pointFillColors.length]||this.options.lineColors[n%this.options.lineColors.length]}else{return this.options.lineColors[n%this.options.lineColors.length]}}};l.prototype.drawXAxisLabel=function(o,m,n){return this.raphael.text(o,m,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)};l.prototype.drawLinePath=function(n,m,o){return this.raphael.path(n).attr("stroke",m).attr("stroke-width",this.lineWidthForSeries(o))};l.prototype.drawLinePoint=function(q,n,m,o){return this.raphael.circle(q,n,this.pointSizeForSeries(o)).attr("fill",m).attr("stroke-width",this.pointStrokeWidthForSeries(o)).attr("stroke",this.pointStrokeColorForSeries(o))};l.prototype.pointStrokeWidthForSeries=function(m){return this.options.pointStrokeWidths[m%this.options.pointStrokeWidths.length]};l.prototype.pointStrokeColorForSeries=function(m){return this.options.pointStrokeColors[m%this.options.pointStrokeColors.length]};l.prototype.lineWidthForSeries=function(m){if(this.options.lineWidth instanceof Array){return this.options.lineWidth[m%this.options.lineWidth.length]}else{return this.options.lineWidth}};l.prototype.pointSizeForSeries=function(m){if(this.options.pointSize instanceof Array){return this.options.pointSize[m%this.options.pointSize.length]}else{return this.options.pointSize}};l.prototype.pointGrowSeries=function(m){return Raphael.animation({r:this.pointSizeForSeries(m)+3},25,"linear")};l.prototype.pointShrinkSeries=function(m){return Raphael.animation({r:this.pointSizeForSeries(m)},25,"linear")};return l})(f.Grid);f.labelSeries=function(n,w,u,k,A){var v,m,y,l,r,C,z,B,o,x,q;y=200*(w-n)/u;m=new Date(n);z=f.LABEL_SPECS[k];if(z===void 0){q=f.AUTO_LABEL_ORDER;for(o=0,x=q.length;o<x;o++){l=q[o];C=f.LABEL_SPECS[l];if(y>=C.span){z=C;break}}}if(z===void 0){z=f.LABEL_SPECS.second}if(A){z=d.extend({},z,{fmt:A})}v=z.start(m);r=[];while((B=v.getTime())<=w){if(B>=n){r.push([z.fmt(v),B])}z.incr(v)}return r};b=function(k){return{span:k*60*1000,start:function(l){return new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours())},fmt:function(l){return""+(f.pad2(l.getHours()))+":"+(f.pad2(l.getMinutes()))},incr:function(l){return l.setUTCMinutes(l.getUTCMinutes()+k)}}};i=function(k){return{span:k*1000,start:function(l){return new Date(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes())},fmt:function(l){return""+(f.pad2(l.getHours()))+":"+(f.pad2(l.getMinutes()))+":"+(f.pad2(l.getSeconds()))},incr:function(l){return l.setUTCSeconds(l.getUTCSeconds()+k)}}};f.LABEL_SPECS={decade:{span:172800000000,start:function(k){return new Date(k.getFullYear()-k.getFullYear()%10,0,1)},fmt:function(k){return""+(k.getFullYear())},incr:function(k){return k.setFullYear(k.getFullYear()+10)}},year:{span:17280000000,start:function(k){return new Date(k.getFullYear(),0,1)},fmt:function(k){return""+(k.getFullYear())},incr:function(k){return k.setFullYear(k.getFullYear()+1)}},month:{span:2419200000,start:function(k){return new Date(k.getFullYear(),k.getMonth(),1)},fmt:function(k){return""+(k.getFullYear())+"-"+(f.pad2(k.getMonth()+1))},incr:function(k){return k.setMonth(k.getMonth()+1)}},week:{span:604800000,start:function(k){return new Date(k.getFullYear(),k.getMonth(),k.getDate())},fmt:function(k){return""+(k.getFullYear())+"-"+(f.pad2(k.getMonth()+1))+"-"+(f.pad2(k.getDate()))},incr:function(k){return k.setDate(k.getDate()+7)}},day:{span:86400000,start:function(k){return new Date(k.getFullYear(),k.getMonth(),k.getDate())},fmt:function(k){return""+(k.getFullYear())+"-"+(f.pad2(k.getMonth()+1))+"-"+(f.pad2(k.getDate()))},incr:function(k){return k.setDate(k.getDate()+1)}},hour:b(60),"30min":b(30),"15min":b(15),"10min":b(10),"5min":b(5),minute:b(1),"30sec":i(30),"15sec":i(15),"10sec":i(10),"5sec":i(5),second:i(1)};f.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"];f.Area=(function(m){var k;c(l,m);k={fillOpacity:"auto",behaveLikeLine:false};function l(o){var n;if(!(this instanceof f.Area)){return new f.Area(o)}n=d.extend({},k,o);this.cumulative=!n.behaveLikeLine;if(n.fillOpacity==="auto"){n.fillOpacity=n.behaveLikeLine?0.8:1}l.__super__.constructor.call(this,n)}l.prototype.calcPoints=function(){var u,q,v,s,o,r,n;r=this.data;n=[];for(s=0,o=r.length;s<o;s++){u=r[s];u._x=this.transX(u.x);q=0;u._y=(function(){var z,x,w,y;w=u.y;y=[];for(z=0,x=w.length;z<x;z++){v=w[z];if(this.options.behaveLikeLine){y.push(this.transY(v))}else{q+=v||0;y.push(this.transY(q))}}return y}).call(this);n.push(u._ymax=Math.max.apply(Math,u._y))}return n};l.prototype.drawSeries=function(){var x,y,v,s,o,z,w,u,r,q,n;this.seriesPoints=[];if(this.options.behaveLikeLine){y=(function(){r=[];for(var B=0,A=this.options.ykeys.length-1;0<=A?B<=A:B>=A;0<=A?B++:B--){r.push(B)}return r}).apply(this)}else{y=(function(){q=[];for(var A=u=this.options.ykeys.length-1;u<=0?A<=0:A>=0;u<=0?A++:A--){q.push(A)}return q}).apply(this)}n=[];for(o=0,z=y.length;o<z;o++){x=y[o];this._drawFillFor(x);this._drawLineFor(x);n.push(this._drawPointFor(x))}return n};l.prototype._drawFillFor=function(n){var o;o=this.paths[n];if(o!==null){o=o+("L"+(this.transX(this.xmax))+","+this.bottom+"L"+(this.transX(this.xmin))+","+this.bottom+"Z");return this.drawFilledPath(o,this.fillForSeries(n))}};l.prototype.fillForSeries=function(o){var n;n=Raphael.rgb2hsl(this.colorFor(this.data[o],o,"line"));return Raphael.hsl(n.h,this.options.behaveLikeLine?n.s*0.9:n.s*0.75,Math.min(0.98,this.options.behaveLikeLine?n.l*1.2:n.l*1.25))};l.prototype.drawFilledPath=function(o,n){return this.raphael.path(o).attr("fill",n).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")};return l})(f.Line);f.Bar=(function(l){c(k,l);function k(m){this.onHoverOut=g(this.onHoverOut,this);this.onHoverMove=g(this.onHoverMove,this);this.onGridClick=g(this.onGridClick,this);if(!(this instanceof f.Bar)){return new f.Bar(m)}k.__super__.constructor.call(this,d.extend({},m,{parseTime:false}))}k.prototype.init=function(){this.cumulative=this.options.stacked;if(this.options.hideHover!=="always"){this.hover=new f.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}};k.prototype.defaults={barSizeRatio:0.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50};k.prototype.calc=function(){var m;this.calcBars();if(this.options.hideHover===false){return(m=this.hover).update.apply(m,this.hoverContentForRow(this.data.length-1))}};k.prototype.calcBars=function(){var m,s,u,r,o,q,n;q=this.data;n=[];for(m=r=0,o=q.length;r<o;m=++r){s=q[m];s._x=this.left+this.width*(m+0.5)/this.data.length;n.push(s._y=(function(){var y,w,v,x;v=s.y;x=[];for(y=0,w=v.length;y<w;y++){u=v[y];if(u!=null){x.push(this.transY(u))}else{x.push(null)}}return x}).call(this))}return n};k.prototype.draw=function(){var m;if((m=this.options.axes)===true||m==="both"||m==="x"){this.drawXAxis()}return this.drawSeries()};k.prototype.drawXAxis=function(){var v,y,z,q,s,m,w,A,x,n,r,u,o;n=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2);w=null;m=null;o=[];for(v=r=0,u=this.data.length;0<=u?r<u:r>u;v=0<=u?++r:--r){A=this.data[this.data.length-1-v];y=this.drawXAxisLabel(A._x,n,A.label);x=y.getBBox();y.transform("r"+(-this.options.xLabelAngle));z=y.getBBox();y.transform("t0,"+(z.height/2)+"...");if(this.options.xLabelAngle!==0){s=-0.5*x.width*Math.cos(this.options.xLabelAngle*Math.PI/180);y.transform("t"+s+",0...")}if(((w==null)||w>=z.x+z.width||(m!=null)&&m>=z.x)&&z.x>=0&&(z.x+z.width)<this.el.width()){if(this.options.xLabelAngle!==0){q=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180);m=z.x-q}o.push(w=z.x-this.options.xLabelMargin)}else{o.push(y.remove())}}return o};k.prototype.drawSeries=function(){var C,m,s,y,w,q,n,u,B,x,A,r,v,o,z;s=this.width/this.options.data.length;u=this.options.stacked!=null?1:this.options.ykeys.length;C=(s*this.options.barSizeRatio-this.options.barGap*(u-1))/u;if(this.options.barSize){C=Math.min(C,this.options.barSize)}r=s-C*u-this.options.barGap*(u-1);n=r/2;z=this.ymin<=0&&this.ymax>=0?this.transY(0):null;return this.bars=(function(){var G,E,F,D;F=this.data;D=[];for(y=G=0,E=F.length;G<E;y=++G){B=F[y];w=0;D.push((function(){var K,I,H,J;H=B._y;J=[];for(x=K=0,I=H.length;K<I;x=++K){o=H[x];if(o!==null){if(z){v=Math.min(o,z);m=Math.max(o,z)}else{v=o;m=this.bottom}q=this.left+y*s+n;if(!this.options.stacked){q+=x*(C+this.options.barGap)}A=m-v;if(this.options.stacked){v-=w}this.drawBar(q,v,C,A,this.colorFor(B,x,"bar"),this.options.barOpacity,this.options.barRadius);J.push(w+=A)}else{J.push(null)}}return J}).call(this))}return D}).call(this)};k.prototype.colorFor=function(u,q,n){var o,m;if(typeof this.options.barColors==="function"){o={x:u.x,y:u.y[q],label:u.label};m={index:q,key:this.options.ykeys[q],label:this.options.labels[q]};return this.options.barColors.call(this,o,m,n)}else{return this.options.barColors[q%this.options.barColors.length]}};k.prototype.hitTest=function(m){if(this.data.length===0){return null}m=Math.max(Math.min(m,this.right),this.left);return Math.min(this.data.length-1,Math.floor((m-this.left)/(this.width/this.data.length)))};k.prototype.onGridClick=function(m,o){var n;n=this.hitTest(m);return this.fire("click",n,this.data[n].src,m,o)};k.prototype.onHoverMove=function(m,q){var n,o;n=this.hitTest(m);return(o=this.hover).update.apply(o,this.hoverContentForRow(n))};k.prototype.onHoverOut=function(){if(this.options.hideHover!==false){return this.hover.hide()}};k.prototype.hoverContentForRow=function(q){var r,n,w,v,s,m,u,o;w=this.data[q];r="<div class='morris-hover-row-label'>"+w.label+"</div>";o=w.y;for(n=m=0,u=o.length;m<u;n=++m){s=o[n];r+="<div class='morris-hover-point' style='color: "+(this.colorFor(w,n,"label"))+"'>\n  "+this.options.labels[n]+":\n  "+(this.yLabelFormat(s))+"\n</div>"}if(typeof this.options.hoverCallback==="function"){r=this.options.hoverCallback(q,this.options,r,w.src)}v=this.left+(q+0.5)*this.width/this.data.length;return[r,v]};k.prototype.drawXAxisLabel=function(q,n,o){var m;return m=this.raphael.text(q,n,o).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)};k.prototype.drawBar=function(q,n,m,v,o,u,s){var r,w;r=Math.max.apply(Math,s);if(r===0||r>v){w=this.raphael.rect(q,n,m,v)}else{w=this.raphael.path(this.roundedRect(q,n,m,v,s))}return w.attr("fill",o).attr("fill-opacity",u).attr("stroke","none")};k.prototype.roundedRect=function(m,s,n,o,q){if(q==null){q=[0,0,0,0]}return["M",m,q[0]+s,"Q",m,s,m+q[0],s,"L",m+n-q[1],s,"Q",m+n,s,m+n,s+q[1],"L",m+n,s+o-q[2],"Q",m+n,s+o,m+n-q[2],s+o,"L",m+q[3],s+o,"Q",m,s+o,m,s+o-q[3],"Z"]};return k})(f.Grid);f.Donut=(function(l){c(k,l);k.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:f.commas,resize:false};function k(m){this.resizeHandler=g(this.resizeHandler,this);this.select=g(this.select,this);this.click=g(this.click,this);var n=this;if(!(this instanceof f.Donut)){return new f.Donut(m)}this.options=d.extend({},this.defaults,m);if(typeof m.element==="string"){this.el=d(document.getElementById(m.element))}else{this.el=d(m.element)}if(this.el===null||this.el.length===0){throw new Error("Graph placeholder not found.")}if(m.data===void 0||m.data.length===0){return}this.raphael=new Raphael(this.el[0]);if(this.options.resize){d(window).bind("resize",function(o){if(n.timeoutId!=null){window.clearTimeout(n.timeoutId)}return n.timeoutId=window.setTimeout(n.resizeHandler,100)})}this.setData(m.data)}k.prototype.redraw=function(){var D,v,s,H,B,z,x,G,E,I,M,F,A,q,n,m,J,L,K,y,u,r,o;this.raphael.clear();v=this.el.width()/2;s=this.el.height()/2;A=(Math.min(v,s)-10)/3;M=0;y=this.values;for(q=0,J=y.length;q<J;q++){F=y[q];M+=F}G=5/(2*A);D=1.9999*Math.PI-G*this.data.length;z=0;B=0;this.segments=[];u=this.values;for(H=n=0,L=u.length;n<L;H=++n){F=u[H];E=z+G+D*(F/M);I=new f.DonutSegment(v,s,A*2,A,z,E,this.data[H].color||this.options.colors[B%this.options.colors.length],this.options.backgroundColor,B,this.raphael);I.render();this.segments.push(I);I.on("hover",this.select);I.on("click",this.click);z=E;B+=1}this.text1=this.drawEmptyDonutLabel(v,s-10,this.options.labelColor,15,800);this.text2=this.drawEmptyDonutLabel(v,s+10,this.options.labelColor,14);x=Math.max.apply(Math,this.values);B=0;r=this.values;o=[];for(m=0,K=r.length;m<K;m++){F=r[m];if(F===x){this.select(B);break}o.push(B+=1)}return o};k.prototype.setData=function(m){var n;this.data=m;this.values=(function(){var s,q,r,o;r=this.data;o=[];for(s=0,q=r.length;s<q;s++){n=r[s];o.push(parseFloat(n.value))}return o}).call(this);return this.redraw()};k.prototype.click=function(m){return this.fire("click",m,this.data[m])};k.prototype.select=function(m){var v,o,q,u,n,r;r=this.segments;for(u=0,n=r.length;u<n;u++){o=r[u];o.deselect()}q=this.segments[m];q.select();v=this.data[m];return this.setLabels(v.label,this.options.formatter(v.value,v))};k.prototype.setLabels=function(r,q){var x,v,u,w,s,m,n,o;x=(Math.min(this.el.width()/2,this.el.height()/2)-10)*2/3;w=1.8*x;u=x/2;v=x/3;this.text1.attr({text:r,transform:""});s=this.text1.getBBox();m=Math.min(w/s.width,u/s.height);this.text1.attr({transform:"S"+m+","+m+","+(s.x+s.width/2)+","+(s.y+s.height)});this.text2.attr({text:q,transform:""});n=this.text2.getBBox();o=Math.min(w/n.width,v/n.height);return this.text2.attr({transform:"S"+o+","+o+","+(n.x+n.width/2)+","+n.y})};k.prototype.drawEmptyDonutLabel=function(s,o,n,q,m){var r;r=this.raphael.text(s,o,"").attr("font-size",q).attr("fill",n);if(m!=null){r.attr("font-weight",m)}return r};k.prototype.resizeHandler=function(){this.timeoutId=null;this.raphael.setSize(this.el.width(),this.el.height());return this.redraw()};return k})(f.EventEmitter);f.DonutSegment=(function(l){c(k,l);function k(o,m,x,v,u,s,n,r,q,w){this.cx=o;this.cy=m;this.inner=x;this.outer=v;this.color=n;this.backgroundColor=r;this.index=q;this.raphael=w;this.deselect=g(this.deselect,this);this.select=g(this.select,this);this.sin_p0=Math.sin(u);this.cos_p0=Math.cos(u);this.sin_p1=Math.sin(s);this.cos_p1=Math.cos(s);this.is_long=(s-u)>Math.PI?1:0;this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5);this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer);this.hilight=this.calcArc(this.inner)}k.prototype.calcArcPoints=function(m){return[this.cx+m*this.sin_p0,this.cy+m*this.cos_p0,this.cx+m*this.sin_p1,this.cy+m*this.cos_p1]};k.prototype.calcSegment=function(n,m){var z,y,v,u,q,o,x,w,s,r;s=this.calcArcPoints(n),z=s[0],v=s[1],y=s[2],u=s[3];r=this.calcArcPoints(m),q=r[0],x=r[1],o=r[2],w=r[3];return("M"+z+","+v)+("A"+n+","+n+",0,"+this.is_long+",0,"+y+","+u)+("L"+o+","+w)+("A"+m+","+m+",0,"+this.is_long+",1,"+q+","+x)+"Z"};k.prototype.calcArc=function(s){var n,m,q,o,u;u=this.calcArcPoints(s),n=u[0],q=u[1],m=u[2],o=u[3];return("M"+n+","+q)+("A"+s+","+s+",0,"+this.is_long+",0,"+m+","+o)};k.prototype.render=function(){var m=this;this.arc=this.drawDonutArc(this.hilight,this.color);return this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return m.fire("hover",m.index)},function(){return m.fire("click",m.index)})};k.prototype.drawDonutArc=function(n,m){return this.raphael.path(n).attr({stroke:m,"stroke-width":2,opacity:0})};k.prototype.drawDonutSegment=function(q,r,o,m,n){return this.raphael.path(q).attr({fill:r,stroke:o,"stroke-width":3}).hover(m).click(n)};k.prototype.select=function(){if(!this.selected){this.seg.animate({path:this.selectedPath},150,"<>");this.arc.animate({opacity:1},150,"<>");return this.selected=true}};k.prototype.deselect=function(){if(this.selected){this.seg.animate({path:this.path},150,"<>");this.arc.animate({opacity:0},150,"<>");return this.selected=false}};return k})(f.EventEmitter)}).call(this);(function(c){c.color={};c.color.make=function(h,f,d,e){var i={};i.r=h||0;i.g=f||0;i.b=d||0;i.a=e!=null?e:1;i.add=function(k,j){for(var g=0;g<k.length;++g){i[k.charAt(g)]+=j}return i.normalize()};i.scale=function(k,j){for(var g=0;g<k.length;++g){i[k.charAt(g)]*=j}return i.normalize()};i.toString=function(){if(i.a>=1){return"rgb("+[i.r,i.g,i.b].join(",")+")"}else{return"rgba("+[i.r,i.g,i.b,i.a].join(",")+")"}};i.normalize=function(){function g(k,l,j){return l<k?k:l>j?j:l}i.r=g(0,parseInt(i.r),255);i.g=g(0,parseInt(i.g),255);i.b=g(0,parseInt(i.b),255);i.a=g(0,i.a,1);return i};i.clone=function(){return c.color.make(i.r,i.b,i.g,i.a)};return i.normalize()};c.color.extract=function(e,d){var f;do{f=e.css(d).toLowerCase();if(f!=""&&f!="transparent"){break}e=e.parent()}while(e.length&&!c.nodeName(e.get(0),"body"));if(f=="rgba(0, 0, 0, 0)"){f="transparent"}return c.color.parse(f)};c.color.parse=function(g){var f,d=c.color.make;if(f=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(g)){return d(parseInt(f[1],10),parseInt(f[2],10),parseInt(f[3],10))}if(f=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(g)){return d(parseInt(f[1],10),parseInt(f[2],10),parseInt(f[3],10),parseFloat(f[4]))}if(f=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(g)){return d(parseFloat(f[1])*2.55,parseFloat(f[2])*2.55,parseFloat(f[3])*2.55)}if(f=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(g)){return d(parseFloat(f[1])*2.55,parseFloat(f[2])*2.55,parseFloat(f[3])*2.55,parseFloat(f[4]))}if(f=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(g)){return d(parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16))}if(f=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(g)){return d(parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16))}var e=c.trim(g).toLowerCase();if(e=="transparent"){return d(255,255,255,0)}else{f=b[e]||[0,0,0];return d(f[0],f[1],f[2])}};var b={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(f){var e=Object.prototype.hasOwnProperty;function b(i,h){var k=h.children("."+i)[0];if(k==null){k=document.createElement("canvas");k.className=i;f(k).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(h);if(!k.getContext){if(window.G_vmlCanvasManager){k=window.G_vmlCanvasManager.initElement(k)}else{throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.")}}}this.element=k;var j=this.context=k.getContext("2d");var g=window.devicePixelRatio||1,l=j.webkitBackingStorePixelRatio||j.mozBackingStorePixelRatio||j.msBackingStorePixelRatio||j.oBackingStorePixelRatio||j.backingStorePixelRatio||1;this.pixelRatio=g/l;this.resize(h.width(),h.height());this.textContainer=null;this.text={};this._textCache={}}b.prototype.resize=function(j,g){if(j<=0||g<=0){throw new Error("Invalid dimensions for plot, width = "+j+", height = "+g)}var i=this.element,h=this.context,k=this.pixelRatio;if(this.width!=j){i.width=j*k;i.style.width=j+"px";this.width=j}if(this.height!=g){i.height=g*k;i.style.height=g+"px";this.height=g}h.restore();h.save();h.scale(k,k)};b.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};b.prototype.render=function(){var g=this._textCache;for(var q in g){if(e.call(g,q)){var o=this.getTextLayer(q),h=g[q];o.hide();for(var n in h){if(e.call(h,n)){var j=h[n];for(var r in j){if(e.call(j,r)){var l=j[r].positions;for(var k=0,m;m=l[k];k++){if(m.active){if(!m.rendered){o.append(m.element);m.rendered=true}}else{l.splice(k--,1);if(m.rendered){m.element.detach()}}}if(l.length==0){delete j[r]}}}}}o.show()}}};b.prototype.getTextLayer=function(h){var g=this.text[h];if(g==null){if(this.textContainer==null){this.textContainer=f("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)}g=this.text[h]=f("<div></div>").addClass(h).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)}return g};b.prototype.getTextInfo=function(n,q,k,l,h){var o,g,j,i;q=""+q;if(typeof k==="object"){o=k.style+" "+k.variant+" "+k.weight+" "+k.size+"px/"+k.lineHeight+"px "+k.family}else{o=k}g=this._textCache[n];if(g==null){g=this._textCache[n]={}}j=g[o];if(j==null){j=g[o]={}}i=j[q];if(i==null){var m=f("<div></div>").html(q).css({position:"absolute","max-width":h,top:-9999}).appendTo(this.getTextLayer(n));if(typeof k==="object"){m.css({font:o,color:k.color})}else{if(typeof k==="string"){m.addClass(k)}}i=j[q]={width:m.outerWidth(true),height:m.outerHeight(true),element:m,positions:[]};m.detach()}return i};b.prototype.addText=function(q,u,r,v,j,k,g,o,s){var h=this.getTextInfo(q,v,j,k,g),m=h.positions;if(o=="center"){u-=h.width/2}else{if(o=="right"){u-=h.width}}if(s=="middle"){r-=h.height/2}else{if(s=="bottom"){r-=h.height}}for(var l=0,n;n=m[l];l++){if(n.x==u&&n.y==r){n.active=true;return}}n={active:true,rendered:false,element:m.length?h.element.clone():h.element,x:u,y:r};m.push(n);n.element.css({top:Math.round(r),left:Math.round(u),"text-align":o})};b.prototype.removeText=function(q,s,r,v,j,k){if(v==null){var g=this._textCache[q];if(g!=null){for(var o in g){if(e.call(g,o)){var h=g[o];for(var u in h){if(e.call(h,u)){var m=h[u].positions;for(var l=0,n;n=m[l];l++){n.active=false}}}}}}}else{var m=this.getTextInfo(q,v,j,k).positions;for(var l=0,n;n=m[l];l++){if(n.x==s&&n.y==r){n.active=false}}}};function d(T,D,F,h){var w=[],O={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false,zero:true},shadowSize:3,highlightColor:null},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1000/60},hooks:{}},af=null,ao=null,ap=null,G=null,az=null,ar=[],Z=[],M={left:0,right:0,top:0,bottom:0},l=0,ag=0,r={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},i=this;i.setData=N;i.setupGrid=R;i.draw=ax;i.getPlaceholder=function(){return T};i.getCanvas=function(){return af.element};i.getPlotOffset=function(){return M};i.width=function(){return l};i.height=function(){return ag};i.offset=function(){var aB=ap.offset();aB.left+=M.left;aB.top+=M.top;return aB};i.getData=function(){return w};i.getAxes=function(){var aC={},aB;f.each(ar.concat(Z),function(aD,aE){if(aE){aC[aE.direction+(aE.n!=1?aE.n:"")+"axis"]=aE}});return aC};i.getXAxes=function(){return ar};i.getYAxes=function(){return Z};i.c2p=ab;i.p2c=U;i.getOptions=function(){return O};i.highlight=aq;i.unhighlight=ak;i.triggerRedrawOverlay=aa;i.pointOffset=function(aB){return{left:parseInt(ar[A(aB,"x")-1].p2c(+aB.x)+M.left,10),top:parseInt(Z[A(aB,"y")-1].p2c(+aB.y)+M.top,10)}};i.shutdown=q;i.destroy=function(){q();T.removeData("plot").empty();w=[];O=null;af=null;ao=null;ap=null;G=null;az=null;ar=[];Z=[];r=null;aj=[];i=null};i.resize=function(){var aC=T.width(),aB=T.height();af.resize(aC,aB);ao.resize(aC,aB)};i.hooks=r;K(i);ad(F);aA();N(D);R();ax();av();function I(aD,aB){aB=[i].concat(aB);for(var aC=0;aC<aD.length;++aC){aD[aC].apply(this,aB)}}function K(){var aC={Canvas:b};for(var aB=0;aB<h.length;++aB){var aD=h[aB];aD.init(i,aC);if(aD.options){f.extend(true,O,aD.options)}}}function ad(aD){f.extend(true,O,aD);if(aD&&aD.colors){O.colors=aD.colors}if(O.xaxis.color==null){O.xaxis.color=f.color.parse(O.grid.color).scale("a",0.22).toString()}if(O.yaxis.color==null){O.yaxis.color=f.color.parse(O.grid.color).scale("a",0.22).toString()}if(O.xaxis.tickColor==null){O.xaxis.tickColor=O.grid.tickColor||O.xaxis.color}if(O.yaxis.tickColor==null){O.yaxis.tickColor=O.grid.tickColor||O.yaxis.color}if(O.grid.borderColor==null){O.grid.borderColor=O.grid.color}if(O.grid.tickColor==null){O.grid.tickColor=f.color.parse(O.grid.color).scale("a",0.22).toString()}var aB,aI,aG,aF=T.css("font-size"),aE=aF?+aF.replace("px",""):13,aC={style:T.css("font-style"),size:Math.round(0.8*aE),variant:T.css("font-variant"),weight:T.css("font-weight"),family:T.css("font-family")};aG=O.xaxes.length||1;for(aB=0;aB<aG;++aB){aI=O.xaxes[aB];if(aI&&!aI.tickColor){aI.tickColor=aI.color}aI=f.extend(true,{},O.xaxis,aI);O.xaxes[aB]=aI;if(aI.font){aI.font=f.extend({},aC,aI.font);if(!aI.font.color){aI.font.color=aI.color}if(!aI.font.lineHeight){aI.font.lineHeight=Math.round(aI.font.size*1.15)}}}aG=O.yaxes.length||1;for(aB=0;aB<aG;++aB){aI=O.yaxes[aB];if(aI&&!aI.tickColor){aI.tickColor=aI.color}aI=f.extend(true,{},O.yaxis,aI);O.yaxes[aB]=aI;if(aI.font){aI.font=f.extend({},aC,aI.font);if(!aI.font.color){aI.font.color=aI.color}if(!aI.font.lineHeight){aI.font.lineHeight=Math.round(aI.font.size*1.15)}}}if(O.xaxis.noTicks&&O.xaxis.ticks==null){O.xaxis.ticks=O.xaxis.noTicks}if(O.yaxis.noTicks&&O.yaxis.ticks==null){O.yaxis.ticks=O.yaxis.noTicks}if(O.x2axis){O.xaxes[1]=f.extend(true,{},O.xaxis,O.x2axis);O.xaxes[1].position="top"}if(O.y2axis){O.yaxes[1]=f.extend(true,{},O.yaxis,O.y2axis);O.yaxes[1].position="right"}if(O.grid.coloredAreas){O.grid.markings=O.grid.coloredAreas}if(O.grid.coloredAreasColor){O.grid.markingsColor=O.grid.coloredAreasColor}if(O.lines){f.extend(true,O.series.lines,O.lines)}if(O.points){f.extend(true,O.series.points,O.points)}if(O.bars){f.extend(true,O.series.bars,O.bars)}if(O.shadowSize!=null){O.series.shadowSize=O.shadowSize}if(O.highlightColor!=null){O.series.highlightColor=O.highlightColor}for(aB=0;aB<O.xaxes.length;++aB){P(ar,aB+1).options=O.xaxes[aB]}for(aB=0;aB<O.yaxes.length;++aB){P(Z,aB+1).options=O.yaxes[aB]}for(var aH in r){if(O.hooks[aH]&&O.hooks[aH].length){r[aH]=r[aH].concat(O.hooks[aH])}}I(r.processOptions,[O])}function N(aB){w=s(aB);B();V()}function s(aE){var aC=[];for(var aB=0;aB<aE.length;++aB){var aD=f.extend(true,{},O.series);if(aE[aB].data!=null){aD.data=aE[aB].data;delete aE[aB].data;f.extend(true,aD,aE[aB]);aE[aB].data=aD.data}else{aD.data=aE[aB]}aC.push(aD)}return aC}function A(aC,aD){var aB=aC[aD+"axis"];if(typeof aB=="object"){aB=aB.n}if(typeof aB!="number"){aB=1}return aB}function k(){return f.grep(ar.concat(Z),function(aB){return aB})}function ab(aE){var aC={},aB,aD;for(aB=0;aB<ar.length;++aB){aD=ar[aB];if(aD&&aD.used){aC["x"+aD.n]=aD.c2p(aE.left)}}for(aB=0;aB<Z.length;++aB){aD=Z[aB];if(aD&&aD.used){aC["y"+aD.n]=aD.c2p(aE.top)}}if(aC.x1!==undefined){aC.x=aC.x1}if(aC.y1!==undefined){aC.y=aC.y1}return aC}function U(aF){var aD={},aC,aE,aB;for(aC=0;aC<ar.length;++aC){aE=ar[aC];if(aE&&aE.used){aB="x"+aE.n;if(aF[aB]==null&&aE.n==1){aB="x"}if(aF[aB]!=null){aD.left=aE.p2c(aF[aB]);break}}}for(aC=0;aC<Z.length;++aC){aE=Z[aC];if(aE&&aE.used){aB="y"+aE.n;if(aF[aB]==null&&aE.n==1){aB="y"}if(aF[aB]!=null){aD.top=aE.p2c(aF[aB]);break}}}return aD}function P(aC,aB){if(!aC[aB-1]){aC[aB-1]={n:aB,direction:aC==ar?"x":"y",options:f.extend(true,{},aC==ar?O.xaxis:O.yaxis)}}return aC[aB-1]}function B(){var aM=w.length,aD=-1,aE;for(aE=0;aE<w.length;++aE){var aJ=w[aE].color;if(aJ!=null){aM--;if(typeof aJ=="number"&&aJ>aD){aD=aJ}}}if(aM<=aD){aM=aD+1}var aI,aB=[],aH=O.colors,aG=aH.length,aC=0;for(aE=0;aE<aM;aE++){aI=f.color.parse(aH[aE%aG]||"#666");if(aE%aG==0&&aE){if(aC>=0){if(aC<0.5){aC=-aC-0.2}else{aC=0}}else{aC=-aC}}aB[aE]=aI.scale("rgb",1+aC)}var aF=0,aN;for(aE=0;aE<w.length;++aE){aN=w[aE];if(aN.color==null){aN.color=aB[aF].toString();++aF}else{if(typeof aN.color=="number"){aN.color=aB[aN.color].toString()}}if(aN.lines.show==null){var aL,aK=true;for(aL in aN){if(aN[aL]&&aN[aL].show){aK=false;break}}if(aK){aN.lines.show=true}}if(aN.lines.zero==null){aN.lines.zero=!!aN.lines.fill}aN.xaxis=P(ar,A(aN,"x"));aN.yaxis=P(Z,A(aN,"y"))}}function V(){var aP=Number.POSITIVE_INFINITY,aJ=Number.NEGATIVE_INFINITY,aB=Number.MAX_VALUE,aW,aU,aT,aO,aD,aK,aV,aQ,aI,aH,aC,a2,aZ,aM,a1,aY;function aF(a5,a4,a3){if(a4<a5.datamin&&a4!=-aB){a5.datamin=a4}if(a3>a5.datamax&&a3!=aB){a5.datamax=a3}}f.each(k(),function(a3,a4){a4.datamin=aP;a4.datamax=aJ;a4.used=false});for(aW=0;aW<w.length;++aW){aK=w[aW];aK.datapoints={points:[]};I(r.processRawData,[aK,aK.data,aK.datapoints])}for(aW=0;aW<w.length;++aW){aK=w[aW];a1=aK.data;aY=aK.datapoints.format;if(!aY){aY=[];aY.push({x:true,number:true,required:true});aY.push({y:true,number:true,required:true});if(aK.bars.show||(aK.lines.show&&aK.lines.fill)){var aR=!!((aK.bars.show&&aK.bars.zero)||(aK.lines.show&&aK.lines.zero));aY.push({y:true,number:true,required:false,defaultValue:0,autoscale:aR});if(aK.bars.horizontal){delete aY[aY.length-1].y;aY[aY.length-1].x=true}}aK.datapoints.format=aY}if(aK.datapoints.pointsize!=null){continue}aK.datapoints.pointsize=aY.length;aQ=aK.datapoints.pointsize;aV=aK.datapoints.points;var aG=aK.lines.show&&aK.lines.steps;aK.xaxis.used=aK.yaxis.used=true;for(aU=aT=0;aU<a1.length;++aU,aT+=aQ){aM=a1[aU];var aE=aM==null;if(!aE){for(aO=0;aO<aQ;++aO){a2=aM[aO];aZ=aY[aO];if(aZ){if(aZ.number&&a2!=null){a2=+a2;if(isNaN(a2)){a2=null}else{if(a2==Infinity){a2=aB}else{if(a2==-Infinity){a2=-aB}}}}if(a2==null){if(aZ.required){aE=true}if(aZ.defaultValue!=null){a2=aZ.defaultValue}}}aV[aT+aO]=a2}}if(aE){for(aO=0;aO<aQ;++aO){a2=aV[aT+aO];if(a2!=null){aZ=aY[aO];if(aZ.autoscale!==false){if(aZ.x){aF(aK.xaxis,a2,a2)}if(aZ.y){aF(aK.yaxis,a2,a2)}}}aV[aT+aO]=null}}else{if(aG&&aT>0&&aV[aT-aQ]!=null&&aV[aT-aQ]!=aV[aT]&&aV[aT-aQ+1]!=aV[aT+1]){for(aO=0;aO<aQ;++aO){aV[aT+aQ+aO]=aV[aT+aO]}aV[aT+1]=aV[aT-aQ+1];aT+=aQ}}}}for(aW=0;aW<w.length;++aW){aK=w[aW];I(r.processDatapoints,[aK,aK.datapoints])}for(aW=0;aW<w.length;++aW){aK=w[aW];aV=aK.datapoints.points;aQ=aK.datapoints.pointsize;aY=aK.datapoints.format;var aL=aP,aS=aP,aN=aJ,aX=aJ;for(aU=0;aU<aV.length;aU+=aQ){if(aV[aU]==null){continue}for(aO=0;aO<aQ;++aO){a2=aV[aU+aO];aZ=aY[aO];if(!aZ||aZ.autoscale===false||a2==aB||a2==-aB){continue}if(aZ.x){if(a2<aL){aL=a2}if(a2>aN){aN=a2}}if(aZ.y){if(a2<aS){aS=a2}if(a2>aX){aX=a2}}}}if(aK.bars.show){var a0;switch(aK.bars.align){case"left":a0=0;break;case"right":a0=-aK.bars.barWidth;break;default:a0=-aK.bars.barWidth/2}if(aK.bars.horizontal){aS+=a0;aX+=a0+aK.bars.barWidth}else{aL+=a0;aN+=a0+aK.bars.barWidth}}aF(aK.xaxis,aL,aN);aF(aK.yaxis,aS,aX)}f.each(k(),function(a3,a4){if(a4.datamin==aP){a4.datamin=null}if(a4.datamax==aJ){a4.datamax=null}})}function aA(){T.css("padding",0).children().filter(function(){return !f(this).hasClass("flot-overlay")&&!f(this).hasClass("flot-base")}).remove();if(T.css("position")=="static"){T.css("position","relative")}af=new b("flot-base",T);ao=new b("flot-overlay",T);G=af.context;az=ao.context;ap=f(ao.element).unbind();var aB=T.data("plot");if(aB){aB.shutdown();ao.clear()}T.data("plot",i)}function av(){if(O.grid.hoverable){ap.mousemove(g);ap.bind("mouseleave",S)}if(O.grid.clickable){ap.click(L)}I(r.bindEvents,[ap])}function q(){if(m){clearTimeout(m)}ap.unbind("mousemove",g);ap.unbind("mouseleave",S);ap.unbind("click",L);I(r.shutdown,[ap])}function o(aG){function aC(aH){return aH}var aF,aB,aD=aG.options.transform||aC,aE=aG.options.inverseTransform;if(aG.direction=="x"){aF=aG.scale=l/Math.abs(aD(aG.max)-aD(aG.min));aB=Math.min(aD(aG.max),aD(aG.min))}else{aF=aG.scale=ag/Math.abs(aD(aG.max)-aD(aG.min));aF=-aF;aB=Math.max(aD(aG.max),aD(aG.min))}if(aD==aC){aG.p2c=function(aH){return(aH-aB)*aF}}else{aG.p2c=function(aH){return(aD(aH)-aB)*aF}}if(!aE){aG.c2p=function(aH){return aB+aH/aF}}else{aG.c2p=function(aH){return aE(aB+aH/aF)}}}function ac(aE){var aB=aE.options,aK=aE.ticks||[],aJ=aB.labelWidth||0,aF=aB.labelHeight||0,aL=aJ||(aE.direction=="x"?Math.floor(af.width/(aK.length||1)):null),aH=aE.direction+"Axis "+aE.direction+aE.n+"Axis",aI="flot-"+aE.direction+"-axis flot-"+aE.direction+aE.n+"-axis "+aH,aD=aB.font||"flot-tick-label tickLabel";for(var aG=0;aG<aK.length;++aG){var aM=aK[aG];if(!aM.label){continue}var aC=af.getTextInfo(aI,aM.label,aD,null,aL);aJ=Math.max(aJ,aC.width);aF=Math.max(aF,aC.height)}aE.labelWidth=aB.labelWidth||aJ;aE.labelHeight=aB.labelHeight||aF}function H(aD){var aC=aD.labelWidth,aK=aD.labelHeight,aI=aD.options.position,aB=aD.direction==="x",aG=aD.options.tickLength,aH=O.grid.axisMargin,aJ=O.grid.labelMargin,aM=true,aF=true,aE=true,aL=false;f.each(aB?ar:Z,function(aO,aN){if(aN&&aN.reserveSpace){if(aN===aD){aL=true}else{if(aN.options.position===aI){if(aL){aF=false}else{aM=false}}}if(!aL){aE=false}}});if(aF){aH=0}if(aG==null){aG=aE?"full":5}if(!isNaN(+aG)){aJ+=+aG}if(aB){aK+=aJ;if(aI=="bottom"){M.bottom+=aK+aH;aD.box={top:af.height-M.bottom,height:aK}}else{aD.box={top:M.top+aH,height:aK};M.top+=aK+aH}}else{aC+=aJ;if(aI=="left"){aD.box={left:M.left+aH,width:aC};M.left+=aC+aH}else{M.right+=aC+aH;aD.box={left:af.width-M.right,width:aC}}}aD.position=aI;aD.tickLength=aG;aD.box.padding=aJ;aD.innermost=aM}function ae(aB){if(aB.direction=="x"){aB.box.left=M.left-aB.labelWidth/2;aB.box.width=af.width-M.left-M.right+aB.labelWidth}else{aB.box.top=M.top-aB.labelHeight/2;aB.box.height=af.height-M.bottom-M.top+aB.labelHeight}}function E(){var aD=O.grid.minBorderMargin,aC,aB;if(aD==null){aD=0;for(aB=0;aB<w.length;++aB){aD=Math.max(aD,2*(w[aB].points.radius+w[aB].points.lineWidth/2))}}var aE={left:aD,right:aD,top:aD,bottom:aD};f.each(k(),function(aF,aH){if(aH.reserveSpace&&aH.ticks&&aH.ticks.length){var aG=aH.ticks[aH.ticks.length-1];if(aH.direction==="x"){aE.left=Math.max(aE.left,aH.labelWidth/2);if(aG.v<=aH.max){aE.right=Math.max(aE.right,aH.labelWidth/2)}}else{aE.bottom=Math.max(aE.bottom,aH.labelHeight/2);if(aG.v<=aH.max){aE.top=Math.max(aE.top,aH.labelHeight/2)}}}});M.left=Math.ceil(Math.max(aE.left,M.left));M.right=Math.ceil(Math.max(aE.right,M.right));M.top=Math.ceil(Math.max(aE.top,M.top));M.bottom=Math.ceil(Math.max(aE.bottom,M.bottom))}function R(){var aD,aF=k(),aG=O.grid.show;for(var aC in M){var aE=O.grid.margin||0;M[aC]=typeof aE=="number"?aE:aE[aC]||0}I(r.processOffset,[M]);for(var aC in M){if(typeof(O.grid.borderWidth)=="object"){M[aC]+=aG?O.grid.borderWidth[aC]:0}else{M[aC]+=aG?O.grid.borderWidth:0}}f.each(aF,function(aH,aI){aI.show=aI.options.show;if(aI.show==null){aI.show=aI.used}aI.reserveSpace=aI.show||aI.options.reserveSpace;n(aI)});if(aG){var aB=f.grep(aF,function(aH){return aH.reserveSpace});f.each(aB,function(aH,aI){au(aI);Y(aI);x(aI,aI.ticks);ac(aI)});for(aD=aB.length-1;aD>=0;--aD){H(aB[aD])}E();f.each(aB,function(aH,aI){ae(aI)})}l=af.width-M.left-M.right;ag=af.height-M.bottom-M.top;f.each(aF,function(aH,aI){o(aI)});if(aG){aw()}ay()}function n(aE){var aF=aE.options,aD=+(aF.min!=null?aF.min:aE.datamin),aB=+(aF.max!=null?aF.max:aE.datamax),aH=aB-aD;if(aH==0){var aC=aB==0?1:0.01;if(aF.min==null){aD-=aC}if(aF.max==null||aF.min!=null){aB+=aC}}else{var aG=aF.autoscaleMargin;if(aG!=null){if(aF.min==null){aD-=aH*aG;if(aD<0&&aE.datamin!=null&&aE.datamin>=0){aD=0}}if(aF.max==null){aB+=aH*aG;if(aB>0&&aE.datamax!=null&&aE.datamax<=0){aB=0}}}}aE.min=aD;aE.max=aB}function au(aG){var aC=aG.options;var aF;if(typeof aC.ticks=="number"&&aC.ticks>0){aF=aC.ticks}else{aF=0.3*Math.sqrt(aG.direction=="x"?af.width:af.height)}var aL=(aG.max-aG.min)/aF,aH=-Math.floor(Math.log(aL)/Math.LN10),aE=aC.tickDecimals;if(aE!=null&&aH>aE){aH=aE}var aB=Math.pow(10,-aH),aD=aL/aB,aN;if(aD<1.5){aN=1}else{if(aD<3){aN=2;if(aD>2.25&&(aE==null||aH+1<=aE)){aN=2.5;++aH}}else{if(aD<7.5){aN=5}else{aN=10}}}aN*=aB;if(aC.minTickSize!=null&&aN<aC.minTickSize){aN=aC.minTickSize}aG.delta=aL;aG.tickDecimals=Math.max(0,aE!=null?aE:aH);aG.tickSize=aC.tickSize||aN;if(aC.mode=="time"&&!aG.tickGenerator){throw new Error("Time mode requires the flot.time plugin.")}if(!aG.tickGenerator){aG.tickGenerator=function(aQ){var aS=[],aT=c(aQ.min,aQ.tickSize),aP=0,aO=Number.NaN,aR;do{aR=aO;aO=aT+aP*aQ.tickSize;aS.push(aO);++aP}while(aO<aQ.max&&aO!=aR);return aS};aG.tickFormatter=function(aT,aR){var aQ=aR.tickDecimals?Math.pow(10,aR.tickDecimals):1;var aS=""+Math.round(aT*aQ)/aQ;if(aR.tickDecimals!=null){var aP=aS.indexOf(".");var aO=aP==-1?0:aS.length-aP-1;if(aO<aR.tickDecimals){return(aO?aS:aS+".")+(""+aQ).substr(1,aR.tickDecimals-aO)}}return aS}}if(f.isFunction(aC.tickFormatter)){aG.tickFormatter=function(aO,aP){return""+aC.tickFormatter(aO,aP)}}if(aC.alignTicksWithAxis!=null){var aI=(aG.direction=="x"?ar:Z)[aC.alignTicksWithAxis-1];if(aI&&aI.used&&aI!=aG){var aM=aG.tickGenerator(aG);if(aM.length>0){if(aC.min==null){aG.min=Math.min(aG.min,aM[0])}if(aC.max==null&&aM.length>1){aG.max=Math.max(aG.max,aM[aM.length-1])}}aG.tickGenerator=function(aQ){var aR=[],aO,aP;for(aP=0;aP<aI.ticks.length;++aP){aO=(aI.ticks[aP].v-aI.min)/(aI.max-aI.min);aO=aQ.min+aO*(aQ.max-aQ.min);aR.push(aO)}return aR};if(!aG.mode&&aC.tickDecimals==null){var aK=Math.max(0,-Math.floor(Math.log(aG.delta)/Math.LN10)+1),aJ=aG.tickGenerator(aG);if(!(aJ.length>1&&/\..*0$/.test((aJ[1]-aJ[0]).toFixed(aK)))){aG.tickDecimals=aK}}}}}function Y(aF){var aH=aF.options.ticks,aG=[];if(aH==null||(typeof aH=="number"&&aH>0)){aG=aF.tickGenerator(aF)}else{if(aH){if(f.isFunction(aH)){aG=aH(aF)}else{aG=aH}}}var aE,aB;aF.ticks=[];for(aE=0;aE<aG.length;++aE){var aC=null;var aD=aG[aE];if(typeof aD=="object"){aB=+aD[0];if(aD.length>1){aC=aD[1]}}else{aB=+aD}if(aC==null){aC=aF.tickFormatter(aB,aF)}if(!isNaN(aB)){aF.ticks.push({v:aB,label:aC})}}}function x(aB,aC){if(aB.options.autoscaleMargin&&aC.length>0){if(aB.options.min==null){aB.min=Math.min(aB.min,aC[0].v)}if(aB.options.max==null&&aC.length>1){aB.max=Math.max(aB.max,aC[aC.length-1].v)}}}function ax(){af.clear();I(r.drawBackground,[G]);var aC=O.grid;if(aC.show&&aC.backgroundColor){u()}if(aC.show&&!aC.aboveData){z()}for(var aB=0;aB<w.length;++aB){I(r.drawSeries,[G,w[aB]]);am(w[aB])}I(r.draw,[G]);if(aC.show&&aC.aboveData){z()}af.render();aa()}function v(aB,aF){var aC,aH,aI,aJ,aG=k();for(var aE=0;aE<aG.length;++aE){aC=aG[aE];if(aC.direction==aF){aJ=aF+aC.n+"axis";if(!aB[aJ]&&aC.n==1){aJ=aF+"axis"}if(aB[aJ]){aH=aB[aJ].from;aI=aB[aJ].to;break}}}if(!aB[aJ]){aC=aF=="x"?ar[0]:Z[0];aH=aB[aF+"1"];aI=aB[aF+"2"]}if(aH!=null&&aI!=null&&aH>aI){var aD=aH;aH=aI;aI=aD}return{from:aH,to:aI,axis:aC}}function u(){G.save();G.translate(M.left,M.top);G.fillStyle=y(O.grid.backgroundColor,ag,0,"rgba(255, 255, 255, 0)");G.fillRect(0,0,l,ag);G.restore()}function z(){var aF,aL,aN,aJ;G.save();G.translate(M.left,M.top);var aH=O.grid.markings;if(aH){if(f.isFunction(aH)){aL=i.getAxes();aL.xmin=aL.xaxis.min;aL.xmax=aL.xaxis.max;aL.ymin=aL.yaxis.min;aL.ymax=aL.yaxis.max;aH=aH(aL)}for(aF=0;aF<aH.length;++aF){var aD=aH[aF],aC=v(aD,"x"),aI=v(aD,"y");if(aC.from==null){aC.from=aC.axis.min}if(aC.to==null){aC.to=aC.axis.max}if(aI.from==null){aI.from=aI.axis.min}if(aI.to==null){aI.to=aI.axis.max}if(aC.to<aC.axis.min||aC.from>aC.axis.max||aI.to<aI.axis.min||aI.from>aI.axis.max){continue}aC.from=Math.max(aC.from,aC.axis.min);aC.to=Math.min(aC.to,aC.axis.max);aI.from=Math.max(aI.from,aI.axis.min);aI.to=Math.min(aI.to,aI.axis.max);if(aC.from==aC.to&&aI.from==aI.to){continue}aC.from=aC.axis.p2c(aC.from);aC.to=aC.axis.p2c(aC.to);aI.from=aI.axis.p2c(aI.from);aI.to=aI.axis.p2c(aI.to);if(aC.from==aC.to||aI.from==aI.to){G.beginPath();G.strokeStyle=aD.color||O.grid.markingsColor;G.lineWidth=aD.lineWidth||O.grid.markingsLineWidth;G.moveTo(aC.from,aI.from);G.lineTo(aC.to,aI.to);G.stroke()}else{G.fillStyle=aD.color||O.grid.markingsColor;G.fillRect(aC.from,aI.to,aC.to-aC.from,aI.from-aI.to)}}}aL=k();aN=O.grid.borderWidth;for(var aE=0;aE<aL.length;++aE){var aB=aL[aE],aG=aB.box,aR=aB.tickLength,aO,aM,aQ,aK;if(!aB.show||aB.ticks.length==0){continue}G.lineWidth=1;if(aB.direction=="x"){aO=0;if(aR=="full"){aM=(aB.position=="top"?0:ag)}else{aM=aG.top-M.top+(aB.position=="top"?aG.height:0)}}else{aM=0;if(aR=="full"){aO=(aB.position=="left"?0:l)}else{aO=aG.left-M.left+(aB.position=="left"?aG.width:0)}}if(!aB.innermost){G.strokeStyle=aB.options.color;G.beginPath();aQ=aK=0;if(aB.direction=="x"){aQ=l+1}else{aK=ag+1}if(G.lineWidth==1){if(aB.direction=="x"){aM=Math.floor(aM)+0.5}else{aO=Math.floor(aO)+0.5}}G.moveTo(aO,aM);G.lineTo(aO+aQ,aM+aK);G.stroke()}G.strokeStyle=aB.options.tickColor;G.beginPath();for(aF=0;aF<aB.ticks.length;++aF){var aP=aB.ticks[aF].v;aQ=aK=0;if(isNaN(aP)||aP<aB.min||aP>aB.max||(aR=="full"&&((typeof aN=="object"&&aN[aB.position]>0)||aN>0)&&(aP==aB.min||aP==aB.max))){continue}if(aB.direction=="x"){aO=aB.p2c(aP);aK=aR=="full"?-ag:aR;if(aB.position=="top"){aK=-aK}}else{aM=aB.p2c(aP);aQ=aR=="full"?-l:aR;if(aB.position=="left"){aQ=-aQ}}if(G.lineWidth==1){if(aB.direction=="x"){aO=Math.floor(aO)+0.5}else{aM=Math.floor(aM)+0.5}}G.moveTo(aO,aM);G.lineTo(aO+aQ,aM+aK)}G.stroke()}if(aN){aJ=O.grid.borderColor;if(typeof aN=="object"||typeof aJ=="object"){if(typeof aN!=="object"){aN={top:aN,right:aN,bottom:aN,left:aN}}if(typeof aJ!=="object"){aJ={top:aJ,right:aJ,bottom:aJ,left:aJ}}if(aN.top>0){G.strokeStyle=aJ.top;G.lineWidth=aN.top;G.beginPath();G.moveTo(0-aN.left,0-aN.top/2);G.lineTo(l,0-aN.top/2);G.stroke()}if(aN.right>0){G.strokeStyle=aJ.right;G.lineWidth=aN.right;G.beginPath();G.moveTo(l+aN.right/2,0-aN.top);G.lineTo(l+aN.right/2,ag);G.stroke()}if(aN.bottom>0){G.strokeStyle=aJ.bottom;G.lineWidth=aN.bottom;G.beginPath();G.moveTo(l+aN.right,ag+aN.bottom/2);G.lineTo(0,ag+aN.bottom/2);G.stroke()}if(aN.left>0){G.strokeStyle=aJ.left;G.lineWidth=aN.left;G.beginPath();G.moveTo(0-aN.left/2,ag+aN.bottom);G.lineTo(0-aN.left/2,0);G.stroke()}}else{G.lineWidth=aN;G.strokeStyle=O.grid.borderColor;G.strokeRect(-aN/2,-aN/2,l+aN,ag+aN)}}G.restore()}function aw(){f.each(k(),function(aM,aC){var aF=aC.box,aE=aC.direction+"Axis "+aC.direction+aC.n+"Axis",aI="flot-"+aC.direction+"-axis flot-"+aC.direction+aC.n+"-axis "+aE,aB=aC.options.font||"flot-tick-label tickLabel",aG,aL,aJ,aH,aK;af.removeText(aI);if(!aC.show||aC.ticks.length==0){return}for(var aD=0;aD<aC.ticks.length;++aD){aG=aC.ticks[aD];if(!aG.label||aG.v<aC.min||aG.v>aC.max){continue}if(aC.direction=="x"){aH="center";aL=M.left+aC.p2c(aG.v);if(aC.position=="bottom"){aJ=aF.top+aF.padding}else{aJ=aF.top+aF.height-aF.padding;aK="bottom"}}else{aK="middle";aJ=M.top+aC.p2c(aG.v);if(aC.position=="left"){aL=aF.left+aF.width-aF.padding;aH="right"}else{aL=aF.left+aF.padding}}af.addText(aI,aL,aJ,aG.label,aB,null,null,aH,aK)}})}function am(aB){if(aB.lines.show){J(aB)}if(aB.bars.show){W(aB)}if(aB.points.show){X(aB)}}function J(aE){function aD(aP,aQ,aI,aU,aT){var aV=aP.points,aJ=aP.pointsize,aN=null,aM=null;G.beginPath();for(var aO=aJ;aO<aV.length;aO+=aJ){var aL=aV[aO-aJ],aS=aV[aO-aJ+1],aK=aV[aO],aR=aV[aO+1];if(aL==null||aK==null){continue}if(aS<=aR&&aS<aT.min){if(aR<aT.min){continue}aL=(aT.min-aS)/(aR-aS)*(aK-aL)+aL;aS=aT.min}else{if(aR<=aS&&aR<aT.min){if(aS<aT.min){continue}aK=(aT.min-aS)/(aR-aS)*(aK-aL)+aL;aR=aT.min}}if(aS>=aR&&aS>aT.max){if(aR>aT.max){continue}aL=(aT.max-aS)/(aR-aS)*(aK-aL)+aL;aS=aT.max}else{if(aR>=aS&&aR>aT.max){if(aS>aT.max){continue}aK=(aT.max-aS)/(aR-aS)*(aK-aL)+aL;aR=aT.max}}if(aL<=aK&&aL<aU.min){if(aK<aU.min){continue}aS=(aU.min-aL)/(aK-aL)*(aR-aS)+aS;aL=aU.min}else{if(aK<=aL&&aK<aU.min){if(aL<aU.min){continue}aR=(aU.min-aL)/(aK-aL)*(aR-aS)+aS;aK=aU.min}}if(aL>=aK&&aL>aU.max){if(aK>aU.max){continue}aS=(aU.max-aL)/(aK-aL)*(aR-aS)+aS;aL=aU.max}else{if(aK>=aL&&aK>aU.max){if(aL>aU.max){continue}aR=(aU.max-aL)/(aK-aL)*(aR-aS)+aS;aK=aU.max}}if(aL!=aN||aS!=aM){G.moveTo(aU.p2c(aL)+aQ,aT.p2c(aS)+aI)}aN=aK;aM=aR;G.lineTo(aU.p2c(aK)+aQ,aT.p2c(aR)+aI)}G.stroke()}function aF(aI,aQ,aP){var aW=aI.points,aV=aI.pointsize,aN=Math.min(Math.max(0,aP.min),aP.max),aX=0,aU,aT=false,aM=1,aL=0,aR=0;while(true){if(aV>0&&aX>aW.length+aV){break}aX+=aV;var aZ=aW[aX-aV],aK=aW[aX-aV+aM],aY=aW[aX],aJ=aW[aX+aM];if(aT){if(aV>0&&aZ!=null&&aY==null){aR=aX;aV=-aV;aM=2;continue}if(aV<0&&aX==aL+aV){G.fill();aT=false;aV=-aV;aM=1;aX=aL=aR+aV;continue}}if(aZ==null||aY==null){continue}if(aZ<=aY&&aZ<aQ.min){if(aY<aQ.min){continue}aK=(aQ.min-aZ)/(aY-aZ)*(aJ-aK)+aK;aZ=aQ.min}else{if(aY<=aZ&&aY<aQ.min){if(aZ<aQ.min){continue}aJ=(aQ.min-aZ)/(aY-aZ)*(aJ-aK)+aK;aY=aQ.min}}if(aZ>=aY&&aZ>aQ.max){if(aY>aQ.max){continue}aK=(aQ.max-aZ)/(aY-aZ)*(aJ-aK)+aK;aZ=aQ.max}else{if(aY>=aZ&&aY>aQ.max){if(aZ>aQ.max){continue}aJ=(aQ.max-aZ)/(aY-aZ)*(aJ-aK)+aK;aY=aQ.max}}if(!aT){G.beginPath();G.moveTo(aQ.p2c(aZ),aP.p2c(aN));aT=true}if(aK>=aP.max&&aJ>=aP.max){G.lineTo(aQ.p2c(aZ),aP.p2c(aP.max));G.lineTo(aQ.p2c(aY),aP.p2c(aP.max));continue}else{if(aK<=aP.min&&aJ<=aP.min){G.lineTo(aQ.p2c(aZ),aP.p2c(aP.min));G.lineTo(aQ.p2c(aY),aP.p2c(aP.min));continue}}var aO=aZ,aS=aY;if(aK<=aJ&&aK<aP.min&&aJ>=aP.min){aZ=(aP.min-aK)/(aJ-aK)*(aY-aZ)+aZ;aK=aP.min}else{if(aJ<=aK&&aJ<aP.min&&aK>=aP.min){aY=(aP.min-aK)/(aJ-aK)*(aY-aZ)+aZ;aJ=aP.min}}if(aK>=aJ&&aK>aP.max&&aJ<=aP.max){aZ=(aP.max-aK)/(aJ-aK)*(aY-aZ)+aZ;aK=aP.max}else{if(aJ>=aK&&aJ>aP.max&&aK<=aP.max){aY=(aP.max-aK)/(aJ-aK)*(aY-aZ)+aZ;aJ=aP.max}}if(aZ!=aO){G.lineTo(aQ.p2c(aO),aP.p2c(aK))}G.lineTo(aQ.p2c(aZ),aP.p2c(aK));G.lineTo(aQ.p2c(aY),aP.p2c(aJ));if(aY!=aS){G.lineTo(aQ.p2c(aY),aP.p2c(aJ));G.lineTo(aQ.p2c(aS),aP.p2c(aJ))}}}G.save();G.translate(M.left,M.top);G.lineJoin="round";var aG=aE.lines.lineWidth,aB=aE.shadowSize;if(aG>0&&aB>0){G.lineWidth=aB;G.strokeStyle="rgba(0,0,0,0.1)";var aH=Math.PI/18;aD(aE.datapoints,Math.sin(aH)*(aG/2+aB/2),Math.cos(aH)*(aG/2+aB/2),aE.xaxis,aE.yaxis);G.lineWidth=aB/2;aD(aE.datapoints,Math.sin(aH)*(aG/2+aB/4),Math.cos(aH)*(aG/2+aB/4),aE.xaxis,aE.yaxis)}G.lineWidth=aG;G.strokeStyle=aE.color;var aC=C(aE.lines,aE.color,0,ag);if(aC){G.fillStyle=aC;aF(aE.datapoints,aE.xaxis,aE.yaxis)}if(aG>0){aD(aE.datapoints,0,0,aE.xaxis,aE.yaxis)}G.restore()}function X(aE){function aH(aN,aM,aU,aK,aS,aT,aQ,aJ){var aR=aN.points,aI=aN.pointsize;for(var aL=0;aL<aR.length;aL+=aI){var aP=aR[aL],aO=aR[aL+1];if(aP==null||aP<aT.min||aP>aT.max||aO<aQ.min||aO>aQ.max){continue}G.beginPath();aP=aT.p2c(aP);aO=aQ.p2c(aO)+aK;if(aJ=="circle"){G.arc(aP,aO,aM,0,aS?Math.PI:Math.PI*2,false)}else{aJ(G,aP,aO,aM,aS)}G.closePath();if(aU){G.fillStyle=aU;G.fill()}G.stroke()}}G.save();G.translate(M.left,M.top);var aG=aE.points.lineWidth,aC=aE.shadowSize,aB=aE.points.radius,aF=aE.points.symbol;if(aG==0){aG=0.0001}if(aG>0&&aC>0){var aD=aC/2;G.lineWidth=aD;G.strokeStyle="rgba(0,0,0,0.1)";aH(aE.datapoints,aB,null,aD+aD/2,true,aE.xaxis,aE.yaxis,aF);G.strokeStyle="rgba(0,0,0,0.2)";aH(aE.datapoints,aB,null,aD/2,true,aE.xaxis,aE.yaxis,aF)}G.lineWidth=aG;G.strokeStyle=aE.color;aH(aE.datapoints,aB,C(aE.points,aE.color),0,false,aE.xaxis,aE.yaxis,aF);G.restore()}function an(aM,aL,aU,aH,aP,aD,aK,aJ,aT,aQ,aC){var aE,aS,aI,aO,aF,aB,aN,aG,aR;if(aQ){aG=aB=aN=true;aF=false;aE=aU;aS=aM;aO=aL+aH;aI=aL+aP;if(aS<aE){aR=aS;aS=aE;aE=aR;aF=true;aB=false}}else{aF=aB=aN=true;aG=false;aE=aM+aH;aS=aM+aP;aI=aU;aO=aL;if(aO<aI){aR=aO;aO=aI;aI=aR;aG=true;aN=false}}if(aS<aK.min||aE>aK.max||aO<aJ.min||aI>aJ.max){return}if(aE<aK.min){aE=aK.min;aF=false}if(aS>aK.max){aS=aK.max;aB=false}if(aI<aJ.min){aI=aJ.min;aG=false}if(aO>aJ.max){aO=aJ.max;aN=false}aE=aK.p2c(aE);aI=aJ.p2c(aI);aS=aK.p2c(aS);aO=aJ.p2c(aO);if(aD){aT.fillStyle=aD(aI,aO);aT.fillRect(aE,aO,aS-aE,aI-aO)}if(aC>0&&(aF||aB||aN||aG)){aT.beginPath();aT.moveTo(aE,aI);if(aF){aT.lineTo(aE,aO)}else{aT.moveTo(aE,aO)}if(aN){aT.lineTo(aS,aO)}else{aT.moveTo(aS,aO)}if(aB){aT.lineTo(aS,aI)}else{aT.moveTo(aS,aI)}if(aG){aT.lineTo(aE,aI)}else{aT.moveTo(aE,aI)}aT.stroke()}}function W(aD){function aC(aI,aH,aK,aJ,aM,aL){var aN=aI.points,aF=aI.pointsize;for(var aG=0;aG<aN.length;aG+=aF){if(aN[aG]==null){continue}an(aN[aG],aN[aG+1],aN[aG+2],aH,aK,aJ,aM,aL,G,aD.bars.horizontal,aD.bars.lineWidth)}}G.save();G.translate(M.left,M.top);G.lineWidth=aD.bars.lineWidth;G.strokeStyle=aD.color;var aB;switch(aD.bars.align){case"left":aB=0;break;case"right":aB=-aD.bars.barWidth;break;default:aB=-aD.bars.barWidth/2}var aE=aD.bars.fill?function(aF,aG){return C(aD.bars,aD.color,aF,aG)}:null;aC(aD.datapoints,aB,aB+aD.bars.barWidth,aE,aD.xaxis,aD.yaxis);G.restore()}function C(aD,aB,aC,aF){var aE=aD.fill;if(!aE){return null}if(aD.fillColor){return y(aD.fillColor,aC,aF,aB)}var aG=f.color.parse(aB);aG.a=typeof aE=="number"?aE:0.4;aG.normalize();return aG.toString()}function ay(){if(O.legend.container!=null){f(O.legend.container).html("")}else{T.find(".legend").remove()}if(!O.legend.show){return}var aJ=[],aG=[],aH=false,aQ=O.legend.labelFormatter,aP,aL;for(var aF=0;aF<w.length;++aF){aP=w[aF];if(aP.label){aL=aQ?aQ(aP.label,aP):aP.label;if(aL){aG.push({label:aL,color:aP.color})}}}if(O.legend.sorted){if(f.isFunction(O.legend.sorted)){aG.sort(O.legend.sorted)}else{if(O.legend.sorted=="reverse"){aG.reverse()}else{var aE=O.legend.sorted!="descending";aG.sort(function(aS,aR){return aS.label==aR.label?0:((aS.label<aR.label)!=aE?1:-1)})}}}for(var aF=0;aF<aG.length;++aF){var aN=aG[aF];if(aF%O.legend.noColumns==0){if(aH){aJ.push("</tr>")}aJ.push("<tr>");aH=true}aJ.push('<td class="legendColorBox"><div style="border:1px solid '+O.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+aN.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+aN.label+"</td>")}if(aH){aJ.push("</tr>")}if(aJ.length==0){return}var aO='<table style="font-size:smaller;color:'+O.grid.color+'">'+aJ.join("")+"</table>";if(O.legend.container!=null){f(O.legend.container).html(aO)}else{var aK="",aC=O.legend.position,aD=O.legend.margin;if(aD[0]==null){aD=[aD,aD]}if(aC.charAt(0)=="n"){aK+="top:"+(aD[1]+M.top)+"px;"}else{if(aC.charAt(0)=="s"){aK+="bottom:"+(aD[1]+M.bottom)+"px;"}}if(aC.charAt(1)=="e"){aK+="right:"+(aD[0]+M.right)+"px;"}else{if(aC.charAt(1)=="w"){aK+="left:"+(aD[0]+M.left)+"px;"}}var aM=f('<div class="legend">'+aO.replace('style="','style="position:absolute;'+aK+";")+"</div>").appendTo(T);if(O.legend.backgroundOpacity!=0){var aI=O.legend.backgroundColor;if(aI==null){aI=O.grid.backgroundColor;if(aI&&typeof aI=="string"){aI=f.color.parse(aI)}else{aI=f.color.extract(aM,"background-color")}aI.a=1;aI=aI.toString()}var aB=aM.children();f('<div style="position:absolute;width:'+aB.width()+"px;height:"+aB.height()+"px;"+aK+"background-color:"+aI+';"> </div>').prependTo(aM).css("opacity",O.legend.backgroundOpacity)}}}var aj=[],m=null;function at(aI,aG,aD){var aO=O.grid.mouseActiveRadius,a0=aO*aO+1,aY=null,aR=false,aW,aU,aT;for(aW=w.length-1;aW>=0;--aW){if(!aD(w[aW])){continue}var aP=w[aW],aH=aP.xaxis,aF=aP.yaxis,aV=aP.datapoints.points,aQ=aH.c2p(aI),aN=aF.c2p(aG),aC=aO/aH.scale,aB=aO/aF.scale;aT=aP.datapoints.pointsize;if(aH.options.inverseTransform){aC=Number.MAX_VALUE}if(aF.options.inverseTransform){aB=Number.MAX_VALUE}if(aP.lines.show||aP.points.show){for(aU=0;aU<aV.length;aU+=aT){var aK=aV[aU],aJ=aV[aU+1];if(aK==null){continue}if(aK-aQ>aC||aK-aQ<-aC||aJ-aN>aB||aJ-aN<-aB){continue}var aM=Math.abs(aH.p2c(aK)-aI),aL=Math.abs(aF.p2c(aJ)-aG),aS=aM*aM+aL*aL;if(aS<a0){a0=aS;aY=[aW,aU/aT]}}}if(aP.bars.show&&!aY){var aE,aX;switch(aP.bars.align){case"left":aE=0;break;case"right":aE=-aP.bars.barWidth;break;default:aE=-aP.bars.barWidth/2}aX=aE+aP.bars.barWidth;for(aU=0;aU<aV.length;aU+=aT){var aK=aV[aU],aJ=aV[aU+1],aZ=aV[aU+2];if(aK==null){continue}if(w[aW].bars.horizontal?(aQ<=Math.max(aZ,aK)&&aQ>=Math.min(aZ,aK)&&aN>=aJ+aE&&aN<=aJ+aX):(aQ>=aK+aE&&aQ<=aK+aX&&aN>=Math.min(aZ,aJ)&&aN<=Math.max(aZ,aJ))){aY=[aW,aU/aT]}}}}if(aY){aW=aY[0];aU=aY[1];aT=w[aW].datapoints.pointsize;return{datapoint:w[aW].datapoints.points.slice(aU*aT,(aU+1)*aT),dataIndex:aU,series:w[aW],seriesIndex:aW}}return null}function g(aB){if(O.grid.hoverable){j("plothover",aB,function(aC){return aC.hoverable!=false})}}function S(aB){if(O.grid.hoverable){j("plothover",aB,function(aC){return false})}}function L(aB){j("plotclick",aB,function(aC){return aC.clickable!=false})}function j(aC,aB,aD){var aE=ap.offset(),aH=aB.pageX-aE.left-M.left,aF=aB.pageY-aE.top-M.top,aJ=ab({left:aH,top:aF});aJ.pageX=aB.pageX;aJ.pageY=aB.pageY;var aK=at(aH,aF,aD);if(aK){aK.pageX=parseInt(aK.series.xaxis.p2c(aK.datapoint[0])+aE.left+M.left,10);aK.pageY=parseInt(aK.series.yaxis.p2c(aK.datapoint[1])+aE.top+M.top,10)}if(O.grid.autoHighlight){for(var aG=0;aG<aj.length;++aG){var aI=aj[aG];if(aI.auto==aC&&!(aK&&aI.series==aK.series&&aI.point[0]==aK.datapoint[0]&&aI.point[1]==aK.datapoint[1])){ak(aI.series,aI.point)}}if(aK){aq(aK.series,aK.datapoint,aC)}}T.trigger(aC,[aJ,aK])}function aa(){var aB=O.interaction.redrawOverlayInterval;if(aB==-1){ai();return}if(!m){m=setTimeout(ai,aB)}}function ai(){m=null;az.save();ao.clear();az.translate(M.left,M.top);var aC,aB;for(aC=0;aC<aj.length;++aC){aB=aj[aC];if(aB.series.bars.show){al(aB.series,aB.point)}else{ah(aB.series,aB.point)}}az.restore();I(r.drawOverlay,[az])}function aq(aD,aB,aF){if(typeof aD=="number"){aD=w[aD]}if(typeof aB=="number"){var aE=aD.datapoints.pointsize;aB=aD.datapoints.points.slice(aE*aB,aE*(aB+1))}var aC=Q(aD,aB);if(aC==-1){aj.push({series:aD,point:aB,auto:aF});aa()}else{if(!aF){aj[aC].auto=false}}}function ak(aD,aB){if(aD==null&&aB==null){aj=[];aa();return}if(typeof aD=="number"){aD=w[aD]}if(typeof aB=="number"){var aE=aD.datapoints.pointsize;aB=aD.datapoints.points.slice(aE*aB,aE*(aB+1))}var aC=Q(aD,aB);if(aC!=-1){aj.splice(aC,1);aa()}}function Q(aD,aE){for(var aB=0;aB<aj.length;++aB){var aC=aj[aB];if(aC.series==aD&&aC.point[0]==aE[0]&&aC.point[1]==aE[1]){return aB}}return -1}function ah(aB,aH){var aF=aH[0],aD=aH[1],aI=aB.xaxis,aG=aB.yaxis,aJ=(typeof aB.highlightColor==="string")?aB.highlightColor:f.color.parse(aB.color).scale("a",0.5).toString();if(aF<aI.min||aF>aI.max||aD<aG.min||aD>aG.max){return}var aE=aB.points.radius+aB.points.lineWidth/2;az.lineWidth=aE;az.strokeStyle=aJ;var aC=1.5*aE;aF=aI.p2c(aF);aD=aG.p2c(aD);az.beginPath();if(aB.points.symbol=="circle"){az.arc(aF,aD,aC,0,2*Math.PI,false)}else{aB.points.symbol(az,aF,aD,aC,false)}az.closePath();az.stroke()}function al(aE,aB){var aF=(typeof aE.highlightColor==="string")?aE.highlightColor:f.color.parse(aE.color).scale("a",0.5).toString(),aD=aF,aC;switch(aE.bars.align){case"left":aC=0;break;case"right":aC=-aE.bars.barWidth;break;default:aC=-aE.bars.barWidth/2}az.lineWidth=aE.bars.lineWidth;az.strokeStyle=aF;an(aB[0],aB[1],aB[2]||0,aC,aC+aE.bars.barWidth,function(){return aD},aE.xaxis,aE.yaxis,az,aE.bars.horizontal,aE.bars.lineWidth)}function y(aJ,aB,aH,aC){if(typeof aJ=="string"){return aJ}else{var aI=G.createLinearGradient(0,aH,0,aB);for(var aE=0,aD=aJ.colors.length;aE<aD;++aE){var aF=aJ.colors[aE];if(typeof aF!="string"){var aG=f.color.parse(aC);if(aF.brightness!=null){aG=aG.scale("rgb",aF.brightness)}if(aF.opacity!=null){aG.a*=aF.opacity}aF=aG.toString()}aI.addColorStop(aE/(aD-1),aF)}return aI}}}f.plot=function(j,h,g){var i=new d(f(j),h,g,f.plot.plugins);return i};f.plot.version="0.8.2";f.plot.plugins=[];f.fn.plot=function(h,g){return this.each(function(){f.plot(this,h,g)})};function c(h,g){return g*Math.floor(h/g)}})(jQuery);(function(d){var f=10;var b=0.95;function e(z){var i=null,E=null,j=null,o=null,w=null,q=null,g=false,y=null;var k=[];z.hooks.processOptions.push(function(G,F){if(F.series.pie.show){F.grid.show=false;if(F.series.pie.label.show=="auto"){if(F.legend.show){F.series.pie.label.show=false}else{F.series.pie.label.show=true}}if(F.series.pie.radius=="auto"){if(F.series.pie.label.show){F.series.pie.radius=3/4}else{F.series.pie.radius=1}}if(F.series.pie.tilt>1){F.series.pie.tilt=1}else{if(F.series.pie.tilt<0){F.series.pie.tilt=0}}}});z.hooks.bindEvents.push(function(H,F){var G=H.getOptions();if(G.series.pie.show){if(G.grid.hoverable){F.unbind("mousemove").mousemove(v)}if(G.grid.clickable){F.unbind("click").click(m)}}});z.hooks.processDatapoints.push(function(J,G,H,I){var F=J.getOptions();if(F.series.pie.show){A(J,G,H,I)}});z.hooks.drawOverlay.push(function(G,H){var F=G.getOptions();if(F.series.pie.show){B(G,H)}});z.hooks.draw.push(function(H,G){var F=H.getOptions();if(F.series.pie.show){r(H,G)}});function A(H,F,G){if(!g){g=true;i=H.getCanvas();E=d(i).parent();j=H.getOptions();H.setData(D(H.getData()))}}function D(K){var I=0,H=0,M=0,F=j.series.pie.combine.color,L=[];for(var G=0;G<K.length;++G){var J=K[G].data;if(d.isArray(J)&&J.length==1){J=J[0]}if(d.isArray(J)){if(!isNaN(parseFloat(J[1]))&&isFinite(J[1])){J[1]=+J[1]}else{J[1]=0}}else{if(!isNaN(parseFloat(J))&&isFinite(J)){J=[1,+J]}else{J=[1,0]}}K[G].data=[J]}for(var G=0;G<K.length;++G){I+=K[G].data[0][1]}for(var G=0;G<K.length;++G){var J=K[G].data[0][1];if(J/I<=j.series.pie.combine.threshold){H+=J;M++;if(!F){F=K[G].color}}}for(var G=0;G<K.length;++G){var J=K[G].data[0][1];if(M<2||J/I>j.series.pie.combine.threshold){L.push({data:[[1,J]],color:K[G].color,label:K[G].label,angle:J*Math.PI*2/I,percent:J/(I/100)})}}if(M>1){L.push({data:[[1,H]],color:F,label:j.series.pie.combine.label,angle:H*Math.PI*2/I,percent:H/(I/100)})}return L}function r(K,N){if(!E){return}var G=K.getPlaceholder().width(),I=K.getPlaceholder().height(),M=E.children().filter(".legend").children().width()||0;y=N;g=false;o=Math.min(G,I/j.series.pie.tilt)/2;q=I/2+j.series.pie.offset.top;w=G/2;if(j.series.pie.offset.left=="auto"){if(j.legend.position.match("w")){w+=M/2}else{w-=M/2}if(w<o){w=o}else{if(w>G-o){w=G-o}}}else{w+=j.series.pie.offset.left}var L=K.getData(),O=0;do{if(O>0){o*=b}O+=1;J();if(j.series.pie.tilt<=0.8){H()}}while(!F()&&O<f);if(O>=f){J();E.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")}if(K.setSeries&&K.insertLegend){K.setSeries(L);K.insertLegend()}function J(){y.clearRect(0,0,G,I);E.children().filter(".pieLabel, .pieLabelBackground").remove()}function H(){var U=j.series.pie.shadow.left;var T=j.series.pie.shadow.top;var R=10;var S=j.series.pie.shadow.alpha;var P=j.series.pie.radius>1?j.series.pie.radius:o*j.series.pie.radius;if(P>=G/2-U||P*j.series.pie.tilt>=I/2-T||P<=R){return}y.save();y.translate(U,T);y.globalAlpha=S;y.fillStyle="#000";y.translate(w,q);y.scale(1,j.series.pie.tilt);for(var Q=1;Q<=R;Q++){y.beginPath();y.arc(0,0,P,0,Math.PI*2,false);y.fill();P-=Q}y.restore()}function F(){var S=Math.PI*j.series.pie.startAngle;var P=j.series.pie.radius>1?j.series.pie.radius:o*j.series.pie.radius;y.save();y.translate(w,q);y.scale(1,j.series.pie.tilt);y.save();var U=S;for(var R=0;R<L.length;++R){L[R].startAngle=U;T(L[R].angle,L[R].color,true)}y.restore();if(j.series.pie.stroke.width>0){y.save();y.lineWidth=j.series.pie.stroke.width;U=S;for(var R=0;R<L.length;++R){T(L[R].angle,j.series.pie.stroke.color,false)}y.restore()}C(y);y.restore();if(j.series.pie.label.show){return Q()}else{return true}function T(X,V,W){if(X<=0||isNaN(X)){return}if(W){y.fillStyle=V}else{y.strokeStyle=V;y.lineJoin="round"}y.beginPath();if(Math.abs(X-Math.PI*2)>1e-9){y.moveTo(0,0)}y.arc(0,0,P,U,U+X/2,false);y.arc(0,0,P,U+X/2,U+X,false);y.closePath();U+=X;if(W){y.fill()}else{y.stroke()}}function Q(){var Y=S;var V=j.series.pie.label.radius>1?j.series.pie.label.radius:o*j.series.pie.label.radius;for(var X=0;X<L.length;++X){if(L[X].percent>=j.series.pie.label.threshold*100){if(!W(L[X],Y,X)){return false}}Y+=L[X].angle}return true;function W(al,ae,ac){if(al.data[0][1]==0){return true}var an=j.legend.labelFormatter,am,aa=j.series.pie.label.formatter;if(an){am=an(al.label,al)}else{am=al.label}if(aa){am=aa(am,al)}var af=((ae+al.angle)+ae)/2;var ak=w+Math.round(Math.cos(af)*V);var ai=q+Math.round(Math.sin(af)*V)*j.series.pie.tilt;var ab="<span class='pieLabel' id='pieLabel"+ac+"' style='position:absolute;top:"+ai+"px;left:"+ak+"px;'>"+am+"</span>";E.append(ab);var aj=E.children("#pieLabel"+ac);var Z=(ai-aj.height()/2);var ad=(ak-aj.width()/2);aj.css("top",Z);aj.css("left",ad);if(0-Z>0||0-ad>0||I-(Z+aj.height())<0||G-(ad+aj.width())<0){return false}if(j.series.pie.label.background.opacity!=0){var ag=j.series.pie.label.background.color;if(ag==null){ag=al.color}var ah="top:"+Z+"px;left:"+ad+"px;";d("<div class='pieLabelBackground' style='position:absolute;width:"+aj.width()+"px;height:"+aj.height()+"px;"+ah+"background-color:"+ag+";'></div>").css("opacity",j.series.pie.label.background.opacity).insertBefore(aj)}return true}}}}function C(F){if(j.series.pie.innerRadius>0){F.save();var G=j.series.pie.innerRadius>1?j.series.pie.innerRadius:o*j.series.pie.innerRadius;F.globalCompositeOperation="destination-out";F.beginPath();F.fillStyle=j.series.pie.stroke.color;F.arc(0,0,G,0,Math.PI*2,false);F.fill();F.closePath();F.restore();F.save();F.beginPath();F.strokeStyle=j.series.pie.stroke.color;F.arc(0,0,G,0,Math.PI*2,false);F.stroke();F.closePath();F.restore()}}function s(I,J){for(var K=false,H=-1,F=I.length,G=F-1;++H<F;G=H){((I[H][1]<=J[1]&&J[1]<I[G][1])||(I[G][1]<=J[1]&&J[1]<I[H][1]))&&(J[0]<(I[G][0]-I[H][0])*(J[1]-I[H][1])/(I[G][1]-I[H][1])+I[H][0])&&(K=!K)}return K}function u(N,M){var H=z.getData(),K=z.getOptions(),L=K.series.pie.radius>1?K.series.pie.radius:o*K.series.pie.radius,Q,O;for(var X=0;X<H.length;++X){var T=H[X];if(T.pie.show){y.save();y.beginPath();y.moveTo(0,0);y.arc(0,0,L,T.startAngle,T.startAngle+T.angle/2,false);y.arc(0,0,L,T.startAngle+T.angle/2,T.startAngle+T.angle,false);y.closePath();Q=N-w;O=M-q;if(y.isPointInPath){if(y.isPointInPath(N-w,M-q)){y.restore();return{datapoint:[T.percent,T.data],dataIndex:0,series:T,seriesIndex:X}}}else{var W=L*Math.cos(T.startAngle),V=L*Math.sin(T.startAngle),I=L*Math.cos(T.startAngle+T.angle/4),F=L*Math.sin(T.startAngle+T.angle/4),R=L*Math.cos(T.startAngle+T.angle/2),P=L*Math.sin(T.startAngle+T.angle/2),Z=L*Math.cos(T.startAngle+T.angle/1.5),Y=L*Math.sin(T.startAngle+T.angle/1.5),J=L*Math.cos(T.startAngle+T.angle),G=L*Math.sin(T.startAngle+T.angle),U=[[0,0],[W,V],[I,F],[R,P],[Z,Y],[J,G]],S=[Q,O];if(s(U,S)){y.restore();return{datapoint:[T.percent,T.data],dataIndex:0,series:T,seriesIndex:X}}}y.restore()}}return null}function v(F){n("plothover",F)}function m(F){n("plotclick",F)}function n(F,L){var G=z.offset();var J=parseInt(L.pageX-G.left);var H=parseInt(L.pageY-G.top);var N=u(J,H);if(j.grid.autoHighlight){for(var I=0;I<k.length;++I){var K=k[I];if(K.auto==F&&!(N&&K.series==N.series)){h(K.series)}}}if(N){l(N.series,F)}var M={pageX:L.pageX,pageY:L.pageY};E.trigger(F,[M,N])}function l(G,H){var F=x(G);if(F==-1){k.push({series:G,auto:H});z.triggerRedrawOverlay()}else{if(!H){k[F].auto=false}}}function h(G){if(G==null){k=[];z.triggerRedrawOverlay()}var F=x(G);if(F!=-1){k.splice(F,1);z.triggerRedrawOverlay()}}function x(H){for(var F=0;F<k.length;++F){var G=k[F];if(G.series==H){return F}}return -1}function B(J,K){var H=J.getOptions();var F=H.series.pie.radius>1?H.series.pie.radius:o*H.series.pie.radius;K.save();K.translate(w,q);K.scale(1,H.series.pie.tilt);for(var I=0;I<k.length;++I){G(k[I].series)}C(K);K.restore();function G(L){if(L.angle<=0||isNaN(L.angle)){return}K.fillStyle="rgba(255, 255, 255, "+H.series.pie.highlight.opacity+")";K.beginPath();if(Math.abs(L.angle-Math.PI*2)>1e-9){K.moveTo(0,0)}K.arc(0,0,F,L.startAngle,L.startAngle+L.angle/2,false);K.arc(0,0,F,L.startAngle+L.angle/2,L.startAngle+L.angle,false);K.closePath();K.fill()}}}var c={series:{pie:{show:false,radius:"auto",innerRadius:0,startAngle:3/2,tilt:1,shadow:{left:5,top:15,alpha:0.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(g,h){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+h.color+";'>"+g+"<br/>"+Math.round(h.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:0.5}}}};d.plot.plugins.push({init:e,options:c,name:"pie",version:"1.1"})})(jQuery);(function(){var PixelPlot;if(!$.fn.plot){throw new Error("jquery.flot.js required")}PixelPlot=function($graph,graph_data,plot_options,options){var available_colors,d,data,dataItem,previousPoint,timer,_i,_j,_len,_len1;if(options==null){options={}}this.options=$.extend(true,{},PixelPlot.DEFAULTS,options||{});this.plot_options=$.extend(true,{},PixelPlot.PLOT_DEFAULTS,plot_options||{});data=[];this.current_width=null;this.plot_obj=null;timer=null;available_colors=window.PixelAdmin.settings.consts.COLORS.slice(0);for(_i=0,_len=graph_data.length;_i<_len;_i++){d=graph_data[_i];data.push($.extend({},d))}this.$graph=$graph.addClass("pa-flot-graph");this.$graph_container=$('<div class="pa-flot-container"></div>');this.$graph_info=$('<div class="pa-flot-info"></div>');this.$graph_container.insertAfter(this.$graph).append(this.$graph_info).append(this.$graph);this.resizeContainer();if(!data.length){return}for(_j=0,_len1=data.length;_j<_len1;_j++){dataItem=data[_j];if(dataItem.color===void 0){dataItem.color=available_colors.shift()}if(dataItem.filledPoints===true){$.extend(true,dataItem,{points:{radius:this.options.pointRadius,fillColor:dataItem.color}});delete dataItem.filledPoints}this.$graph_info.append($('<span><i style="background: '+dataItem.color+'"></i>'+dataItem.label+"</span>"))}this.plot_obj=$.plot($graph,data,this.plot_options);if(this.plot_options.series.pie===void 0){previousPoint=null;$graph.bind("plothover",(function(_this){return function(event,pos,item){var x,y;if(item){if(previousPoint!==item.dataIndex){previousPoint=item.dataIndex;$(".pa-flot-tooltip").remove();x=item.datapoint[0];y=item.datapoint[1];return _this.showTooltip(item.pageX,item.pageY,eval(_this.options.tooltipText))}}else{$(".pa-flot-tooltip").remove();return previousPoint=null}}})(this))}return $(window).on("pa.resize",$.proxy(this.resizeContainer,this))};PixelPlot.prototype.resizeContainer=function(){var height,width;width=this.$graph_container.innerWidth();if(width===this.current_width){return}height=this.options.height===null?Math.ceil(width*this.options.heightRatio):this.options.height;this.$graph.css({width:width,height:height});this.current_width=width;if(this.plot_obj){this.plot_obj.getPlaceholder().css({width:width,height:height});this.plot_obj.resize();this.plot_obj.setupGrid();return this.plot_obj.draw()}};PixelPlot.prototype.showTooltip=function(x,y,contents){var tooltip;tooltip=$('<div class="pa-flot-tooltip">'+contents+"</div>").appendTo("body");if((x+20+tooltip.width())>(this.$graph_container.offset().left+this.$graph_container.width())){x-=40+tooltip.width()}else{x+=20}return tooltip.css({top:y-16,left:x}).fadeIn()};PixelPlot.DEFAULTS={pointRadius:4,height:null,heightRatio:0.5,tooltipText:"x - y"};PixelPlot.PLOT_DEFAULTS={series:{shadowSize:0},grid:{color:"#999",borderColor:"#fff",borderWidth:1,hoverable:true},xaxis:{tickColor:"#fff"},legend:{show:false}};$.fn.pixelPlot=function(graph_data,plot_options,options){return this.each(function(){var pflot;pflot=$.data(this,"PixelPlot");if(!pflot){return $.data(this,"PixelPlot",new PixelPlot($(this),graph_data,plot_options,options))}else{if(plot_options==="resizeContainer"){return pflot.resizeContainer()}}})};$.fn.pixelPlot.Constructor=PixelPlot}).call(this);(function(){var f,e,c,d,b,g;if(!$.fn.modal||!$.fn.Vague||!$("html").hasClass("not-ie")){return}b=$.fn.modal.Constructor.prototype.show;d=$.fn.modal.Constructor.prototype.hide;f=null;g=false;c=function(){if(g){return}if(!f){f=$("#main-wrapper").Vague({intensity:3,forceSVGUrl:false})}f.blur();return g=true};e=function(){if(!g){return}if(f){f.unblur()}return g=false};$.fn.modal.Constructor.prototype.show=function(){b.call(this);if(this.$element.hasClass("modal-blur")){$("body").append(this.$element);if(getScreenSize($("#small-screen-width-point"),$("#tablet-screen-width-point"))==="desktop"){c()}return $(window).on("pa.resize.modal_blur",function(){if(getScreenSize($("#small-screen-width-point"),$("#tablet-screen-width-point"))==="desktop"){return c()}else{return e()}})}else{return e()}};$.fn.modal.Constructor.prototype.hide=function(){d.call(this);e();return $(window).off("pa.resize.modal_blur").on("hidden",".modal",function(){return alert("asd")})}}).call(this);(function(){var b;if(!$.fn.datepicker){throw new Error("bootstrap-datepicker.js required")}b=$.fn.datepicker;$.fn.datepicker=function(c){c=$.extend({rtl:$("body").hasClass("right-to-left")},c||{});return b.call($(this),c)}}).call(this);(function(){var b;if(!$.fn.timepicker){throw new Error("bootstrap-timepicker.js required")}b=$.fn.timepicker.Constructor.prototype._init;$.fn.timepicker.Constructor.prototype._init=function(){if(this.$element.parent().hasClass("input-group")){this.$element.parent(".input-group").find(".input-group-addon").on("click.timepicker",$.proxy(this.showWidget,this));this.$element.on({"focus.timepicker":$.proxy(this.highlightUnit,this),"click.timepicker":$.proxy(this.highlightUnit,this),"keydown.timepicker":$.proxy(this.elementKeydown,this),"blur.timepicker":$.proxy(this.blurElement,this)})}return b.call(this)};$.fn.timepicker.Constructor.prototype.getTemplate=function(){var g,f,d,c,e,h;if(this.showInputs){g='<input type="text" name="hour" class="bootstrap-timepicker-hour form-control" maxlength="2"/>';d='<input type="text" name="minute" class="bootstrap-timepicker-minute form-control" maxlength="2"/>';c='<input type="text" name="second" class="bootstrap-timepicker-second form-control" maxlength="2"/>';f='<input type="text" name="meridian" class="bootstrap-timepicker-meridian form-control" maxlength="2"/>'}else{g='<span class="bootstrap-timepicker-hour"></span>';d='<span class="bootstrap-timepicker-minute"></span>';c='<span class="bootstrap-timepicker-second"></span>';f='<span class="bootstrap-timepicker-meridian"></span>'}h="<table>";h+="<tr>";h+='<td><a href="#" data-action="incrementHour" class="timepicker-increment"><i class="fa fa-chevron-up"></i></a></td>';h+='<td class="separator">&nbsp;</td>';h+='<td><a href="#" data-action="incrementMinute" class="timepicker-increment"><i class="fa fa-chevron-up"></i></a></td>';if(this.showSeconds){h+='<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond" class="timepicker-increment"><i class="fa fa-chevron-up"></i></a></td>'}if(this.showMeridian){h+='<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian" class="timepicker-increment"><i class="fa fa-chevron-up"></i></a></td>'}h+="</tr>";h+="<tr>";h+="<td>"+g+"</td> ";h+='<td class="separator">:</td>';h+="<td>"+d+"</td> ";if(this.showSeconds){h+='<td class="separator">:</td><td>'+c+"</td>"}if(this.showMeridian){h+='<td class="separator">&nbsp;</td><td>'+f+"</td>"}h+="</tr>";h+="<tr>";h+='<td><a href="#" data-action="decrementHour" class="timepicker-decrement"><i class="fa fa-chevron-down"></i></a></td>';h+='<td class="separator"></td>';h+='<td><a href="#" data-action="decrementMinute" class="timepicker-decrement"><i class="fa fa-chevron-down"></i></a></td>';if(this.showSeconds){h+='<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond" class="timepicker-decrement"><i class="fa fa-chevron-down"></i></a></td>'}if(this.showMeridian){h+='<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian" class="timepicker-decrement"><i class="fa fa-chevron-down"></i></a></td>'}h+="</tr>";h+="</table>";if(this.template==="modal"){e='<div class="bootstrap-timepicker-widget modal fade" tabindex="-1" role="dialog" style="display: none;">';e+='<div class="modal-dialog modal-sm">';e+='<div class="modal-content">';e+='<div class="modal-header">';e+='<button type="button" class="close" data-dismiss="modal">×</button>';e+="<h4>Pick a Time</h4>";e+="</div>";e+='<div class="modal-body">'+h+"</div>";e+='<div class="modal-footer">';e+='<buttom class="btn btn-primary" data-dismiss="modal">OK</buttom>';e+="</div>";e+="</div>";e+="</div>";e+="</div>"}else{if(this.template==="dropdown"){e='<div class="bootstrap-timepicker-widget dropdown-menu">'+h+"</div>"}}return e}}).call(this);(function(){var b;if(!$.fn.datepaginator){throw new Error("bootstrap-datepaginator.js required")}b=$.fn.datepaginator;$.fn.datepaginator=function(d,c){return b.call(this,$.extend({},{injectStyle:false,itemWidth:45,selectedItemWidth:160},d||{}),c)}}).call(this);(function(){var b;if(!$.fn.tabdrop){throw new Error("bootstrap-tabdrop.js required")}b=$.fn.tabdrop;$.fn.tabdrop=function(c){c=$.extend({},$.fn.tabdrop.defaults,c);return this.each(function(){var e,d;e=$(this);b.call(e,c);d=e.data("tabdrop");if(d){d.dropdown.on("click","li",function(){$(this).parent().parent().find("a.dropdown-toggle").empty().html('<span class="display-tab"> '+$(this).text()+' </span><b class="caret"></b>');return d.layout()});return d.element.on("click","> li",function(){if($(this).hasClass("tabdrop")){return}d.element.find("> .tabdrop > a.dropdown-toggle").empty().html(c.text+' <b class="caret"></b>');return d.layout()})}})};$.fn.tabdrop.defaults={text:'<i class="fa fa-bars"></i>'}}).call(this);(function(){if(!$.validator){throw new Error("jquery.validate.js required")}$.validator.setDefaults({highlight:function(b){return $(b).closest(".form-group").addClass("has-error")},unhighlight:function(b){return $(b).closest(".form-group").removeClass("has-error").find("help-block-hidden").removeClass("help-block-hidden").addClass("help-block").show()},errorElement:"div",errorClass:"jquery-validate-error",errorPlacement:function(c,d){var b,e,f;f=d.is('input[type="checkbox"]')||d.is('input[type="radio"]');e=d.closest(".form-group").find(".jquery-validate-error").length;if(!f||!e){if(!e){d.closest(".form-group").find(".help-block").removeClass("help-block").addClass("help-block-hidden").hide()}c.addClass("help-block");if(f){return d.closest('[class*="col-"]').append(c)}else{b=d.parent();if(b.is(".input-group")){return b.parent().append(c)}else{return b.append(c)}}}}})}).call(this);(function(){var b;if(!$.fn.knob){throw new Error("jquery.knob.js required")}b=$.fn.knob;$.fn.knob=function(d){var c;c=$("body");return b.call(this,d).each(function(){var e;if(c.hasClass("right-to-left")){e=$(this).find("input");return e.css({"margin-left":0,"margin-right":e.css("margin-left")})}})}}).call(this);(function(){var b;if(!$.fn.sparkline){throw new Error("jquery.sparkline.js required")}b=function(d,f,g){var e,c;c=d.outerWidth();e=parseInt(g)*(f-1);return Math.floor((c-e)/f)};$.fn.pixelSparkline=function(){var d,c,e,f;c=arguments;e=false;f=0;d="2px";if(c[0] instanceof Array&&c[1] instanceof Object&&c[1].type==="bar"&&c[1].width==="100%"){e=true;f=c[0].length;if(c[1].barSpacing){d=c[1].barSpacing}c[1].barWidth=b($(this),f,d)}$.fn.sparkline.apply(this,c);return $(window).on("pa.resize",(function(g){return function(){if(e){c[1].barWidth=b($(g),f,d)}return $.fn.sparkline.apply(g,c)}})(this))}}).call(this);