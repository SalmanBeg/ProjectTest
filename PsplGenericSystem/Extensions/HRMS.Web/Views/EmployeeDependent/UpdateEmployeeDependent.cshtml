@model HRMS.Web.ViewModels.EmployeeDependentFormModel
@using System.Web.Optimization;
@using HRMS.Common.Enums;
@using HRMS.Web.Models;
@{
    ViewBag.Title = "UpdateEmployeeDependent";
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
}

@using (Html.BeginForm("UpdateEmployeeDependent", "EmployeeDependent", FormMethod.Post))
{ 
   
    <div class="form-horizontal">
        <div class="form-group">
            @* --left block --*@
            <div class="col-md-6">
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.Salutation, new { @class = "col-sm-3 control-label required" })
                    <div class="col-sm-9">
                        @Html.DropDownListFor(m => m.EmployeeDependent.Salutation, new SelectList(Model.SalutationList, "ID", "Name"), "--Select--", new Dictionary<string, Object> { { "class", "form-control" }, { "data-val-1", "ID" }, { "id", "dpSalutation" } })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.FirstName, new { @class = "col-sm-3 control-label required" })
                    <div class="col-sm-9">
                        @Html.HiddenFor(m => m.EmployeeDependent.EmployeeDependentId)
                        @Html.HiddenFor(m => m.EmployeeDependent.ImputedIncome, new { @id = "hdnimputedincome" })
                        @Html.HiddenFor(m => m.EmployeeDependent.Disabled, new { @id = "hdndisable" })
                        @Html.HiddenFor(m => m.EmployeeDependent.Student, new { @id = "hdnstudent" })
                        @Html.HiddenFor(m => m.EmployeeDependent.Smoker, new { @id = "hdnsmoker" })
                        @Html.HiddenFor(m => m.EmployeeDependent.CompanyId)
                        @Html.TextBoxFor(m => m.EmployeeDependent.FirstName, new { @class = "form-control" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.MiddleName, new { @class = "col-sm-3 control-label" })
                    <div class="col-sm-9">
                        @Html.TextBoxFor(m => m.EmployeeDependent.MiddleName, new { @class = "form-control " })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.LastName, new { @class = "col-sm-3 control-label required" })
                    <div class="col-sm-9">
                        @Html.TextBoxFor(m => m.EmployeeDependent.LastName, new { @class = "form-control" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.Suffix, new { @class = "col-sm-3 control-label" })
                    <div class="col-sm-9">
                        @Html.DropDownListFor(m => m.EmployeeDependent.Suffix, new SelectList(Model.SuffixList, "ID", "Name"), "--Select--", new Dictionary<string, Object> { { "class", "form-control" }, { "data-val-1", "ID" }, { "id", "dpSuffix" } })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.Alias, new { @class = "col-sm-3 control-label" })
                    <div class="col-sm-9">
                        @Html.TextBoxFor(m => m.EmployeeDependent.Alias, new { @class = "form-control" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.Street1, new { @class = "col-sm-3 control-label" })
                    <div class="col-sm-9">
                        @Html.TextBoxFor(m => m.EmployeeDependent.Street1, new { @class = "form-control" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.Street2, new { @class = "col-sm-3 control-label" })
                    <div class="col-sm-9">
                        @Html.TextBoxFor(m => m.EmployeeDependent.Street2, new { @class = "form-control" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.City, new { @class = "col-sm-3 control-label" })
                    <div class="col-sm-9">
                        @Html.TextBoxFor(m => m.EmployeeDependent.City, new { @class = "form-control" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.CountryId, new { @class = "col-sm-3 control-label required" })
                    <div class="col-sm-9">
                        @Html.DropDownListFor(m => m.EmployeeDependent.CountryId, new SelectList(Model.CountryList, "CountryRegionId", "Name"), "--Select--", new Dictionary<string, Object> { { "class", "form-control" }, { "data-val-1", "CountryRegionCode" }, { "id", "drpdwncountry" } })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.StateId, new { @class = "col-sm-3 control-label required" })
                    <div class="col-sm-9">
                        @Html.DropDownListFor(m => m.EmployeeDependent.StateId, new SelectList(Model.StateList, "StateProvinceId", "Name"), "--Select--", new { @class = "form-control", @id = "drpdwnstate" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.Zip, new { @class = "col-sm-3 control-label" })
                    <div class="col-sm-9">
                        @Html.TextBoxFor(m => m.EmployeeDependent.Zip, new { @class = "form-control zipmask" })
                    </div>
                </div>
            </div>
            @* --right block-- *@
            <div class="col-md-6">
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.HomeEmail, new { @class = "col-sm-4 control-label" })
                    <div class="col-sm-8">
                        @Html.TextBoxFor(m => m.EmployeeDependent.HomeEmail, new { @class = "form-control" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.HomePhone, new { @class = "col-sm-4 control-label" })
                    <div class="col-sm-8">
                        @Html.TextBoxFor(m => m.EmployeeDependent.HomePhone, new { @class = "form-control phonemask" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.CellPhone, new { @class = "col-sm-4 control-label" })
                    <div class="col-sm-8">
                        @Html.TextBoxFor(m => m.EmployeeDependent.CellPhone, new { @class = "form-control phonemask" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.SSN, new { @class = "col-sm-4 control-label" })
                    <div class="col-sm-8">
                        @Html.TextBoxFor(m => m.EmployeeDependent.SSN, new { @class = "form-control ssnmask" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.BirthDate, new { @class = "col-sm-4 control-label required" })
                    <div class="col-sm-8">
                        <div class="input-group">
                            @Html.TextBoxFor(m => m.EmployeeDependent.BirthDate, (Model.EmployeeDependent.BirthDate == null ? "" : ((DateTime)Model.EmployeeDependent.BirthDate).ToString("MM/dd/yyyy")), new { @class = "form-control dateControl", @id = "txtbirthdate", @maxlength = 10 })
                            <label for="txtbirthdate" class="input-group-addon btn">
                                <span class="glyphicon glyphicon-calendar"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.Gender, new { @class = "col-sm-4 control-label required" })
                    <div class="col-sm-8">
                        @Html.DropDownListFor(m => m.EmployeeDependent.Gender, new SelectList(Model.GenderList, "ID", "Name"), "--Select--", new Dictionary<string, Object> { { "class", "form-control" }, { "data-val-1", "ID" }, { "id", "dpGender" } })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(m => m.EmployeeDependent.RelationShip, new { @class = "col-sm-4 control-label required" })
                    <div class="col-sm-8">
                        @Html.DropDownListFor(m => m.EmployeeDependent.RelationShip, new SelectList(Model.RelationShipList, "ID", "Name"), "--Select--", new Dictionary<string, Object> { { "class", "form-control" }, { "data-val-1", "ID" }, { "id", "dpRelationship" } })
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-4 col-sm-8">
                        @Html.CheckBoxFor(u => u.EmployeeDependent.IsImputedIncome)
                        <label>
                            @Html.LabelFor(u => u.EmployeeDependent.IsImputedIncome, new { @class = "control-label" })
                        </label>                       
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-4 col-sm-8">
                        @Html.CheckBoxFor(u => u.EmployeeDependent.IsDisabled)
                        <label>
                            @Html.LabelFor(u => u.EmployeeDependent.IsDisabled, new { @class = "control-label" })
                        </label>                       
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-4 col-sm-8">
                        @Html.CheckBoxFor(u => u.EmployeeDependent.IsSmoker)
                        <label>                          
                            @Html.LabelFor(u => u.EmployeeDependent.IsSmoker, new { @class = "control-label" })
                        </label>                       
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-4 col-sm-8">
                        @Html.CheckBoxFor(u => u.EmployeeDependent.IsStudent)
                        <label>                           
                            @Html.LabelFor(u => u.EmployeeDependent.IsStudent, new { @class = "control-label" })
                        </label>                        
                    </div>
                </div>

            </div>
        </div>
    </div>
      
    <div class="form-group">
        <div class="col-sm-offset-2 control-button">
            
            @Html.ActionLink("Cancel", "SelectAllEmployeeDependent", null, new { @class = "btn btn-success" })
            <button type="submit" class="btn btn-success">Update</button>
        </div>
    </div>
}

<script type="text/javascript">
    
    $(document).ready(function () {
        var resultingSiteview = "<h1>Dependents<small>Edit Dependent</small></h1><ol class=" + '"breadcrumb"' + "><li><a href=" + '"../Home/EmployeeDashboard"' + "><i class=" + '"fa fa-dashboard"' + "></i>Home</a></li><li class=" + '"active"' + ">Dependent</li></ol>";
        $("#header-section").empty();
        $("#header-section").html(resultingSiteview);

        var value = $("#hdnimputedincome").val();
        if (value == "True") {
            $("#chkImputedIncome").prop("checked", true);

            $("#hdnimputedincome").val = "False";

        }


        var value = $("#hdnIsPrimaryContact").val();
        if (value == "True") {
            $("#chkDisabled").prop("checked", true);

            $("#hdnIsPrimaryContact").val = "False";

        }

        var value = $("#hdnsmoker").val();
        if (value == "True") {
            $("#chkSmoker").prop("checked", true);

            $("#hdnsmoker").val = "False";

        }

        var value = $("#hdnsmoker").val();
        if (value == "True") {
            $("#chkStudent").prop("checked", true);

            $("#hdnsmoker").val = "False";

        }
    });
    $("#drpdwncountry").change(function () {

        var countryregionId = $(this).val();
        if (countryregionId != null && countryregionId != "") {
            var baseurl1 = "../Account/FillStatesByCountryId";
            $.getJSON(baseurl1, { CountryRegionId: countryregionId }, function (countryData) {
                var select = $('#drpdwnstate');
                select.html('');
                $.each(countryData, function (index, itemData) {
                    select.append($('<option/>', {
                        value: itemData.StateProvinceID,
                        text: itemData.Name,
                    }));

                });
            });
        }
    });

</script>
