@model HRMS.Web.ViewModels.CertificationandLicenseFormModel
@using System.Web.Optimization;
@using HRMS.Common.Helpers;
@using HRMS.Web.Models;
@{
    ViewBag.Title = "CertificationandLicense";
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
}
@using (Html.BeginForm("CertificationandLicense", "CertificationandLicense", FormMethod.Post))
{
    <div class="form-horizontal">
        <div class="form-group">
            <div class="col-sm-6">
                <fieldset>
                    <div class="form-group">
                        @Html.HiddenFor(k => k.CertificationandLicense.CertificationLicensesId)
                        @Html.HiddenFor(k => k.CertificationandLicense.CompanyId)
                        @Html.HiddenFor(k => k.CertificationandLicense.UserId)
                        @Html.LabelFor(m => m.CertificationandLicense.Type, new { @class = "col-sm-4 control-label required" })
                        <div class="col-sm-8">
                            @Html.DropDownListFor(m => m.CertificationandLicense.Type, new SelectList(Model.TypeList, "ID", "Name"), "--Select--", new { @class = "drplookup form-control showdrp", @id = "crtfctnlcncetypedropdown", @data_val_1 = LocalizedStrings.CertificationLicenseType })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(k => k.CertificationandLicense.Name, new { @class = "col-sm-4 control-label " })
                        <div class="col-sm-8">
                            @Html.TextBoxFor(k => k.CertificationandLicense.Name, new { @class = "form-control" })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.CertificationandLicense.Certification, new { @class = "col-sm-4 control-label " })
                        <div class="col-sm-8">
                            @Html.DropDownListFor(m => m.CertificationandLicense.Certification, new SelectList(Model.CertificationList, "ID", "Name"), "--Select--", new { @class = "drplookup form-control showdrp", @id = "crtfctnlcncecertfctndropdown", @data_val_1 = LocalizedStrings.CertificationLicenseCertification })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(k => k.CertificationandLicense.LicenseNumber, new { @class = "col-sm-4 control-label " })
                        <div class="col-sm-8">
                            @Html.TextBoxFor(k => k.CertificationandLicense.LicenseNumber, new { @class = "form-control" })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.CertificationandLicense.LicenseCountry, new { @class = "col-sm-4 control-label " })
                        <div class="col-sm-8">
                            @Html.DropDownListFor(m => m.CertificationandLicense.LicenseCountry, new SelectList(Model.LicenseCountryList, "CountryRegionId", "Name"), "--Select--", new { @class = "form-control showdrp", @id = "drpdwncountry" })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.CertificationandLicense.LicenseState, new { @class = "col-sm-4 control-label " })
                        <div class="col-sm-8">
                            @Html.DropDownListFor(m => m.CertificationandLicense.LicenseState, new SelectList(Model.LicenseStateList, "StateProvinceId", "Name"), "--Select--", new { @class = "form-control showdrp", @id = "drpdwnstate" })
                        </div>
                    </div>

                    <div class="form-group">
                        @Html.LabelFor(m => m.CertificationandLicense.School, new { @class = "col-sm-4 control-label " })
                        <div class="col-sm-8">
                            @Html.DropDownListFor(m => m.CertificationandLicense.School, new SelectList(Model.SchoolList, "ID", "Name"), "--Select--", new { @class = "drplookup form-control showdrp", @id = "schooldropdown", @data_val_1 = LocalizedStrings.CertificationLicenseSchool })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.CertificationandLicense.Endorsements, new { @class = "col-sm-4 control-label " })
                        <div class="col-sm-8">
                            @Html.DropDownListFor(m => m.CertificationandLicense.Endorsements, new SelectList(Model.EndorsementsList, "ID", "Name"), "--Select--", new { @class = "drplookup form-control showdrp", @id = "Endorsementsdropdown", @data_val_1 = LocalizedStrings.Endorsements })
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.CertificationandLicense.Areas, new { @class = "col-sm-4 control-label " })
                        <div class="col-sm-8">
                            @Html.DropDownListFor(m => m.CertificationandLicense.Areas, new SelectList(Model.AreasList, "ID", "Name"), "--Select--", new { @class = "drplookup form-control showdrp", @id = "CrtifcatinLcenseAreasdropdown", @data_val_1 = LocalizedStrings.CertificationLicenseAreas })
                        </div>
                    </div>
                   
                    <div class="form-group">
                        @Html.LabelFor(m => m.CertificationandLicense.FileName, new { @class = "col-sm-4 control-label" })
                        <div class="col-sm-8">
                            @Html.DisplayFor(m => m.CertificationandLicense.FileName, new { @class = "control-label" })
                            @Html.TextBoxFor(m => m.CertificationandLicense.FileName, new { @type = "file" })
                        </div>
                    </div>
                </fieldset>
            </div>
            <div class="col-sm-6">
                <fieldset>
                    <div class="form-group">
                        @Html.LabelFor(m => m.CertificationandLicense.IssueDate, new { @class = "control-label col-sm-3" })
                        <div class="col-sm-9">
                            <div class="input-group">
                                @Html.TextBoxFor(m => m.CertificationandLicense.IssueDate, (Model.CertificationandLicense.IssueDate == null ? "" : ((DateTime)Model.CertificationandLicense.IssueDate).ToString("MM/dd/yyyy")), new { @class = "form-control dateControl", @maxlength = "10", @id = "txtissuedate" })
                                <label for="txtissuedate" class="input-group-addon btn">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.CertificationandLicense.RenewalDate, new { @class = "control-label col-sm-3" })
                        <div class="col-sm-9">
                            <div class="input-group">
                                @Html.TextBoxFor(m => m.CertificationandLicense.RenewalDate, (Model.CertificationandLicense.RenewalDate == null ? "" : ((DateTime)Model.CertificationandLicense.RenewalDate).ToString("MM/dd/yyyy")), new { @class = "form-control dateControl", @maxlength = "10", @id = "txtrenewaldate" })
                                <label for="txtrenewaldate" class="input-group-addon btn">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(m => m.CertificationandLicense.ExpirationDate, new { @class = "control-label col-sm-3" })
                        <div class="col-sm-9">
                            <div class="input-group">
                                @Html.TextBoxFor(m => m.CertificationandLicense.ExpirationDate, (Model.CertificationandLicense.ExpirationDate == null ? "" : ((DateTime)Model.CertificationandLicense.ExpirationDate).ToString("MM/dd/yyyy")), new { @class = "form-control dateControl", @maxlength = "10", @id = "txtexpirationdate" })
                                <label for="txtexpirationdate" class="input-group-addon btn">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-2 control-button">
           
            @Html.ActionLink("Cancel", "SelectAllCertificationLicense", null, new { @class = "btn btn-success" })
            <button type="submit" class="btn btn-success">Save</button>
        </div>
    </div>
}
<script type="text/javascript">
    $(document).ready(function () {
        var resultingSiteview = "<small>Certification & License</small><ol class=" + '"breadcrumb"' + "><li><a href=" + '"../Home/EmployeeDashboard"' + "><i class=" + '"fa fa-dashboard"' + "></i>Home</a></li><li class=" + '"active"' + ">Certification & License</li></ol>";
        $("#header-section").empty();
        $("#header-section").html(resultingSiteview);
    });
    $("#drpdwncountry").change(function () {
        var countryregionId = $(this).val();
        if (countryregionId != null && countryregionId != "") {
            var baseurl1 = "../Account/FillStatesByCountryId";
            $.getJSON(baseurl1, { CountryRegionId: countryregionId }, function (countryData) {
                var select = $('#drpdwnstate');
                select.html('');
                $.each(countryData, function (index, itemData) {
                    select.append($('<option/>', {
                        value: itemData.StateProvinceID,
                        text: itemData.Name,
                    }));
                });
            });
        }
    });
</script>

